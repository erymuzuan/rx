{
  "$type": "Bespoke.Sph.Domain.WorkflowDefinition, domain.sph",
  "ActivityCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Activity, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ExpressionActivity, domain.sph",
        "Expression": "if(null == this.Patient)\n    throw new Exception(\"You cannot register billing on null patient\");",
        "MethodName": "ExecExpressionActivityCheckIfPatientIsNull_cb58Async",
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 279,
          "Y": 86,
          "WebId": "08966c33-a8b9-4405-8f8a-5b660854f0b7"
        },
        "IsInitiator": false,
        "NextActivityWebId": "5e796abc-6629-4e40-99a2-d6e10db378b4",
        "Name": "Check if patient is null",
        "WebId": "cb58e7bb-5c9d-4a6b-a141-8b256c7085e1"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScreenActivity, domain.sph",
        "Title": "",
        "ViewVirtualPath": "",
        "WorkflowDefinitionId": 0,
        "CancelMessageSubject": "[Sph] @Model.Screen.Name was cancelled",
        "InvitationMessageSubject": "[Sph] @Model.Screen.Name  task is assigned to you",
        "CancelMessageBody": "@Model.Screen.Name task was cancelled this url is not longer valid @Model.Url",
        "InvitationMessageBody": "@Model.Screen.Name task is assigned to you go here @Model.Url",
        "FormDesign": {
          "$type": "Bespoke.Sph.Domain.FormDesign, domain.sph",
          "FormElementCollection": {
            "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FormElement, domain.sph]], domain.sph",
            "$values": [
              {
                "$type": "Bespoke.Sph.Domain.SectionFormElement, domain.sph",
                "FieldValidation": {
                  "$type": "Bespoke.Sph.Domain.FieldValidation, domain.sph",
                  "IsRequired": false,
                  "MaxLength": 0,
                  "MinLength": 0,
                  "Pattern": null,
                  "Mode": null,
                  "Message": null,
                  "WebId": null
                },
                "Name": "HTML Section",
                "Label": "Patient - New Patient Registered - Billing Account Creation",
                "Tooltip": null,
                "Path": "",
                "IsRequired": false,
                "Size": "input-large",
                "CssClass": "",
                "Visible": "true",
                "Enable": "true",
                "ElementId": "539d6191-b159-4f22-82e0-8db67375cc1c",
                "HelpText": null,
                "UseDisplayTemplate": false,
                "LabelColLg": null,
                "LabelColMd": null,
                "LabelColSm": null,
                "LabelColXs": null,
                "InputColLg": null,
                "InputColMd": null,
                "InputColSm": null,
                "InputColXs": null,
                "WebId": null
              },
              {
                "$type": "Bespoke.Sph.Domain.TextBox, domain.sph",
                "DefaultValue": null,
                "AutoCompletionEntity": null,
                "AutoCompletionField": null,
                "AutoCompletionQuery": null,
                "MinLength": null,
                "MaxLength": null,
                "FieldValidation": {
                  "$type": "Bespoke.Sph.Domain.FieldValidation, domain.sph",
                  "IsRequired": false,
                  "MaxLength": 0,
                  "MinLength": 0,
                  "Pattern": null,
                  "Mode": null,
                  "Message": null,
                  "WebId": null
                },
                "Name": "Single Line Text",
                "Label": "MRN",
                "Tooltip": null,
                "Path": "Patient.Mrn",
                "IsRequired": false,
                "Size": "input-large",
                "CssClass": "",
                "Visible": "true",
                "Enable": "true",
                "ElementId": "6cf30dd3-c4d9-4014-9314-691cac9dcf15",
                "HelpText": null,
                "UseDisplayTemplate": true,
                "LabelColLg": null,
                "LabelColMd": null,
                "LabelColSm": null,
                "LabelColXs": null,
                "InputColLg": null,
                "InputColMd": null,
                "InputColSm": null,
                "InputColXs": null,
                "WebId": null
              },
              {
                "$type": "Bespoke.Sph.Domain.TextBox, domain.sph",
                "DefaultValue": null,
                "AutoCompletionEntity": null,
                "AutoCompletionField": null,
                "AutoCompletionQuery": null,
                "MinLength": null,
                "MaxLength": null,
                "FieldValidation": {
                  "$type": "Bespoke.Sph.Domain.FieldValidation, domain.sph",
                  "IsRequired": false,
                  "MaxLength": 0,
                  "MinLength": 0,
                  "Pattern": null,
                  "Mode": null,
                  "Message": null,
                  "WebId": null
                },
                "Name": "Single Line Text",
                "Label": "FullName",
                "Tooltip": null,
                "Path": "Patient.FullName",
                "IsRequired": false,
                "Size": "input-large",
                "CssClass": "",
                "Visible": "true",
                "Enable": "true",
                "ElementId": "4762f955-e3f1-40cb-91c5-eb77e976fd54",
                "HelpText": null,
                "UseDisplayTemplate": true,
                "LabelColLg": null,
                "LabelColMd": null,
                "LabelColSm": null,
                "LabelColXs": null,
                "InputColLg": null,
                "InputColMd": null,
                "InputColSm": null,
                "InputColXs": null,
                "WebId": null
              },
              {
                "$type": "Bespoke.Sph.Domain.TextBox, domain.sph",
                "DefaultValue": null,
                "AutoCompletionEntity": null,
                "AutoCompletionField": null,
                "AutoCompletionQuery": null,
                "MinLength": null,
                "MaxLength": null,
                "FieldValidation": {
                  "$type": "Bespoke.Sph.Domain.FieldValidation, domain.sph",
                  "IsRequired": false,
                  "MaxLength": 0,
                  "MinLength": 0,
                  "Pattern": null,
                  "Mode": null,
                  "Message": null,
                  "WebId": null
                },
                "Name": "Single Line Text",
                "Label": "Gender",
                "Tooltip": null,
                "Path": "Patient.Gender",
                "IsRequired": false,
                "Size": "input-large",
                "CssClass": "",
                "Visible": "true",
                "Enable": "true",
                "ElementId": "425b420a-520c-4e11-baa5-980472998db4",
                "HelpText": null,
                "UseDisplayTemplate": true,
                "LabelColLg": null,
                "LabelColMd": null,
                "LabelColSm": null,
                "LabelColXs": null,
                "InputColLg": null,
                "InputColMd": null,
                "InputColSm": null,
                "InputColXs": null,
                "WebId": null
              },
              {
                "$type": "Bespoke.Sph.Domain.Button, domain.sph",
                "Command": null,
                "UseClick": false,
                "CommandName": "save",
                "LoadingText": null,
                "CompleteText": null,
                "IconClass": "",
                "IsToolbarItem": true,
                "Operation": null,
                "FieldValidation": {
                  "$type": "Bespoke.Sph.Domain.FieldValidation, domain.sph",
                  "IsRequired": false,
                  "MaxLength": 0,
                  "MinLength": 0,
                  "Pattern": null,
                  "Mode": null,
                  "Message": null,
                  "WebId": null
                },
                "Name": "Button",
                "Label": "Create",
                "Tooltip": null,
                "Path": "Patient.Mrn",
                "IsRequired": false,
                "Size": "input-large",
                "CssClass": "",
                "Visible": "true",
                "Enable": "true",
                "ElementId": "6e8c0050-0409-4744-b2a4-4f56593fde5f",
                "HelpText": null,
                "UseDisplayTemplate": false,
                "LabelColLg": null,
                "LabelColMd": null,
                "LabelColSm": null,
                "LabelColXs": null,
                "InputColLg": null,
                "InputColMd": null,
                "InputColSm": null,
                "InputColXs": null,
                "WebId": null
              }
            ]
          },
          "Name": "",
          "Description": "",
          "ConfirmationText": "",
          "ImageStoreId": "",
          "LabelColLg": null,
          "LabelColMd": null,
          "LabelColSm": null,
          "LabelColXs": null,
          "InputColLg": null,
          "InputColMd": null,
          "InputColSm": null,
          "InputColXs": null,
          "WebId": "a5942e30-4d87-4bc6-865e-92a63eafb079"
        },
        "Performer": {
          "$type": "Bespoke.Sph.Domain.Performer, domain.sph",
          "UserProperty": "UserName",
          "Value": "admin",
          "IsPublic": false,
          "WebId": "a1a7dd7f-3f1e-4cc4-8b38-1291b5d3e07d"
        },
        "ConfirmationOptions": {
          "$type": "Bespoke.Sph.Domain.ConfirmationOptions, domain.sph",
          "Type": "Message",
          "Value": "",
          "WebId": "2d419806-198f-4f54-8668-33fcef8eb2e7"
        },
        "IsAsync": true,
        "ViewModelType": "CreateAccountViewModel",
        "MethodName": "ExecScreenActivityCreateAccount_5e79Async",
        "ExecutedCode": null,
        "ExecutingCode": null,
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 81,
          "Y": 254,
          "WebId": "4b04136a-d980-4bda-ada1-3adf4dccd8b9"
        },
        "IsInitiator": false,
        "NextActivityWebId": "98353c0c-3443-4adf-8afa-1f1f018c8f82",
        "Name": "Create Account",
        "WebId": "5e796abc-6629-4e40-99a2-d6e10db378b4"
      },
      {
        "$type": "Bespoke.Sph.Domain.EndActivity, domain.sph",
        "IsTerminating": false,
        "MethodName": "ExecEndActivityEnd2_36daAsync",
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 604,
          "Y": 532,
          "WebId": "1031a49b-a13c-4758-b6be-68fe646481f2"
        },
        "IsInitiator": false,
        "NextActivityWebId": "",
        "Name": "End2",
        "WebId": "36dab4d5-ae32-43bd-a434-45facebbb3aa"
      },
      {
        "$type": "Bespoke.Sph.Domain.NotificationActivity, domain.sph",
        "From": "admin@@sph.my",
        "Subject": "Patient @Model.Patient.Mrn is just registered",
        "Body": "Please @Model.Patient.FullName was registered.",
        "To": "boss@@bespoke.com.my",
        "UserName": "",
        "Cc": "",
        "Bcc": "",
        "IsHtmlEmail": false,
        "MethodName": "ExecNotificationActivityTellMyBoss_68b2Async",
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 681,
          "Y": 95,
          "WebId": "af2a8d7c-16e5-4e3c-a3dc-b8b25a459c86"
        },
        "IsInitiator": true,
        "NextActivityWebId": "cb58e7bb-5c9d-4a6b-a141-8b256c7085e1",
        "Name": "Tell my boss",
        "WebId": "68b2e916-bdc7-4ee3-9873-b0775d637d10"
      },
      {
        "$type": "Bespoke.Sph.Domain.CreateEntityActivity, domain.sph",
        "EntityType": "Patient",
        "ReturnValuePath": "",
        "PropertyMappingCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.PropertyMapping, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.SimpleMapping, domain.sph",
              "Source": "NoMisic",
              "Destination": "NoMisic",
              "WebId": "e1cea8a6-6087-4e2e-9bd9-be4ce804a2a4"
            }
          ]
        },
        "MethodName": "ExecCreateEntityActivityCreateRecord4_d214Async",
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 226,
          "Y": 513,
          "WebId": "ddc79acb-9419-4f86-877f-a746cfc7f45d"
        },
        "IsInitiator": false,
        "NextActivityWebId": "36dab4d5-ae32-43bd-a434-45facebbb3aa",
        "Name": "Create Record4",
        "WebId": "d2148a96-5e57-4768-9ef2-15c0573c96af"
      },
      {
        "$type": "Bespoke.Sph.Domain.ExpressionActivity, domain.sph",
        "Expression": "// PLEASE WAIT WHILE YOUR SCRIPT IS LOADING\nthis.oracleId = int.Parse(this.id);",
        "MethodName": "ExecExpressionActivityExpression5_9835Async",
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 365,
          "Y": 357,
          "WebId": "2cbf93e1-c9e4-4aba-922b-3f51f0397d84"
        },
        "IsInitiator": false,
        "NextActivityWebId": "d2148a96-5e57-4768-9ef2-15c0573c96af",
        "Name": "Expression5",
        "WebId": "98353c0c-3443-4adf-8afa-1f1f018c8f82"
      }
    ]
  },
  "VariableDefinitionCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Variable, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ClrTypeVariable, domain.sph",
        "Assembly": "",
        "CanInitiateWithDefaultConstructor": true,
        "Name": "Patient",
        "TypeName": "Bespoke.Dev_2002.Domain.Patient, Dev.Patient",
        "DefaultValue": "",
        "WebId": "aa1abc2a-c6cf-4c67-90bb-606331d03b46"
      },
      {
        "$type": "Bespoke.Sph.Domain.SimpleVariable, domain.sph",
        "Name": "Id",
        "TypeName": "System.String, mscorlib",
        "DefaultValue": "",
        "WebId": "e1ebc774-91bc-48af-a33f-201dfb34da84"
      },
      {
        "$type": "Bespoke.Sph.Domain.SimpleVariable, domain.sph",
        "Name": "oracleId",
        "TypeName": "System.Int32, mscorlib",
        "DefaultValue": "",
        "WebId": "f985387a-9425-4242-894d-b3ab1193d7d3"
      }
    ]
  },
  "WorkflowDefinitionId": 12004,
  "Name": "Create billing account for new patient",
  "Note": "",
  "IsActive": true,
  "SchemaStoreId": "557eed80-60fa-48f3-85e7-e0ae5edd0a80",
  "Version": 0,
  "CreatedBy": "admin",
  "CreatedDate": "2014-04-07T08:35:13.2937124+08:00",
  "ChangedBy": "admin",
  "ChangedDate": "2014-04-10T12:23:01.119637+08:00",
  "WebId": "24471f9e-ffea-40ab-bcaf-049b80278ad9"
}