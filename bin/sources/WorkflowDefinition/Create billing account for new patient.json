{
  "$type": "Bespoke.Sph.Domain.WorkflowDefinition, domain.sph",
  "ActivityCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Activity, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ExpressionActivity, domain.sph",
        "Expression": "var admin = System.Web.Security.Membership.GetUser(\"admin\");\nConsole.WriteLine(admin.UserName);\n\nif(null == this.Patient)\n    throw new Exception(\"You cannot register billing on null patient\");",
        "CatchScope": null,
        "TryScope": null,
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "TypeName": "Expression",
        "OtherMethodCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Codes.Method, domain.sph]], domain.sph",
          "$values": []
        },
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 270,
          "Y": 86,
          "WebId": "08966c33-a8b9-4405-8f8a-5b660854f0b7"
        },
        "IsInitiator": false,
        "NextActivityWebId": "CreateAccountAsync",
        "Name": "Check if patient is null",
        "WebId": "CheckIfPatientIsNullAsync"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScreenActivity, domain.sph",
        "Title": "",
        "ViewVirtualPath": "",
        "WorkflowDefinitionId": 0,
        "CancelMessageSubject": "[Sph] @Model.Screen.Name was cancelled",
        "InvitationMessageSubject": "[Sph] @Model.Screen.Name  task is assigned to you",
        "CancelMessageBody": "@Model.Screen.Name task was cancelled this url is not longer valid @Model.Url",
        "InvitationMessageBody": "@Model.Screen.Name task is assigned to you go here @Model.Url",
        "FormId": null,
        "Performer": {
          "$type": "Bespoke.Sph.Domain.Performer, domain.sph",
          "UserProperty": "UserName",
          "Value": "admin",
          "IsPublic": true,
          "WebId": "a1a7dd7f-3f1e-4cc4-8b38-1291b5d3e07d"
        },
        "ConfirmationOptions": {
          "$type": "Bespoke.Sph.Domain.ConfirmationOptions, domain.sph",
          "Type": "Message",
          "Value": "",
          "WebId": "2d419806-198f-4f54-8668-33fcef8eb2e7"
        },
        "IsAsync": true,
        "CatchScope": null,
        "TryScope": null,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "TypeName": "Screen",
        "OtherMethodCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Codes.Method, domain.sph]], domain.sph",
          "$values": []
        },
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 81,
          "Y": 254,
          "WebId": "4b04136a-d980-4bda-ada1-3adf4dccd8b9"
        },
        "IsInitiator": false,
        "NextActivityWebId": "CreaatePatientAsync",
        "Name": "Create Account",
        "WebId": "CreateAccountAsync"
      },
      {
        "$type": "Bespoke.Sph.Domain.EndActivity, domain.sph",
        "IsTerminating": false,
        "CatchScope": null,
        "TryScope": null,
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "TypeName": "End",
        "OtherMethodCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Codes.Method, domain.sph]], domain.sph",
          "$values": []
        },
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 288,
          "Y": 841,
          "WebId": "1031a49b-a13c-4758-b6be-68fe646481f2"
        },
        "IsInitiator": false,
        "NextActivityWebId": "",
        "Name": "End2",
        "WebId": "End2Async"
      },
      {
        "$type": "Bespoke.Sph.Domain.NotificationActivity, domain.sph",
        "From": "admin@@sph.my",
        "Subject": "Patient @Model.Patient.Mrn is just registered",
        "Body": "Please @Model.Patient.FullName was registered.",
        "To": "boss@@bespoke.com.my",
        "UserName": "",
        "Cc": "",
        "Bcc": "",
        "IsHtmlEmail": false,
        "CatchScope": null,
        "TryScope": null,
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "TypeName": "Notification",
        "OtherMethodCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Codes.Method, domain.sph]], domain.sph",
          "$values": []
        },
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 681,
          "Y": 95,
          "WebId": "af2a8d7c-16e5-4e3c-a3dc-b8b25a459c86"
        },
        "IsInitiator": true,
        "NextActivityWebId": "CheckIfPatientIsNullAsync",
        "Name": "Tell my boss",
        "WebId": "TellMyBossAsync"
      },
      {
        "$type": "Bespoke.Sph.Domain.CreateEntityActivity, domain.sph",
        "EntityType": "Patient",
        "ReturnValuePath": null,
        "PropertyMappingCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.PropertyMapping, domain.sph]], domain.sph",
          "$values": []
        },
        "CatchScope": null,
        "TryScope": null,
        "IsAsync": false,
        "ExecutedCode": null,
        "ExecutingCode": null,
        "TypeName": "CreateEntity",
        "OtherMethodCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Codes.Method, domain.sph]], domain.sph",
          "$values": []
        },
        "WorkflowDesigner": {
          "$type": "Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",
          "X": 297,
          "Y": 594,
          "WebId": null
        },
        "IsInitiator": false,
        "NextActivityWebId": "End2Async",
        "Name": "Creaate patient",
        "WebId": "CreaatePatientAsync"
      }
    ]
  },
  "VariableDefinitionCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Variable, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ClrTypeVariable, domain.sph",
        "Assembly": "",
        "CanInitiateWithDefaultConstructor": true,
        "Name": "Patient",
        "TypeName": "Bespoke.Dev_patient.Domain.Patient, Dev.Patient",
        "DefaultValue": "",
        "WebId": "aa1abc2a-c6cf-4c67-90bb-606331d03b46"
      }
    ]
  },
  "ReferencedAssemblyCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.ReferencedAssembly, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ReferencedAssembly, domain.sph",
        "Name": "System.Web.ApplicationServices",
        "FullName": "System.Web.ApplicationServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35",
        "Version": "4.0.0.0",
        "Location": "C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.ApplicationServices\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.ApplicationServices.dll",
        "WebId": null
      },
      {
        "$type": "Bespoke.Sph.Domain.ReferencedAssembly, domain.sph",
        "Name": "Dev.Patient",
        "FullName": "Dev.Patient, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null",
        "Version": "0.0.0.0",
        "Location": "C:\\Users\\bespoke1\\AppData\\Local\\Temp\\Temporary ASP.NET Files\\root\\755d39e9\\aa490d05\\assembly\\dl3\\1ac0bbaf\\0a35bf62_c620d001\\Dev.Patient.dll",
        "WebId": null
      }
    ]
  },
  "CorrelationSetCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.CorrelationSet, domain.sph]], domain.sph",
    "$values": []
  },
  "CorrelationTypeCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.CorrelationType, domain.sph]], domain.sph",
    "$values": []
  },
  "Name": "Create billing account for new patient",
  "Note": "",
  "IsActive": true,
  "SchemaStoreId": "557eed80-60fa-48f3-85e7-e0ae5edd0a80",
  "Version": 0,
  "DefaultNamespace": "Bespoke.Sph.Workflows_CreateBillingAccountForNewPatient_0",
  "TryScopeCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.WorkflowDefinition+TryScope, domain.sph]], domain.sph",
    "$values": []
  },
  "CreatedBy": "admin",
  "Id": "create-billing-account-for-new-patient",
  "CreatedDate": "2014-03-23T17:26:27.7501833+08:00",
  "ChangedBy": "admin",
  "ChangedDate": "2015-01-12T09:27:08.1261609+08:00",
  "WebId": "24471f9e-ffea-40ab-bcaf-049b80278ad9"
}