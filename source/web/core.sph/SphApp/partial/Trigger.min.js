bespoke.sph.domain.TriggerPartial=function(){var n=require("durandal/system"),t=function(n){var t=this;return function(){t.ActionCollection.remove(n)}},i=function(t){var i=this;return function(){var r=t.toLowerCase().replace(", ",",");require(["viewmodels/action."+r,"durandal/app"],function(t,u){if(typeof t.action!="function"){console.error("The dialog for "+r+" do not implement action as observable");return}typeof t.trigger=="function"&&t.trigger(i);u.showDialog(t).done(function(r){if(r&&r==="OK"){var u=t.action();u.WebId(n.guid());u.IsActive(!0);i.ActionCollection.push(u)}})})}},r=function(n){var t=this;return function(){var r=ko.unwrap(n.$type),i=ko.mapping.fromJS(ko.mapping.toJS(n));require(["viewmodels/action."+r.toLowerCase().replace(", ",","),"durandal/app"],function(r,u){r.action(i);typeof r.trigger=="function"&&r.trigger(t);u.showDialog(r).done(function(r){r&&r==="OK"&&t.ActionCollection.replace(n,i)})})}},u=function(){var t=new bespoke.sph.domain.Rule(n.guid());t.Left({Name:ko.observable("+ Field")});t.Right({Name:ko.observable("+ Field")});this.RuleCollection.push(t)},f=function(n){var t=this;return function(){t.RuleCollection.remove(n)}},e=function(){var n=this;require(["viewmodels/assembly.dialog","durandal/app"],function(t,i){i.showDialog(t).done(function(i){i&&i==="OK"&&_(t.selectedAssemblies()).each(function(t){n.ReferencedAssemblyCollection.push(t)})})})},o=function(n){alert("not implemented"+n)},s=function(n){var t=this;return function(){t.ReferencedAssemblyCollection.remove(n)}};return{editReferencedAssembly:o,removeReferencedAssembly:s,addReferencedAssembly:e,addRule:u,removeRule:f,removeAction:t,addAction:i,editAction:r}};
/*
//# sourceMappingURL=Trigger.min.js.map
*/