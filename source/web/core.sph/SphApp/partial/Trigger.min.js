bespoke.sph.domain.TriggerPartial=function(){var n=require("durandal/system"),t=function(n){var t=this;return function(){t.ActionCollection.remove(n)}},i=function(t){var i=this;return function(){var r=new bespoke.sph.domain[t+"Action"](n.guid());require(["viewmodels/action."+t.toLowerCase(),"durandal/app"],function(n,t){n.action(r);t.showDialog(n).done(function(n){n&&n==="OK"&&(r.IsActive(!0),i.ActionCollection.push(r))})})}},r=function(n){var t=this;return function(){var r=ko.unwrap(n.$type),i=ko.mapping.fromJS(ko.mapping.toJS(n)),u=/Bespoke\.Sph\.Domain\.(.*?)Action,/.exec(r)[1];require(["viewmodels/action."+u.toLowerCase(),"durandal/app"],function(r,u){r.action(i);u.showDialog(r).done(function(r){r&&r==="OK"&&t.ActionCollection.replace(n,i)})})}},u=function(){var t=new bespoke.sph.domain.Rule(n.guid());t.Left({Name:ko.observable("+ Field")});t.Right({Name:ko.observable("+ Field")});this.RuleCollection.push(t)},f=function(n){var t=this;return function(){t.RuleCollection.remove(n)}};return{addRule:u,removeRule:f,removeAction:t,addAction:i,editAction:r}};
/*
//# sourceMappingURL=Trigger.min.js.map
*/