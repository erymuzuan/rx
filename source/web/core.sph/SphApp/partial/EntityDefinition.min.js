bespoke.sph.domain.EntityDefinitionPartial=function(){var n=require("durandal/system"),t=require(objectbuilders.datacontext),i=function(){this.MemberCollection.push(new bespoke.sph.domain.Member({WebId:n.guid(),Boost:1}))},r=function(n){var t=this;return function(){t.MemberCollection.remove(n)}},u=function(){this.EntityOperationCollection.push(new bespoke.sph.domain.EntityOperation({WebId:n.guid()}))},f=function(n){var t=this;return function(){t.EntityOperationCollection.remove(n)}},e=function(n){var t=this;return function(){require(["viewmodels/member.dialog","durandal/app"],function(i,r){var u=ko.mapping.fromJS(ko.mapping.toJS(n));i.member(u);r.showDialog(i).done(function(i){i&&i=="OK"&&t.BlockCollection.replace(n,u)})})}},o=function(){this.BusinessRuleCollection.push(new bespoke.sph.domain.BusinessRule({WebId:n.guid(),Name:"<New Rule>"}))},s=function(n){var i=this;return function(){require(["viewmodels/business.rule.dialog","durandal/app"],function(r,u){var f=t.toObservable(ko.mapping.toJS(n));r.rule(f);u.showDialog(r).done(function(t){t&&t=="OK"&&i.BusinessRuleCollection.replace(n,f)})})}},h=function(n){var t=this;return function(){t.BusinessRuleCollection.remove(n)}},c=function(n){var t=this;return function(){console.log("show map ",t);console.log(" on member ",n);require(["viewmodels/member.map","durandal/app"],function(i,r){i.init(t.BuildingId(),n.MemberPlanStoreId());r.showDialog(i).done(function(t){t=="OK"&&n.MemberPlanStoreId(i.spatialStoreId())})})}};return{addEntityOperation:u,removeEntityOperation:f,addMember:i,editMember:e,removeMember:r,addBusinessRule:o,editBusinessRule:s,removeBusinessRule:h,editMemberMap:c}};
/*
//# sourceMappingURL=EntityDefinition.min.js.map
*/