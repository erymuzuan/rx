var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{};bespoke.sph.domain=bespoke.sph.domain||{};bespoke.sph.domain.BlockPartial=function(){var n=require("durandal/system"),t=function(){this.FloorCollection.push(new bespoke.sph.domain.Floor(n.guid()))},i=function(n){var t=this;return function(){require(["viewmodels/block.dialog","durandal/app"],function(i,r){var u=ko.mapping.fromJS(ko.mapping.toJS(n));i.block(u);r.showModal(i).done(function(i){i&&i=="OK"&&t.BlockCollection.replace(n,u)})})}},r=function(n){var t=this;return function(){t.FloorCollection.remove(n)}},u=function(n){var t=this;return function(){console.log("show map ",t);console.log(" on block ",n);require(["viewmodels/block.map","durandal/app"],function(i,r){i.init(t.BuildingId(),n.FloorPlanStoreId());r.showModal(i).done(function(t){t=="OK"&&n.FloorPlanStoreId(i.spatialStoreId())})})}};return{addFloor:t,editFloor:i,editFloorMap:u,removeFloor:r}};
/*
//# sourceMappingURL=Block.min.js.map
*/