var objectbuilders={defaultValueProvider:"services/default.value.provider",datacontext:"services/datacontext",system:"durandal/system",app:"durandal/app",logger:"services/logger",watcher:"services/watcher",config:"services/config",router:"plugins/router",cultures:"services/cultures.my",validation:"services/validation",map:"viewmodels/map",dialog:"plugins/dialog",eximp:"services/jsonimportexport"};
/*!
 * Bootstrap v3.3.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */if(function(ee){// Pick the first defined of two or three arguments. dfl comes from
// default.
function te(va,wa,xa){switch(arguments.length){case 2:return null==va?wa:va;case 3:return null==va?null==wa?xa:wa:va;default:throw new Error('Implement me');}}function ae(va,wa){return Tt.call(va,wa)}function ne(){// We need to deep clone this object, and es5 standard is not very
// helpful.
return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function oe(va){!1===wt.suppressDeprecationWarnings&&'undefined'!=typeof console&&console.warn&&console.warn('Deprecation warning: '+va)}function ie(va,wa){var xa=!0;return ue(function(){return xa&&(oe(va),xa=!1),wa.apply(this,arguments)},wa)}function se(va,wa){ba[va]||(oe(wa),ba[va]=!0)}function re(va,wa){return function(xa){return fe(va.call(this,xa),wa)}}function le(va,wa){return function(xa){return this.localeData().ordinal(va.call(this,xa),wa)}}/************************************
        Constructors
    ************************************/function de(){}// Moment prototype object
function ce(va,wa){!1!==wa&&Oe(va),he(this,va),this._d=new Date(+va._d)}// Duration Constructor
function pe(va){var wa=Te(va),xa=wa.year||0,ka=wa.quarter||0,Ca=wa.month||0,Ta=wa.week||0,Da=wa.day||0,Sa=wa.hour||0,ja=wa.minute||0,Na=wa.second||0,Pa=wa.millisecond||0;// representation for dateAddRemove
this._milliseconds=+Pa+1000*Na+// 1000
60000*ja+// 1000 * 60
3600000*Sa,this._days=+Da+7*Ta,this._months=+Ca+3*ka+12*xa,this._data={},this._locale=wt.localeData(),this._bubble()}/************************************
        Helpers
    ************************************/function ue(va,wa){for(var xa in wa)ae(wa,xa)&&(va[xa]=wa[xa]);return ae(wa,'toString')&&(va.toString=wa.toString),ae(wa,'valueOf')&&(va.valueOf=wa.valueOf),va}function he(va,wa){var xa,ka,Ca;if('undefined'!=typeof wa._isAMomentObject&&(va._isAMomentObject=wa._isAMomentObject),'undefined'!=typeof wa._i&&(va._i=wa._i),'undefined'!=typeof wa._f&&(va._f=wa._f),'undefined'!=typeof wa._l&&(va._l=wa._l),'undefined'!=typeof wa._strict&&(va._strict=wa._strict),'undefined'!=typeof wa._tzm&&(va._tzm=wa._tzm),'undefined'!=typeof wa._isUTC&&(va._isUTC=wa._isUTC),'undefined'!=typeof wa._offset&&(va._offset=wa._offset),'undefined'!=typeof wa._pf&&(va._pf=wa._pf),'undefined'!=typeof wa._locale&&(va._locale=wa._locale),0<Lt.length)for(xa in Lt)ka=Lt[xa],Ca=wa[ka],'undefined'!=typeof Ca&&(va[ka]=Ca);return va}function ge(va){return 0>va?Math.ceil(va):Math.floor(va)}// left zero fill a number
// see http://jsperf.com/left-zero-filling for performance comparison
function fe(va,wa,xa){for(var ka=''+Math.abs(va);ka.length<wa;)ka='0'+ka;return(0<=va?xa?'+':'':'-')+ka}function ye(va,wa){var xa={milliseconds:0,months:0};return xa.months=wa.month()-va.month()+12*(wa.year()-va.year()),va.clone().add(xa.months,'M').isAfter(wa)&&--xa.months,xa.milliseconds=+wa-+va.clone().add(xa.months,'M'),xa}function be(va,wa){var xa;return wa=Me(wa,va),va.isBefore(wa)?xa=ye(va,wa):(xa=ye(wa,va),xa.milliseconds=-xa.milliseconds,xa.months=-xa.months),xa}// TODO: remove 'name' arg after deprecation is removed
function _e(va,wa){return function(xa,ka){var Ca,Ta;//invert the arguments, but complain about it
return null===ka||isNaN(+ka)||(se(wa,'moment().'+wa+'(period, number) is deprecated. Please use moment().'+wa+'(number, period).'),Ta=xa,xa=ka,ka=Ta),xa='string'==typeof xa?+xa:xa,Ca=wt.duration(xa,ka),ve(this,Ca,va),this}}function ve(va,wa,xa,ka){var Ca=wa._milliseconds,Ta=wa._days,Da=wa._months;ka=null==ka||ka,Ca&&va._d.setTime(+va._d+Ca*xa),Ta&&mt(va,'Date',gt(va,'Date')+Ta*xa),Da&&ht(va,gt(va,'Month')+Da*xa),ka&&wt.updateOffset(va,Ta||Da)}// check if is an array
function we(va){return'[object Array]'===Object.prototype.toString.call(va)}function xe(va){return'[object Date]'===Object.prototype.toString.call(va)||va instanceof Date}// compare two arrays, return the number of differences
function ke(va,wa,xa){var ka=Math.min(va.length,wa.length),Ca=Math.abs(va.length-wa.length),Ta=0,Da;for(Da=0;Da<ka;Da++)(xa&&va[Da]!==wa[Da]||!xa&&Se(va[Da])!==Se(wa[Da]))&&Ta++;return Ta+Ca}function Ce(va){if(va){var wa=va.toLowerCase().replace(/(.)s$/,'$1');va=pa[va]||ua[wa]||wa}return va}function Te(va){var wa={},xa,ka;for(ka in va)ae(va,ka)&&(xa=Ce(ka),xa&&(wa[xa]=va[ka]));return wa}function De(va){var wa,xa;if(0===va.indexOf('week'))wa=7,xa='day';else if(0===va.indexOf('month'))wa=12,xa='month';else return;wt[va]=function(ka,Ca){var Sa=wt._locale[va],ja=[],Ta,Da;if('number'==typeof ka&&(Ca=ka,ka=ee),Da=function(Na){var Pa=wt().utc().set(xa,Na);return Sa.call(wt._locale,Pa,ka||'')},null!=Ca)return Da(Ca);for(Ta=0;Ta<wa;Ta++)ja.push(Da(Ta));return ja}}function Se(va){var wa=+va,xa=0;return 0!=wa&&isFinite(wa)&&(0<=wa?xa=Math.floor(wa):xa=Math.ceil(wa)),xa}function je(va,wa){return new Date(Date.UTC(va,wa+1,0)).getUTCDate()}function Ne(va,wa,xa){return lt(wt([va,11,31+wa-xa]),wa,xa).week}function Pe(va){return Ee(va)?366:365}function Ee(va){return 0==va%4&&0!=va%100||0==va%400}function Oe(va){var wa;va._a&&-2===va._pf.overflow&&(wa=0>va._a[jt]||11<va._a[jt]?jt:1>va._a[Nt]||va._a[Nt]>je(va._a[St],va._a[jt])?Nt:0>va._a[Pt]||23<va._a[Pt]?Pt:0>va._a[Et]||59<va._a[Et]?Et:0>va._a[Ot]||59<va._a[Ot]?Ot:0>va._a[At]||999<va._a[At]?At:-1,va._pf._overflowDayOfYear&&(wa<St||wa>Nt)&&(wa=Nt),va._pf.overflow=wa)}function Ae(va){return null==va._isValid&&(va._isValid=!isNaN(va._d.getTime())&&0>va._pf.overflow&&!va._pf.empty&&!va._pf.invalidMonth&&!va._pf.nullInput&&!va._pf.invalidFormat&&!va._pf.userInvalidated,va._strict&&(va._isValid=va._isValid&&0===va._pf.charsLeftOver&&0===va._pf.unusedTokens.length)),va._isValid}function Ie(va){return va?va.toLowerCase().replace('_','-'):va}// pick the locale from the array
// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
function Le(va){for(var wa=0,xa,ka,Ca,Ta;wa<va.length;){for(Ta=Ie(va[wa]).split('-'),xa=Ta.length,ka=Ie(va[wa+1]),ka=ka?ka.split('-'):null;0<xa;){if(Ca=He(Ta.slice(0,xa).join('-')),Ca)return Ca;if(ka&&ka.length>=xa&&ke(Ta,ka,!0)>=xa-1)//the next array item is better than a shallower substring of this one
break;xa--}wa++}return null}function He(va){var wa=null;if(!It[va]&&Ht)try{wa=wt.locale(),require('./locale/'+va),wt.locale(wa)}catch(xa){}return It[va]}// Return a moment from input, that is local/utc/zone equivalent to model.
function Me(va,wa){return wa._isUTC?wt(va).zone(wa._offset||0):wt(va).local()}/************************************
        Locale
    ************************************//************************************
        Formatting
    ************************************/function ze(va){return va.match(/\[[\s\S]/)?va.replace(/^\[|\]$/g,''):va.replace(/\\/g,'')}function We(va){var wa=va.match(Rt),xa,ka;for(xa=0,ka=wa.length;xa<ka;xa++)wa[xa]=ya[wa[xa]]?ya[wa[xa]]:ze(wa[xa]);return function(Ca){var Ta='';for(xa=0;xa<ka;xa++)Ta+=wa[xa]instanceof Function?wa[xa].call(Ca,va):wa[xa];return Ta}}// format date using native date object
function Re(va,wa){return va.isValid()?(wa=Ye(wa,va.localeData()),ha[wa]||(ha[wa]=We(wa)),ha[wa](va)):va.localeData().invalidDate()}function Ye(va,wa){function xa(Ca){return wa.longDateFormat(Ca)||Ca}var ka=5;for($t.lastIndex=0;0<=ka&&$t.test(va);)va=va.replace($t,xa),$t.lastIndex=0,ka-=1;return va}/************************************
        Parsing
    ************************************/// get the regex to find the next token
function Fe(va,wa){var ka=wa._strict,xa;switch(va){case'Q':return Qt;case'DDDD':return ea;case'YYYY':case'GGGG':case'gggg':return ka?ta:qt;case'Y':case'G':case'g':return oa;case'YYYYYY':case'YYYYY':case'GGGGG':case'ggggg':return ka?na:Bt;case'S':if(ka)return Qt;/* falls through */case'SS':if(ka)return Zt;/* falls through */case'SSS':if(ka)return ea;/* falls through */case'DDD':return Ft;case'MMM':case'MMMM':case'dd':case'ddd':case'dddd':return Vt;case'a':case'A':return wa._locale._meridiemParse;case'X':return Xt;case'Z':case'ZZ':return Kt;case'T':return Gt;case'SSSS':return Ut;case'MM':case'DD':case'YY':case'GG':case'gg':case'HH':case'hh':case'mm':case'ss':case'ww':case'WW':return ka?Zt:Yt;case'M':case'D':case'd':case'H':case'h':case'm':case's':case'w':case'W':case'e':case'E':return Yt;case'Do':return Jt;default:return xa=new RegExp(Qe(Je(va.replace('\\','')),'i')),xa;}}function qe(va){va=va||'';var wa=va.match(Kt)||[],xa=wa[wa.length-1]||[],ka=(xa+'').match(la)||['-',0,0],Ca=+(60*ka[1])+Se(ka[2]);return'+'===ka[0]?-Ca:Ca}// function to convert string input to date
function Be(va,wa,xa){var Ca=xa._a,ka;switch(va){// QUARTER
case'Q':null!=wa&&(Ca[jt]=3*(Se(wa)-1));break;// MONTH
case'M':// fall through to MM
case'MM':null!=wa&&(Ca[jt]=Se(wa)-1);break;case'MMM':// fall through to MMMM
case'MMMM':ka=xa._locale.monthsParse(wa),null==ka?xa._pf.invalidMonth=wa:Ca[jt]=ka;break;// DAY OF MONTH
case'D':// fall through to DD
case'DD':null!=wa&&(Ca[Nt]=Se(wa));break;case'Do':null!=wa&&(Ca[Nt]=Se(parseInt(wa,10)));break;// DAY OF YEAR
case'DDD':// fall through to DDDD
case'DDDD':null!=wa&&(xa._dayOfYear=Se(wa));break;// YEAR
case'YY':Ca[St]=wt.parseTwoDigitYear(wa);break;case'YYYY':case'YYYYY':case'YYYYYY':Ca[St]=Se(wa);break;// AM / PM
case'a':// fall through to A
case'A':xa._isPm=xa._locale.isPM(wa);break;// 24 HOUR
case'H':// fall through to hh
case'HH':// fall through to hh
case'h':// fall through to hh
case'hh':Ca[Pt]=Se(wa);break;// MINUTE
case'm':// fall through to mm
case'mm':Ca[Et]=Se(wa);break;// SECOND
case's':// fall through to ss
case'ss':Ca[Ot]=Se(wa);break;// MILLISECOND
case'S':case'SS':case'SSS':case'SSSS':Ca[At]=Se(1000*('0.'+wa));break;// UNIX TIMESTAMP WITH MS
case'X':xa._d=new Date(1000*parseFloat(wa));break;// TIMEZONE
case'Z':// fall through to ZZ
case'ZZ':xa._useUTC=!0,xa._tzm=qe(wa);break;// WEEKDAY - human
case'dd':case'ddd':case'dddd':ka=xa._locale.weekdaysParse(wa),null==ka?xa._pf.invalidWeekday=wa:(xa._w=xa._w||{},xa._w.d=ka);break;// WEEK, WEEK DAY - numeric
case'w':case'ww':case'W':case'WW':case'd':case'e':case'E':va=va.substr(0,1);/* falls through */case'gggg':case'GGGG':case'GGGGG':va=va.substr(0,2),wa&&(xa._w=xa._w||{},xa._w[va]=Se(wa));break;case'gg':case'GG':xa._w=xa._w||{},xa._w[va]=wt.parseTwoDigitYear(wa);}}function Ue(va){var wa,xa,ka,Ca,Ta,Da,Sa;wa=va._w,null!=wa.GG||null!=wa.W||null!=wa.E?(Ta=1,Da=4,xa=te(wa.GG,va._a[St],lt(wt(),1,4).year),ka=te(wa.W,1),Ca=te(wa.E,1)):(Ta=va._locale._week.dow,Da=va._locale._week.doy,xa=te(wa.gg,va._a[St],lt(wt(),Ta,Da).year),ka=te(wa.w,1),null==wa.d?null==wa.e?Ca=Ta:Ca=wa.e+Ta:(Ca=wa.d,Ca<Ta&&++ka)),Sa=dt(xa,ka,Ca,Da,Ta),va._a[St]=Sa.year,va._dayOfYear=Sa.dayOfYear}// convert an array to a date.
// the array should mirror the parameters below
// note: all values past the year are optional and will default to the lowest possible value.
// [year, month, day , hour, minute, second, millisecond]
function Ve(va){var ka=[],wa,xa,Ca,Ta;if(!va._d){// Default to current date.
// * if no year, month, day of month are given, default to today
// * if day of month is given, default month and year
// * if month is given, default only year
// * if year is given, don't default anything
for(Ca=Ge(va),va._w&&null==va._a[Nt]&&null==va._a[jt]&&Ue(va),va._dayOfYear&&(Ta=te(va._a[St],Ca[St]),va._dayOfYear>Pe(Ta)&&(va._pf._overflowDayOfYear=!0),xa=ot(Ta,0,va._dayOfYear),va._a[jt]=xa.getUTCMonth(),va._a[Nt]=xa.getUTCDate()),wa=0;3>wa&&null==va._a[wa];++wa)va._a[wa]=ka[wa]=Ca[wa];// Zero out whatever was not defaulted, including time
for(;7>wa;wa++)va._a[wa]=ka[wa]=null==va._a[wa]?2===wa?1:0:va._a[wa];va._d=(va._useUTC?ot:nt).apply(null,ka),null!=va._tzm&&va._d.setUTCMinutes(va._d.getUTCMinutes()+va._tzm)}}function Ke(va){var wa;va._d||(wa=Te(va._i),va._a=[wa.year,wa.month,wa.day,wa.hour,wa.minute,wa.second,wa.millisecond],Ve(va))}function Ge(va){var wa=new Date;return va._useUTC?[wa.getUTCFullYear(),wa.getUTCMonth(),wa.getUTCDate()]:[wa.getFullYear(),wa.getMonth(),wa.getDate()]}// date from string and format string
function Xe(va){if(va._f===wt.ISO_8601)return void et(va);va._a=[],va._pf.empty=!0;// This array is used to make a Date, either with `new Date` or `Date.UTC`
var wa=''+va._i,Sa=wa.length,ja=0,xa,ka,Ca,Ta,Da;for(Ca=Ye(va._f,va._locale).match(Rt)||[],xa=0;xa<Ca.length;xa++)Ta=Ca[xa],ka=(wa.match(Fe(Ta,va))||[])[0],ka&&(Da=wa.substr(0,wa.indexOf(ka)),0<Da.length&&va._pf.unusedInput.push(Da),wa=wa.slice(wa.indexOf(ka)+ka.length),ja+=ka.length),ya[Ta]?(ka?va._pf.empty=!1:va._pf.unusedTokens.push(Ta),Be(Ta,ka,va)):va._strict&&!ka&&va._pf.unusedTokens.push(Ta);// add remaining unparsed input length to the string
va._pf.charsLeftOver=Sa-ja,0<wa.length&&va._pf.unusedInput.push(wa),va._isPm&&12>va._a[Pt]&&(va._a[Pt]+=12),!1===va._isPm&&12===va._a[Pt]&&(va._a[Pt]=0),Ve(va),Oe(va)}function Je(va){return va.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(wa,xa,ka,Ca,Ta){return xa||ka||Ca||Ta})}// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
function Qe(va){return va.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}// date from string and array of format strings
function Ze(va){var wa,xa,ka,Ca,Ta;if(0===va._f.length)return va._pf.invalidFormat=!0,void(va._d=new Date(NaN));for(Ca=0;Ca<va._f.length;Ca++)(Ta=0,wa=he({},va),wa._pf=ne(),wa._f=va._f[Ca],Xe(wa),!!Ae(wa))&&(Ta+=wa._pf.charsLeftOver,Ta+=10*wa._pf.unusedTokens.length,wa._pf.score=Ta,(null==ka||Ta<ka)&&(ka=Ta,xa=wa));// if there is any input that was not parsed add a penalty for that format
ue(va,xa||wa)}// date from iso format
function et(va){var ka=va._i,Ca=ia.exec(ka),wa,xa;if(Ca){for(va._pf.iso=!0,wa=0,xa=sa.length;wa<xa;wa++)if(sa[wa][1].exec(ka)){va._f=sa[wa][0]+(Ca[6]||' ');break}for(wa=0,xa=ra.length;wa<xa;wa++)if(ra[wa][1].exec(ka)){va._f+=ra[wa][0];break}ka.match(Kt)&&(va._f+='Z'),Xe(va)}else va._isValid=!1}// date from iso format or fallback
function tt(va){et(va),!1===va._isValid&&(delete va._isValid,wt.createFromInputFallback(va))}function at(va){var wa=va._i,xa;wa===ee?va._d=new Date:xe(wa)?va._d=new Date(+wa):null===(xa=Mt.exec(wa))?'string'==typeof wa?tt(va):we(wa)?(va._a=wa.slice(0),Ve(va)):'object'==typeof wa?Ke(va):'number'==typeof wa?va._d=new Date(wa):wt.createFromInputFallback(va):va._d=new Date(+xa[1])}function nt(va,wa,xa,ka,Ca,Ta,Da){//can't just apply() to create a date:
//http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
var Sa=new Date(va,wa,xa,ka,Ca,Ta,Da);//the date constructor doesn't accept years < 1970
return 1970>va&&Sa.setFullYear(va),Sa}function ot(va){var wa=new Date(Date.UTC.apply(null,arguments));return 1970>va&&wa.setUTCFullYear(va),wa}function it(va,wa){if('string'==typeof va)if(!isNaN(va))va=parseInt(va,10);else if(va=wa.weekdaysParse(va),'number'!=typeof va)return null;return va}/************************************
        Relative Time
    ************************************/// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
function st(va,wa,xa,ka,Ca){return Ca.relativeTime(wa||1,!!xa,va,ka)}function rt(va,wa,xa){var ka=wt.duration(va).abs(),Ca=Ct(ka.as('s')),Ta=Ct(ka.as('m')),Da=Ct(ka.as('h')),Sa=Ct(ka.as('d')),ja=Ct(ka.as('M')),Na=Ct(ka.as('y')),Pa=Ca<ga.s&&['s',Ca]||1===Ta&&['m']||Ta<ga.m&&['mm',Ta]||1===Da&&['h']||Da<ga.h&&['hh',Da]||1===Sa&&['d']||Sa<ga.d&&['dd',Sa]||1===ja&&['M']||ja<ga.M&&['MM',ja]||1===Na&&['y']||['yy',Na];return Pa[2]=wa,Pa[3]=0<+va,Pa[4]=xa,st.apply({},Pa)}/************************************
        Week of Year
    ************************************/// firstDayOfWeek       0 = sun, 6 = sat
//                      the day of the week that starts the week
//                      (usually sunday or monday)
// firstDayOfWeekOfYear 0 = sun, 6 = sat
//                      the first week is the week that contains the first
//                      of this day of the week
//                      (eg. ISO weeks use thursday (4))
function lt(va,wa,xa){var ka=xa-wa,Ca=xa-va.day(),Ta;return Ca>ka&&(Ca-=7),Ca<ka-7&&(Ca+=7),Ta=wt(va).add(Ca,'d'),{week:Math.ceil(Ta.dayOfYear()/7),year:Ta.year()}}//http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
function dt(va,wa,xa,ka,Ca){var Ta=ot(va,0,1).getUTCDay(),Da,Sa;return Ta=0===Ta?7:Ta,xa=null==xa?Ca:xa,Da=Ca-Ta+(Ta>ka?7:0)-(Ta<Ca?7:0),Sa=7*(wa-1)+(xa-Ca)+Da+1,{year:0<Sa?va:va-1,dayOfYear:0<Sa?Sa:Pe(va-1)+Sa}}/************************************
        Top Level Functions
    ************************************/function pt(va){var wa=va._i,xa=va._f;return(va._locale=va._locale||wt.localeData(va._l),null===wa||xa===ee&&''===wa)?wt.invalid({nullInput:!0}):('string'==typeof wa&&(va._i=wa=va._locale.preparse(wa)),wt.isMoment(wa))?new ce(wa,!0):(xa?we(xa)?Ze(va):Xe(va):at(va),new ce(va))}// Pick a moment m from moments so that m[fn](other) is true for all
// other. This relies on the function fn to be transitive.
//
// moments should either be an array of moment objects or an array, whose
// first element is an array of moment objects.
function ut(va,wa){var xa,ka;if(1===wa.length&&we(wa[0])&&(wa=wa[0]),!wa.length)return wt();for(xa=wa[0],ka=1;ka<wa.length;++ka)wa[ka][va](xa)&&(xa=wa[ka]);return xa}function ht(va,wa){var xa;// TODO: Move this out of here!
return'string'==typeof wa&&(wa=va.localeData().monthsParse(wa),'number'!=typeof wa)?va:(xa=Math.min(va.date(),je(va.year(),wa)),va._d['set'+(va._isUTC?'UTC':'')+'Month'](wa,xa),va)}function gt(va,wa){return va._d['get'+(va._isUTC?'UTC':'')+wa]()}function mt(va,wa,xa){return'Month'===wa?ht(va,xa):va._d['set'+(va._isUTC?'UTC':'')+wa](xa)}function ft(va,wa){return function(xa){return null==xa?gt(this,va):(mt(this,va,xa),wt.updateOffset(this,wa),this)}}/************************************
        Duration Prototype
    ************************************/function yt(va){// 400 years have 146097 days (taking into account leap year rules)
return 400*va/146097}function bt(va){// years * 365 + absRound(years / 4) -
//     absRound(years / 100) + absRound(years / 400);
return 146097*va/400}function _t(va){wt.duration.fn[va]=function(){return this._data[va]}}/* EMBED_LOCALES *//************************************
        Exposing Moment
    ************************************/function vt(va){'undefined'!=typeof ender||(kt=xt.moment,xt.moment=va?ie('Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.',wt):wt)}// CommonJS module is defined
/************************************
        Constants
    ************************************/for(var// the global-scope this is NOT the global object in Node.js
xt='undefined'==typeof global?this:global,Ct=Math.round,Tt=Object.prototype.hasOwnProperty,St=0,jt=1,Nt=2,Pt=3,Et=4,Ot=5,At=6,// internal storage for locale config files
It={},// extra moment internal properties (plugins register props here)
Lt=[],// check for nodeJS
Ht='undefined'!=typeof module&&module.exports,// ASP.NET json date format regex
Mt=/^\/?Date\((\-?\d+)/i,zt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
Wt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,// format tokens
Rt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,$t=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,// parsing token regexes
Yt=/\d\d?/,// 0 - 99
Ft=/\d{1,3}/,// 0 - 999
qt=/\d{1,4}/,// 0 - 9999
Bt=/[+\-]?\d{1,6}/,// -999,999 - 999,999
Ut=/\d+/,// nonzero number of digits
Vt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,// any word (or two) characters or numbers including two/three word month in arabic.
Kt=/Z|[\+\-]\d\d:?\d\d/gi,// +00:00 -00:00 +0000 -0000 or Z
Gt=/T/i,// T (ISO separator)
Xt=/[\+\-]?\d+(\.\d{1,3})?/,// 123456789 123456789.123
Jt=/\d{1,2}/,//strict parsing regexes
Qt=/\d/,// 0 - 9
Zt=/\d\d/,// 00 - 99
ea=/\d{3}/,// 000 - 999
ta=/\d{4}/,// 0000 - 9999
na=/[+-]?\d{6}/,// -999,999 - 999,999
oa=/[+-]?\d+/,// -inf - inf
// iso 8601 regex
// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
ia=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sa=[['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],['GGGG-[W]WW',/\d{4}-W\d{2}/],['YYYY-DDD',/\d{4}-\d{3}/]],// iso time formats and regexes
ra=[['HH:mm:ss.SSSS',/(T| )\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss',/(T| )\d\d:\d\d:\d\d/],['HH:mm',/(T| )\d\d:\d\d/],['HH',/(T| )\d\d/]],// timezone chunker '+10:00' > ['10', '00'] or '-1530' > ['-15', '30']
la=/([\+\-]|\d\d)/gi,// getter and setter names
da='Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),ca={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},pa={ms:'millisecond',s:'second',m:'minute',h:'hour',d:'day',D:'date',w:'week',W:'isoWeek',M:'month',Q:'quarter',y:'year',DDD:'dayOfYear',e:'weekday',E:'isoWeekday',gg:'weekYear',GG:'isoWeekYear'},ua={dayofyear:'dayOfYear',isoweekday:'isoWeekday',isoweek:'isoWeek',weekyear:'weekYear',isoweekyear:'isoWeekYear'},// format function strings
ha={},// default relative time thresholds
ga={s:45,// seconds to minute
m:45,// minutes to hour
h:22,// hours to day
d:26,// days to month
M:11// months to year
},// tokens to ordinalize and pad
ma='DDD w W M D d'.split(' '),fa='M D H h m s w W'.split(' '),ya={M:function(){return this.month()+1},MMM:function(va){return this.localeData().monthsShort(this,va)},MMMM:function(va){return this.localeData().months(this,va)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(va){return this.localeData().weekdaysMin(this,va)},ddd:function(va){return this.localeData().weekdaysShort(this,va)},dddd:function(va){return this.localeData().weekdays(this,va)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return fe(this.year()%100,2)},YYYY:function(){return fe(this.year(),4)},YYYYY:function(){return fe(this.year(),5)},YYYYYY:function(){var va=this.year(),wa=0<=va?'+':'-';return wa+fe(Math.abs(va),6)},gg:function(){return fe(this.weekYear()%100,2)},gggg:function(){return fe(this.weekYear(),4)},ggggg:function(){return fe(this.weekYear(),5)},GG:function(){return fe(this.isoWeekYear()%100,2)},GGGG:function(){return fe(this.isoWeekYear(),4)},GGGGG:function(){return fe(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return Se(this.milliseconds()/100)},SS:function(){return fe(Se(this.milliseconds()/10),2)},SSS:function(){return fe(this.milliseconds(),3)},SSSS:function(){return fe(this.milliseconds(),3)},Z:function(){var va=-this.zone(),wa='+';return 0>va&&(va=-va,wa='-'),wa+fe(Se(va/60),2)+':'+fe(Se(va)%60,2)},ZZ:function(){var va=-this.zone(),wa='+';return 0>va&&(va=-va,wa='-'),wa+fe(Se(va/60),2)+fe(Se(va)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ba={},_a=['months','monthsShort','weekdays','weekdaysShort','weekdaysMin'],wt,kt,Dt;ma.length;)Dt=ma.pop(),ya[Dt+'o']=le(ya[Dt],Dt);for(;fa.length;)Dt=fa.pop(),ya[Dt+Dt]=re(ya[Dt],2);for(ya.DDDD=re(ya.DDD,3),ue(de.prototype,{set:function(va){var wa,xa;for(xa in va)wa=va[xa],'function'==typeof wa?this[xa]=wa:this['_'+xa]=wa},_months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),months:function(va){return this._months[va.month()]},_monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),monthsShort:function(va){return this._monthsShort[va.month()]},monthsParse:function(va){var wa,xa,ka;for(this._monthsParse||(this._monthsParse=[]),wa=0;12>wa;wa++)// test the regex
if(this._monthsParse[wa]||(xa=wt.utc([2000,wa]),ka='^'+this.months(xa,'')+'|^'+this.monthsShort(xa,''),this._monthsParse[wa]=new RegExp(ka.replace('.',''),'i')),this._monthsParse[wa].test(va))return wa},_weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdays:function(va){return this._weekdays[va.day()]},_weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysShort:function(va){return this._weekdaysShort[va.day()]},_weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),weekdaysMin:function(va){return this._weekdaysMin[va.day()]},weekdaysParse:function(va){var wa,xa,ka;for(this._weekdaysParse||(this._weekdaysParse=[]),wa=0;7>wa;wa++)// test the regex
if(this._weekdaysParse[wa]||(xa=wt([2000,1]).day(wa),ka='^'+this.weekdays(xa,'')+'|^'+this.weekdaysShort(xa,'')+'|^'+this.weekdaysMin(xa,''),this._weekdaysParse[wa]=new RegExp(ka.replace('.',''),'i')),this._weekdaysParse[wa].test(va))return wa},_longDateFormat:{LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY LT',LLLL:'dddd, MMMM D, YYYY LT'},longDateFormat:function(va){var wa=this._longDateFormat[va];return!wa&&this._longDateFormat[va.toUpperCase()]&&(wa=this._longDateFormat[va.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(xa){return xa.slice(1)}),this._longDateFormat[va]=wa),wa},isPM:function(va){// IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
// Using charAt should be more compatible.
return'p'===(va+'').toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(va,wa,xa){return 11<va?xa?'pm':'PM':xa?'am':'AM'},_calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},calendar:function(va,wa){var xa=this._calendar[va];return'function'==typeof xa?xa.apply(wa):xa},_relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},relativeTime:function(va,wa,xa,ka){var Ca=this._relativeTime[xa];return'function'==typeof Ca?Ca(va,wa,xa,ka):Ca.replace(/%d/i,va)},pastFuture:function(va,wa){var xa=this._relativeTime[0<va?'future':'past'];return'function'==typeof xa?xa(wa):xa.replace(/%s/i,wa)},ordinal:function(va){return this._ordinal.replace('%d',va)},_ordinal:'%d',preparse:function(va){return va},postformat:function(va){return va},week:function(va){return lt(va,this._week.dow,this._week.doy).week},_week:{dow:0,// Sunday is the first day of the week.
doy:6// The week that contains Jan 1st is the first week of the year.
},_invalidDate:'Invalid date',invalidDate:function(){return this._invalidDate}}),wt=function(va,wa,xa,ka){var Ca;return'boolean'==typeof xa&&(ka=xa,xa=ee),Ca={},Ca._isAMomentObject=!0,Ca._i=va,Ca._f=wa,Ca._l=xa,Ca._strict=ka,Ca._isUTC=!1,Ca._pf=ne(),pt(Ca)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=ie('moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.',function(va){va._d=new Date(va._i)}),wt.min=function(){var va=[].slice.call(arguments,0);return ut('isBefore',va)},wt.max=function(){var va=[].slice.call(arguments,0);return ut('isAfter',va)},wt.utc=function(va,wa,xa,ka){var Ca;return'boolean'==typeof xa&&(ka=xa,xa=ee),Ca={},Ca._isAMomentObject=!0,Ca._useUTC=!0,Ca._isUTC=!0,Ca._l=xa,Ca._i=va,Ca._f=wa,Ca._strict=ka,Ca._pf=ne(),pt(Ca).utc()},wt.unix=function(va){return wt(1000*va)},wt.duration=function(va,wa){var xa=va,// matching against regexp is expensive, do it on demand
ka=null,Ca,Ta,Da,Sa;return wt.isDuration(va)?xa={ms:va._milliseconds,d:va._days,M:va._months}:'number'==typeof va?(xa={},wa?xa[wa]=va:xa.milliseconds=va):(ka=zt.exec(va))?(Ca='-'===ka[1]?-1:1,xa={y:0,d:Se(ka[Nt])*Ca,h:Se(ka[Pt])*Ca,m:Se(ka[Et])*Ca,s:Se(ka[Ot])*Ca,ms:Se(ka[At])*Ca}):(ka=Wt.exec(va))?(Ca='-'===ka[1]?-1:1,Da=function(ja){// We'd normally use ~~inp for this, but unfortunately it also
// converts floats to ints.
// inp may be undefined, so careful calling replace on it.
var Na=ja&&parseFloat(ja.replace(',','.'));// apply sign while we're at it
return(isNaN(Na)?0:Na)*Ca},xa={y:Da(ka[2]),M:Da(ka[3]),d:Da(ka[4]),h:Da(ka[5]),m:Da(ka[6]),s:Da(ka[7]),w:Da(ka[8])}):'object'==typeof xa&&(('from'in xa)||('to'in xa))&&(Sa=be(wt(xa.from),wt(xa.to)),xa={},xa.ms=Sa.milliseconds,xa.M=Sa.months),Ta=new pe(xa),wt.isDuration(va)&&ae(va,'_locale')&&(Ta._locale=va._locale),Ta},wt.version='2.8.2',wt.defaultFormat='YYYY-MM-DDTHH:mm:ssZ',wt.ISO_8601=function(){},wt.momentProperties=Lt,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(va,wa){return ga[va]!==ee&&(wa===ee?ga[va]:(ga[va]=wa,!0))},wt.lang=ie('moment.lang is deprecated. Use moment.locale instead.',function(va,wa){return wt.locale(va,wa)}),wt.locale=function(va,wa){var xa;return va&&(xa='undefined'==typeof wa?wt.localeData(va):wt.defineLocale(va,wa),xa&&(wt.duration._locale=wt._locale=xa)),wt._locale._abbr},wt.defineLocale=function(va,wa){return null===wa?(delete It[va],null):(wa.abbr=va,It[va]||(It[va]=new de),It[va].set(wa),wt.locale(va),It[va])},wt.langData=ie('moment.langData is deprecated. Use moment.localeData instead.',function(va){return wt.localeData(va)}),wt.localeData=function(va){var wa;if(va&&va._locale&&va._locale._abbr&&(va=va._locale._abbr),!va)return wt._locale;if(!we(va)){if(wa=He(va),wa)return wa;va=[va]}return Le(va)},wt.isMoment=function(va){return va instanceof ce||null!=va&&ae(va,'_isAMomentObject')},wt.isDuration=function(va){return va instanceof pe},Dt=_a.length-1;0<=Dt;--Dt)De(_a[Dt]);for(Dt in wt.normalizeUnits=function(va){return Ce(va)},wt.invalid=function(va){var wa=wt.utc(NaN);return null==va?wa._pf.userInvalidated=!0:ue(wa._pf,va),wa},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(va){return Se(va)+(68<Se(va)?1900:2000)},ue(wt.fn=ce.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d+60000*(this._offset||0)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var va=wt(this).utc();return 0<va.year()&&9999>=va.year()?Re(va,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]'):Re(va,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]')},toArray:function(){var va=this;return[va.year(),va.month(),va.date(),va.hours(),va.minutes(),va.seconds(),va.milliseconds()]},isValid:function(){return Ae(this)},isDSTShifted:function(){return!!this._a&&this.isValid()&&0<ke(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())},parsingFlags:function(){return ue({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(va){return this.zone(0,va)},local:function(va){return this._isUTC&&(this.zone(0,va),this._isUTC=!1,va&&this.add(this._d.getTimezoneOffset(),'m')),this},format:function(va){var wa=Re(this,va||wt.defaultFormat);return this.localeData().postformat(wa)},add:_e(1,'add'),subtract:_e(-1,'subtract'),diff:function(va,wa,xa){var ka=Me(va,this),Ca=60000*(this.zone()-ka.zone()),Ta,Da;return wa=Ce(wa),'year'===wa||'month'===wa?(Ta=43200000*(this.daysInMonth()+ka.daysInMonth()),Da=12*(this.year()-ka.year())+(this.month()-ka.month()),Da+=(this-wt(this).startOf('month')-(ka-wt(ka).startOf('month')))/Ta,Da-=60000*(this.zone()-wt(this).startOf('month').zone()-(ka.zone()-wt(ka).startOf('month').zone()))/Ta,'year'==wa&&(Da=Da/12)):(Ta=this-ka,Da='second'===wa?Ta/1000:// 1000
'minute'===wa?Ta/60000:// 1000 * 60
'hour'===wa?Ta/3600000:// 1000 * 60 * 60
'day'===wa?(Ta-Ca)/86400000:// 1000 * 60 * 60 * 24, negate dst
'week'===wa?(Ta-Ca)/604800000:// 1000 * 60 * 60 * 24 * 7, negate dst
Ta),xa?Da:ge(Da)},from:function(va,wa){return wt.duration({to:this,from:va}).locale(this.locale()).humanize(!wa)},fromNow:function(va){return this.from(wt(),va)},calendar:function(va){// We want to compare the start of today, vs this.
// Getting start-of-today depends on whether we're zone'd or not.
var wa=va||wt(),xa=Me(wa,this).startOf('day'),ka=this.diff(xa,'days',!0),Ca=-6>ka?'sameElse':-1>ka?'lastWeek':0>ka?'lastDay':1>ka?'sameDay':2>ka?'nextDay':7>ka?'nextWeek':'sameElse';return this.format(this.localeData().calendar(Ca,this))},isLeapYear:function(){return Ee(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(va){var wa=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==va?wa:(va=it(va,this.localeData()),this.add(va-wa,'d'))},month:ft('Month',!0),startOf:function(va){// the following switch intentionally omits break keywords
// to utilize falling through the cases.
switch(va=Ce(va),va){case'year':this.month(0);/* falls through */case'quarter':case'month':this.date(1);/* falls through */case'week':case'isoWeek':case'day':this.hours(0);/* falls through */case'hour':this.minutes(0);/* falls through */case'minute':this.seconds(0);/* falls through */case'second':this.milliseconds(0);/* falls through */}// weeks are a special case
return'week'===va?this.weekday(0):'isoWeek'==va&&this.isoWeekday(1),'quarter'===va&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(va){return va=Ce(va),this.startOf(va).add(1,'isoWeek'===va?'week':va).subtract(1,'ms')},isAfter:function(va,wa){return wa='undefined'==typeof wa?'millisecond':wa,+this.clone().startOf(wa)>+wt(va).startOf(wa)},isBefore:function(va,wa){return wa='undefined'==typeof wa?'millisecond':wa,+this.clone().startOf(wa)<+wt(va).startOf(wa)},isSame:function(va,wa){return wa=wa||'ms',+this.clone().startOf(wa)==+Me(va,this).startOf(wa)},min:ie('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(va){return va=wt.apply(null,arguments),va<this?this:va}),max:ie('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(va){return va=wt.apply(null,arguments),va>this?this:va}),// keepLocalTime = true means only change the timezone, without
// affecting the local hour. So 5:31:26 +0300 --[zone(2, true)]-->
// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist int zone
// +0200, so we adjust the time as needed, to be valid.
//
// Keeping the time actually adds/subtracts (one hour)
// from the actual represented time. That is why we call updateOffset
// a second time. In case it wants us to change the offset again
// _changeInProgress == true case, then we have to adjust, because
// there is no such time in the given timezone.
zone:function(va,wa){var xa=this._offset||0,ka;if(null!=va)'string'==typeof va&&(va=qe(va)),16>Math.abs(va)&&(va=60*va),!this._isUTC&&wa&&(ka=this._d.getTimezoneOffset()),this._offset=va,this._isUTC=!0,null!=ka&&this.subtract(ka,'m'),xa!==va&&(!wa||this._changeInProgress?ve(this,wt.duration(xa-va,'m'),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?xa:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?'UTC':''},zoneName:function(){return this._isUTC?'Coordinated Universal Time':''},parseZone:function(){return this._tzm?this.zone(this._tzm):'string'==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(va){return va=va?wt(va).zone():0,0==(this.zone()-va)%60},daysInMonth:function(){return je(this.year(),this.month())},dayOfYear:function(va){var wa=Ct((wt(this).startOf('day')-wt(this).startOf('year'))/86400000)+1;return null==va?wa:this.add(va-wa,'d')},quarter:function(va){return null==va?Math.ceil((this.month()+1)/3):this.month(3*(va-1)+this.month()%3)},weekYear:function(va){var wa=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==va?wa:this.add(va-wa,'y')},isoWeekYear:function(va){var wa=lt(this,1,4).year;return null==va?wa:this.add(va-wa,'y')},week:function(va){var wa=this.localeData().week(this);return null==va?wa:this.add(7*(va-wa),'d')},isoWeek:function(va){var wa=lt(this,1,4).week;return null==va?wa:this.add(7*(va-wa),'d')},weekday:function(va){var wa=(this.day()+7-this.localeData()._week.dow)%7;return null==va?wa:this.add(va-wa,'d')},isoWeekday:function(va){// behaves the same as moment#day except
// as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
// as a setter, sunday should belong to the previous week.
return null==va?this.day()||7:this.day(this.day()%7?va:va-7)},isoWeeksInYear:function(){return Ne(this.year(),1,4)},weeksInYear:function(){var va=this.localeData()._week;return Ne(this.year(),va.dow,va.doy)},get:function(va){return va=Ce(va),this[va]()},set:function(va,wa){return va=Ce(va),'function'==typeof this[va]&&this[va](wa),this},// If passed a locale key, it will set the locale for this
// instance.  Otherwise, it will return the locale configuration
// variables for this instance.
locale:function(va){return va===ee?this._locale._abbr:(this._locale=wt.localeData(va),this)},lang:ie('moment().lang() is deprecated. Use moment().localeData() instead.',function(va){return va===ee?this.localeData():(this._locale=wt.localeData(va),this)}),localeData:function(){return this._locale}}),wt.fn.millisecond=wt.fn.milliseconds=ft('Milliseconds',!1),wt.fn.second=wt.fn.seconds=ft('Seconds',!1),wt.fn.minute=wt.fn.minutes=ft('Minutes',!1),wt.fn.hour=wt.fn.hours=ft('Hours',!0),wt.fn.date=ft('Date',!0),wt.fn.dates=ie('dates accessor is deprecated. Use date instead.',ft('Date',!0)),wt.fn.year=ft('FullYear',!0),wt.fn.years=ie('years accessor is deprecated. Use year instead.',ft('FullYear',!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,ue(wt.duration.fn=pe.prototype,{_bubble:function(){var va=this._milliseconds,wa=this._days,xa=this._months,ka=this._data,Sa=0,Ca,Ta,Da;// The following code bubbles up values, see the tests for
// examples of what that means.
ka.milliseconds=va%1000,Ca=ge(va/1000),ka.seconds=Ca%60,Ta=ge(Ca/60),ka.minutes=Ta%60,Da=ge(Ta/60),ka.hours=Da%24,wa+=ge(Da/24),Sa=ge(yt(wa)),wa-=ge(bt(Sa)),xa+=ge(wa/30),wa%=30,Sa+=ge(xa/12),xa%=12,ka.days=wa,ka.months=xa,ka.years=Sa},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return ge(this.days()/7)},valueOf:function(){return this._milliseconds+86400000*this._days+2592000000*(this._months%12)+31536000000*Se(this._months/12)},humanize:function(va){var wa=rt(this,!va,this.localeData());return va&&(wa=this.localeData().pastFuture(+this,wa)),this.localeData().postformat(wa)},add:function(va,wa){// supports only 2.0-style add(1, 's') or add(moment)
var xa=wt.duration(va,wa);return this._milliseconds+=xa._milliseconds,this._days+=xa._days,this._months+=xa._months,this._bubble(),this},subtract:function(va,wa){var xa=wt.duration(va,wa);return this._milliseconds-=xa._milliseconds,this._days-=xa._days,this._months-=xa._months,this._bubble(),this},get:function(va){return va=Ce(va),this[va.toLowerCase()+'s']()},as:function(va){var wa,xa;if(va=Ce(va),wa=this._days+this._milliseconds/86400000,'month'===va||'year'===va)return xa=this._months+12*yt(wa),'month'===va?xa:xa/12;switch(wa+=bt(this._months/12),va){case'week':return wa/7;case'day':return wa;case'hour':return 24*wa;case'minute':return 60*(24*wa);case'second':return 60*(60*(24*wa));case'millisecond':return 1000*(60*(60*(24*wa)));default:throw new Error('Unknown unit '+va);}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:ie('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',function(){return this.toISOString()}),toISOString:function(){// inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
var va=Math.abs(this.years()),wa=Math.abs(this.months()),xa=Math.abs(this.days()),ka=Math.abs(this.hours()),Ca=Math.abs(this.minutes()),Ta=Math.abs(this.seconds()+this.milliseconds()/1000);return this.asSeconds()?(0>this.asSeconds()?'-':'')+'P'+(va?va+'Y':'')+(wa?wa+'M':'')+(xa?xa+'D':'')+(ka||Ca||Ta?'T':'')+(ka?ka+'H':'')+(Ca?Ca+'M':'')+(Ta?Ta+'S':''):'P0D'},localeData:function(){return this._locale}}),wt.duration.fn.toString=wt.duration.fn.toISOString,ca)ae(ca,Dt)&&_t(Dt.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as('ms')},wt.duration.fn.asSeconds=function(){return this.as('s')},wt.duration.fn.asMinutes=function(){return this.as('m')},wt.duration.fn.asHours=function(){return this.as('h')},wt.duration.fn.asDays=function(){return this.as('d')},wt.duration.fn.asWeeks=function(){return this.as('weeks')},wt.duration.fn.asMonths=function(){return this.as('M')},wt.duration.fn.asYears=function(){return this.as('y')},wt.locale('en',{ordinal:function(va){var wa=va%10,xa=1===Se(va%100/10)?'th':1==wa?'st':2==wa?'nd':3==wa?'rd':'th';return va+xa}}),Ht?module.exports=wt:'function'==typeof define&&define.amd?(define('moment',function(va,wa,xa){return xa.config&&xa.config()&&!0===xa.config().noGlobal&&(xt.moment=kt),wt}),vt(!0)):vt()}.call(this),function(){// Baseline setup
// --------------
// Establish the root object, `window` in the browser, or `exports` on the server.
var ee=this,te=ee._,ae=Array.prototype,ne=Object.prototype,oe=Function.prototype,ie=ae.push,se=ae.slice,re=ae.concat,le=ne.toString,de=ne.hasOwnProperty,ce=Array.isArray,pe=Object.keys,ue=oe.bind,he=function(Pe){return Pe instanceof he?Pe:this instanceof he?void(this._wrapped=Pe):new he(Pe)};// Save the previous value of the `_` variable.
// Save bytes in the minified (but not gzipped) version:
// Create quick reference variables for speed access to core prototypes.
// All **ECMAScript 5** native function implementations that we hope to use
// are declared here.
// Create a safe reference to the Underscore object for use below.
// Export the Underscore object for **Node.js**, with
// backwards-compatibility for the old `require()` API. If we're in
// the browser, add `_` as a global object.
'undefined'==typeof exports?ee._=he:('undefined'!=typeof module&&module.exports&&(exports=module.exports=he),exports._=he),he.VERSION='1.7.0';// Internal function that returns an efficient (for current engines) version
// of the passed-in callback, to be repeatedly applied in other Underscore
// functions.
var ge=function(Pe,Ee,Oe){if(void 0===Ee)return Pe;switch(null==Oe?3:Oe){case 1:return function(Ae){return Pe.call(Ee,Ae)};case 2:return function(Ae,Ie){return Pe.call(Ee,Ae,Ie)};case 3:return function(Ae,Ie,Le){return Pe.call(Ee,Ae,Ie,Le)};case 4:return function(Ae,Ie,Le,He){return Pe.call(Ee,Ae,Ie,Le,He)};}return function(){return Pe.apply(Ee,arguments)}};// A mostly-internal function to generate callbacks that can be applied
// to each element in a collection, returning the desired result â€” either
// identity, an arbitrary callback, a property matcher, or a property accessor.
he.iteratee=function(Pe,Ee,Oe){return null==Pe?he.identity:he.isFunction(Pe)?ge(Pe,Ee,Oe):he.isObject(Pe)?he.matches(Pe):he.property(Pe)},he.each=he.forEach=function(Pe,Ee,Oe){if(null==Pe)return Pe;Ee=ge(Ee,Oe);var Ie=Pe.length,Ae;if(Ie===+Ie)for(Ae=0;Ae<Ie;Ae++)Ee(Pe[Ae],Ae,Pe);else{var Le=he.keys(Pe);for(Ae=0,Ie=Le.length;Ae<Ie;Ae++)Ee(Pe[Le[Ae]],Le[Ae],Pe)}return Pe},he.map=he.collect=function(Pe,Ee,Oe){if(null==Pe)return[];Ee=he.iteratee(Ee,Oe);var Ae=Pe.length!==+Pe.length&&he.keys(Pe),Ie=(Ae||Pe).length,Le=Array(Ie),He;for(var Me=0;Me<Ie;Me++)He=Ae?Ae[Me]:Me,Le[Me]=Ee(Pe[He],He,Pe);return Le};var fe='Reduce of empty array with no initial value';// **Reduce** builds up a single result from a list of values, aka `inject`,
// or `foldl`.
he.reduce=he.foldl=he.inject=function(Pe,Ee,Oe,Ae){null==Pe&&(Pe=[]),Ee=ge(Ee,Ae,4);var Ie=Pe.length!==+Pe.length&&he.keys(Pe),Le=(Ie||Pe).length,He=0,Me;if(3>arguments.length){if(!Le)throw new TypeError(fe);Oe=Pe[Ie?Ie[He++]:He++]}for(;He<Le;He++)Me=Ie?Ie[He]:He,Oe=Ee(Oe,Pe[Me],Me,Pe);return Oe},he.reduceRight=he.foldr=function(Pe,Ee,Oe,Ae){null==Pe&&(Pe=[]),Ee=ge(Ee,Ae,4);var Ie=Pe.length!==+Pe.length&&he.keys(Pe),Le=(Ie||Pe).length,He;if(3>arguments.length){if(!Le)throw new TypeError(fe);Oe=Pe[Ie?Ie[--Le]:--Le]}for(;Le--;)He=Ie?Ie[Le]:Le,Oe=Ee(Oe,Pe[He],He,Pe);return Oe},he.find=he.detect=function(Pe,Ee,Oe){var Ae;return Ee=he.iteratee(Ee,Oe),he.some(Pe,function(Ie,Le,He){if(Ee(Ie,Le,He))return Ae=Ie,!0}),Ae},he.filter=he.select=function(Pe,Ee,Oe){var Ae=[];return null==Pe?Ae:(Ee=he.iteratee(Ee,Oe),he.each(Pe,function(Ie,Le,He){Ee(Ie,Le,He)&&Ae.push(Ie)}),Ae)},he.reject=function(Pe,Ee,Oe){return he.filter(Pe,he.negate(he.iteratee(Ee)),Oe)},he.every=he.all=function(Pe,Ee,Oe){if(null==Pe)return!0;Ee=he.iteratee(Ee,Oe);var Ae=Pe.length!==+Pe.length&&he.keys(Pe),Ie=(Ae||Pe).length,Le,He;for(Le=0;Le<Ie;Le++)if(He=Ae?Ae[Le]:Le,!Ee(Pe[He],He,Pe))return!1;return!0},he.some=he.any=function(Pe,Ee,Oe){if(null==Pe)return!1;Ee=he.iteratee(Ee,Oe);var Ae=Pe.length!==+Pe.length&&he.keys(Pe),Ie=(Ae||Pe).length,Le,He;for(Le=0;Le<Ie;Le++)if(He=Ae?Ae[Le]:Le,Ee(Pe[He],He,Pe))return!0;return!1},he.contains=he.include=function(Pe,Ee){return null!=Pe&&(Pe.length!==+Pe.length&&(Pe=he.values(Pe)),0<=he.indexOf(Pe,Ee))},he.invoke=function(Pe,Ee){var Oe=se.call(arguments,2),Ae=he.isFunction(Ee);return he.map(Pe,function(Ie){return(Ae?Ee:Ie[Ee]).apply(Ie,Oe)})},he.pluck=function(Pe,Ee){return he.map(Pe,he.property(Ee))},he.where=function(Pe,Ee){return he.filter(Pe,he.matches(Ee))},he.findWhere=function(Pe,Ee){return he.find(Pe,he.matches(Ee))},he.max=function(Pe,Ee,Oe){var Ae=-(1/0),Ie=-(1/0),Le,He;if(null==Ee&&null!=Pe){Pe=Pe.length===+Pe.length?Pe:he.values(Pe);for(var Me=0,ze=Pe.length;Me<ze;Me++)Le=Pe[Me],Le>Ae&&(Ae=Le)}else Ee=he.iteratee(Ee,Oe),he.each(Pe,function(We,Re,Ye){He=Ee(We,Re,Ye),(He>Ie||He===-(1/0)&&Ae==-(1/0))&&(Ae=We,Ie=He)});return Ae},he.min=function(Pe,Ee,Oe){var Ae=1/0,Ie=1/0,Le,He;if(null==Ee&&null!=Pe){Pe=Pe.length===+Pe.length?Pe:he.values(Pe);for(var Me=0,ze=Pe.length;Me<ze;Me++)Le=Pe[Me],Le<Ae&&(Ae=Le)}else Ee=he.iteratee(Ee,Oe),he.each(Pe,function(We,Re,Ye){He=Ee(We,Re,Ye),(He<Ie||He===1/0&&Ae==1/0)&&(Ae=We,Ie=He)});return Ae},he.shuffle=function(Pe){var Ee=Pe&&Pe.length===+Pe.length?Pe:he.values(Pe),Oe=Ee.length,Ae=Array(Oe);for(var Ie=0,Le;Ie<Oe;Ie++)Le=he.random(0,Ie),Le!==Ie&&(Ae[Ie]=Ae[Le]),Ae[Le]=Ee[Ie];return Ae},he.sample=function(Pe,Ee,Oe){return null==Ee||Oe?(Pe.length!==+Pe.length&&(Pe=he.values(Pe)),Pe[he.random(Pe.length-1)]):he.shuffle(Pe).slice(0,Math.max(0,Ee))},he.sortBy=function(Pe,Ee,Oe){return Ee=he.iteratee(Ee,Oe),he.pluck(he.map(Pe,function(Ae,Ie,Le){return{value:Ae,index:Ie,criteria:Ee(Ae,Ie,Le)}}).sort(function(Ae,Ie){var Le=Ae.criteria,He=Ie.criteria;if(Le!==He){if(Le>He||void 0===Le)return 1;if(Le<He||void 0===He)return-1}return Ae.index-Ie.index}),'value')};// An internal function used for aggregate "group by" operations.
var ye=function(Pe){return function(Ee,Oe,Ae){var Ie={};return Oe=he.iteratee(Oe,Ae),he.each(Ee,function(Le,He){var Me=Oe(Le,He,Ee);Pe(Ie,Le,Me)}),Ie}};// Groups the object's values by a criterion. Pass either a string attribute
// to group by, or a function that returns the criterion.
he.groupBy=ye(function(Pe,Ee,Oe){he.has(Pe,Oe)?Pe[Oe].push(Ee):Pe[Oe]=[Ee]}),he.indexBy=ye(function(Pe,Ee,Oe){Pe[Oe]=Ee}),he.countBy=ye(function(Pe,Ee,Oe){he.has(Pe,Oe)?Pe[Oe]++:Pe[Oe]=1}),he.sortedIndex=function(Pe,Ee,Oe,Ae){Oe=he.iteratee(Oe,Ae,1);for(var Ie=Oe(Ee),Le=0,He=Pe.length;Le<He;){var Me=Le+He>>>1;Oe(Pe[Me])<Ie?Le=Me+1:He=Me}return Le},he.toArray=function(Pe){return Pe?he.isArray(Pe)?se.call(Pe):Pe.length===+Pe.length?he.map(Pe,he.identity):he.values(Pe):[]},he.size=function(Pe){return null==Pe?0:Pe.length===+Pe.length?Pe.length:he.keys(Pe).length},he.partition=function(Pe,Ee,Oe){Ee=he.iteratee(Ee,Oe);var Ae=[],Ie=[];return he.each(Pe,function(Le,He,Me){(Ee(Le,He,Me)?Ae:Ie).push(Le)}),[Ae,Ie]},he.first=he.head=he.take=function(Pe,Ee,Oe){return null==Pe?void 0:null==Ee||Oe?Pe[0]:0>Ee?[]:se.call(Pe,0,Ee)},he.initial=function(Pe,Ee,Oe){return se.call(Pe,0,Math.max(0,Pe.length-(null==Ee||Oe?1:Ee)))},he.last=function(Pe,Ee,Oe){return null==Pe?void 0:null==Ee||Oe?Pe[Pe.length-1]:se.call(Pe,Math.max(Pe.length-Ee,0))},he.rest=he.tail=he.drop=function(Pe,Ee,Oe){return se.call(Pe,null==Ee||Oe?1:Ee)},he.compact=function(Pe){return he.filter(Pe,he.identity)};// Internal implementation of a recursive `flatten` function.
var be=function(Pe,Ee,Oe,Ae){if(Ee&&he.every(Pe,he.isArray))return re.apply(Ae,Pe);for(var Ie=0,Le=Pe.length;Ie<Le;Ie++){var He=Pe[Ie];he.isArray(He)||he.isArguments(He)?Ee?ie.apply(Ae,He):be(He,Ee,Oe,Ae):!Oe&&Ae.push(He)}return Ae};// Flatten out an array, either recursively (by default), or just one level.
he.flatten=function(Pe,Ee){return be(Pe,Ee,!1,[])},he.without=function(Pe){return he.difference(Pe,se.call(arguments,1))},he.uniq=he.unique=function(Pe,Ee,Oe,Ae){if(null==Pe)return[];he.isBoolean(Ee)||(Ae=Oe,Oe=Ee,Ee=!1),null!=Oe&&(Oe=he.iteratee(Oe,Ae));var Ie=[],Le=[];for(var He=0,Me=Pe.length;He<Me;He++){var ze=Pe[He];if(Ee)He&&Le===ze||Ie.push(ze),Le=ze;else if(Oe){var We=Oe(ze,He,Pe);0>he.indexOf(Le,We)&&(Le.push(We),Ie.push(ze))}else 0>he.indexOf(Ie,ze)&&Ie.push(ze)}return Ie},he.union=function(){return he.uniq(be(arguments,!0,!0,[]))},he.intersection=function(Pe){if(null==Pe)return[];var Ee=[],Oe=arguments.length;for(var Ae=0,Ie=Pe.length;Ae<Ie;Ae++){var Le=Pe[Ae];if(!he.contains(Ee,Le)){for(var He=1;He<Oe&&!!he.contains(arguments[He],Le);He++);He===Oe&&Ee.push(Le)}}return Ee},he.difference=function(Pe){var Ee=be(se.call(arguments,1),!0,!0,[]);return he.filter(Pe,function(Oe){return!he.contains(Ee,Oe)})},he.zip=function(Pe){if(null==Pe)return[];var Ee=he.max(arguments,'length').length,Oe=Array(Ee);for(var Ae=0;Ae<Ee;Ae++)Oe[Ae]=he.pluck(arguments,Ae);return Oe},he.object=function(Pe,Ee){if(null==Pe)return{};var Oe={};for(var Ae=0,Ie=Pe.length;Ae<Ie;Ae++)Ee?Oe[Pe[Ae]]=Ee[Ae]:Oe[Pe[Ae][0]]=Pe[Ae][1];return Oe},he.indexOf=function(Pe,Ee,Oe){if(null==Pe)return-1;var Ae=0,Ie=Pe.length;if(Oe)if('number'==typeof Oe)Ae=0>Oe?Math.max(0,Ie+Oe):Oe;else return Ae=he.sortedIndex(Pe,Ee),Pe[Ae]===Ee?Ae:-1;for(;Ae<Ie;Ae++)if(Pe[Ae]===Ee)return Ae;return-1},he.lastIndexOf=function(Pe,Ee,Oe){if(null==Pe)return-1;var Ae=Pe.length;for('number'==typeof Oe&&(Ae=0>Oe?Ae+Oe+1:Math.min(Ae,Oe+1));0<=--Ae;)if(Pe[Ae]===Ee)return Ae;return-1},he.range=function(Pe,Ee,Oe){1>=arguments.length&&(Ee=Pe||0,Pe=0),Oe=Oe||1;var Ae=Math.max(Math.ceil((Ee-Pe)/Oe),0),Ie=Array(Ae);for(var Le=0;Le<Ae;Le++,Pe+=Oe)Ie[Le]=Pe;return Ie};// Function (ahem) Functions
// ------------------
// Reusable constructor function for prototype setting.
var _e=function(){};// Create a function bound to a given object (assigning `this`, and arguments,
// optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
// available.
he.bind=function(Pe,Ee){var Oe,Ae;if(ue&&Pe.bind===ue)return ue.apply(Pe,se.call(arguments,1));if(!he.isFunction(Pe))throw new TypeError('Bind must be called on a function');return Oe=se.call(arguments,2),Ae=function(){if(!(this instanceof Ae))return Pe.apply(Ee,Oe.concat(se.call(arguments)));_e.prototype=Pe.prototype;var Ie=new _e;_e.prototype=null;var Le=Pe.apply(Ie,Oe.concat(se.call(arguments)));return he.isObject(Le)?Le:Ie},Ae},he.partial=function(Pe){var Ee=se.call(arguments,1);return function(){var Oe=0,Ae=Ee.slice();for(var Ie=0,Le=Ae.length;Ie<Le;Ie++)Ae[Ie]===he&&(Ae[Ie]=arguments[Oe++]);for(;Oe<arguments.length;)Ae.push(arguments[Oe++]);return Pe.apply(this,Ae)}},he.bindAll=function(Pe){var Oe=arguments.length,Ee,Ae;if(1>=Oe)throw new Error('bindAll must be passed function names');for(Ee=1;Ee<Oe;Ee++)Ae=arguments[Ee],Pe[Ae]=he.bind(Pe[Ae],Pe);return Pe},he.memoize=function(Pe,Ee){var Oe=function(Ae){var Ie=Oe.cache,Le=Ee?Ee.apply(this,arguments):Ae;return he.has(Ie,Le)||(Ie[Le]=Pe.apply(this,arguments)),Ie[Le]};return Oe.cache={},Oe},he.delay=function(Pe,Ee){var Oe=se.call(arguments,2);return setTimeout(function(){return Pe.apply(null,Oe)},Ee)},he.defer=function(Pe){return he.delay.apply(he,[Pe,1].concat(se.call(arguments,1)))},he.throttle=function(Pe,Ee,Oe){var Ae,Ie,Le,He=null,Me=0;Oe||(Oe={});var ze=function(){Me=!1===Oe.leading?0:he.now(),He=null,Le=Pe.apply(Ae,Ie),He||(Ae=Ie=null)};return function(){var We=he.now();Me||!1!==Oe.leading||(Me=We);var Re=Ee-(We-Me);return Ae=this,Ie=arguments,0>=Re||Re>Ee?(clearTimeout(He),He=null,Me=We,Le=Pe.apply(Ae,Ie),!He&&(Ae=Ie=null)):!He&&!1!==Oe.trailing&&(He=setTimeout(ze,Re)),Le}},he.debounce=function(Pe,Ee,Oe){var Ae,Ie,Le,He,Me,ze=function(){var We=he.now()-He;We<Ee&&0<We?Ae=setTimeout(ze,Ee-We):(Ae=null,!Oe&&(Me=Pe.apply(Le,Ie),!Ae&&(Le=Ie=null)))};return function(){Le=this,Ie=arguments,He=he.now();var We=Oe&&!Ae;return Ae||(Ae=setTimeout(ze,Ee)),We&&(Me=Pe.apply(Le,Ie),Le=Ie=null),Me}},he.wrap=function(Pe,Ee){return he.partial(Ee,Pe)},he.negate=function(Pe){return function(){return!Pe.apply(this,arguments)}},he.compose=function(){var Pe=arguments,Ee=Pe.length-1;return function(){for(var Oe=Ee,Ae=Pe[Ee].apply(this,arguments);Oe--;)Ae=Pe[Oe].call(this,Ae);return Ae}},he.after=function(Pe,Ee){return function(){if(1>--Pe)return Ee.apply(this,arguments)}},he.before=function(Pe,Ee){var Oe;return function(){return 0<--Pe?Oe=Ee.apply(this,arguments):Ee=null,Oe}},he.once=he.partial(he.before,2),he.keys=function(Pe){if(!he.isObject(Pe))return[];if(pe)return pe(Pe);var Ee=[];for(var Oe in Pe)he.has(Pe,Oe)&&Ee.push(Oe);return Ee},he.values=function(Pe){var Ee=he.keys(Pe),Oe=Ee.length,Ae=Array(Oe);for(var Ie=0;Ie<Oe;Ie++)Ae[Ie]=Pe[Ee[Ie]];return Ae},he.pairs=function(Pe){var Ee=he.keys(Pe),Oe=Ee.length,Ae=Array(Oe);for(var Ie=0;Ie<Oe;Ie++)Ae[Ie]=[Ee[Ie],Pe[Ee[Ie]]];return Ae},he.invert=function(Pe){var Ee={},Oe=he.keys(Pe);for(var Ae=0,Ie=Oe.length;Ae<Ie;Ae++)Ee[Pe[Oe[Ae]]]=Oe[Ae];return Ee},he.functions=he.methods=function(Pe){var Ee=[];for(var Oe in Pe)he.isFunction(Pe[Oe])&&Ee.push(Oe);return Ee.sort()},he.extend=function(Pe){if(!he.isObject(Pe))return Pe;var Ee,Oe;for(var Ae=1,Ie=arguments.length;Ae<Ie;Ae++)for(Oe in Ee=arguments[Ae],Ee)de.call(Ee,Oe)&&(Pe[Oe]=Ee[Oe]);return Pe},he.pick=function(Pe,Ee,Oe){var Ae={},Ie;if(null==Pe)return Ae;if(he.isFunction(Ee))for(Ie in Ee=ge(Ee,Oe),Pe){var Le=Pe[Ie];Ee(Le,Ie,Pe)&&(Ae[Ie]=Le)}else{var He=re.apply([],se.call(arguments,1));Pe=Object(Pe);for(var Me=0,ze=He.length;Me<ze;Me++)Ie=He[Me],Ie in Pe&&(Ae[Ie]=Pe[Ie])}return Ae},he.omit=function(Pe,Ee,Oe){if(he.isFunction(Ee))Ee=he.negate(Ee);else{var Ae=he.map(re.apply([],se.call(arguments,1)),String);Ee=function(Ie,Le){return!he.contains(Ae,Le)}}return he.pick(Pe,Ee,Oe)},he.defaults=function(Pe){if(!he.isObject(Pe))return Pe;for(var Ee=1,Oe=arguments.length;Ee<Oe;Ee++){var Ae=arguments[Ee];for(var Ie in Ae)void 0===Pe[Ie]&&(Pe[Ie]=Ae[Ie])}return Pe},he.clone=function(Pe){return he.isObject(Pe)?he.isArray(Pe)?Pe.slice():he.extend({},Pe):Pe},he.tap=function(Pe,Ee){return Ee(Pe),Pe};// Internal recursive comparison function for `isEqual`.
var ve=function(Pe,Ee,Oe,Ae){// Identical objects are equal. `0 === -0`, but they aren't identical.
// See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
if(Pe===Ee)return 0!==Pe||1/Pe==1/Ee;// A strict comparison is necessary because `null == undefined`.
if(null==Pe||null==Ee)return Pe===Ee;// Unwrap any wrapped objects.
Pe instanceof he&&(Pe=Pe._wrapped),Ee instanceof he&&(Ee=Ee._wrapped);// Compare `[[Class]]` names.
var Ie=le.call(Pe);if(Ie!==le.call(Ee))return!1;switch(Ie){// Strings, numbers, regular expressions, dates, and booleans are compared by value.
case'[object RegExp]':// RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
case'[object String]':// Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
// equivalent to `new String("5")`.
return''+Pe==''+Ee;case'[object Number]':// `NaN`s are equivalent, but non-reflexive.
// Object(NaN) is equivalent to NaN
return+Pe==+Pe?0==+Pe?1/+Pe==1/Ee:+Pe==+Ee:+Ee!=+Ee;// An `egal` comparison is performed for other numeric values.
case'[object Date]':case'[object Boolean]':// Coerce dates and booleans to numeric primitive values. Dates are compared by their
// millisecond representations. Note that invalid dates with millisecond representations
// of `NaN` are not equivalent.
return+Pe==+Ee;}if('object'!=typeof Pe||'object'!=typeof Ee)return!1;// Assume equality for cyclic structures. The algorithm for detecting cyclic
// structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
for(var Le=Oe.length;Le--;)// Linear search. Performance is inversely proportional to the number of
// unique nested structures.
if(Oe[Le]===Pe)return Ae[Le]===Ee;// Objects with different constructors are not equivalent, but `Object`s
// from different frames are.
var He=Pe.constructor,Me=Ee.constructor;if(He!==Me&&// Handle Object.create(x) cases
'constructor'in Pe&&'constructor'in Ee&&!(he.isFunction(He)&&He instanceof He&&he.isFunction(Me)&&Me instanceof Me))return!1;// Add the first object to the stack of traversed objects.
Oe.push(Pe),Ae.push(Ee);var ze,We;// Recursively compare objects and arrays.
if('[object Array]'!==Ie){// Deep compare objects.
var Re=he.keys(Pe),Ye;if(ze=Re.length,We=he.keys(Ee).length===ze,We)for(;ze--&&(Ye=Re[ze],!!(We=he.has(Ee,Ye)&&ve(Pe[Ye],Ee[Ye],Oe,Ae))););}else if(ze=Pe.length,We=ze===Ee.length,We)// Deep compare the contents, ignoring non-numeric properties.
for(;ze--&&!!(We=ve(Pe[ze],Ee[ze],Oe,Ae)););// Remove the first object from the stack of traversed objects.
return Oe.pop(),Ae.pop(),We};// Perform a deep comparison to check if two objects are equal.
he.isEqual=function(Pe,Ee){return ve(Pe,Ee,[],[])},he.isEmpty=function(Pe){if(null==Pe)return!0;if(he.isArray(Pe)||he.isString(Pe)||he.isArguments(Pe))return 0===Pe.length;for(var Ee in Pe)if(he.has(Pe,Ee))return!1;return!0},he.isElement=function(Pe){return!!(Pe&&1===Pe.nodeType)},he.isArray=ce||function(Pe){return'[object Array]'===le.call(Pe)},he.isObject=function(Pe){var Ee=typeof Pe;return'function'==Ee||'object'==Ee&&!!Pe},he.each(['Arguments','Function','String','Number','Date','RegExp'],function(Pe){he['is'+Pe]=function(Ee){return le.call(Ee)==='[object '+Pe+']'}}),he.isArguments(arguments)||(he.isArguments=function(Pe){return he.has(Pe,'callee')}),'function'!=typeof /./&&(he.isFunction=function(Pe){return'function'==typeof Pe||!1}),he.isFinite=function(Pe){return isFinite(Pe)&&!isNaN(parseFloat(Pe))},he.isNaN=function(Pe){return he.isNumber(Pe)&&Pe!==+Pe},he.isBoolean=function(Pe){return!0===Pe||!1===Pe||'[object Boolean]'===le.call(Pe)},he.isNull=function(Pe){return null===Pe},he.isUndefined=function(Pe){return void 0===Pe},he.has=function(Pe,Ee){return null!=Pe&&de.call(Pe,Ee)},he.noConflict=function(){return ee._=te,this},he.identity=function(Pe){return Pe},he.constant=function(Pe){return function(){return Pe}},he.noop=function(){},he.property=function(Pe){return function(Ee){return Ee[Pe]}},he.matches=function(Pe){var Ee=he.pairs(Pe),Oe=Ee.length;return function(Ae){if(null==Ae)return!Oe;Ae=Object(Ae);for(var Ie=0;Ie<Oe;Ie++){var Le=Ee[Ie],He=Le[0];if(Le[1]!==Ae[He]||!(He in Ae))return!1}return!0}},he.times=function(Pe,Ee,Oe){var Ae=Array(Math.max(0,Pe));Ee=ge(Ee,Oe,1);for(var Ie=0;Ie<Pe;Ie++)Ae[Ie]=Ee(Ie);return Ae},he.random=function(Pe,Ee){return null==Ee&&(Ee=Pe,Pe=0),Pe+Math.floor(Math.random()*(Ee-Pe+1))},he.now=Date.now||function(){return new Date().getTime()};// List of HTML entities for escaping.
var we={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','`':'&#x60;'},xe=he.invert(we),ke=function(Pe){var Ee=function(Le){return Pe[Le]},Oe='(?:'+he.keys(Pe).join('|')+')',Ae=RegExp(Oe),Ie=RegExp(Oe,'g');// Regexes for identifying a key that needs to be escaped
return function(Le){return Le=null==Le?'':''+Le,Ae.test(Le)?Le.replace(Ie,Ee):Le}};// Functions for escaping and unescaping strings to/from HTML interpolation.
he.escape=ke(we),he.unescape=ke(xe),he.result=function(Pe,Ee){if(null==Pe)return void 0;var Oe=Pe[Ee];return he.isFunction(Oe)?Pe[Ee]():Oe};// Generate a unique integer id (unique within the entire client session).
// Useful for temporary DOM ids.
var Ce=0;he.uniqueId=function(Pe){var Ee=++Ce+'';return Pe?Pe+Ee:Ee},he.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};// When customizing `templateSettings`, if you don't want to define an
// interpolation, evaluation or escaping regex, we need one that is
// guaranteed not to match.
var Te=/(.)^/,De={'\'':'\'','\\':'\\','\r':'r','\n':'n','\u2028':'u2028','\u2029':'u2029'},Se=/\\|'|\r|\n|\u2028|\u2029/g,je=function(Pe){return'\\'+De[Pe]};// Certain characters need to be escaped so that they can be put into a
// string literal.
// JavaScript micro-templating, similar to John Resig's implementation.
// Underscore templating handles arbitrary delimiters, preserves whitespace,
// and correctly escapes quotes within interpolated code.
// NB: `oldSettings` only exists for backwards compatibility.
he.template=function(Pe,Ee,Oe){!Ee&&Oe&&(Ee=Oe),Ee=he.defaults({},Ee,he.templateSettings);// Combine delimiters into one regular expression via alternation.
var Ae=RegExp([(Ee.escape||Te).source,(Ee.interpolate||Te).source,(Ee.evaluate||Te).source].join('|')+'|$','g'),Ie=0,Le='__p+=\'';// Compile the template source, escaping string literals appropriately.
Pe.replace(Ae,function(We,Re,Ye,Fe,qe){// Adobe VMs need the match returned to produce the correct offest.
return Le+=Pe.slice(Ie,qe).replace(Se,je),Ie=qe+We.length,Re?Le+='\'+\n((__t=('+Re+'))==null?\'\':_.escape(__t))+\n\'':Ye?Le+='\'+\n((__t=('+Ye+'))==null?\'\':__t)+\n\'':Fe&&(Le+='\';\n'+Fe+'\n__p+=\''),We}),Le+='\';\n',Ee.variable||(Le='with(obj||{}){\n'+Le+'}\n'),Le='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+Le+'return __p;\n';try{var He=new Function(Ee.variable||'obj','_',Le)}catch(We){throw We.source=Le,We}var Me=function(We){return He.call(this,We,he)},ze=Ee.variable||'obj';// Provide the compiled source as a convenience for precompilation.
return Me.source='function('+ze+'){\n'+Le+'}',Me},he.chain=function(Pe){var Ee=he(Pe);return Ee._chain=!0,Ee};// OOP
// ---------------
// If Underscore is called as a function, it returns a wrapped object that
// can be used OO-style. This wrapper holds altered versions of all the
// underscore functions. Wrapped objects may be chained.
// Helper function to continue chaining intermediate results.
var Ne=function(Pe){return this._chain?he(Pe).chain():Pe};// Add your own custom functions to the Underscore object.
he.mixin=function(Pe){he.each(he.functions(Pe),function(Ee){var Oe=he[Ee]=Pe[Ee];he.prototype[Ee]=function(){var Ae=[this._wrapped];return ie.apply(Ae,arguments),Ne.call(this,Oe.apply(he,Ae))}})},he.mixin(he),he.each(['pop','push','reverse','shift','sort','splice','unshift'],function(Pe){var Ee=ae[Pe];he.prototype[Pe]=function(){var Oe=this._wrapped;return Ee.apply(Oe,arguments),('shift'===Pe||'splice'===Pe)&&0===Oe.length&&delete Oe[0],Ne.call(this,Oe)}}),he.each(['concat','join','slice'],function(Pe){var Ee=ae[Pe];he.prototype[Pe]=function(){return Ne.call(this,Ee.apply(this._wrapped,arguments))}}),he.prototype.value=function(){return this._wrapped},'function'==typeof define&&define.amd&&define('underscore',[],function(){return he})}.call(this),function(ee,te){'object'==typeof module&&'object'==typeof module.exports?module.exports=ee.document?te(ee,!0):function(ae){if(!ae.document)throw new Error('jQuery requires a window with a document');return te(ae)}:te(ee)}('undefined'==typeof window?this:window,function(ee,te){function ae($a){var Ya=$a.length,Fa=et.type($a);return'function'===Fa||et.isWindow($a)?!1:1===$a.nodeType&&Ya||'array'===Fa||0===Ya||'number'==typeof Ya&&0<Ya&&Ya-1 in $a}// Implement the identical functionality for filter and not
function ne($a,Ya,Fa){if(et.isFunction(Ya))return et.grep($a,function(qa,Ba){/* jshint -W018 */return!!Ya.call(qa,Ba,qa)!==Fa});if(Ya.nodeType)return et.grep($a,function(qa){return qa===Ya!==Fa});if('string'==typeof Ya){if(lt.test(Ya))return et.filter(Ya,$a,Fa);Ya=et.filter(Ya,$a)}return et.grep($a,function(qa){return 0<=Ve.call(Ya,qa)!==Fa})}function oe($a,Ya){for(;($a=$a[Ya])&&1!==$a.nodeType;);return $a}// Convert String-formatted options into Object-formatted ones and store in cache
function ie($a){var Ya=ft[$a]={};return et.each($a.match(mt)||[],function(Fa,qa){Ya[qa]=!0}),Ya}/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 *//**
 * The ready event handler and self cleanup method
 */function se(){Qe.removeEventListener('DOMContentLoaded',se,!1),ee.removeEventListener('load',se,!1),et.ready()}function re(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=et.expando+re.uid++}function le($a,Ya,Fa){var qa;// If nothing was found internally, try to fetch any
// data from the HTML5 data-* attribute
if(void 0===Fa&&1===$a.nodeType)if(qa='data-'+Ya.replace(xt,'-$1').toLowerCase(),Fa=$a.getAttribute(qa),'string'==typeof Fa){try{Fa='true'===Fa||'false'!==Fa&&('null'===Fa?null:// Only convert to a number if it doesn't change the string
+Fa+''===Fa?+Fa:wt.test(Fa)?et.parseJSON(Fa):Fa)}catch(Ba){}// Make sure we set the data so it isn't changed later
vt.set($a,Ya,Fa)}else Fa=void 0;return Fa}function de(){return!0}function ce(){return!1}function pe(){try{return Qe.activeElement}catch($a){}}/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */// Support: 1.x compatibility
// Manipulating tables requires a tbody
function ue($a,Ya){return et.nodeName($a,'table')&&et.nodeName(11===Ya.nodeType?Ya.firstChild:Ya,'tr')?$a.getElementsByTagName('tbody')[0]||$a.appendChild($a.ownerDocument.createElement('tbody')):$a}// Replace/restore the type attribute of script elements for safe DOM manipulation
function he($a){return $a.type=(null!==$a.getAttribute('type'))+'/'+$a.type,$a}function ge($a){var Ya=zt.exec($a.type);return Ya?$a.type=Ya[1]:$a.removeAttribute('type'),$a}// Mark scripts as having already been evaluated
function fe($a,Ya){for(var Fa=0,qa=$a.length;Fa<qa;Fa++)_t.set($a[Fa],'globalEval',!Ya||_t.get(Ya[Fa],'globalEval'))}function ye($a,Ya){var Fa,qa,Ba,Ua,Va,Ka,Ga,Xa;if(1===Ya.nodeType){// 1. Copy private data: events, handlers, etc.
if(_t.hasData($a)&&(Ua=_t.access($a),Va=_t.set(Ya,Ua),Xa=Ua.events,Xa))for(Ba in delete Va.handle,Va.events={},Xa)for(Fa=0,qa=Xa[Ba].length;Fa<qa;Fa++)et.event.add(Ya,Ba,Xa[Ba][Fa]);// 2. Copy user data
vt.hasData($a)&&(Ka=vt.access($a),Ga=et.extend({},Ka),vt.set(Ya,Ga))}}function be($a,Ya){var Fa=$a.getElementsByTagName?$a.getElementsByTagName(Ya||'*'):$a.querySelectorAll?$a.querySelectorAll(Ya||'*'):[];return void 0===Ya||Ya&&et.nodeName($a,Ya)?et.merge([$a],Fa):Fa}// Fix IE bugs, see support tests
function _e($a,Ya){var Fa=Ya.nodeName.toLowerCase();// Fails to persist the checked state of a cloned checkbox or radio button.
'input'===Fa&&Dt.test($a.type)?Ya.checked=$a.checked:('input'===Fa||'textarea'===Fa)&&(Ya.defaultValue=$a.defaultValue)}/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */// Called only from within defaultDisplay
function ve($a,Ya){var qa=et(Ya.createElement($a)).appendTo(Ya.body),// getDefaultComputedStyle might be reliably used only on attached element
Ba=ee.getDefaultComputedStyle&&(Fa=ee.getDefaultComputedStyle(qa[0]))?// Use of this method is a temporary fix (more like optimization) until something better comes along,
// since it was removed from specification and supported only in FF
Fa.display:et.css(qa[0],'display'),Fa;// We don't have any data stored on the element,
// so use "detach" method as fast way to get rid of the element
return qa.detach(),Ba}/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */function we($a){var Ya=Qe,Fa=Yt[$a];return Fa||(Fa=ve($a,Ya),('none'===Fa||!Fa)&&($t=($t||et('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(Ya.documentElement),Ya=$t[0].contentDocument,Ya.write(),Ya.close(),Fa=ve($a,Ya),$t.detach()),Yt[$a]=Fa),Fa}function xe($a,Ya,Fa){var Ka=$a.style,qa,Ba,Ua,Va;return Fa=Fa||Bt($a),Fa&&(Va=Fa.getPropertyValue(Ya)||Fa[Ya]),Fa&&(''===Va&&!et.contains($a.ownerDocument,$a)&&(Va=et.style($a,Ya)),qt.test(Va)&&Ft.test(Ya)&&(qa=Ka.width,Ba=Ka.minWidth,Ua=Ka.maxWidth,Ka.minWidth=Ka.maxWidth=Ka.width=Va,Va=Fa.width,Ka.width=qa,Ka.minWidth=Ba,Ka.maxWidth=Ua)),void 0==Va?Va:// Support: IE
// IE returns zIndex value as an integer.
Va+''}function ke($a,Ya){// Define the hook, we'll check on the first run if it's really needed.
return{get:function(){return $a()?void delete this.get:(this.get=Ya).apply(this,arguments);// Hook needed; redefine it so that the support test is not executed again.
}}}// Return a css property mapped to a potentially vendor prefixed property
function Ce($a,Ya){// Shortcut for names that are not vendor prefixed
if(Ya in $a)return Ya;// Check for vendor prefixed names
for(var Fa=Ya[0].toUpperCase()+Ya.slice(1),qa=Ya,Ba=Jt.length;Ba--;)if(Ya=Jt[Ba]+Fa,Ya in $a)return Ya;return qa}function Te($a,Ya,Fa){var qa=Vt.exec(Ya);return qa?// Guard against undefined "subtract", e.g., when used as in cssHooks
Math.max(0,qa[1]-(Fa||0))+(qa[2]||'px'):Ya}function De($a,Ya,Fa,qa,Ba){for(var Ua=Fa===(qa?'border':'content')?// If we already have the right measurement, avoid augmentation
4:// Otherwise initialize for horizontal or vertical properties
'width'===Ya?1:0,Va=0;4>Ua;Ua+=2)'margin'===Fa&&(Va+=et.css($a,Fa+Ct[Ua],!0,Ba)),qa?('content'===Fa&&(Va-=et.css($a,'padding'+Ct[Ua],!0,Ba)),'margin'!==Fa&&(Va-=et.css($a,'border'+Ct[Ua]+'Width',!0,Ba))):(Va+=et.css($a,'padding'+Ct[Ua],!0,Ba),'padding'!==Fa&&(Va+=et.css($a,'border'+Ct[Ua]+'Width',!0,Ba)));return Va}function Se($a,Ya,Fa){// Start with offset property, which is equivalent to the border-box value
var qa=!0,Ba='width'===Ya?$a.offsetWidth:$a.offsetHeight,Ua=Bt($a),Va='border-box'===et.css($a,'boxSizing',!1,Ua);// Some non-html elements return undefined for offsetWidth, so check for null/undefined
// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
if(0>=Ba||null==Ba){// Computed unit is not pixels. Stop here and return.
if(Ba=xe($a,Ya,Ua),(0>Ba||null==Ba)&&(Ba=$a.style[Ya]),qt.test(Ba))return Ba;// Check for style in case a browser which returns unreliable values
// for getComputedStyle silently falls back to the reliable elem.style
qa=Va&&(Je.boxSizingReliable()||Ba===$a.style[Ya]),Ba=parseFloat(Ba)||0}// Use the active box-sizing model to add/subtract irrelevant styles
return Ba+De($a,Ya,Fa||(Va?'border':'content'),qa,Ua)+'px'}function je($a,Ya){for(var Ua=[],Va=0,Ka=$a.length,Fa,qa,Ba;Va<Ka;Va++)(qa=$a[Va],!!qa.style)&&(Ua[Va]=_t.get(qa,'olddisplay'),Fa=qa.style.display,Ya?(!Ua[Va]&&'none'===Fa&&(qa.style.display=''),''===qa.style.display&&Tt(qa)&&(Ua[Va]=_t.access(qa,'olddisplay',we(qa.nodeName)))):(Ba=Tt(qa),('none'!==Fa||!Ba)&&_t.set(qa,'olddisplay',Ba?Fa:et.css(qa,'display'))));// Set the display of most of the elements in a second loop
// to avoid the constant reflow
for(Va=0;Va<Ka;Va++)(qa=$a[Va],!!qa.style)&&(Ya&&'none'!==qa.style.display&&''!==qa.style.display||(qa.style.display=Ya?Ua[Va]||'':'none'));return $a}function Ne($a,Ya,Fa,qa,Ba){return new Ne.prototype.init($a,Ya,Fa,qa,Ba)}// Animations created synchronously will run synchronously
function Pe(){return setTimeout(function(){Qt=void 0}),Qt=et.now()}// Generate parameters to create a standard animation
function Ee($a,Ya){var qa=0,Ba={height:$a},Fa;// If we include width, step value is 1 to do all cssExpand values,
// otherwise step value is 2 to skip over Left and Right
for(Ya=Ya?1:0;4>qa;qa+=2-Ya)Fa=Ct[qa],Ba['margin'+Fa]=Ba['padding'+Fa]=$a;return Ya&&(Ba.opacity=Ba.width=$a),Ba}function Oe($a,Ya,Fa){for(var Ba=(ia[Ya]||[]).concat(ia['*']),Ua=0,Va=Ba.length,qa;Ua<Va;Ua++)if(qa=Ba[Ua].call(Fa,Ya,$a))// We're done with this property
return qa}function Ae($a,Ya){var Fa,qa,Ba,Ua,Va;// camelCase, specialEasing and expand cssHook pass
for(Fa in $a)if(qa=et.camelCase(Fa),Ba=Ya[qa],Ua=$a[Fa],et.isArray(Ua)&&(Ba=Ua[1],Ua=$a[Fa]=Ua[0]),Fa!=qa&&($a[qa]=Ua,delete $a[Fa]),Va=et.cssHooks[qa],Va&&'expand'in Va)// Not quite $.extend, this won't overwrite existing keys.
// Reusing 'index' because we have the correct "name"
for(Fa in Ua=Va.expand(Ua),delete $a[qa],Ua)Fa in $a||($a[Fa]=Ua[Fa],Ya[Fa]=Ba);else Ya[qa]=Ba}function Ie($a,Ya,Fa){var Ua=0,Va=oa.length,Ka=et.Deferred().always(function(){delete Ga.elem}),Ga=function(){if(Ba)return!1;for(var Qa=Qt||Pe(),Za=Math.max(0,Xa.startTime+Xa.duration-Qa),// Support: Android 2.3
// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
en=Za/Xa.duration||0,tn=1-en,an=0,nn=Xa.tweens.length;an<nn;an++)Xa.tweens[an].run(tn);return Ka.notifyWith($a,[Xa,tn,Za]),1>tn&&nn?Za:(Ka.resolveWith($a,[Xa]),!1)},Xa=Ka.promise({elem:$a,props:et.extend({},Ya),opts:et.extend(!0,{specialEasing:{}},Fa),originalProperties:Ya,originalOptions:Fa,startTime:Qt||Pe(),duration:Fa.duration,tweens:[],createTween:function(Qa,Za){var en=et.Tween($a,Xa.opts,Qa,Za,Xa.opts.specialEasing[Qa]||Xa.opts.easing);return Xa.tweens.push(en),en},stop:function(Qa){var Za=0,// If we are going to the end, we want to run all the tweens
// otherwise we skip this part
en=Qa?Xa.tweens.length:0;if(Ba)return this;for(Ba=!0;Za<en;Za++)Xa.tweens[Za].run(1);// Resolve when we played the last frame; otherwise, reject
return Qa?Ka.resolveWith($a,[Xa,Qa]):Ka.rejectWith($a,[Xa,Qa]),this}}),Ja=Xa.props,qa,Ba;for(Ae(Ja,Xa.opts.specialEasing);Ua<Va;Ua++)if(qa=oa[Ua].call(Xa,$a,Ja,Xa.opts),qa)return qa;// attach callbacks from options
return et.map(Ja,Oe,Xa),et.isFunction(Xa.opts.start)&&Xa.opts.start.call($a,Xa),et.fx.timer(et.extend(Ga,{elem:$a,anim:Xa,queue:Xa.opts.queue})),Xa.progress(Xa.opts.progress).done(Xa.opts.done,Xa.opts.complete).fail(Xa.opts.fail).always(Xa.opts.always)}// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function Le($a){// dataTypeExpression is optional and defaults to "*"
return function(Ya,Fa){'string'!=typeof Ya&&(Fa=Ya,Ya='*');var Ba=0,Ua=Ya.toLowerCase().match(mt)||[],qa;if(et.isFunction(Fa))// For each dataType in the dataTypeExpression
for(;qa=Ua[Ba++];)// Prepend if requested
'+'===qa[0]?(qa=qa.slice(1)||'*',($a[qa]=$a[qa]||[]).unshift(Fa)):($a[qa]=$a[qa]||[]).push(Fa)}}// Base inspection function for prefilters and transports
function He($a,Ya,Fa,qa){function Ba(Ka){var Ga;return Ua[Ka]=!0,et.each($a[Ka]||[],function(Xa,Ja){var Qa=Ja(Ya,Fa,qa);return'string'!=typeof Qa||Va||Ua[Qa]?Va?!(Ga=Qa):void 0:(Ya.dataTypes.unshift(Qa),Ba(Qa),!1)}),Ga}var Ua={},Va=$a===xa;return Ba(Ya.dataTypes[0])||!Ua['*']&&Ba('*')}// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function Me($a,Ya){var Ba=et.ajaxSettings.flatOptions||{},Fa,qa;for(Fa in Ya)void 0!==Ya[Fa]&&((Ba[Fa]?$a:qa||(qa={}))[Fa]=Ya[Fa]);return qa&&et.extend(!0,$a,qa),$a}/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */function ze($a,Ya,Fa){// Remove auto dataType and get content-type in the process
for(var Ka=$a.contents,Ga=$a.dataTypes,qa,Ba,Ua,Va;'*'===Ga[0];)Ga.shift(),void 0==qa&&(qa=$a.mimeType||Ya.getResponseHeader('Content-Type'));// Check if we're dealing with a known content-type
if(qa)for(Ba in Ka)if(Ka[Ba]&&Ka[Ba].test(qa)){Ga.unshift(Ba);break}// Check to see if we have a response for the expected dataType
if(Ga[0]in Fa)Ua=Ga[0];else{// Try convertible dataTypes
for(Ba in Fa){if(!Ga[0]||$a.converters[Ba+' '+Ga[0]]){Ua=Ba;break}Va||(Va=Ba)}// Or just use first one
Ua=Ua||Va}// If we found a dataType
// We add the dataType to the list if needed
// and return the corresponding response
return Ua?(Ua!==Ga[0]&&Ga.unshift(Ua),Fa[Ua]):void 0}/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */function We($a,Ya,Fa,qa){var Xa={},// Work with a copy of dataTypes in case we need to modify it for conversion
Ja=$a.dataTypes.slice(),Ba,Ua,Va,Ka,Ga;// Create converters map with lowercased keys
if(Ja[1])for(Va in $a.converters)Xa[Va.toLowerCase()]=$a.converters[Va];// Convert to each sequential dataType
for(Ua=Ja.shift();Ua;)if($a.responseFields[Ua]&&(Fa[$a.responseFields[Ua]]=Ya),!Ga&&qa&&$a.dataFilter&&(Ya=$a.dataFilter(Ya,$a.dataType)),Ga=Ua,Ua=Ja.shift(),Ua)// There's only work to do if current dataType is non-auto
if('*'===Ua)Ua=Ga;else if('*'!==Ga&&Ga!=Ua){// If none found, seek a pair
if(Va=Xa[Ga+' '+Ua]||Xa['* '+Ua],!Va)for(Ba in Xa)if(Ka=Ba.split(' '),Ka[1]===Ua&&(Va=Xa[Ga+' '+Ka[0]]||Xa['* '+Ka[0]],Va)){!0===Va?Va=Xa[Ba]:!0!==Xa[Ba]&&(Ua=Ka[0],Ja.unshift(Ka[1]));break}// Apply converter (if not an equivalence)
if(!0!==Va)// Unless errors are allowed to bubble, catch and return them
if(Va&&$a.throws)Ya=Va(Ya);else try{Ya=Va(Ya)}catch(Qa){return{state:'parsererror',error:Va?Qa:'No conversion from '+Ga+' to '+Ua}}}return{state:'success',data:Ya}}function Re($a,Ya,Fa,qa){if(et.isArray(Ya))et.each(Ya,function(Ua,Va){Fa||Sa.test($a)?qa($a,Va):Re($a+'['+('object'==typeof Va?Ua:'')+']',Va,Fa,qa)});else if(!Fa&&'object'===et.type(Ya))// Serialize object item.
for(var Ba in Ya)Re($a+'['+Ba+']',Ya[Ba],Fa,qa);else qa($a,Ya)}// Serialize an array of form elements or a set of
// key/values into a query string
/**
 * Gets a window from an element
 */function Ye($a){return et.isWindow($a)?$a:9===$a.nodeType&&$a.defaultView}// Support: Firefox 18+
// Can't be in strict mode, several libs including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
//
var Fe=[],qe=Fe.slice,Be=Fe.concat,Ue=Fe.push,Ve=Fe.indexOf,Ke={},Ge=Ke.toString,Xe=Ke.hasOwnProperty,Je={},// Use the correct document accordingly with window argument (sandbox)
Qe=ee.document,Ze='2.1.3',// Define a local copy of jQuery
et=function($a,Ya){// The jQuery object is actually just the init constructor 'enhanced'
// Need init if jQuery is called (just allow error to be thrown if not included)
return new et.fn.init($a,Ya)},// Support: Android<4.1
// Make sure we trim BOM and NBSP
tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,// Matches dashed string for camelizing
at=/^-ms-/,nt=/-([\da-z])/gi,// Used by jQuery.camelCase as callback to replace()
ot=function($a,Ya){return Ya.toUpperCase()};et.fn=et.prototype={// The current version of jQuery being used
jquery:Ze,constructor:et,// Start with an empty selector
selector:'',// The default length of a jQuery object is 0
length:0,toArray:function(){return qe.call(this)},// Get the Nth element in the matched element set OR
// Get the whole matched element set as a clean array
get:function($a){return null==$a?// Return all the elements in a clean array
qe.call(this):// Return just the one element from the set
0>$a?this[$a+this.length]:this[$a]},// Take an array of elements and push it onto the stack
// (returning the new matched element set)
pushStack:function($a){// Build a new jQuery matched element set
var Ya=et.merge(this.constructor(),$a);// Add the old object onto the stack (as a reference)
// Return the newly-formed element set
return Ya.prevObject=this,Ya.context=this.context,Ya},// Execute a callback for every element in the matched set.
// (You can seed the arguments with an array of args, but this is
// only used internally.)
each:function($a,Ya){return et.each(this,$a,Ya)},map:function($a){return this.pushStack(et.map(this,function(Ya,Fa){return $a.call(Ya,Fa,Ya)}))},slice:function(){return this.pushStack(qe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function($a){var Ya=this.length,Fa=+$a+(0>$a?Ya:0);return this.pushStack(0<=Fa&&Fa<Ya?[this[Fa]]:[])},end:function(){return this.prevObject||this.constructor(null)},// For internal use only.
// Behaves like an Array's method, not like a jQuery method.
push:Ue,sort:Fe.sort,splice:Fe.splice},et.extend=et.fn.extend=function(){var Va=arguments[0]||{},Ka=1,Ga=arguments.length,Xa=!1,$a,Ya,Fa,qa,Ba,Ua;// Handle a deep copy situation
for('boolean'==typeof Va&&(Xa=Va,Va=arguments[Ka]||{},Ka++),'object'==typeof Va||et.isFunction(Va)||(Va={}),Ka===Ga&&(Va=this,Ka--);Ka<Ga;Ka++)// Only deal with non-null/undefined values
if(null!=($a=arguments[Ka]))// Extend the base object
for(Ya in $a)// Prevent never-ending loop
(Fa=Va[Ya],qa=$a[Ya],Va!==qa)&&(Xa&&qa&&(et.isPlainObject(qa)||(Ba=et.isArray(qa)))?(Ba?(Ba=!1,Ua=Fa&&et.isArray(Fa)?Fa:[]):Ua=Fa&&et.isPlainObject(Fa)?Fa:{},Va[Ya]=et.extend(Xa,Ua,qa)):void 0!=qa&&(Va[Ya]=qa));// Recurse if we're merging plain objects or arrays
// Return the modified object
return Va},et.extend({// Unique for each copy of jQuery on the page
expando:'jQuery'+(Ze+Math.random()).replace(/\D/g,''),// Assume jQuery is ready without the ready module
isReady:!0,error:function($a){throw new Error($a)},noop:function(){},isFunction:function($a){return'function'===et.type($a)},isArray:Array.isArray,isWindow:function($a){return null!=$a&&$a===$a.window},isNumeric:function($a){// parseFloat NaNs numeric-cast false positives (null|true|false|"")
// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
// subtraction forces infinities to NaN
// adding 1 corrects loss of precision from parseFloat (#15100)
return!et.isArray($a)&&0<=$a-parseFloat($a)+1},isPlainObject:function($a){// Not plain objects:
// - Any object or value whose internal [[Class]] property is not "[object Object]"
// - DOM nodes
// - window
// If the function hasn't returned already, we're confident that
// |obj| is a plain object, created by {} or constructed with new Object
return'object'!==et.type($a)||$a.nodeType||et.isWindow($a)?!1:$a.constructor&&!Xe.call($a.constructor.prototype,'isPrototypeOf')?!1:!0},isEmptyObject:function($a){for(var Ya in $a)return!1;return!0},type:function($a){return null==$a?$a+'':'object'==typeof $a||'function'==typeof $a?Ke[Ge.call($a)]||'object':typeof $a;// Support: Android<4.0, iOS<6 (functionish RegExp)
},// Evaluates a script in a global context
globalEval:function($a){var Fa=eval,Ya;$a=et.trim($a),$a&&(1===$a.indexOf('use strict')?(Ya=Qe.createElement('script'),Ya.text=$a,Qe.head.appendChild(Ya).parentNode.removeChild(Ya)):Fa($a))},// Convert dashed to camelCase; used by the css and data modules
// Support: IE9-11+
// Microsoft forgot to hump their vendor prefix (#9572)
camelCase:function($a){return $a.replace(at,'ms-').replace(nt,ot)},nodeName:function($a,Ya){return $a.nodeName&&$a.nodeName.toLowerCase()===Ya.toLowerCase()},// args is for internal usage only
each:function($a,Ya,Fa){var Ba=0,Ua=$a.length,Va=ae($a),qa;if(Fa){if(Va)for(;Ba<Ua&&(qa=Ya.apply($a[Ba],Fa),!1!==qa);Ba++);else for(Ba in $a)if(qa=Ya.apply($a[Ba],Fa),!1===qa)break;// A special, fast, case for the most common use of each
}else if(Va)for(;Ba<Ua&&(qa=Ya.call($a[Ba],Ba,$a[Ba]),!1!==qa);Ba++);else for(Ba in $a)if(qa=Ya.call($a[Ba],Ba,$a[Ba]),!1===qa)break;return $a},// Support: Android<4.1
trim:function($a){return null==$a?'':($a+'').replace(tt,'')},// results is for internal usage only
makeArray:function($a,Ya){var Fa=Ya||[];return null!=$a&&(ae(Object($a))?et.merge(Fa,'string'==typeof $a?[$a]:$a):Ue.call(Fa,$a)),Fa},inArray:function($a,Ya,Fa){return null==Ya?-1:Ve.call(Ya,$a,Fa)},merge:function($a,Ya){for(var Fa=+Ya.length,qa=0,Ba=$a.length;qa<Fa;qa++)$a[Ba++]=Ya[qa];return $a.length=Ba,$a},grep:function($a,Ya,Fa){// Go through the array, only saving the items
// that pass the validator function
for(var Ba=[],Ua=0,Va=$a.length,qa;Ua<Va;Ua++)qa=!Ya($a[Ua],Ua),qa!==!Fa&&Ba.push($a[Ua]);return Ba},// arg is for internal usage only
map:function($a,Ya,Fa){var Ba=0,Ua=$a.length,Va=ae($a),Ka=[],qa;// Go through the array, translating each of the items to their new values
if(Va)for(;Ba<Ua;Ba++)qa=Ya($a[Ba],Ba,Fa),null!=qa&&Ka.push(qa);// Go through every key on the object,
else for(Ba in $a)qa=Ya($a[Ba],Ba,Fa),null!=qa&&Ka.push(qa);// Flatten any nested arrays
return Be.apply([],Ka)},// A global GUID counter for objects
guid:1,// Bind a function to a context, optionally partially applying any
// arguments.
proxy:function($a,Ya){var Fa,qa,Ba;// Quick check to determine if target is callable, in the spec
// this throws a TypeError, but we will just return undefined.
return('string'==typeof Ya&&(Fa=$a[Ya],Ya=$a,$a=Fa),!et.isFunction($a))?void 0:(qa=qe.call(arguments,2),Ba=function(){return $a.apply(Ya||this,qa.concat(qe.call(arguments)))},Ba.guid=$a.guid=$a.guid||et.guid++,Ba);// Simulated bind
},now:Date.now,// jQuery.support is not used in Core but other projects attach their
// properties to it so it needs to exist.
support:Je}),et.each('Boolean Number String Function Array Date RegExp Object Error'.split(' '),function($a,Ya){Ke['[object '+Ya+']']=Ya.toLowerCase()});var it=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */function($a){function Ya(fo,yo,bo,_o){var vo,wo,xo,Co,// QSA vars
To,Do,So,jo,No,Po;if((yo?yo.ownerDocument||yo:Pn)!==xn&&wn(yo),yo=yo||xn,bo=bo||[],Co=yo.nodeType,'string'!=typeof fo||!fo||1!==Co&&9!==Co&&11!==Co)return bo;if(!_o&&Cn){// Try to shortcut find operations when possible (e.g., not under DocumentFragment)
if(11!==Co&&(vo=co.exec(fo)))// Speed-up: Sizzle("#ID")
if(!(xo=vo[1])){if(vo[2])return Yn.apply(bo,yo.getElementsByTagName(fo)),bo;// Speed-up: Sizzle(".CLASS")
if((xo=vo[3])&&cn.getElementsByClassName)return Yn.apply(bo,yo.getElementsByClassName(xo)),bo}else if(9===Co){// Check parentNode to catch when Blackberry 4.6 returns
// nodes that are no longer in the document (jQuery #6963)
if(wo=yo.getElementById(xo),!(wo&&wo.parentNode))return bo;// Handle the case where IE, Opera, and Webkit return items
// by name instead of ID
if(wo.id===xo)return bo.push(wo),bo}else// Context is not a document
if(yo.ownerDocument&&(wo=yo.ownerDocument.getElementById(xo))&&jn(yo,wo)&&wo.id===xo)return bo.push(wo),bo;// Speed-up: Sizzle("TAG")
// QSA path
if(cn.qsa&&(!Tn||!Tn.test(fo))){// qSA works strangely on Element-rooted queries
// We can work around this by specifying an extra ID on the root
// and working up from there (Thanks to Andrew Dupont for the technique)
// IE 8 doesn't work on object elements
if(jo=So=Nn,No=yo,Po=1!==Co&&fo,1===Co&&'object'!==yo.nodeName.toLowerCase()){for(Do=gn(fo),(So=yo.getAttribute('id'))?jo=So.replace(uo,'\\$&'):yo.setAttribute('id',jo),jo='[id=\''+jo+'\'] ',To=Do.length;To--;)Do[To]=jo+Za(Do[To]);No=po.test(fo)&&Ja(yo.parentNode)||yo,Po=Do.join(',')}if(Po)try{return Yn.apply(bo,No.querySelectorAll(Po)),bo}catch(Eo){}finally{So||yo.removeAttribute('id')}}}// All others
return yn(fo.replace(Qn,'$1'),yo,bo,_o)}/**
 * Create key-value caches of limited size
 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */function Fa(){function fo(bo,_o){return yo.push(bo+' ')>pn.cacheLength&&delete fo[yo.shift()],fo[bo+' ']=_o}var yo=[];return fo}/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */function qa(fo){return fo[Nn]=!0,fo}/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */function Ba(fo){var yo=xn.createElement('div');try{return!!fo(yo)}catch(bo){return!1}finally{yo.parentNode&&yo.parentNode.removeChild(yo),yo=null}}/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */function Ua(fo,yo){for(var bo=fo.split('|'),_o=fo.length;_o--;)pn.attrHandle[bo[_o]]=yo}/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */function Va(fo,yo){var bo=yo&&fo,_o=bo&&1===fo.nodeType&&1===yo.nodeType&&(~yo.sourceIndex||Mn)-(~fo.sourceIndex||Mn);// Use IE sourceIndex if available on both nodes
if(_o)return _o;// Check if b follows a
if(bo)for(;bo=bo.nextSibling;)if(bo===yo)return-1;return fo?1:-1}/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */function Ka(fo){return function(yo){var bo=yo.nodeName.toLowerCase();return'input'===bo&&yo.type===fo}}/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */function Ga(fo){return function(yo){var bo=yo.nodeName.toLowerCase();return('input'===bo||'button'===bo)&&yo.type===fo}}/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */function Xa(fo){return qa(function(yo){return yo=+yo,qa(function(bo,_o){// Match elements found at the specified indexes
for(var wo=fo([],bo.length,yo),xo=wo.length,vo;xo--;)bo[vo=wo[xo]]&&(bo[vo]=!(_o[vo]=bo[vo]))})})}/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */function Ja(fo){return fo&&'undefined'!=typeof fo.getElementsByTagName&&fo}// Expose support vars for convenience
// Easy API for creating new setFilters
function Qa(){}function Za(fo){for(var yo=0,bo=fo.length,_o='';yo<bo;yo++)_o+=fo[yo].value;return _o}function en(fo,yo,bo){var _o=yo.dir,vo=bo&&'parentNode'===_o,wo=On++;return yo.first?// Check against closest ancestor/preceding element
function(xo,Co,To){for(;xo=xo[_o];)if(1===xo.nodeType||vo)return fo(xo,Co,To)}:// Check against all ancestor/preceding elements
function(xo,Co,To){var jo=[En,wo],Do,So;// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
if(To){for(;xo=xo[_o];)if((1===xo.nodeType||vo)&&fo(xo,Co,To))return!0;}else for(;xo=xo[_o];)if(1===xo.nodeType||vo){if(So=xo[Nn]||(xo[Nn]={}),(Do=So[_o])&&Do[0]===En&&Do[1]===wo)// Assign to newCache so results back-propagate to previous elements
return jo[2]=Do[2];// A match means we're done; a fail means we have to keep checking
if(So[_o]=jo,jo[2]=fo(xo,Co,To))return!0}}}function tn(fo){return 1<fo.length?function(yo,bo,_o){for(var vo=fo.length;vo--;)if(!fo[vo](yo,bo,_o))return!1;return!0}:fo[0]}function an(fo,yo,bo){for(var _o=0,vo=yo.length;_o<vo;_o++)Ya(fo,yo[_o],bo);return bo}function nn(fo,yo,bo,_o,vo){for(var xo=[],Co=0,To=fo.length,wo;Co<To;Co++)(wo=fo[Co])&&(!bo||bo(wo,_o,vo))&&(xo.push(wo),null!=yo&&yo.push(Co));return xo}function sn(fo,yo,bo,_o,vo,wo){return _o&&!_o[Nn]&&(_o=sn(_o)),vo&&!vo[Nn]&&(vo=sn(vo,wo)),qa(function(xo,Co,To,Do){var Po=[],Eo=[],Oo=Co.length,// Get initial elements from seed or context
Ao=xo||an(yo||'*',To.nodeType?[To]:To,[]),// Prefilter to get matcher input, preserving a map for seed-results synchronization
Io=fo&&(xo||!yo)?nn(Ao,Po,fo,To,Do):Ao,Lo=bo?// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
vo||(xo?fo:Oo||_o)?// ...intermediate processing is necessary
[]:// ...otherwise use results directly
Co:Io,So,jo,No;// Find primary matches
// Apply postFilter
if(bo&&bo(Io,Lo,To,Do),_o)for(So=nn(Lo,Eo),_o(So,[],To,Do),jo=So.length;jo--;)(No=So[jo])&&(Lo[Eo[jo]]=!(Io[Eo[jo]]=No));if(!xo)Lo=nn(Lo===Co?Lo.splice(Oo,Lo.length):Lo),vo?vo(null,Co,Lo,Do):Yn.apply(Co,Lo);else if(vo||fo){if(vo){for(So=[],jo=Lo.length;jo--;)(No=Lo[jo])&&So.push(Io[jo]=No);vo(null,Lo=[],So,Do)}// Move matched elements from seed to results to keep them synchronized
for(jo=Lo.length;jo--;)(No=Lo[jo])&&-1<(So=vo?qn(xo,No):Po[jo])&&(xo[So]=!(Co[So]=No))}// Add elements to results, through postFinder if defined
})}function rn(fo){for(var vo=fo.length,wo=pn.relative[fo[0].type],xo=wo||pn.relative[' '],Co=wo?1:0,// The foundational matcher ensures that elements are reachable from top-level context(s)
To=en(function(jo){return jo===yo},xo,!0),Do=en(function(jo){return-1<qn(yo,jo)},xo,!0),So=[function(jo,No,Po){var Eo=!wo&&(Po||No!==bn)||((yo=No).nodeType?To(jo,No,Po):Do(jo,No,Po));// Avoid hanging onto element (issue #299)
return yo=null,Eo}],yo,bo,_o;Co<vo;Co++)if(bo=pn.relative[fo[Co].type])So=[en(tn(So),bo)];else{// Return special upon seeing a positional matcher
if(bo=pn.filter[fo[Co].type].apply(null,fo[Co].matches),bo[Nn]){for(_o=++Co;_o<vo&&!pn.relative[fo[_o].type];_o++);return sn(1<Co&&tn(So),1<Co&&Za(// If the preceding token was a descendant combinator, insert an implicit any-element `*`
fo.slice(0,Co-1).concat({value:' '===fo[Co-2].type?'*':''})).replace(Qn,'$1'),bo,Co<_o&&rn(fo.slice(Co,_o)),_o<vo&&rn(fo=fo.slice(_o)),_o<vo&&Za(fo))}So.push(bo)}return tn(So)}function ln(fo,yo){var bo=0<yo.length,_o=0<fo.length,vo=function(wo,xo,Co,To,Do){var Po=0,Eo='0',Oo=wo&&[],Ao=[],Io=bn,// We must always have either seed elements or outermost context
Lo=wo||_o&&pn.find.TAG('*',Do),// Use integer dirruns iff this is the outermost matcher
Ho=En+=null==Io?1:Math.random()||0.1,Mo=Lo.length,So,jo,No;// Add elements passing elementMatchers directly to results
// Keep `i` a string if there are no elements so `matchedCount` will be "00" below
// Support: IE<9, Safari
// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
for(Do&&(bn=xo!==xn&&xo);Eo!==Mo&&null!=(So=Lo[Eo]);Eo++){if(_o&&So){for(jo=0;No=fo[jo++];)if(No(So,xo,Co)){To.push(So);break}Do&&(En=Ho)}// Track unmatched elements for set filters
bo&&((So=!No&&So)&&Po--,wo&&Oo.push(So))}// Apply set filters to unmatched elements
if(Po+=Eo,bo&&Eo!==Po){for(jo=0;No=yo[jo++];)No(Oo,Ao,xo,Co);if(wo){// Reintegrate element matches to eliminate the need for sorting
if(0<Po)for(;Eo--;)Oo[Eo]||Ao[Eo]||(Ao[Eo]=Rn.call(To));// Discard index placeholder values to get only actual matches
Ao=nn(Ao)}// Add matches to results
Yn.apply(To,Ao),Do&&!wo&&0<Ao.length&&1<Po+yo.length&&Ya.uniqueSort(To)}// Override manipulation of globals by nested matchers
return Do&&(En=Ho,bn=Io),Oo};return bo?qa(vo):vo}var// Instance-specific data
Nn='sizzle'+1*new Date,Pn=$a.document,En=0,On=0,An=Fa(),In=Fa(),Ln=Fa(),Hn=function(fo,yo){return fo===yo&&(vn=!0),0},// General-purpose constants
Mn=-2147483648,// Instance methods
zn={}.hasOwnProperty,Wn=[],Rn=Wn.pop,$n=Wn.push,Yn=Wn.push,Fn=Wn.slice,// Use a stripped-down indexOf as it's faster than native
// http://jsperf.com/thor-indexof-vs-for/5
qn=function(fo,yo){for(var bo=0,_o=fo.length;bo<_o;bo++)if(fo[bo]===yo)return bo;return-1},Bn='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',// Regular expressions
// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
Un='[\\x20\\t\\r\\n\\f]',// http://www.w3.org/TR/css3-syntax/#characters
Vn='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',// Loosely modeled on CSS identifier characters
// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
Kn=Vn.replace('w','w#'),// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
Gn='\\['+Un+'*('+Vn+')(?:'+Un+// Operator (capture 2)
'*([*^$|!~]?=)'+Un+// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+Kn+'))|)'+Un+'*\\]',Xn=':('+Vn+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+Gn+')*)|.*)\\)|)',// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
Jn=new RegExp(Un+'+','g'),Qn=new RegExp('^'+Un+'+|((?:^|[^\\\\])(?:\\\\.)*)'+Un+'+$','g'),Zn=new RegExp('^'+Un+'*,'+Un+'*'),eo=new RegExp('^'+Un+'*([>+~]|'+Un+')'+Un+'*'),ao=new RegExp('='+Un+'*([^\\]\'"]*?)'+Un+'*\\]','g'),no=new RegExp(Xn),oo=new RegExp('^'+Kn+'$'),io={ID:new RegExp('^#('+Vn+')'),CLASS:new RegExp('^\\.('+Vn+')'),TAG:new RegExp('^('+Vn.replace('w','w*')+')'),ATTR:new RegExp('^'+Gn),PSEUDO:new RegExp('^'+Xn),CHILD:new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\('+Un+'*(even|odd|(([+-]|)(\\d*)n|)'+Un+'*(?:([+-]|)'+Un+'*(\\d+)|))'+Un+'*\\)|)','i'),bool:new RegExp('^(?:'+Bn+')$','i'),// For use in libraries implementing .is()
// We use this for POS matching in `select`
needsContext:new RegExp('^'+Un+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\('+Un+'*((?:-\\d)?\\d*)'+Un+'*\\)|)(?=[^-]|$)','i')},so=/^(?:input|select|textarea|button)$/i,ro=/^h\d$/i,lo=/^[^{]+\{\s*\[native \w/,// Easily-parseable/retrievable ID or TAG or CLASS selectors
co=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,po=/[+~]/,uo=/'|\\/g,// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
ho=new RegExp('\\\\([\\da-f]{1,6}'+Un+'?|('+Un+')|.)','ig'),go=function(fo,yo,bo){var _o='0x'+yo-65536;// NaN means non-codepoint
// Support: Firefox<24
// Workaround erroneous numeric interpretation of +"0x"
return _o!=_o||bo?yo:0>_o?// BMP codepoint
String.fromCharCode(_o+65536):// Supplemental Plane codepoint (surrogate pair)
String.fromCharCode(55296|_o>>10,56320|1023&_o)},// Used for iframes
// See setDocument()
// Removing the function wrapper causes a "Permission Denied"
// error in IE
mo=function(){wn()},dn,cn,pn,un,hn,gn,mn,yn,bn,_n,vn,// Local document vars
wn,xn,kn,Cn,Tn,Dn,Sn,jn;// Optimize for push.apply( _, NodeList )
try{Yn.apply(Wn=Fn.call(Pn.childNodes),Pn.childNodes),Wn[Pn.childNodes.length].nodeType}catch(fo){Yn={apply:Wn.length?// Leverage slice if possible
function(yo,bo){$n.apply(yo,Fn.call(bo))}:// Support: IE<9
// Otherwise append directly
function(yo,bo){// Can't trust NodeList.length
for(var _o=yo.length,vo=0;yo[_o++]=bo[vo++];);yo.length=_o-1}}}// Add button/input type pseudos
for(dn in cn=Ya.support={},hn=Ya.isXML=function(fo){// documentElement is verified for cases where it doesn't yet exist
// (such as loading iframes in IE - #4833)
var yo=fo&&(fo.ownerDocument||fo).documentElement;return!!yo&&'HTML'!==yo.nodeName},wn=Ya.setDocument=function(fo){var _o=fo?fo.ownerDocument||fo:Pn,yo,bo;// If no document and documentElement is available, return
return _o!==xn&&9===_o.nodeType&&_o.documentElement?(xn=_o,kn=_o.documentElement,bo=_o.defaultView,bo&&bo!==bo.top&&(bo.addEventListener?bo.addEventListener('unload',mo,!1):bo.attachEvent&&bo.attachEvent('onunload',mo)),Cn=!hn(_o),cn.attributes=Ba(function(vo){return vo.className='i',!vo.getAttribute('className')}),cn.getElementsByTagName=Ba(function(vo){return vo.appendChild(_o.createComment('')),!vo.getElementsByTagName('*').length}),cn.getElementsByClassName=lo.test(_o.getElementsByClassName),cn.getById=Ba(function(vo){return kn.appendChild(vo).id=Nn,!_o.getElementsByName||!_o.getElementsByName(Nn).length}),cn.getById?(pn.find.ID=function(vo,wo){if('undefined'!=typeof wo.getElementById&&Cn){var xo=wo.getElementById(vo);// Check parentNode to catch when Blackberry 4.6 returns
// nodes that are no longer in the document #6963
return xo&&xo.parentNode?[xo]:[]}},pn.filter.ID=function(vo){var wo=vo.replace(ho,go);return function(xo){return xo.getAttribute('id')===wo}}):(delete pn.find.ID,pn.filter.ID=function(vo){var wo=vo.replace(ho,go);return function(xo){var Co='undefined'!=typeof xo.getAttributeNode&&xo.getAttributeNode('id');return Co&&Co.value===wo}}),pn.find.TAG=cn.getElementsByTagName?function(vo,wo){return'undefined'==typeof wo.getElementsByTagName?cn.qsa?wo.querySelectorAll(vo):void 0:wo.getElementsByTagName(vo)}:function(vo,wo){var Co=[],To=0,// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
Do=wo.getElementsByTagName(vo),xo;// Filter out possible comments
if('*'===vo){for(;xo=Do[To++];)1===xo.nodeType&&Co.push(xo);return Co}return Do},pn.find.CLASS=cn.getElementsByClassName&&function(vo,wo){if(Cn)return wo.getElementsByClassName(vo)},Dn=[],Tn=[],(cn.qsa=lo.test(_o.querySelectorAll))&&(Ba(function(vo){kn.appendChild(vo).innerHTML='<a id=\''+Nn+'\'></a><select id=\''+Nn+'-\f]\' msallowcapture=\'\'><option selected=\'\'></option></select>',vo.querySelectorAll('[msallowcapture^=\'\']').length&&Tn.push('[*^$]='+Un+'*(?:\'\'|"")'),vo.querySelectorAll('[selected]').length||Tn.push('\\['+Un+'*(?:value|'+Bn+')'),vo.querySelectorAll('[id~='+Nn+'-]').length||Tn.push('~='),vo.querySelectorAll(':checked').length||Tn.push(':checked'),vo.querySelectorAll('a#'+Nn+'+*').length||Tn.push('.#.+[+~]')}),Ba(function(vo){// Support: Windows 8 Native Apps
// The type and name attributes are restricted during .innerHTML assignment
var wo=_o.createElement('input');wo.setAttribute('type','hidden'),vo.appendChild(wo).setAttribute('name','D'),vo.querySelectorAll('[name=d]').length&&Tn.push('name'+Un+'*[*^$|!~]?='),vo.querySelectorAll(':enabled').length||Tn.push(':enabled',':disabled'),vo.querySelectorAll('*,:x'),Tn.push(',.*:')})),(cn.matchesSelector=lo.test(Sn=kn.matches||kn.webkitMatchesSelector||kn.mozMatchesSelector||kn.oMatchesSelector||kn.msMatchesSelector))&&Ba(function(vo){cn.disconnectedMatch=Sn.call(vo,'div'),Sn.call(vo,'[s!=\'\']:x'),Dn.push('!=',Xn)}),Tn=Tn.length&&new RegExp(Tn.join('|')),Dn=Dn.length&&new RegExp(Dn.join('|')),yo=lo.test(kn.compareDocumentPosition),jn=yo||lo.test(kn.contains)?function(vo,wo){var xo=9===vo.nodeType?vo.documentElement:vo,Co=wo&&wo.parentNode;return vo===Co||!!(Co&&1===Co.nodeType&&(xo.contains?xo.contains(Co):vo.compareDocumentPosition&&16&vo.compareDocumentPosition(Co)))}:function(vo,wo){if(wo)for(;wo=wo.parentNode;)if(wo===vo)return!0;return!1},Hn=yo?function(vo,wo){// Flag for duplicate removal
if(vo===wo)return vn=!0,0;// Sort on method existence if only one input has compareDocumentPosition
var xo=!vo.compareDocumentPosition-!wo.compareDocumentPosition;return xo?xo:(xo=(vo.ownerDocument||vo)===(wo.ownerDocument||wo)?vo.compareDocumentPosition(wo):// Otherwise we know they are disconnected
1,1&xo||!cn.sortDetached&&wo.compareDocumentPosition(vo)===xo?vo===_o||vo.ownerDocument===Pn&&jn(Pn,vo)?-1:wo===_o||wo.ownerDocument===Pn&&jn(Pn,wo)?1:_n?qn(_n,vo)-qn(_n,wo):0:4&xo?-1:1);// Calculate position if both inputs belong to the same document
// Disconnected nodes
}:function(vo,wo){// Exit early if the nodes are identical
if(vo===wo)return vn=!0,0;var Co=0,To=vo.parentNode,Do=wo.parentNode,So=[vo],jo=[wo],xo;// Parentless nodes are either documents or disconnected
if(!To||!Do)return vo===_o?-1:wo===_o?1:To?-1:Do?1:_n?qn(_n,vo)-qn(_n,wo):0;// If the nodes are siblings, we can do a quick check
// Otherwise we need full lists of their ancestors for comparison
if(To===Do)return Va(vo,wo);for(xo=vo;xo=xo.parentNode;)So.unshift(xo);for(xo=wo;xo=xo.parentNode;)jo.unshift(xo);// Walk down the tree looking for a discrepancy
for(;So[Co]===jo[Co];)Co++;return Co?// Do a sibling check if the nodes have a common ancestor
Va(So[Co],jo[Co]):// Otherwise nodes in our document sort first
So[Co]===Pn?-1:jo[Co]===Pn?1:0},_o):xn;// Set our document
},Ya.matches=function(fo,yo){return Ya(fo,null,null,yo)},Ya.matchesSelector=function(fo,yo){if((fo.ownerDocument||fo)!==xn&&wn(fo),yo=yo.replace(ao,'=\'$1\']'),cn.matchesSelector&&Cn&&(!Dn||!Dn.test(yo))&&(!Tn||!Tn.test(yo)))try{var bo=Sn.call(fo,yo);// IE 9's matchesSelector returns false on disconnected nodes
if(bo||cn.disconnectedMatch||// As well, disconnected nodes are said to be in a document
// fragment in IE 9
fo.document&&11!==fo.document.nodeType)return bo}catch(_o){}return 0<Ya(yo,xn,null,[fo]).length},Ya.contains=function(fo,yo){return(fo.ownerDocument||fo)!==xn&&wn(fo),jn(fo,yo)},Ya.attr=function(fo,yo){(fo.ownerDocument||fo)!==xn&&wn(fo);var bo=pn.attrHandle[yo.toLowerCase()],// Don't get fooled by Object.prototype properties (jQuery #13807)
_o=bo&&zn.call(pn.attrHandle,yo.toLowerCase())?bo(fo,yo,!Cn):void 0;return void 0===_o?cn.attributes||!Cn?fo.getAttribute(yo):(_o=fo.getAttributeNode(yo))&&_o.specified?_o.value:null:_o},Ya.error=function(fo){throw new Error('Syntax error, unrecognized expression: '+fo)},Ya.uniqueSort=function(fo){var bo=[],_o=0,vo=0,yo;// Unless we *know* we can detect duplicates, assume their presence
if(vn=!cn.detectDuplicates,_n=!cn.sortStable&&fo.slice(0),fo.sort(Hn),vn){for(;yo=fo[vo++];)yo===fo[vo]&&(_o=bo.push(vo));for(;_o--;)fo.splice(bo[_o],1)}// Clear input after sorting to release objects
// See https://github.com/jquery/sizzle/pull/225
return _n=null,fo},un=Ya.getText=function(fo){var bo='',_o=0,vo=fo.nodeType,yo;if(!vo)// If no nodeType, this is expected to be an array
for(;yo=fo[_o++];)// Do not traverse comment nodes
bo+=un(yo);else if(1===vo||9===vo||11===vo){// Use textContent for elements
// innerText usage removed for consistency of new lines (jQuery #11153)
if('string'==typeof fo.textContent)return fo.textContent;// Traverse its children
for(fo=fo.firstChild;fo;fo=fo.nextSibling)bo+=un(fo)}else if(3===vo||4===vo)return fo.nodeValue;// Do not include comment or processing instruction nodes
return bo},pn=Ya.selectors={// Can be adjusted by the user
cacheLength:50,createPseudo:qa,match:io,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(fo){return fo[1]=fo[1].replace(ho,go),fo[3]=(fo[3]||fo[4]||fo[5]||'').replace(ho,go),'~='===fo[2]&&(fo[3]=' '+fo[3]+' '),fo.slice(0,4)},CHILD:function(fo){return fo[1]=fo[1].toLowerCase(),'nth'===fo[1].slice(0,3)?(!fo[3]&&Ya.error(fo[0]),fo[4]=+(fo[4]?fo[5]+(fo[6]||1):2*('even'===fo[3]||'odd'===fo[3])),fo[5]=+(fo[7]+fo[8]||'odd'===fo[3])):fo[3]&&Ya.error(fo[0]),fo},PSEUDO:function(fo){var bo=!fo[6]&&fo[2],yo;return io.CHILD.test(fo[0])?null:(fo[3]?fo[2]=fo[4]||fo[5]||'':bo&&no.test(bo)&&(// Get excess from tokenize (recursively)
yo=gn(bo,!0))&&(// advance to the next closing parenthesis
yo=bo.indexOf(')',bo.length-yo)-bo.length)&&(fo[0]=fo[0].slice(0,yo),fo[2]=bo.slice(0,yo)),fo.slice(0,3));// Accept quoted arguments as-is
// Return only captures needed by the pseudo filter method (type and argument)
}},filter:{TAG:function(fo){var yo=fo.replace(ho,go).toLowerCase();return'*'===fo?function(){return!0}:function(bo){return bo.nodeName&&bo.nodeName.toLowerCase()===yo}},CLASS:function(fo){var yo=An[fo+' '];return yo||(yo=new RegExp('(^|'+Un+')'+fo+'('+Un+'|$)'))&&An(fo,function(bo){return yo.test('string'==typeof bo.className&&bo.className||'undefined'!=typeof bo.getAttribute&&bo.getAttribute('class')||'')})},ATTR:function(fo,yo,bo){return function(_o){var vo=Ya.attr(_o,fo);return null==vo?'!='===yo:!yo||(vo+='','='===yo?vo===bo:'!='===yo?vo!==bo:'^='===yo?bo&&0===vo.indexOf(bo):'*='===yo?bo&&-1<vo.indexOf(bo):'$='===yo?bo&&vo.slice(-bo.length)===bo:'~='===yo?-1<(' '+vo.replace(Jn,' ')+' ').indexOf(bo):'|='==yo&&(vo===bo||vo.slice(0,bo.length+1)===bo+'-'))}},CHILD:function(fo,yo,bo,_o,vo){var wo='nth'!==fo.slice(0,3),xo='last'!==fo.slice(-4),Co='of-type'===yo;return 1===_o&&0===vo?// Shortcut for :nth-*(n)
function(To){return!!To.parentNode}:function(To,Do,So){var Io=wo==xo?'previousSibling':'nextSibling',Lo=To.parentNode,Ho=Co&&To.nodeName.toLowerCase(),Mo=!So&&!Co,jo,No,Po,Eo,Oo,Ao;if(Lo){// :(first|last|only)-(child|of-type)
if(wo){for(;Io;){for(Po=To;Po=Po[Io];)if(Co?Po.nodeName.toLowerCase()===Ho:1===Po.nodeType)return!1;// Reverse direction for :only-* (if we haven't yet done so)
Ao=Io='only'===fo&&!Ao&&'nextSibling'}return!0}// non-xml :nth-child(...) stores cache data on `parent`
if(Ao=[xo?Lo.firstChild:Lo.lastChild],xo&&Mo){for(No=Lo[Nn]||(Lo[Nn]={}),jo=No[fo]||[],Oo=jo[0]===En&&jo[1],Eo=jo[0]===En&&jo[2],Po=Oo&&Lo.childNodes[Oo];Po=++Oo&&Po&&Po[Io]||(// Fallback to seeking `elem` from the start
Eo=Oo=0)||Ao.pop();)// When found, cache indexes on `parent` and break
if(1===Po.nodeType&&++Eo&&Po===To){No[fo]=[En,Oo,Eo];break}// Use previously-cached element index if available
}else if(Mo&&(jo=(To[Nn]||(To[Nn]={}))[fo])&&jo[0]===En)Eo=jo[1];else// Use the same loop as above to seek `elem` from the start
for(;(Po=++Oo&&Po&&Po[Io]||(Eo=Oo=0)||Ao.pop())&&!((Co?Po.nodeName.toLowerCase()===Ho:1===Po.nodeType)&&++Eo&&(Mo&&((Po[Nn]||(Po[Nn]={}))[fo]=[En,Eo]),Po===To)););// Incorporate the offset, then check against cycle size
return Eo-=vo,Eo===_o||0==Eo%_o&&0<=Eo/_o}}},PSEUDO:function(fo,yo){// pseudo-class names are case-insensitive
// http://www.w3.org/TR/selectors/#pseudo-classes
// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
// Remember that setFilters inherits from pseudos
var _o=pn.pseudos[fo]||pn.setFilters[fo.toLowerCase()]||Ya.error('unsupported pseudo: '+fo),bo;// The user may use createPseudo to indicate that
// arguments are needed to create the filter function
// just as Sizzle does
return _o[Nn]?_o(yo):1<_o.length?(bo=[fo,fo,'',yo],pn.setFilters.hasOwnProperty(fo.toLowerCase())?qa(function(vo,wo){for(var Co=_o(vo,yo),To=Co.length,xo;To--;)xo=qn(vo,Co[To]),vo[xo]=!(wo[xo]=Co[To])}):function(vo){return _o(vo,0,bo)}):_o;// But maintain support for old signatures
}},pseudos:{// Potentially complex pseudos
not:qa(function(fo){// Trim the selector passed to compile
// to avoid treating leading and trailing
// spaces as combinators
var yo=[],bo=[],_o=mn(fo.replace(Qn,'$1'));return _o[Nn]?qa(function(vo,wo,xo,Co){// Match elements unmatched by `matcher`
for(var Do=_o(vo,null,Co,[]),So=vo.length,To;So--;)(To=Do[So])&&(vo[So]=!(wo[So]=To))}):function(vo,wo,xo){return yo[0]=vo,_o(yo,null,xo,bo),yo[0]=null,!bo.pop()}}),has:qa(function(fo){return function(yo){return 0<Ya(fo,yo).length}}),contains:qa(function(fo){return fo=fo.replace(ho,go),function(yo){return-1<(yo.textContent||yo.innerText||un(yo)).indexOf(fo)}}),// "Whether an element is represented by a :lang() selector
// is based solely on the element's language value
// being equal to the identifier C,
// or beginning with the identifier C immediately followed by "-".
// The matching of C against the element's language value is performed case-insensitively.
// The identifier C does not have to be a valid language name."
// http://www.w3.org/TR/selectors/#lang-pseudo
lang:qa(function(fo){return oo.test(fo||'')||Ya.error('unsupported lang: '+fo),fo=fo.replace(ho,go).toLowerCase(),function(yo){var bo;do if(bo=Cn?yo.lang:yo.getAttribute('xml:lang')||yo.getAttribute('lang'))return bo=bo.toLowerCase(),bo===fo||0===bo.indexOf(fo+'-');while((yo=yo.parentNode)&&1===yo.nodeType);return!1}}),// Miscellaneous
target:function(fo){var yo=$a.location&&$a.location.hash;return yo&&yo.slice(1)===fo.id},root:function(fo){return fo===kn},focus:function(fo){return fo===xn.activeElement&&(!xn.hasFocus||xn.hasFocus())&&!!(fo.type||fo.href||~fo.tabIndex)},// Boolean properties
enabled:function(fo){return!1===fo.disabled},disabled:function(fo){return!0===fo.disabled},checked:function(fo){// In CSS3, :checked should return both checked and selected elements
// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
var yo=fo.nodeName.toLowerCase();return'input'===yo&&!!fo.checked||'option'===yo&&!!fo.selected},selected:function(fo){return fo.parentNode&&fo.parentNode.selectedIndex,!0===fo.selected},// Contents
empty:function(fo){// http://www.w3.org/TR/selectors/#empty-pseudo
// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
//   but not by others (comment: 8; processing instruction: 7; etc.)
// nodeType < 6 works because attributes (2) do not appear as children
for(fo=fo.firstChild;fo;fo=fo.nextSibling)if(6>fo.nodeType)return!1;return!0},parent:function(fo){return!pn.pseudos.empty(fo)},// Element/input types
header:function(fo){return ro.test(fo.nodeName)},input:function(fo){return so.test(fo.nodeName)},button:function(fo){var yo=fo.nodeName.toLowerCase();return'input'===yo&&'button'===fo.type||'button'===yo},text:function(fo){var yo;return'input'===fo.nodeName.toLowerCase()&&'text'===fo.type&&(// Support: IE<8
// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
null==(yo=fo.getAttribute('type'))||'text'===yo.toLowerCase())},// Position-in-collection
first:Xa(function(){return[0]}),last:Xa(function(fo,yo){return[yo-1]}),eq:Xa(function(fo,yo,bo){return[0>bo?bo+yo:bo]}),even:Xa(function(fo,yo){for(var bo=0;bo<yo;bo+=2)fo.push(bo);return fo}),odd:Xa(function(fo,yo){for(var bo=1;bo<yo;bo+=2)fo.push(bo);return fo}),lt:Xa(function(fo,yo,bo){for(var _o=0>bo?bo+yo:bo;0<=--_o;)fo.push(_o);return fo}),gt:Xa(function(fo,yo,bo){for(var _o=0>bo?bo+yo:bo;++_o<yo;)fo.push(_o);return fo})}},pn.pseudos.nth=pn.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})pn.pseudos[dn]=Ka(dn);for(dn in{submit:!0,reset:!0})pn.pseudos[dn]=Ga(dn);return Qa.prototype=pn.filters=pn.pseudos,pn.setFilters=new Qa,gn=Ya.tokenize=function(fo,yo){var Do=In[fo+' '],bo,_o,vo,wo,xo,Co,To;if(Do)return yo?0:Do.slice(0);for(xo=fo,Co=[],To=pn.preFilter;xo;){// Filters
for(wo in(!bo||(_o=Zn.exec(xo)))&&(_o&&(xo=xo.slice(_o[0].length)||xo),Co.push(vo=[])),bo=!1,(_o=eo.exec(xo))&&(bo=_o.shift(),vo.push({value:bo,// Cast descendant combinators to space
type:_o[0].replace(Qn,' ')}),xo=xo.slice(bo.length)),pn.filter)(_o=io[wo].exec(xo))&&(!To[wo]||(_o=To[wo](_o)))&&(bo=_o.shift(),vo.push({value:bo,type:wo,matches:_o}),xo=xo.slice(bo.length));if(!bo)break}// Return the length of the invalid excess
// if we're just parsing
// Otherwise, throw an error or return tokens
return yo?xo.length:xo?Ya.error(fo):// Cache the tokens
In(fo,Co).slice(0)},mn=Ya.compile=function(fo,yo/* Internal Use Only */){var _o=[],vo=[],wo=Ln[fo+' '],bo;if(!wo){for(yo||(yo=gn(fo)),bo=yo.length;bo--;)wo=rn(yo[bo]),wo[Nn]?_o.push(wo):vo.push(wo);// Cache the compiled function
wo=Ln(fo,ln(vo,_o)),wo.selector=fo}return wo},yn=Ya.select=function(fo,yo,bo,_o){var Do='function'==typeof fo&&fo,So=!_o&&gn(fo=Do.selector||fo),vo,wo,xo,Co,To;// Try to minimize operations if there is no seed and only one group
if(bo=bo||[],1===So.length){if(wo=So[0]=So[0].slice(0),2<wo.length&&'ID'===(xo=wo[0]).type&&cn.getById&&9===yo.nodeType&&Cn&&pn.relative[wo[1].type]){if(yo=(pn.find.ID(xo.matches[0].replace(ho,go),yo)||[])[0],!yo)return bo;// Precompiled matchers will still verify ancestry, so step up a level
Do&&(yo=yo.parentNode),fo=fo.slice(wo.shift().value.length)}// Fetch a seed set for right-to-left matching
for(vo=io.needsContext.test(fo)?0:wo.length;vo--&&(xo=wo[vo],!pn.relative[Co=xo.type]);)if((To=pn.find[Co])&&(_o=To(xo.matches[0].replace(ho,go),po.test(wo[0].type)&&Ja(yo.parentNode)||yo))){if(wo.splice(vo,1),fo=_o.length&&Za(wo),!fo)return Yn.apply(bo,_o),bo;break}}// Compile and execute a filtering function if one is not provided
// Provide `match` to avoid retokenization if we modified the selector above
return(Do||mn(fo,So))(_o,yo,!Cn,bo,po.test(fo)&&Ja(yo.parentNode)||yo),bo},cn.sortStable=Nn.split('').sort(Hn).join('')===Nn,cn.detectDuplicates=!!vn,wn(),cn.sortDetached=Ba(function(fo){// Should return 1, but returns 4 (following)
return 1&fo.compareDocumentPosition(xn.createElement('div'))}),Ba(function(fo){return fo.innerHTML='<a href=\'#\'></a>','#'===fo.firstChild.getAttribute('href')})||Ua('type|href|height|width',function(fo,yo,bo){if(!bo)return fo.getAttribute(yo,'type'===yo.toLowerCase()?1:2)}),cn.attributes&&Ba(function(fo){return fo.innerHTML='<input/>',fo.firstChild.setAttribute('value',''),''===fo.firstChild.getAttribute('value')})||Ua('value',function(fo,yo,bo){if(!bo&&'input'===fo.nodeName.toLowerCase())return fo.defaultValue}),Ba(function(fo){return null==fo.getAttribute('disabled')})||Ua(Bn,function(fo,yo,bo){var _o;if(!bo)return!0===fo[yo]?yo.toLowerCase():(_o=fo.getAttributeNode(yo))&&_o.specified?_o.value:null}),Ya}(ee);et.find=it,et.expr=it.selectors,et.expr[':']=et.expr.pseudos,et.unique=it.uniqueSort,et.text=it.getText,et.isXMLDoc=it.isXML,et.contains=it.contains;var st=et.expr.match.needsContext,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lt=/^.[^:#\[\.,]*$/;et.filter=function($a,Ya,Fa){var qa=Ya[0];return Fa&&($a=':not('+$a+')'),1===Ya.length&&1===qa.nodeType?et.find.matchesSelector(qa,$a)?[qa]:[]:et.find.matches($a,et.grep(Ya,function(Ba){return 1===Ba.nodeType}))},et.fn.extend({find:function($a){var Fa=this.length,qa=[],Ba=this,Ya;if('string'!=typeof $a)return this.pushStack(et($a).filter(function(){for(Ya=0;Ya<Fa;Ya++)if(et.contains(Ba[Ya],this))return!0}));for(Ya=0;Ya<Fa;Ya++)et.find($a,Ba[Ya],qa);// Needed because $( selector, context ) becomes $( context ).find( selector )
return qa=this.pushStack(1<Fa?et.unique(qa):qa),qa.selector=this.selector?this.selector+' '+$a:$a,qa},filter:function($a){return this.pushStack(ne(this,$a||[],!1))},not:function($a){return this.pushStack(ne(this,$a||[],!0))},is:function($a){return!!ne(this,// If this is a positional/relative selector, check membership in the returned set
// so $("p:first").is("p:last") won't return true for a doc with two "p".
'string'==typeof $a&&st.test($a)?et($a):$a||[],!1).length}});// Initialize a jQuery object
// A central reference to the root jQuery(document)
var// A simple way to check for HTML strings
// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
// Strict HTML recognition (#11290: must start with <)
pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=et.fn.init=function($a,Ya){var Fa,qa;// HANDLE: $(""), $(null), $(undefined), $(false)
if(!$a)return this;// Handle HTML strings
if('string'==typeof $a){// Match html or make sure no context is specified for #id
if(Fa='<'===$a[0]&&'>'===$a[$a.length-1]&&3<=$a.length?[null,$a,null]:pt.exec($a),Fa&&(Fa[1]||!Ya)){// HANDLE: $(html) -> $(array)
if(Fa[1]){// HANDLE: $(html, props)
if(Ya=Ya instanceof et?Ya[0]:Ya,et.merge(this,et.parseHTML(Fa[1],Ya&&Ya.nodeType?Ya.ownerDocument||Ya:Qe,!0)),rt.test(Fa[1])&&et.isPlainObject(Ya))for(Fa in Ya)// Properties of context are called as methods if possible
et.isFunction(this[Fa])?this[Fa](Ya[Fa]):this.attr(Fa,Ya[Fa]);return this;// HANDLE: $(#id)
}// HANDLE: $(expr, $(...))
return qa=Qe.getElementById(Fa[2]),qa&&qa.parentNode&&(this.length=1,this[0]=qa),this.context=Qe,this.selector=$a,this}// HANDLE: $(DOMElement)
return!Ya||Ya.jquery?(Ya||dt).find($a):this.constructor(Ya).find($a)}return $a.nodeType?(this.context=this[0]=$a,this.length=1,this):et.isFunction($a)?'undefined'==typeof dt.ready?// Execute immediately if ready is not present
$a(et):dt.ready($a):(void 0!==$a.selector&&(this.selector=$a.selector,this.context=$a.context),et.makeArray($a,this))},dt;// Give the init function the jQuery prototype for later instantiation
ut.prototype=et.fn,dt=et(Qe);var ht=/^(?:parents|prev(?:Until|All))/,// Methods guaranteed to produce a unique set when starting from a unique set
gt={children:!0,contents:!0,next:!0,prev:!0};et.extend({dir:function($a,Ya,Fa){for(var qa=[],Ba=void 0!==Fa;($a=$a[Ya])&&9!==$a.nodeType;)if(1===$a.nodeType){if(Ba&&et($a).is(Fa))break;qa.push($a)}return qa},sibling:function($a,Ya){for(var Fa=[];$a;$a=$a.nextSibling)1===$a.nodeType&&$a!==Ya&&Fa.push($a);return Fa}}),et.fn.extend({has:function($a){var Ya=et($a,this),Fa=Ya.length;return this.filter(function(){for(var qa=0;qa<Fa;qa++)if(et.contains(this,Ya[qa]))return!0})},closest:function($a,Ya){for(var qa=0,Ba=this.length,Ua=[],Va=st.test($a)||'string'!=typeof $a?et($a,Ya||this.context):0,Fa;qa<Ba;qa++)for(Fa=this[qa];Fa&&Fa!==Ya;Fa=Fa.parentNode)// Always skip document fragments
if(11>Fa.nodeType&&(Va?-1<Va.index(Fa):// Don't pass non-elements to Sizzle
1===Fa.nodeType&&et.find.matchesSelector(Fa,$a))){Ua.push(Fa);break}return this.pushStack(1<Ua.length?et.unique(Ua):Ua)},// Determine the position of an element within the set
index:function($a){// No argument, return index in parent
// Locate the position of the desired element
return $a?'string'==typeof $a?Ve.call(et($a),this[0]):Ve.call(this,// If it receives a jQuery object, the first element is used
$a.jquery?$a[0]:$a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;// Index in selector
},add:function($a,Ya){return this.pushStack(et.unique(et.merge(this.get(),et($a,Ya))))},addBack:function($a){return this.add(null==$a?this.prevObject:this.prevObject.filter($a))}}),et.each({parent:function($a){var Ya=$a.parentNode;return Ya&&11!==Ya.nodeType?Ya:null},parents:function($a){return et.dir($a,'parentNode')},parentsUntil:function($a,Ya,Fa){return et.dir($a,'parentNode',Fa)},next:function($a){return oe($a,'nextSibling')},prev:function($a){return oe($a,'previousSibling')},nextAll:function($a){return et.dir($a,'nextSibling')},prevAll:function($a){return et.dir($a,'previousSibling')},nextUntil:function($a,Ya,Fa){return et.dir($a,'nextSibling',Fa)},prevUntil:function($a,Ya,Fa){return et.dir($a,'previousSibling',Fa)},siblings:function($a){return et.sibling(($a.parentNode||{}).firstChild,$a)},children:function($a){return et.sibling($a.firstChild)},contents:function($a){return $a.contentDocument||et.merge([],$a.childNodes)}},function($a,Ya){et.fn[$a]=function(Fa,qa){var Ba=et.map(this,Ya,Fa);return'Until'!==$a.slice(-5)&&(qa=Fa),qa&&'string'==typeof qa&&(Ba=et.filter(qa,Ba)),1<this.length&&(!gt[$a]&&et.unique(Ba),ht.test($a)&&Ba.reverse()),this.pushStack(Ba)}});var mt=/\S+/g,ft={};// String to Object options format cache
et.Callbacks=function($a){$a='string'==typeof $a?ft[$a]||ie($a):et.extend({},$a);var// Actual callback list
Ka=[],// Stack of fire calls for repeatable lists
Ga=!$a.once&&[],// Fire callbacks
Xa=function(Qa){for(Ya=$a.memory&&Qa,Fa=!0,Va=Ba||0,Ba=0,Ua=Ka.length,qa=!0;Ka&&Va<Ua;Va++)if(!1===Ka[Va].apply(Qa[0],Qa[1])&&$a.stopOnFalse){Ya=!1;// To prevent further calls using add
break}qa=!1,Ka&&(Ga?Ga.length&&Xa(Ga.shift()):Ya?Ka=[]:Ja.disable())},// Actual Callbacks object
Ja={// Add a callback or a collection of callbacks to the list
add:function(){if(Ka){// First, we save the current length
var Qa=Ka.length;(function Za(en){et.each(en,function(tn,an){var nn=et.type(an);'function'===nn?(!$a.unique||!Ja.has(an))&&Ka.push(an):an&&an.length&&'string'!==nn&&Za(an)})})(arguments),qa?Ua=Ka.length:Ya&&(Ba=Qa,Xa(Ya))}return this},// Remove a callback from the list
remove:function(){return Ka&&et.each(arguments,function(Qa,Za){for(var en;-1<(en=et.inArray(Za,Ka,en));)Ka.splice(en,1),qa&&(en<=Ua&&Ua--,en<=Va&&Va--)}),this},// Check if a given callback is in the list.
// If no argument is given, return whether or not list has callbacks attached.
has:function(Qa){return Qa?-1<et.inArray(Qa,Ka):!!(Ka&&Ka.length)},// Remove all callbacks from the list
empty:function(){return Ka=[],Ua=0,this},// Have the list do nothing anymore
disable:function(){return Ka=Ga=Ya=void 0,this},// Is it disabled?
disabled:function(){return!Ka},// Lock the list in its current state
lock:function(){return Ga=void 0,Ya||Ja.disable(),this},// Is it locked?
locked:function(){return!Ga},// Call all callbacks with the given context and arguments
fireWith:function(Qa,Za){return Ka&&(!Fa||Ga)&&(Za=Za||[],Za=[Qa,Za.slice?Za.slice():Za],qa?Ga.push(Za):Xa(Za)),this},// Call all the callbacks with the given arguments
fire:function(){return Ja.fireWith(this,arguments),this},// To know if the callbacks have already been called at least once
fired:function(){return!!Fa}},// Last fire value (for non-forgettable lists)
Ya,// Flag to know if list was already fired
Fa,// Flag to know if list is currently firing
qa,// First callback to fire (used internally by add and fireWith)
Ba,// End of the loop when firing
Ua,// Index of currently firing callback (modified by remove if needed)
Va;return Ja},et.extend({Deferred:function($a){var Ya=[// action, add listener, listener list, final state
['resolve','done',et.Callbacks('once memory'),'resolved'],['reject','fail',et.Callbacks('once memory'),'rejected'],['notify','progress',et.Callbacks('memory')]],Fa='pending',qa={state:function(){return Fa},always:function(){return Ba.done(arguments).fail(arguments),this},then:function()/* fnDone, fnFail, fnProgress */{var Ua=arguments;return et.Deferred(function(Va){et.each(Ya,function(Ka,Ga){var Xa=et.isFunction(Ua[Ka])&&Ua[Ka];// deferred[ done | fail | progress ] for forwarding actions to newDefer
Ba[Ga[1]](function(){var Ja=Xa&&Xa.apply(this,arguments);Ja&&et.isFunction(Ja.promise)?Ja.promise().done(Va.resolve).fail(Va.reject).progress(Va.notify):Va[Ga[0]+'With'](this===qa?Va.promise():this,Xa?[Ja]:arguments)})}),Ua=null}).promise()},// Get a promise for this deferred
// If obj is provided, the promise aspect is added to the object
promise:function(Ua){return null==Ua?qa:et.extend(Ua,qa)}},Ba={};// Keep pipe for back-compat
// All done!
return qa.pipe=qa.then,et.each(Ya,function(Ua,Va){var Ka=Va[2],Ga=Va[3];// promise[ done | fail | progress ] = list.add
qa[Va[1]]=Ka.add,Ga&&Ka.add(function(){Fa=Ga},Ya[1^Ua][2].disable,Ya[2][2].lock),Ba[Va[0]]=function(){return Ba[Va[0]+'With'](this===Ba?qa:this,arguments),this},Ba[Va[0]+'With']=Ka.fireWith}),qa.promise(Ba),$a&&$a.call(Ba,Ba),Ba},// Deferred helper
when:function($a/* , ..., subordinateN */){var Ya=0,Fa=qe.call(arguments),qa=Fa.length,// the count of uncompleted subordinates
Ba=1!==qa||$a&&et.isFunction($a.promise)?qa:0,// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
Ua=1===Ba?$a:et.Deferred(),// Update function for both resolve and progress values
Va=function(Ja,Qa,Za){return function(en){Qa[Ja]=this,Za[Ja]=1<arguments.length?qe.call(arguments):en,Za===Ka?Ua.notifyWith(Qa,Za):! --Ba&&Ua.resolveWith(Qa,Za)}},Ka,Ga,Xa;// Add listeners to Deferred subordinates; treat others as resolved
if(1<qa)for(Ka=Array(qa),Ga=Array(qa),Xa=Array(qa);Ya<qa;Ya++)Fa[Ya]&&et.isFunction(Fa[Ya].promise)?Fa[Ya].promise().done(Va(Ya,Xa,Fa)).fail(Ua.reject).progress(Va(Ya,Ga,Ka)):--Ba;// If we're not waiting on anything, resolve the master
return Ba||Ua.resolveWith(Xa,Fa),Ua.promise()}});// The deferred used on DOM ready
var yt;et.fn.ready=function($a){return et.ready.promise().done($a),this},et.extend({// Is the DOM ready to be used? Set to true once it occurs.
isReady:!1,// A counter to track how many items to wait for before
// the ready event fires. See #6781
readyWait:1,// Hold (or release) the ready event
holdReady:function($a){$a?et.readyWait++:et.ready(!0)},// Handle when the DOM is ready
ready:function($a){(!0===$a?! --et.readyWait:!et.isReady)&&(et.isReady=!0,!0!==$a&&0<--et.readyWait||(yt.resolveWith(Qe,[et]),et.fn.triggerHandler&&(et(Qe).triggerHandler('ready'),et(Qe).off('ready'))))}}),et.ready.promise=function($a){return yt||(yt=et.Deferred(),'complete'===Qe.readyState?setTimeout(et.ready):(Qe.addEventListener('DOMContentLoaded',se,!1),ee.addEventListener('load',se,!1))),yt.promise($a)},et.ready.promise();// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var bt=et.access=function($a,Ya,Fa,qa,Ba,Ua,Va){var Ka=0,Ga=$a.length,Xa=null==Fa;// Sets many values
if('object'===et.type(Fa))for(Ka in Ba=!0,Fa)et.access($a,Ya,Ka,Fa[Ka],!0,Ua,Va);// Sets one value
else if(void 0!==qa&&(Ba=!0,et.isFunction(qa)||(Va=!0),Xa&&(Va?(Ya.call($a,qa),Ya=null):(Xa=Ya,Ya=function(Ja,Qa,Za){return Xa.call(et(Ja),Za)})),Ya))for(;Ka<Ga;Ka++)Ya($a[Ka],Fa,Va?qa:qa.call($a[Ka],Ka,Ya($a[Ka],Fa)));return Ba?$a:// Gets
Xa?Ya.call($a):Ga?Ya($a[0],Fa):Ua};/**
 * Determines whether an object can have data
 */et.acceptData=function($a){// Accepts only:
//  - Node
//    - Node.ELEMENT_NODE
//    - Node.DOCUMENT_NODE
//  - Object
//    - Any
/* jshint -W018 */return 1===$a.nodeType||9===$a.nodeType||!+$a.nodeType},re.uid=1,re.accepts=et.acceptData,re.prototype={key:function($a){// We can accept data for non-element nodes in modern browsers,
// but we should not, see #8335.
// Always return the key for a frozen object.
if(!re.accepts($a))return 0;var Ya={},// Check if the owner object already has a cache key
Fa=$a[this.expando];// If not, create one
if(!Fa){Fa=re.uid++;// Secure it in a non-enumerable, non-writable property
try{Ya[this.expando]={value:Fa},Object.defineProperties($a,Ya)}catch(qa){Ya[this.expando]=Fa,et.extend($a,Ya)}}// Ensure the cache object
return this.cache[Fa]||(this.cache[Fa]={}),Fa},set:function($a,Ya,Fa){var// There may be an unlock assigned to this node,
// if there is no entry for this "owner", create one inline
// and set the unlock as though an owner entry had always existed
Ba=this.key($a),Ua=this.cache[Ba],qa;// Handle: [ owner, key, value ] args
if('string'==typeof Ya)Ua[Ya]=Fa;else// Fresh assignments by object are shallow copied
if(et.isEmptyObject(Ua))et.extend(this.cache[Ba],Ya);else for(qa in Ya)Ua[qa]=Ya[qa];return Ua},get:function($a,Ya){// Either a valid cache is found, or will be created.
// New caches will be created and the unlock returned,
// allowing direct access to the newly created
// empty data object. A valid owner object must be provided.
var Fa=this.cache[this.key($a)];return void 0===Ya?Fa:Fa[Ya]},access:function($a,Ya,Fa){var qa;// In cases where either:
//
//   1. No key was specified
//   2. A string key was specified, but no value provided
//
// Take the "read" path and allow the get method to determine
// which value to return, respectively either:
//
//   1. The entire cache object
//   2. The data stored at the key
//
return void 0===Ya||Ya&&'string'==typeof Ya&&void 0===Fa?(qa=this.get($a,Ya),void 0==qa?this.get($a,et.camelCase(Ya)):qa):(this.set($a,Ya,Fa),void 0===Fa?Ya:Fa);// [*]When the key is not a string, or both a key and value
// are specified, set or extend (existing objects) with either:
//
//   1. An object of properties
//   2. A key and value
//
// Since the "set" path can have two possible entry points
// return the expected data based on which path was taken[*]
},remove:function($a,Ya){var Ua=this.key($a),Va=this.cache[Ua],Fa,qa,Ba;if(void 0===Ya)this.cache[Ua]={};else for(et.isArray(Ya)?qa=Ya.concat(Ya.map(et.camelCase)):(Ba=et.camelCase(Ya),(Ya in Va)?qa=[Ya,Ba]:(qa=Ba,qa=(qa in Va)?[qa]:qa.match(mt)||[])),Fa=qa.length;Fa--;)delete Va[qa[Fa]]},hasData:function($a){return!et.isEmptyObject(this.cache[$a[this.expando]]||{})},discard:function($a){$a[this.expando]&&delete this.cache[$a[this.expando]]}};var _t=new re,vt=new re,wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014
et.extend({hasData:function($a){return vt.hasData($a)||_t.hasData($a)},data:function($a,Ya,Fa){return vt.access($a,Ya,Fa)},removeData:function($a,Ya){vt.remove($a,Ya)},// TODO: Now that all calls to _data and _removeData have been replaced
// with direct calls to data_priv methods, these can be deprecated.
_data:function($a,Ya,Fa){return _t.access($a,Ya,Fa)},_removeData:function($a,Ya){_t.remove($a,Ya)}}),et.fn.extend({data:function($a,Ya){var Ua=this[0],Va=Ua&&Ua.attributes,Fa,qa,Ba;// Gets all values
if(void 0===$a){if(this.length&&(Ba=vt.get(Ua),1===Ua.nodeType&&!_t.get(Ua,'hasDataAttrs'))){for(Fa=Va.length;Fa--;)// Support: IE11+
// The attrs elements can be null (#14894)
Va[Fa]&&(qa=Va[Fa].name,0===qa.indexOf('data-')&&(qa=et.camelCase(qa.slice(5)),le(Ua,qa,Ba[qa])));_t.set(Ua,'hasDataAttrs',!0)}return Ba}// Sets multiple values
return'object'==typeof $a?this.each(function(){vt.set(this,$a)}):bt(this,function(Ka){var Xa=et.camelCase($a),Ga;// The calling jQuery object (element matches) is not empty
// (and therefore has an element appears at this[ 0 ]) and the
// `value` parameter was not undefined. An empty jQuery object
// will result in `undefined` for elem = this[ 0 ] which will
// throw an exception if an attempt to read a data cache is made.
return Ua&&void 0===Ka?(Ga=vt.get(Ua,$a),void 0!=Ga)?Ga:(Ga=vt.get(Ua,Xa),void 0!=Ga)?Ga:(Ga=le(Ua,Xa,void 0),void 0==Ga?void 0:Ga):void this.each(function(){// First, attempt to store a copy or reference of any
// data that might've been store with a camelCased key.
var Ja=vt.get(this,Xa);// For HTML5 data-* attribute interop, we have to
// store property names with dashes in a camelCase form.
// This might not apply to all properties...*
vt.set(this,Xa,Ka),-1!==$a.indexOf('-')&&void 0!==Ja&&vt.set(this,$a,Ka)});// Set the data...
},null,Ya,1<arguments.length,null,!0)},removeData:function($a){return this.each(function(){vt.remove(this,$a)})}}),et.extend({queue:function($a,Ya,Fa){var qa;if($a)return Ya=(Ya||'fx')+'queue',qa=_t.get($a,Ya),Fa&&(!qa||et.isArray(Fa)?qa=_t.access($a,Ya,et.makeArray(Fa)):qa.push(Fa)),qa||[]},dequeue:function($a,Ya){Ya=Ya||'fx';var Fa=et.queue($a,Ya),qa=Fa.length,Ba=Fa.shift(),Ua=et._queueHooks($a,Ya),Va=function(){et.dequeue($a,Ya)};// If the fx queue is dequeued, always remove the progress sentinel
'inprogress'===Ba&&(Ba=Fa.shift(),qa--),Ba&&('fx'===Ya&&Fa.unshift('inprogress'),delete Ua.stop,Ba.call($a,Va,Ua)),!qa&&Ua&&Ua.empty.fire()},// Not public - generate a queueHooks object, or return the current one
_queueHooks:function($a,Ya){var Fa=Ya+'queueHooks';return _t.get($a,Fa)||_t.access($a,Fa,{empty:et.Callbacks('once memory').add(function(){_t.remove($a,[Ya+'queue',Fa])})})}}),et.fn.extend({queue:function($a,Ya){var Fa=2;return'string'!=typeof $a&&(Ya=$a,$a='fx',Fa--),arguments.length<Fa?et.queue(this[0],$a):void 0===Ya?this:this.each(function(){var qa=et.queue(this,$a,Ya);// Ensure a hooks for this queue
et._queueHooks(this,$a),'fx'===$a&&'inprogress'!==qa[0]&&et.dequeue(this,$a)})},dequeue:function($a){return this.each(function(){et.dequeue(this,$a)})},clearQueue:function($a){return this.queue($a||'fx',[])},// Get a promise resolved when queues of a certain type
// are emptied (fx is the type by default)
promise:function($a,Ya){var qa=1,Ba=et.Deferred(),Ua=this,Va=this.length,Ka=function(){--qa||Ba.resolveWith(Ua,[Ua])},Fa;for('string'!=typeof $a&&(Ya=$a,$a=void 0),$a=$a||'fx';Va--;)Fa=_t.get(Ua[Va],$a+'queueHooks'),Fa&&Fa.empty&&(qa++,Fa.empty.add(Ka));return Ka(),Ba.promise(Ya)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=['Top','Right','Bottom','Left'],Tt=function($a,Ya){return $a=Ya||$a,'none'===et.css($a,'display')||!et.contains($a.ownerDocument,$a)},Dt=/^(?:checkbox|radio)$/i;(function(){var $a=Qe.createDocumentFragment(),Ya=$a.appendChild(Qe.createElement('div')),Fa=Qe.createElement('input');// Support: Safari<=5.1
// Check state lost if the name is set (#11217)
// Support: Windows Web Apps (WWA)
// `name` and `type` must use .setAttribute for WWA (#14901)
Fa.setAttribute('type','radio'),Fa.setAttribute('checked','checked'),Fa.setAttribute('name','t'),Ya.appendChild(Fa),Je.checkClone=Ya.cloneNode(!0).cloneNode(!0).lastChild.checked,Ya.innerHTML='<textarea>x</textarea>',Je.noCloneChecked=!!Ya.cloneNode(!0).lastChild.defaultValue})();var St='undefined';Je.focusinBubbles='onfocusin'in ee;var jt=/^key/,Nt=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\.(.+)|)$/;et.event={global:{},add:function($a,Ya,Fa,qa,Ba){var nn=_t.get($a),Ua,Va,Ka,Ga,Xa,Ja,Qa,Za,en,tn,an;// Don't attach events to noData or text/comment nodes (but allow plain objects)
if(nn)for(Fa.handler&&(Ua=Fa,Fa=Ua.handler,Ba=Ua.selector),Fa.guid||(Fa.guid=et.guid++),(Ga=nn.events)||(Ga=nn.events={}),(Va=nn.handle)||(Va=nn.handle=function(sn){// Discard the second event of a jQuery.event.trigger() and
// when an event is called after a page has unloaded
return typeof et!=St&&et.event.triggered!==sn.type?et.event.dispatch.apply($a,arguments):void 0}),Ya=(Ya||'').match(mt)||[''],Xa=Ya.length;Xa--;)// There *must* be a type, no attaching namespace-only handlers
(Ka=Et.exec(Ya[Xa])||[],en=an=Ka[1],tn=(Ka[2]||'').split('.').sort(),!!en)&&(Qa=et.event.special[en]||{},en=(Ba?Qa.delegateType:Qa.bindType)||en,Qa=et.event.special[en]||{},Ja=et.extend({type:en,origType:an,data:qa,handler:Fa,guid:Fa.guid,selector:Ba,needsContext:Ba&&et.expr.match.needsContext.test(Ba),namespace:tn.join('.')},Ua),(Za=Ga[en])||(Za=Ga[en]=[],Za.delegateCount=0,(!Qa.setup||!1===Qa.setup.call($a,qa,tn,Va))&&$a.addEventListener&&$a.addEventListener(en,Va,!1)),Qa.add&&(Qa.add.call($a,Ja),!Ja.handler.guid&&(Ja.handler.guid=Fa.guid)),Ba?Za.splice(Za.delegateCount++,0,Ja):Za.push(Ja),et.event.global[en]=!0);// If event changes its type, use the special event handlers for the changed type
// Caller can pass in an object of custom data in lieu of the handler
},// Detach an event or set of events from an element
remove:function($a,Ya,Fa,qa,Ba){var nn=_t.hasData($a)&&_t.get($a),Ua,Va,Ka,Ga,Xa,Ja,Qa,Za,en,tn,an;if(nn&&(Ga=nn.events)){for(Ya=(Ya||'').match(mt)||[''],Xa=Ya.length;Xa--;){// Unbind all events (on this namespace, if provided) for the element
if(Ka=Et.exec(Ya[Xa])||[],en=an=Ka[1],tn=(Ka[2]||'').split('.').sort(),!en){for(en in Ga)et.event.remove($a,en+Ya[Xa],Fa,qa,!0);continue}for(Qa=et.event.special[en]||{},en=(qa?Qa.delegateType:Qa.bindType)||en,Za=Ga[en]||[],Ka=Ka[2]&&new RegExp('(^|\\.)'+tn.join('\\.(?:.*\\.|)')+'(\\.|$)'),Va=Ua=Za.length;Ua--;)Ja=Za[Ua],(Ba||an===Ja.origType)&&(!Fa||Fa.guid===Ja.guid)&&(!Ka||Ka.test(Ja.namespace))&&(!qa||qa===Ja.selector||'**'===qa&&Ja.selector)&&(Za.splice(Ua,1),Ja.selector&&Za.delegateCount--,Qa.remove&&Qa.remove.call($a,Ja));// Remove generic event handler if we removed something and no more handlers exist
// (avoids potential for endless recursion during removal of special event handlers)
Va&&!Za.length&&((!Qa.teardown||!1===Qa.teardown.call($a,tn,nn.handle))&&et.removeEvent($a,en,nn.handle),delete Ga[en])}// Remove the expando if it's no longer used
et.isEmptyObject(Ga)&&(delete nn.handle,_t.remove($a,'events'))}// Once for each type.namespace in types; type may be omitted
},trigger:function($a,Ya,Fa,qa){var Qa=[Fa||Qe],Za=Xe.call($a,'type')?$a.type:$a,en=Xe.call($a,'namespace')?$a.namespace.split('.'):[],Ba,Ua,Va,Ka,Ga,Xa,Ja;// Don't do events on text and comment nodes
if((Ua=Va=Fa=Fa||Qe,3!==Fa.nodeType&&8!==Fa.nodeType)&&!Pt.test(Za+et.event.triggered)&&(0<=Za.indexOf('.')&&(en=Za.split('.'),Za=en.shift(),en.sort()),Ga=0>Za.indexOf(':')&&'on'+Za,$a=$a[et.expando]?$a:new et.Event(Za,'object'==typeof $a&&$a),$a.isTrigger=qa?2:3,$a.namespace=en.join('.'),$a.namespace_re=$a.namespace?new RegExp('(^|\\.)'+en.join('\\.(?:.*\\.|)')+'(\\.|$)'):null,$a.result=void 0,$a.target||($a.target=Fa),Ya=null==Ya?[$a]:et.makeArray(Ya,[$a]),Ja=et.event.special[Za]||{},qa||!Ja.trigger||!1!==Ja.trigger.apply(Fa,Ya))){// Determine event propagation path in advance, per W3C events spec (#9951)
// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
if(!qa&&!Ja.noBubble&&!et.isWindow(Fa)){for(Ka=Ja.delegateType||Za,Pt.test(Ka+Za)||(Ua=Ua.parentNode);Ua;Ua=Ua.parentNode)Qa.push(Ua),Va=Ua;// Only add window if we got to document (e.g., not plain obj or detached DOM)
Va===(Fa.ownerDocument||Qe)&&Qa.push(Va.defaultView||Va.parentWindow||ee)}// Fire handlers on the event path
for(Ba=0;(Ua=Qa[Ba++])&&!$a.isPropagationStopped();)$a.type=1<Ba?Ka:Ja.bindType||Za,Xa=(_t.get(Ua,'events')||{})[$a.type]&&_t.get(Ua,'handle'),Xa&&Xa.apply(Ua,Ya),Xa=Ga&&Ua[Ga],Xa&&Xa.apply&&et.acceptData(Ua)&&($a.result=Xa.apply(Ua,Ya),!1===$a.result&&$a.preventDefault());return $a.type=Za,qa||$a.isDefaultPrevented()||Ja._default&&!1!==Ja._default.apply(Qa.pop(),Ya)||!et.acceptData(Fa)||!Ga||!et.isFunction(Fa[Za])||et.isWindow(Fa)||(Va=Fa[Ga],Va&&(Fa[Ga]=null),et.event.triggered=Za,Fa[Za](),et.event.triggered=void 0,Va&&(Fa[Ga]=Va)),$a.result}// focus/blur morphs to focusin/out; ensure we're not firing them right now
},dispatch:function($a){$a=et.event.fix($a);var Va=[],Ka=qe.call(arguments),Ga=(_t.get(this,'events')||{})[$a.type]||[],Xa=et.event.special[$a.type]||{},Ya,Fa,qa,Ba,Ua;// Use the fix-ed jQuery.Event rather than the (read-only) native event
// Call the preDispatch hook for the mapped type, and let it bail if desired
if(Ka[0]=$a,$a.delegateTarget=this,!(Xa.preDispatch&&!1===Xa.preDispatch.call(this,$a))){for(Va=et.event.handlers.call(this,$a,Ga),Ya=0;(Ba=Va[Ya++])&&!$a.isPropagationStopped();)for($a.currentTarget=Ba.elem,Fa=0;(Ua=Ba.handlers[Fa++])&&!$a.isImmediatePropagationStopped();)// Triggered event must either 1) have no namespace, or 2) have namespace(s)
// a subset or equal to those in the bound event (both can have no namespace).
(!$a.namespace_re||$a.namespace_re.test(Ua.namespace))&&($a.handleObj=Ua,$a.data=Ua.data,qa=((et.event.special[Ua.origType]||{}).handle||Ua.handler).apply(Ba.elem,Ka),void 0!=qa&&!1===($a.result=qa)&&($a.preventDefault(),$a.stopPropagation()));// Call the postDispatch hook for the mapped type
return Xa.postDispatch&&Xa.postDispatch.call(this,$a),$a.result}// Determine handlers
},handlers:function($a,Ya){var Va=[],Ka=Ya.delegateCount,Ga=$a.target,Fa,qa,Ba,Ua;// Find delegate handlers
// Black-hole SVG <use> instance trees (#13180)
// Avoid non-left-click bubbling in Firefox (#3861)
if(Ka&&Ga.nodeType&&(!$a.button||'click'!==$a.type))for(;Ga!==this;Ga=Ga.parentNode||this)// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
if(!0!==Ga.disabled||'click'!==$a.type){for(qa=[],Fa=0;Fa<Ka;Fa++)Ua=Ya[Fa],Ba=Ua.selector+' ',void 0===qa[Ba]&&(qa[Ba]=Ua.needsContext?0<=et(Ba,this).index(Ga):et.find(Ba,this,null,[Ga]).length),qa[Ba]&&qa.push(Ua);qa.length&&Va.push({elem:Ga,handlers:qa})}// Add the remaining (directly-bound) handlers
return Ka<Ya.length&&Va.push({elem:this,handlers:Ya.slice(Ka)}),Va},// Includes some event props shared by KeyEvent and MouseEvent
props:'altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),fixHooks:{},keyHooks:{props:'char charCode key keyCode'.split(' '),filter:function($a,Ya){return null==$a.which&&($a.which=null==Ya.charCode?Ya.keyCode:Ya.charCode),$a}},mouseHooks:{props:'button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function($a,Ya){var Ua=Ya.button,Fa,qa,Ba;// Calculate pageX/Y if missing and clientX/Y available
return null==$a.pageX&&null!=Ya.clientX&&(Fa=$a.target.ownerDocument||Qe,qa=Fa.documentElement,Ba=Fa.body,$a.pageX=Ya.clientX+(qa&&qa.scrollLeft||Ba&&Ba.scrollLeft||0)-(qa&&qa.clientLeft||Ba&&Ba.clientLeft||0),$a.pageY=Ya.clientY+(qa&&qa.scrollTop||Ba&&Ba.scrollTop||0)-(qa&&qa.clientTop||Ba&&Ba.clientTop||0)),$a.which||void 0===Ua||($a.which=1&Ua?1:2&Ua?3:4&Ua?2:0),$a}},fix:function($a){if($a[et.expando])return $a;// Create a writable copy of the event object and normalize some properties
var Ba=$a.type,Ua=$a,Va=this.fixHooks[Ba],Ya,Fa,qa;for(Va||(this.fixHooks[Ba]=Va=Nt.test(Ba)?this.mouseHooks:jt.test(Ba)?this.keyHooks:{}),qa=Va.props?this.props.concat(Va.props):this.props,$a=new et.Event(Ua),Ya=qa.length;Ya--;)Fa=qa[Ya],$a[Fa]=Ua[Fa];// Support: Cordova 2.5 (WebKit) (#13255)
// All events should have a target; Cordova deviceready doesn't
return $a.target||($a.target=Qe),3===$a.target.nodeType&&($a.target=$a.target.parentNode),Va.filter?Va.filter($a,Ua):$a},special:{load:{// Prevent triggered image.load events from bubbling to window.load
noBubble:!0},focus:{// Fire native event if possible so blur/focus sequence is correct
trigger:function(){if(this!==pe()&&this.focus)return this.focus(),!1},delegateType:'focusin'},blur:{trigger:function(){if(this===pe()&&this.blur)return this.blur(),!1},delegateType:'focusout'},click:{// For checkbox, fire native event so checked state will be right
trigger:function(){if('checkbox'===this.type&&this.click&&et.nodeName(this,'input'))return this.click(),!1},// For cross-browser consistency, don't fire native .click() on links
_default:function($a){return et.nodeName($a.target,'a')}},beforeunload:{postDispatch:function($a){void 0!==$a.result&&$a.originalEvent&&($a.originalEvent.returnValue=$a.result)}}},simulate:function($a,Ya,Fa,qa){// Piggyback on a donor event to simulate a different one.
// Fake originalEvent to avoid donor's stopPropagation, but if the
// simulated event prevents default then we do the same on the donor.
var Ba=et.extend(new et.Event,Fa,{type:$a,isSimulated:!0,originalEvent:{}});qa?et.event.trigger(Ba,null,Ya):et.event.dispatch.call(Ya,Ba),Ba.isDefaultPrevented()&&Fa.preventDefault()}},et.removeEvent=function($a,Ya,Fa){$a.removeEventListener&&$a.removeEventListener(Ya,Fa,!1)},et.Event=function($a,Ya){// Allow instantiation without the 'new' keyword
return this instanceof et.Event?void($a&&$a.type?(this.originalEvent=$a,this.type=$a.type,this.isDefaultPrevented=$a.defaultPrevented||void 0===$a.defaultPrevented&&// Support: Android<4.0
!1===$a.returnValue?de:ce):this.type=$a,Ya&&et.extend(this,Ya),this.timeStamp=$a&&$a.timeStamp||et.now(),this[et.expando]=!0):new et.Event($a,Ya);// Event object
},et.Event.prototype={isDefaultPrevented:ce,isPropagationStopped:ce,isImmediatePropagationStopped:ce,preventDefault:function(){var $a=this.originalEvent;this.isDefaultPrevented=de,$a&&$a.preventDefault&&$a.preventDefault()},stopPropagation:function(){var $a=this.originalEvent;this.isPropagationStopped=de,$a&&$a.stopPropagation&&$a.stopPropagation()},stopImmediatePropagation:function(){var $a=this.originalEvent;this.isImmediatePropagationStopped=de,$a&&$a.stopImmediatePropagation&&$a.stopImmediatePropagation(),this.stopPropagation()}},et.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function($a,Ya){et.event.special[$a]={delegateType:Ya,bindType:Ya,handle:function(Fa){var Ba=this,Ua=Fa.relatedTarget,Va=Fa.handleObj,qa;// For mousenter/leave call the handler if related is outside the target.
// NB: No relatedTarget if the mouse left/entered the browser window
return Ua&&(Ua===Ba||et.contains(Ba,Ua))||(Fa.type=Va.origType,qa=Va.handler.apply(this,arguments),Fa.type=Ya),qa}}}),Je.focusinBubbles||et.each({focus:'focusin',blur:'focusout'},function($a,Ya){// Attach a single capturing handler on the document while someone wants focusin/focusout
var Fa=function(qa){et.event.simulate(Ya,qa.target,et.event.fix(qa),!0)};et.event.special[Ya]={setup:function(){var qa=this.ownerDocument||this,Ba=_t.access(qa,Ya);Ba||qa.addEventListener($a,Fa,!0),_t.access(qa,Ya,(Ba||0)+1)},teardown:function(){var qa=this.ownerDocument||this,Ba=_t.access(qa,Ya)-1;Ba?_t.access(qa,Ya,Ba):(qa.removeEventListener($a,Fa,!0),_t.remove(qa,Ya))}}}),et.fn.extend({on:function($a,Ya,Fa,qa,/*INTERNAL*/Ba){var Ua,Va;// Types can be a map of types/handlers
if('object'==typeof $a){for(Va in'string'!=typeof Ya&&(Fa=Fa||Ya,Ya=void 0),$a)this.on(Va,Ya,Fa,$a[Va],Ba);return this}if(null==Fa&&null==qa?(qa=Ya,Fa=Ya=void 0):null==qa&&('string'==typeof Ya?(qa=Fa,Fa=void 0):(qa=Fa,Fa=Ya,Ya=void 0)),!1===qa)qa=ce;else if(!qa)return this;return 1===Ba&&(Ua=qa,qa=function(Ka){return et().off(Ka),Ua.apply(this,arguments)},qa.guid=Ua.guid||(Ua.guid=et.guid++)),this.each(function(){et.event.add(this,$a,qa,Fa,Ya)})},one:function($a,Ya,Fa,qa){return this.on($a,Ya,Fa,qa,1)},off:function($a,Ya,Fa){var qa,Ba;if($a&&$a.preventDefault&&$a.handleObj)return qa=$a.handleObj,et($a.delegateTarget).off(qa.namespace?qa.origType+'.'+qa.namespace:qa.origType,qa.selector,qa.handler),this;if('object'==typeof $a){// ( types-object [, selector] )
for(Ba in $a)this.off(Ba,Ya,$a[Ba]);return this}return(!1===Ya||'function'==typeof Ya)&&(Fa=Ya,Ya=void 0),!1===Fa&&(Fa=ce),this.each(function(){et.event.remove(this,$a,Fa,Ya)})},trigger:function($a,Ya){return this.each(function(){et.event.trigger($a,Ya,this)})},triggerHandler:function($a,Ya){var Fa=this[0];if(Fa)return et.event.trigger($a,Ya,Fa,!0)}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,At=/<([\w:]+)/,It=/<|&#?\w+;/,Lt=/<(?:script|style|link)/i,// checked="checked" or checked
Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^$|\/(?:java|ecma)script/i,zt=/^true\/(.*)/,Wt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,// We have to close these tags to support XHTML (#13200)
Rt={// Support: IE9
option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']};// Support: IE9
Rt.optgroup=Rt.option,Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td,et.extend({clone:function($a,Ya,Fa){var Ka=$a.cloneNode(!0),Ga=et.contains($a.ownerDocument,$a),qa,Ba,Ua,Va;// Fix IE cloning issues
if(!Je.noCloneChecked&&(1===$a.nodeType||11===$a.nodeType)&&!et.isXMLDoc($a))for(Va=be(Ka),Ua=be($a),(qa=0,Ba=Ua.length);qa<Ba;qa++)_e(Ua[qa],Va[qa]);// Copy the events from the original to the clone
if(Ya)if(Fa)for(Ua=Ua||be($a),Va=Va||be(Ka),(qa=0,Ba=Ua.length);qa<Ba;qa++)ye(Ua[qa],Va[qa]);else ye($a,Ka);// Preserve script evaluation history
// Return the cloned set
return Va=be(Ka,'script'),0<Va.length&&fe(Va,!Ga&&be($a,'script')),Ka},buildFragment:function($a,Ya,Fa,qa){for(var Ja=Ya.createDocumentFragment(),Qa=[],Za=0,en=$a.length,Ba,Ua,Va,Ka,Ga,Xa;Za<en;Za++)if(Ba=$a[Za],Ba||0===Ba)// Add nodes directly
if('object'===et.type(Ba))et.merge(Qa,Ba.nodeType?[Ba]:Ba);else if(!It.test(Ba))Qa.push(Ya.createTextNode(Ba));else{for(Ua=Ua||Ja.appendChild(Ya.createElement('div')),Va=(At.exec(Ba)||['',''])[1].toLowerCase(),Ka=Rt[Va]||Rt._default,Ua.innerHTML=Ka[1]+Ba.replace(Ot,'<$1></$2>')+Ka[2],Xa=Ka[0];Xa--;)Ua=Ua.lastChild;// Support: QtWebKit, PhantomJS
// push.apply(_, arraylike) throws on ancient WebKit
et.merge(Qa,Ua.childNodes),Ua=Ja.firstChild,Ua.textContent=''}// Remove wrapper from fragment
for(Ja.textContent='',Za=0;Ba=Qa[Za++];)// #4087 - If origin and destination elements are the same, and this is
// that element, do not do anything
if(!(qa&&-1!==et.inArray(Ba,qa))&&(Ga=et.contains(Ba.ownerDocument,Ba),Ua=be(Ja.appendChild(Ba),'script'),Ga&&fe(Ua),Fa))for(Xa=0;Ba=Ua[Xa++];)Mt.test(Ba.type||'')&&Fa.push(Ba);// Capture executables
return Ja},cleanData:function($a){for(var Ua=et.event.special,Va=0,Ya,Fa,qa,Ba;void 0!==(Fa=$a[Va]);Va++){if(et.acceptData(Fa)&&(Ba=Fa[_t.expando],Ba&&(Ya=_t.cache[Ba]))){if(Ya.events)for(qa in Ya.events)Ua[qa]?et.event.remove(Fa,qa):et.removeEvent(Fa,qa,Ya.handle);_t.cache[Ba]&&delete _t.cache[Ba]}// Discard any remaining `user` data
delete vt.cache[Fa[vt.expando]]}}}),et.fn.extend({text:function($a){return bt(this,function(Ya){return void 0===Ya?et.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=Ya)})},null,$a,arguments.length)},append:function(){return this.domManip(arguments,function($a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var Ya=ue(this,$a);Ya.appendChild($a)}})},prepend:function(){return this.domManip(arguments,function($a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var Ya=ue(this,$a);Ya.insertBefore($a,Ya.firstChild)}})},before:function(){return this.domManip(arguments,function($a){this.parentNode&&this.parentNode.insertBefore($a,this)})},after:function(){return this.domManip(arguments,function($a){this.parentNode&&this.parentNode.insertBefore($a,this.nextSibling)})},remove:function($a,Ya/* Internal Use Only */){for(var qa=$a?et.filter($a,this):this,Ba=0,Fa;null!=(Fa=qa[Ba]);Ba++)Ya||1!==Fa.nodeType||et.cleanData(be(Fa)),Fa.parentNode&&(Ya&&et.contains(Fa.ownerDocument,Fa)&&fe(be(Fa,'script')),Fa.parentNode.removeChild(Fa));return this},empty:function(){for(var Ya=0,$a;null!=($a=this[Ya]);Ya++)1===$a.nodeType&&(et.cleanData(be($a,!1)),$a.textContent='');return this},clone:function($a,Ya){return $a=null!=$a&&$a,Ya=null==Ya?$a:Ya,this.map(function(){return et.clone(this,$a,Ya)})},html:function($a){return bt(this,function(Ya){var Fa=this[0]||{},qa=0,Ba=this.length;if(void 0===Ya&&1===Fa.nodeType)return Fa.innerHTML;// See if we can take a shortcut and just use innerHTML
if('string'==typeof Ya&&!Lt.test(Ya)&&!Rt[(At.exec(Ya)||['',''])[1].toLowerCase()]){Ya=Ya.replace(Ot,'<$1></$2>');try{for(;qa<Ba;qa++)Fa=this[qa]||{},1===Fa.nodeType&&(et.cleanData(be(Fa,!1)),Fa.innerHTML=Ya);Fa=0}catch(Ua){}}Fa&&this.empty().append(Ya)},null,$a,arguments.length)},replaceWith:function(){var $a=arguments[0];// Make the changes, replacing each context element with the new content
// Force removal if there was no new content (e.g., from empty arguments)
return this.domManip(arguments,function(Ya){$a=this.parentNode,et.cleanData(be(this)),$a&&$a.replaceChild(Ya,this)}),$a&&($a.length||$a.nodeType)?this:this.remove()},detach:function($a){return this.remove($a,!0)},domManip:function($a,Ya){$a=Be.apply([],$a);var Ga=0,Xa=this.length,Ja=this,Qa=$a[0],Za=et.isFunction(Qa),Fa,qa,Ba,Ua,Va,Ka;// We can't cloneNode fragments that contain checked, in WebKit
if(Za||1<Xa&&'string'==typeof Qa&&!Je.checkClone&&Ht.test(Qa))return this.each(function(en){var tn=Ja.eq(en);Za&&($a[0]=Qa.call(this,en,tn.html())),tn.domManip($a,Ya)});if(Xa&&(Fa=et.buildFragment($a,this[0].ownerDocument,!1,this),qa=Fa.firstChild,1===Fa.childNodes.length&&(Fa=qa),qa)){// Use the original fragment for the last item instead of the first because it can end up
// being emptied incorrectly in certain situations (#8070).
for(Ba=et.map(be(Fa,'script'),he),Ua=Ba.length;Ga<Xa;Ga++)Va=Fa,Ga!=Xa-1&&(Va=et.clone(Va,!0,!0),Ua&&et.merge(Ba,be(Va,'script'))),Ya.call(this[Ga],Va,Ga);if(Ua)// Evaluate executable scripts on first document insertion
for(Ka=Ba[Ba.length-1].ownerDocument,et.map(Ba,ge),Ga=0;Ga<Ua;Ga++)Va=Ba[Ga],Mt.test(Va.type||'')&&!_t.access(Va,'globalEval')&&et.contains(Ka,Va)&&(Va.src?et._evalUrl&&et._evalUrl(Va.src):et.globalEval(Va.textContent.replace(Wt,'')))}return this}}),et.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function($a,Ya){et.fn[$a]=function(Fa){for(var Ba=[],Ua=et(Fa),Va=Ua.length-1,Ka=0,qa;Ka<=Va;Ka++)qa=Ka===Va?this:this.clone(!0),et(Ua[Ka])[Ya](qa),Ue.apply(Ba,qa.get());return this.pushStack(Ba)}});var Yt={},Ft=/^margin/,qt=new RegExp('^('+kt+')(?!px)[a-z%]+$','i'),Bt=function($a){// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
// IE throws on elements created in popups
// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
return $a.ownerDocument.defaultView.opener?$a.ownerDocument.defaultView.getComputedStyle($a,null):ee.getComputedStyle($a,null)},$t;(function(){// Executing both pixelPosition & boxSizingReliable tests require only one layout
// so they're executed at the same time to save the second computation.
function $a(){Ua.style.cssText=// Support: Firefox<29, Android 2.3
// Vendor-prefix box-sizing
'-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute',Ua.innerHTML='',qa.appendChild(Ba);var Va=ee.getComputedStyle(Ua,null);Ya='1%'!==Va.top,Fa='4px'===Va.width,qa.removeChild(Ba)}// Support: node.js jsdom
// Don't assume that getComputedStyle is a property of the global object
var qa=Qe.documentElement,Ba=Qe.createElement('div'),Ua=Qe.createElement('div'),Ya,Fa;Ua.style&&(Ua.style.backgroundClip='content-box',Ua.cloneNode(!0).style.backgroundClip='',Je.clearCloneStyle='content-box'===Ua.style.backgroundClip,Ba.style.cssText='border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute',Ba.appendChild(Ua),ee.getComputedStyle&&et.extend(Je,{pixelPosition:function(){return $a(),Ya},boxSizingReliable:function(){return null==Fa&&$a(),Fa},reliableMarginRight:function(){// Support: Android 2.3
// Check if div with explicit width and no margin-right incorrectly
// gets computed margin-right based on width of container. (#3333)
// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
// This support function is only executed once so no memoizing is needed.
var Ka=Ua.appendChild(Qe.createElement('div')),Va;// Reset CSS: box-sizing; display; margin; border; padding
return Ka.style.cssText=Ua.style.cssText=// Support: Firefox<29, Android 2.3
// Vendor-prefix box-sizing
'-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',Ka.style.marginRight=Ka.style.width='0',Ua.style.width='1px',qa.appendChild(Ba),Va=!parseFloat(ee.getComputedStyle(Ka,null).marginRight),qa.removeChild(Ba),Ua.removeChild(Ka),Va}}))})(),et.swap=function($a,Ya,Fa,qa){var Va={},Ba,Ua;// Remember the old values, and insert the new ones
for(Ua in Ya)Va[Ua]=$a.style[Ua],$a.style[Ua]=Ya[Ua];// Revert the old values
for(Ua in Ba=Fa.apply($a,qa||[]),Ya)$a.style[Ua]=Va[Ua];return Ba};var// Swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
Ut=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp('^('+kt+')(.*)$','i'),Kt=new RegExp('^([+-])=('+kt+')','i'),Gt={position:'absolute',visibility:'hidden',display:'block'},Xt={letterSpacing:'0',fontWeight:'400'},Jt=['Webkit','O','Moz','ms'];et.extend({// Add in style property hooks for overriding the default
// behavior of getting and setting a style property
cssHooks:{opacity:{get:function($a,Ya){if(Ya){// We should always get a number back from opacity
var Fa=xe($a,'opacity');return''===Fa?'1':Fa}}}},// Don't automatically add "px" to these possibly-unitless properties
cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},// Add in properties whose names you wish to fix before
// setting or getting the value
cssProps:{float:'cssFloat'},// Get and set the style property on a DOM Node
style:function($a,Ya,Fa,qa){// Don't set styles on text and comment nodes
if($a&&3!==$a.nodeType&&8!==$a.nodeType&&$a.style){// Make sure that we're working with the right name
var Ka=et.camelCase(Ya),Ga=$a.style,Ba,Ua,Va;// Check if we're setting a value
if(Ya=et.cssProps[Ka]||(et.cssProps[Ka]=Ce(Ga,Ka)),Va=et.cssHooks[Ya]||et.cssHooks[Ka],void 0!==Fa){// Make sure that null and NaN values aren't set (#7116)
if(Ua=typeof Fa,'string'===Ua&&(Ba=Kt.exec(Fa))&&(Fa=(Ba[1]+1)*Ba[2]+parseFloat(et.css($a,Ya)),Ua='number'),null==Fa||Fa!==Fa)return;// If a number, add 'px' to the (except for certain CSS properties)
'number'!==Ua||et.cssNumber[Ka]||(Fa+='px'),Je.clearCloneStyle||''!==Fa||0!==Ya.indexOf('background')||(Ga[Ya]='inherit'),Va&&'set'in Va&&void 0===(Fa=Va.set($a,Fa,qa))||(Ga[Ya]=Fa)}else// If a hook was provided get the non-computed value from there
return Va&&'get'in Va&&void 0!==(Ba=Va.get($a,!1,qa))?Ba:Ga[Ya];// Otherwise just get the value from the style object
}},css:function($a,Ya,Fa,qa){var Ka=et.camelCase(Ya),Ba,Ua,Va;// Make sure that we're working with the right name
// Make numeric if forced or a qualifier was provided and val looks numeric
return Ya=et.cssProps[Ka]||(et.cssProps[Ka]=Ce($a.style,Ka)),Va=et.cssHooks[Ya]||et.cssHooks[Ka],Va&&'get'in Va&&(Ba=Va.get($a,!0,Fa)),void 0==Ba&&(Ba=xe($a,Ya,qa)),'normal'===Ba&&Ya in Xt&&(Ba=Xt[Ya]),''===Fa||Fa?(Ua=parseFloat(Ba),!0===Fa||et.isNumeric(Ua)?Ua||0:Ba):Ba}}),et.each(['height','width'],function($a,Ya){et.cssHooks[Ya]={get:function(Fa,qa,Ba){if(qa)// Certain elements can have dimension info if we invisibly show them
// but it must have a current display style that would benefit
return Ut.test(et.css(Fa,'display'))&&0===Fa.offsetWidth?et.swap(Fa,Gt,function(){return Se(Fa,Ya,Ba)}):Se(Fa,Ya,Ba)},set:function(Fa,qa,Ba){var Ua=Ba&&Bt(Fa);return Te(Fa,qa,Ba?De(Fa,Ya,Ba,'border-box'===et.css(Fa,'boxSizing',!1,Ua),Ua):0)}}}),et.cssHooks.marginRight=ke(Je.reliableMarginRight,function($a,Ya){if(Ya)return et.swap($a,{display:'inline-block'},xe,[$a,'marginRight'])}),et.each({margin:'',padding:'',border:'Width'},function($a,Ya){et.cssHooks[$a+Ya]={expand:function(Fa){for(var qa=0,Ba={},// Assumes a single number if not a string
Ua='string'==typeof Fa?Fa.split(' '):[Fa];4>qa;qa++)Ba[$a+Ct[qa]+Ya]=Ua[qa]||Ua[qa-2]||Ua[0];return Ba}},Ft.test($a)||(et.cssHooks[$a+Ya].set=Te)}),et.fn.extend({css:function($a,Ya){return bt(this,function(Fa,qa,Ba){var Ka={},Ga=0,Ua,Va;if(et.isArray(qa)){for(Ua=Bt(Fa),Va=qa.length;Ga<Va;Ga++)Ka[qa[Ga]]=et.css(Fa,qa[Ga],!1,Ua);return Ka}return void 0===Ba?et.css(Fa,qa):et.style(Fa,qa,Ba)},$a,Ya,1<arguments.length)},show:function(){return je(this,!0)},hide:function(){return je(this)},toggle:function($a){return'boolean'==typeof $a?$a?this.show():this.hide():this.each(function(){Tt(this)?et(this).show():et(this).hide()})}}),et.Tween=Ne,Ne.prototype={constructor:Ne,init:function($a,Ya,Fa,qa,Ba,Ua){this.elem=$a,this.prop=Fa,this.easing=Ba||'swing',this.options=Ya,this.start=this.now=this.cur(),this.end=qa,this.unit=Ua||(et.cssNumber[Fa]?'':'px')},cur:function(){var $a=Ne.propHooks[this.prop];return $a&&$a.get?$a.get(this):Ne.propHooks._default.get(this)},run:function($a){var Fa=Ne.propHooks[this.prop],Ya;return this.pos=this.options.duration?Ya=et.easing[this.easing]($a,this.options.duration*$a,0,1,this.options.duration):Ya=$a,this.now=(this.end-this.start)*Ya+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Fa&&Fa.set?Fa.set(this):Ne.propHooks._default.set(this),this}},Ne.prototype.init.prototype=Ne.prototype,Ne.propHooks={_default:{get:function($a){var Ya;return null==$a.elem[$a.prop]||$a.elem.style&&null!=$a.elem.style[$a.prop]?(Ya=et.css($a.elem,$a.prop,''),Ya&&'auto'!==Ya?Ya:0):$a.elem[$a.prop];// Passing an empty string as a 3rd parameter to .css will automatically
// attempt a parseFloat and fallback to a string if the parse fails.
// Simple values such as "10px" are parsed to Float;
// complex values such as "rotate(1rad)" are returned as-is.
// Empty strings, null, undefined and "auto" are converted to 0.
},set:function($a){et.fx.step[$a.prop]?et.fx.step[$a.prop]($a):$a.elem.style&&(null!=$a.elem.style[et.cssProps[$a.prop]]||et.cssHooks[$a.prop])?et.style($a.elem,$a.prop,$a.now+$a.unit):$a.elem[$a.prop]=$a.now}}},Ne.propHooks.scrollTop=Ne.propHooks.scrollLeft={set:function($a){$a.elem.nodeType&&$a.elem.parentNode&&($a.elem[$a.prop]=$a.now)}},et.easing={linear:function($a){return $a},swing:function($a){return 0.5-Math.cos($a*Math.PI)/2}},et.fx=Ne.prototype.init,et.fx.step={};var ea=/^(?:toggle|show|hide)$/,ta=new RegExp('^(?:([+-])=|)('+kt+')([a-z%]*)$','i'),na=/queueHooks$/,oa=[function(Ya,Fa,qa){/* jshint validthis: true */var Za=this,en={},tn=Ya.style,an=Ya.nodeType&&Tt(Ya),nn=_t.get(Ya,'fxshow'),Ba,Ua,Va,Ka,Ga,Xa,Ja,Qa;// Handle queue: false promises
// show/hide pass
for(Ba in qa.queue||(Ga=et._queueHooks(Ya,'fx'),null==Ga.unqueued&&(Ga.unqueued=0,Xa=Ga.empty.fire,Ga.empty.fire=function(){Ga.unqueued||Xa()}),Ga.unqueued++,Za.always(function(){Za.always(function(){Ga.unqueued--,et.queue(Ya,'fx').length||Ga.empty.fire()})})),1===Ya.nodeType&&('height'in Fa||'width'in Fa)&&(qa.overflow=[tn.overflow,tn.overflowX,tn.overflowY],Ja=et.css(Ya,'display'),Qa='none'===Ja?_t.get(Ya,'olddisplay')||we(Ya.nodeName):Ja,'inline'===Qa&&'none'===et.css(Ya,'float')&&(tn.display='inline-block')),qa.overflow&&(tn.overflow='hidden',Za.always(function(){tn.overflow=qa.overflow[0],tn.overflowX=qa.overflow[1],tn.overflowY=qa.overflow[2]})),Fa)if(Ua=Fa[Ba],ea.exec(Ua)){if(delete Fa[Ba],Va=Va||'toggle'===Ua,Ua===(an?'hide':'show'))// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden
if('show'===Ua&&nn&&void 0!==nn[Ba])an=!0;else continue;en[Ba]=nn&&nn[Ba]||et.style(Ya,Ba)}else Ja=void 0;if(!et.isEmptyObject(en))for(Ba in nn?'hidden'in nn&&(an=nn.hidden):nn=_t.access(Ya,'fxshow',{}),Va&&(nn.hidden=!an),an?et(Ya).show():Za.done(function(){et(Ya).hide()}),Za.done(function(){for(var sn in _t.remove(Ya,'fxshow'),en)et.style(Ya,sn,en[sn])}),en)Ka=Oe(an?nn[Ba]:0,Ba,Za),Ba in nn||(nn[Ba]=Ka.start,an&&(Ka.end=Ka.start,Ka.start='width'===Ba||'height'===Ba?1:0));// If this is a noop like .hide().hide(), restore an overwritten display value
else'inline'===('none'===Ja?we(Ya.nodeName):Ja)&&(tn.display=Ja)}],ia={'*':[function($a,Ya){var Fa=this.createTween($a,Ya),qa=Fa.cur(),Ba=ta.exec(Ya),Ua=Ba&&Ba[3]||(et.cssNumber[$a]?'':'px'),// Starting value computation is required for potential unit mismatches
Va=(et.cssNumber[$a]||'px'!==Ua&&+qa)&&ta.exec(et.css(Fa.elem,$a)),Ka=1,Ga=20;if(Va&&Va[3]!==Ua){Ua=Ua||Va[3],Ba=Ba||[],Va=+qa||1;do Ka=Ka||'.5',Va=Va/Ka,et.style(Fa.elem,$a,Va+Ua);while(Ka!=(Ka=Fa.cur()/qa)&&1!=Ka&&--Ga)}// Update tween properties
return Ba&&(Va=Fa.start=+Va||+qa||0,Fa.unit=Ua,Fa.end=Ba[1]?Va+(Ba[1]+1)*Ba[2]:+Ba[2]),Fa}]},Qt,Zt;et.Animation=et.extend(Ie,{tweener:function($a,Ya){et.isFunction($a)?(Ya=$a,$a=['*']):$a=$a.split(' ');for(var qa=0,Ba=$a.length,Fa;qa<Ba;qa++)Fa=$a[qa],ia[Fa]=ia[Fa]||[],ia[Fa].unshift(Ya)},prefilter:function($a,Ya){Ya?oa.unshift($a):oa.push($a)}}),et.speed=function($a,Ya,Fa){var qa=$a&&'object'==typeof $a?et.extend({},$a):{complete:Fa||!Fa&&Ya||et.isFunction($a)&&$a,duration:$a,easing:Fa&&Ya||Ya&&!et.isFunction(Ya)&&Ya};return qa.duration=et.fx.off?0:'number'==typeof qa.duration?qa.duration:qa.duration in et.fx.speeds?et.fx.speeds[qa.duration]:et.fx.speeds._default,(null==qa.queue||!0===qa.queue)&&(qa.queue='fx'),qa.old=qa.complete,qa.complete=function(){et.isFunction(qa.old)&&qa.old.call(this),qa.queue&&et.dequeue(this,qa.queue)},qa},et.fn.extend({fadeTo:function($a,Ya,Fa,qa){// Show any hidden elements after setting opacity to 0
return this.filter(Tt).css('opacity',0).show()// Animate to the value specified
.end().animate({opacity:Ya},$a,Fa,qa)},animate:function($a,Ya,Fa,qa){var Ba=et.isEmptyObject($a),Ua=et.speed(Ya,Fa,qa),Va=function(){// Operate on a copy of prop so per-property easing won't be lost
var Ka=Ie(this,et.extend({},$a),Ua);// Empty animations, or finishing resolves immediately
(Ba||_t.get(this,'finish'))&&Ka.stop(!0)};return Va.finish=Va,Ba||!1===Ua.queue?this.each(Va):this.queue(Ua.queue,Va)},stop:function($a,Ya,Fa){var qa=function(Ba){var Ua=Ba.stop;delete Ba.stop,Ua(Fa)};return'string'!=typeof $a&&(Fa=Ya,Ya=$a,$a=void 0),Ya&&!1!==$a&&this.queue($a||'fx',[]),this.each(function(){var Ba=!0,Ua=null!=$a&&$a+'queueHooks',Va=et.timers,Ka=_t.get(this);if(Ua)Ka[Ua]&&Ka[Ua].stop&&qa(Ka[Ua]);else for(Ua in Ka)Ka[Ua]&&Ka[Ua].stop&&na.test(Ua)&&qa(Ka[Ua]);for(Ua=Va.length;Ua--;)Va[Ua].elem===this&&(null==$a||Va[Ua].queue===$a)&&(Va[Ua].anim.stop(Fa),Ba=!1,Va.splice(Ua,1));// Start the next in the queue if the last step wasn't forced.
// Timers currently will call their complete callbacks, which
// will dequeue but only if they were gotoEnd.
(Ba||!Fa)&&et.dequeue(this,$a)})},finish:function($a){return!1!==$a&&($a=$a||'fx'),this.each(function(){var Fa=_t.get(this),qa=Fa[$a+'queue'],Ba=Fa[$a+'queueHooks'],Ua=et.timers,Va=qa?qa.length:0,Ya;// Enable finishing flag on private data
// Look for any active animations, and finish them
for(Fa.finish=!0,et.queue(this,$a,[]),Ba&&Ba.stop&&Ba.stop.call(this,!0),Ya=Ua.length;Ya--;)Ua[Ya].elem===this&&Ua[Ya].queue===$a&&(Ua[Ya].anim.stop(!0),Ua.splice(Ya,1));// Look for any animations in the old queue and finish them
for(Ya=0;Ya<Va;Ya++)qa[Ya]&&qa[Ya].finish&&qa[Ya].finish.call(this);// Turn off finishing flag
delete Fa.finish})}}),et.each(['toggle','show','hide'],function($a,Ya){var Fa=et.fn[Ya];et.fn[Ya]=function(qa,Ba,Ua){return null==qa||'boolean'==typeof qa?Fa.apply(this,arguments):this.animate(Ee(Ya,!0),qa,Ba,Ua)}}),et.each({slideDown:Ee('show'),slideUp:Ee('hide'),slideToggle:Ee('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function($a,Ya){et.fn[$a]=function(Fa,qa,Ba){return this.animate(Ya,Fa,qa,Ba)}}),et.timers=[],et.fx.tick=function(){var Ya=0,Fa=et.timers,$a;for(Qt=et.now();Ya<Fa.length;Ya++)$a=Fa[Ya],$a()||Fa[Ya]!==$a||Fa.splice(Ya--,1);Fa.length||et.fx.stop(),Qt=void 0},et.fx.timer=function($a){et.timers.push($a),$a()?et.fx.start():et.timers.pop()},et.fx.interval=13,et.fx.start=function(){Zt||(Zt=setInterval(et.fx.tick,et.fx.interval))},et.fx.stop=function(){clearInterval(Zt),Zt=null},et.fx.speeds={slow:600,fast:200,// Default speed
_default:400},et.fn.delay=function($a,Ya){return $a=et.fx?et.fx.speeds[$a]||$a:$a,Ya=Ya||'fx',this.queue(Ya,function(Fa,qa){var Ba=setTimeout(Fa,$a);qa.stop=function(){clearTimeout(Ba)}})},function(){var $a=Qe.createElement('input'),Ya=Qe.createElement('select'),Fa=Ya.appendChild(Qe.createElement('option'));$a.type='checkbox',Je.checkOn=''!==$a.value,Je.optSelected=Fa.selected,Ya.disabled=!0,Je.optDisabled=!Fa.disabled,$a=Qe.createElement('input'),$a.value='t',$a.type='radio',Je.radioValue='t'===$a.value}();var la=et.expr.attrHandle,sa,ra;et.fn.extend({attr:function($a,Ya){return bt(this,et.attr,$a,Ya,1<arguments.length)},removeAttr:function($a){return this.each(function(){et.removeAttr(this,$a)})}}),et.extend({attr:function($a,Ya,Fa){var Ua=$a.nodeType,qa,Ba;// don't get/set attributes on text, comment and attribute nodes
if($a&&3!==Ua&&8!==Ua&&2!==Ua){// Fallback to prop when attributes are not supported
if(typeof $a.getAttribute==St)return et.prop($a,Ya,Fa);// All attributes are lowercase
// Grab necessary hook if one is defined
if(1===Ua&&et.isXMLDoc($a)||(Ya=Ya.toLowerCase(),qa=et.attrHooks[Ya]||(et.expr.match.bool.test(Ya)?ra:sa)),void 0===Fa)return qa&&'get'in qa&&null!==(Ba=qa.get($a,Ya))?Ba:(Ba=et.find.attr($a,Ya),null==Ba?void 0:Ba);// Non-existent attributes return null, we normalize to undefined
if(null===Fa)et.removeAttr($a,Ya);else return qa&&'set'in qa&&void 0!==(Ba=qa.set($a,Fa,Ya))?Ba:($a.setAttribute(Ya,Fa+''),Fa)}},removeAttr:function($a,Ya){var Ba=0,Ua=Ya&&Ya.match(mt),Fa,qa;if(Ua&&1===$a.nodeType)for(;Fa=Ua[Ba++];)qa=et.propFix[Fa]||Fa,et.expr.match.bool.test(Fa)&&($a[qa]=!1),$a.removeAttribute(Fa)},attrHooks:{type:{set:function($a,Ya){if(!Je.radioValue&&'radio'===Ya&&et.nodeName($a,'input')){var Fa=$a.value;return $a.setAttribute('type',Ya),Fa&&($a.value=Fa),Ya}}}}}),ra={set:function($a,Ya,Fa){return!1===Ya?et.removeAttr($a,Fa):$a.setAttribute(Fa,Fa),Fa}},et.each(et.expr.match.bool.source.match(/\w+/g),function($a,Ya){var Fa=la[Ya]||et.find.attr;la[Ya]=function(qa,Ba,Ua){var Va,Ka;return Ua||(Ka=la[Ba],la[Ba]=Va,Va=null==Fa(qa,Ba,Ua)?null:Ba.toLowerCase(),la[Ba]=Ka),Va}});var da=/^(?:input|select|textarea|button)$/i;et.fn.extend({prop:function($a,Ya){return bt(this,et.prop,$a,Ya,1<arguments.length)},removeProp:function($a){return this.each(function(){delete this[et.propFix[$a]||$a]})}}),et.extend({propFix:{'for':'htmlFor','class':'className'},prop:function($a,Ya,Fa){var Va=$a.nodeType,qa,Ba,Ua;// Don't get/set properties on text, comment and attribute nodes
if($a&&3!==Va&&8!==Va&&2!==Va)return Ua=1!==Va||!et.isXMLDoc($a),Ua&&(Ya=et.propFix[Ya]||Ya,Ba=et.propHooks[Ya]),void 0===Fa?Ba&&'get'in Ba&&null!==(qa=Ba.get($a,Ya))?qa:$a[Ya]:Ba&&'set'in Ba&&void 0!==(qa=Ba.set($a,Fa,Ya))?qa:$a[Ya]=Fa},propHooks:{tabIndex:{get:function($a){return $a.hasAttribute('tabindex')||da.test($a.nodeName)||$a.href?$a.tabIndex:-1}}}}),Je.optSelected||(et.propHooks.selected={get:function($a){var Ya=$a.parentNode;return Ya&&Ya.parentNode&&Ya.parentNode.selectedIndex,null}}),et.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){et.propFix[this.toLowerCase()]=this});var ca=/[\t\r\n\f]/g;et.fn.extend({addClass:function($a){var Ka=0,Ga=this.length,Ya,Fa,qa,Ba,Ua,Va;if(et.isFunction($a))return this.each(function(Xa){et(this).addClass($a.call(this,Xa,this.className))});if('string'==typeof $a&&$a)for(Ya=($a||'').match(mt)||[];Ka<Ga;Ka++)if(Fa=this[Ka],qa=1===Fa.nodeType&&(Fa.className?(' '+Fa.className+' ').replace(ca,' '):' '),qa){for(Ua=0;Ba=Ya[Ua++];)0>qa.indexOf(' '+Ba+' ')&&(qa+=Ba+' ');// only assign if different to avoid unneeded rendering.
Va=et.trim(qa),Fa.className!==Va&&(Fa.className=Va)}return this},removeClass:function($a){var Ka=0===arguments.length||'string'==typeof $a&&$a,Ga=0,Xa=this.length,Ya,Fa,qa,Ba,Ua,Va;if(et.isFunction($a))return this.each(function(Ja){et(this).removeClass($a.call(this,Ja,this.className))});if(Ka)for(Ya=($a||'').match(mt)||[];Ga<Xa;Ga++)if(Fa=this[Ga],qa=1===Fa.nodeType&&(Fa.className?(' '+Fa.className+' ').replace(ca,' '):''),qa){for(Ua=0;Ba=Ya[Ua++];)// Remove *all* instances
for(;0<=qa.indexOf(' '+Ba+' ');)qa=qa.replace(' '+Ba+' ',' ');// Only assign if different to avoid unneeded rendering.
Va=$a?et.trim(qa):'',Fa.className!==Va&&(Fa.className=Va)}return this},toggleClass:function($a,Ya){var Fa=typeof $a;return'boolean'==typeof Ya&&'string'==Fa?Ya?this.addClass($a):this.removeClass($a):et.isFunction($a)?this.each(function(qa){et(this).toggleClass($a.call(this,qa,this.className,Ya),Ya)}):this.each(function(){if('string'==Fa)for(// Toggle individual class names
var Ba=0,Ua=et(this),Va=$a.match(mt)||[],qa;qa=Va[Ba++];)// Check each className given, space separated list
Ua.hasClass(qa)?Ua.removeClass(qa):Ua.addClass(qa);// Toggle whole class name
else(Fa==St||'boolean'==Fa)&&(this.className&&_t.set(this,'__className__',this.className),this.className=this.className||!1===$a?'':_t.get(this,'__className__')||'')})},hasClass:function($a){for(var Ya=0,Fa=this.length;Ya<Fa;Ya++)if(1===this[Ya].nodeType&&0<=(' '+this[Ya].className+' ').replace(ca,' ').indexOf(' '+$a+' '))return!0;return!1}});var pa=/\r/g;et.fn.extend({val:function($a){var Ba=this[0],Ya,Fa,qa;return arguments.length?(qa=et.isFunction($a),this.each(function(Ua){var Va;1!==this.nodeType||(Va=qa?$a.call(this,Ua,et(this).val()):$a,null==Va?Va='':'number'==typeof Va?Va+='':et.isArray(Va)&&(Va=et.map(Va,function(Ka){return null==Ka?'':Ka+''})),Ya=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],(!Ya||!('set'in Ya)||void 0===Ya.set(this,Va,'value'))&&(this.value=Va))})):Ba?(Ya=et.valHooks[Ba.type]||et.valHooks[Ba.nodeName.toLowerCase()],Ya&&'get'in Ya&&void 0!==(Fa=Ya.get(Ba,'value')))?Fa:(Fa=Ba.value,'string'==typeof Fa?// Handle most common string cases
Fa.replace(pa,''):// Handle cases where value is null/undef or number
null==Fa?'':Fa):void 0}}),et.extend({valHooks:{option:{get:function($a){var Ya=et.find.attr($a,'value');return null==Ya?// Support: IE10-11+
// option.text throws exceptions (#14686, #14858)
et.trim(et.text($a)):Ya}},select:{get:function($a){// Loop through all the selected options
for(var qa=$a.options,Ba=$a.selectedIndex,Ua='select-one'===$a.type||0>Ba,Va=Ua?null:[],Ka=Ua?Ba+1:qa.length,Ga=0>Ba?Ka:Ua?Ba:0,Ya,Fa;Ga<Ka;Ga++)// IE6-9 doesn't update selected after form reset (#2551)
if(Fa=qa[Ga],(Fa.selected||Ga===Ba)&&(// Don't return options that are disabled or in a disabled optgroup
Je.optDisabled?!Fa.disabled:null===Fa.getAttribute('disabled'))&&(!Fa.parentNode.disabled||!et.nodeName(Fa.parentNode,'optgroup'))){// We don't need an array for one selects
if(Ya=et(Fa).val(),Ua)return Ya;// Multi-Selects return an array
Va.push(Ya)}return Va},set:function($a,Ya){for(var Ba=$a.options,Ua=et.makeArray(Ya),Va=Ba.length,Fa,qa;Va--;)qa=Ba[Va],(qa.selected=0<=et.inArray(qa.value,Ua))&&(Fa=!0);// Force browsers to behave consistently when non-matching value is set
return Fa||($a.selectedIndex=-1),Ua}}}}),et.each(['radio','checkbox'],function(){et.valHooks[this]={set:function($a,Ya){if(et.isArray(Ya))return $a.checked=0<=et.inArray(et($a).val(),Ya)}},Je.checkOn||(et.valHooks[this].get=function($a){return null===$a.getAttribute('value')?'on':$a.value})}),et.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function($a,Ya){et.fn[Ya]=function(Fa,qa){return 0<arguments.length?this.on(Ya,null,Fa,qa):this.trigger(Ya)}}),et.fn.extend({hover:function($a,Ya){return this.mouseenter($a).mouseleave(Ya||$a)},bind:function($a,Ya,Fa){return this.on($a,null,Ya,Fa)},unbind:function($a,Ya){return this.off($a,null,Ya)},delegate:function($a,Ya,Fa,qa){return this.on(Ya,$a,Fa,qa)},undelegate:function($a,Ya,Fa){// ( namespace ) or ( selector, types [, fn] )
return 1===arguments.length?this.off($a,'**'):this.off(Ya,$a||'**',Fa)}});var ua=et.now(),ha=/\?/;et.parseJSON=function($a){return JSON.parse($a+'')},et.parseXML=function($a){var Ya,Fa;if(!$a||'string'!=typeof $a)return null;// Support: IE9
try{Fa=new DOMParser,Ya=Fa.parseFromString($a,'text/xml')}catch(qa){Ya=void 0}return(!Ya||Ya.getElementsByTagName('parsererror').length)&&et.error('Invalid XML: '+$a),Ya};var ga=/#.*$/,ma=/([?&])_=[^&]*/,fa=/^(.*?):[ \t]*([^\r\n]*)$/mg,// #7653, #8125, #8152: local protocol detection
ya=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ba=/^(?:GET|HEAD)$/,_a=/^\/\//,va=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */wa={},/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */xa={},// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
ka='*/'.concat('*'),// Document location
Ca=ee.location.href,// Segment location into parts
Ta=va.exec(Ca.toLowerCase())||[];et.extend({// Counter for holding the number of active queries
active:0,// Last-Modified header cache for next request
lastModified:{},etag:{},ajaxSettings:{url:Ca,type:'GET',isLocal:ya.test(Ta[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/accepts:{'*':ka,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},// Data converters
// Keys separate source (or catchall "*") and destination types with a single space
converters:{// Convert anything to text
'* text':String,// Text to html (true = no transformation)
'text html':!0,// Evaluate text as a json expression
'text json':et.parseJSON,// Parse text as xml
'text xml':et.parseXML},// For options that shouldn't be deep extended:
// you can add your own custom options here if
// and when you create one that shouldn't be
// deep extended (see ajaxExtend)
flatOptions:{url:!0,context:!0}},// Creates a full fledged settings object into target
// with both ajaxSettings and settings fields.
// If target is omitted, writes into ajaxSettings.
ajaxSetup:function($a,Ya){return Ya?// Building a settings object
Me(Me($a,et.ajaxSettings),Ya):// Extending ajaxSettings
Me(et.ajaxSettings,$a)},ajaxPrefilter:Le(wa),ajaxTransport:Le(xa),// Main method
ajax:function($a,Ya){// Callback for when everything is done
function Fa(pn,un,hn,gn){var wn=un,mn,yn,bn,_n,vn;// Called once
2===ln||(ln=2,Ka&&clearTimeout(Ka),qa=void 0,Ua=gn||'',cn.readyState=0<pn?4:0,mn=200<=pn&&300>pn||304===pn,hn&&(_n=ze(Qa,cn,hn)),_n=We(Qa,_n,cn,mn),mn?(Qa.ifModified&&(vn=cn.getResponseHeader('Last-Modified'),vn&&(et.lastModified[Ba]=vn),vn=cn.getResponseHeader('etag'),vn&&(et.etag[Ba]=vn)),204===pn||'HEAD'===Qa.type?wn='nocontent':304===pn?wn='notmodified':(wn=_n.state,yn=_n.data,bn=_n.error,mn=!bn)):(bn=wn,(pn||!wn)&&(wn='error',0>pn&&(pn=0))),cn.status=pn,cn.statusText=(un||wn)+'',mn?tn.resolveWith(Za,[yn,wn,cn]):tn.rejectWith(Za,[cn,wn,bn]),cn.statusCode(nn),nn=void 0,Xa&&en.trigger(mn?'ajaxSuccess':'ajaxError',[cn,Qa,mn?yn:bn]),an.fireWith(Za,[cn,wn]),Xa&&(en.trigger('ajaxComplete',[cn,Qa]),! --et.active&&et.event.trigger('ajaxStop')))}'object'==typeof $a&&(Ya=$a,$a=void 0),Ya=Ya||{};var// Create the final options object
Qa=et.ajaxSetup({},Ya),// Callbacks context
Za=Qa.context||Qa,// Context for global events is callbackContext if it is a DOM node or jQuery collection
en=Qa.context&&(Za.nodeType||Za.jquery)?et(Za):et.event,// Deferreds
tn=et.Deferred(),an=et.Callbacks('once memory'),// Status-dependent callbacks
nn=Qa.statusCode||{},// Headers (they are sent all at once)
sn={},rn={},// The jqXHR state
ln=0,// Default abort message
dn='canceled',// Fake xhr
cn={readyState:0,// Builds headers hashtable if needed
getResponseHeader:function(pn){var un;if(2==ln){if(!Va)for(Va={};un=fa.exec(Ua);)Va[un[1].toLowerCase()]=un[2];un=Va[pn.toLowerCase()]}return null==un?null:un},// Raw string
getAllResponseHeaders:function(){return 2==ln?Ua:null},// Caches the header
setRequestHeader:function(pn,un){var hn=pn.toLowerCase();return ln||(pn=rn[hn]=rn[hn]||pn,sn[pn]=un),this},// Overrides response content-type header
overrideMimeType:function(pn){return ln||(Qa.mimeType=pn),this},// Status-dependent callbacks
statusCode:function(pn){if(pn)if(2>ln)for(var un in pn)// Lazy-add the new callback in a way that preserves old ones
nn[un]=[nn[un],pn[un]];else cn.always(pn[cn.status]);return this},// Cancel the request
abort:function(pn){var un=pn||dn;return qa&&qa.abort(un),Fa(0,un),this}},qa,// URL without anti-cache param
Ba,// Response headers
Ua,Va,// timeout handle
Ka,// Cross-domain detection vars
Ga,// To know if global events are to be dispatched
Xa,// Loop variable
Ja;// Attach deferreds
// If request was aborted inside a prefilter, stop there
if(tn.promise(cn).complete=an.add,cn.success=cn.done,cn.error=cn.fail,Qa.url=(($a||Qa.url||Ca)+'').replace(ga,'').replace(_a,Ta[1]+'//'),Qa.type=Ya.method||Ya.type||Qa.method||Qa.type,Qa.dataTypes=et.trim(Qa.dataType||'*').toLowerCase().match(mt)||[''],null==Qa.crossDomain&&(Ga=va.exec(Qa.url.toLowerCase()),Qa.crossDomain=!!(Ga&&(Ga[1]!==Ta[1]||Ga[2]!==Ta[2]||(Ga[3]||('http:'===Ga[1]?'80':'443'))!==(Ta[3]||('http:'===Ta[1]?'80':'443'))))),Qa.data&&Qa.processData&&'string'!=typeof Qa.data&&(Qa.data=et.param(Qa.data,Qa.traditional)),He(wa,Qa,Ya,cn),2==ln)return cn;// We can fire global events as of now if asked to
// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
// Check for headers option
for(Ja in Xa=et.event&&Qa.global,Xa&&0==et.active++&&et.event.trigger('ajaxStart'),Qa.type=Qa.type.toUpperCase(),Qa.hasContent=!ba.test(Qa.type),Ba=Qa.url,Qa.hasContent||(Qa.data&&(Ba=Qa.url+=(ha.test(Ba)?'&':'?')+Qa.data,delete Qa.data),!1===Qa.cache&&(Qa.url=ma.test(Ba)?// If there is already a '_' parameter, set its value
Ba.replace(ma,'$1_='+ua++):// Otherwise add one to the end
Ba+(ha.test(Ba)?'&':'?')+'_='+ua++)),Qa.ifModified&&(et.lastModified[Ba]&&cn.setRequestHeader('If-Modified-Since',et.lastModified[Ba]),et.etag[Ba]&&cn.setRequestHeader('If-None-Match',et.etag[Ba])),(Qa.data&&Qa.hasContent&&!1!==Qa.contentType||Ya.contentType)&&cn.setRequestHeader('Content-Type',Qa.contentType),cn.setRequestHeader('Accept',Qa.dataTypes[0]&&Qa.accepts[Qa.dataTypes[0]]?Qa.accepts[Qa.dataTypes[0]]+('*'===Qa.dataTypes[0]?'':', '+ka+'; q=0.01'):Qa.accepts['*']),Qa.headers)cn.setRequestHeader(Ja,Qa.headers[Ja]);// Allow custom headers/mimetypes and early abort
if(Qa.beforeSend&&(!1===Qa.beforeSend.call(Za,cn,Qa)||2==ln))// Abort if not done already and return
return cn.abort();// Aborting is no longer a cancellation
// Install callbacks on deferreds
for(Ja in dn='abort',{success:1,error:1,complete:1})cn[Ja](Qa[Ja]);// Get transport
// If no transport, we auto-abort
if(qa=He(xa,Qa,Ya,cn),!qa)Fa(-1,'No Transport');else{cn.readyState=1,Xa&&en.trigger('ajaxSend',[cn,Qa]),Qa.async&&0<Qa.timeout&&(Ka=setTimeout(function(){cn.abort('timeout')},Qa.timeout));try{ln=1,qa.send(sn,Fa)}catch(pn){// Propagate exception as error if not done
if(2>ln)Fa(-1,pn);else throw pn}}return cn},getJSON:function($a,Ya,Fa){return et.get($a,Ya,Fa,'json')},getScript:function($a,Ya){return et.get($a,void 0,Ya,'script')}}),et.each(['get','post'],function($a,Ya){et[Ya]=function(Fa,qa,Ba,Ua){return et.isFunction(qa)&&(Ua=Ua||Ba,Ba=qa,qa=void 0),et.ajax({url:Fa,type:Ya,dataType:Ua,data:qa,success:Ba})}}),et._evalUrl=function($a){return et.ajax({url:$a,type:'GET',dataType:'script',async:!1,global:!1,throws:!0})},et.fn.extend({wrapAll:function($a){var Ya;return et.isFunction($a)?this.each(function(Fa){et(this).wrapAll($a.call(this,Fa))}):(this[0]&&(Ya=et($a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Ya.insertBefore(this[0]),Ya.map(function(){for(var Fa=this;Fa.firstElementChild;)Fa=Fa.firstElementChild;return Fa}).append(this)),this)},wrapInner:function($a){return et.isFunction($a)?this.each(function(Ya){et(this).wrapInner($a.call(this,Ya))}):this.each(function(){var Ya=et(this),Fa=Ya.contents();Fa.length?Fa.wrapAll($a):Ya.append($a)})},wrap:function($a){var Ya=et.isFunction($a);return this.each(function(Fa){et(this).wrapAll(Ya?$a.call(this,Fa):$a)})},unwrap:function(){return this.parent().each(function(){et.nodeName(this,'body')||et(this).replaceWith(this.childNodes)}).end()}}),et.expr.filters.hidden=function($a){// Support: Opera <= 12.12
// Opera reports offsetWidths and offsetHeights less than zero on some elements
return 0>=$a.offsetWidth&&0>=$a.offsetHeight},et.expr.filters.visible=function($a){return!et.expr.filters.hidden($a)};var Da=/%20/g,Sa=/\[\]$/,ja=/\r?\n/g,Na=/^(?:submit|button|image|reset|file)$/i,Pa=/^(?:input|select|textarea|keygen)/i;et.param=function($a,Ya){var qa=[],Ba=function(Ua,Va){Va=et.isFunction(Va)?Va():null==Va?'':Va,qa[qa.length]=encodeURIComponent(Ua)+'='+encodeURIComponent(Va)},Fa;// Set traditional to true for jQuery <= 1.3.2 behavior.
// If an array was passed in, assume that it is an array of form elements.
if(void 0===Ya&&(Ya=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray($a)||$a.jquery&&!et.isPlainObject($a))et.each($a,function(){Ba(this.name,this.value)});else// If traditional, encode the "old" way (the way 1.3.2 or older
// did it), otherwise encode params recursively.
for(Fa in $a)Re(Fa,$a[Fa],Ya,Ba);// Return the resulting serialization
return qa.join('&').replace(Da,'+')},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){// Can add propHook for "elements" to filter or add form elements
var $a=et.prop(this,'elements');return $a?et.makeArray($a):this}).filter(function(){var $a=this.type;// Use .is( ":disabled" ) so that fieldset[disabled] works
return this.name&&!et(this).is(':disabled')&&Pa.test(this.nodeName)&&!Na.test($a)&&(this.checked||!Dt.test($a))}).map(function($a,Ya){var Fa=et(this).val();return null==Fa?null:et.isArray(Fa)?et.map(Fa,function(qa){return{name:Ya.name,value:qa.replace(ja,'\r\n')}}):{name:Ya.name,value:Fa.replace(ja,'\r\n')}}).get()}}),et.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch($a){}};var Ea=0,Oa={},Aa={// file protocol always yields status code 0, assume 200
0:200,// Support: IE9
// #1450: sometimes IE returns 1223 when it should be 204
1223:204},Ia=et.ajaxSettings.xhr();// Support: IE9
// Open requests must be manually aborted on unload (#5280)
// See https://support.microsoft.com/kb/2856746 for more info
ee.attachEvent&&ee.attachEvent('onunload',function(){for(var $a in Oa)Oa[$a]()}),Je.cors=!!Ia&&'withCredentials'in Ia,Je.ajax=Ia=!!Ia,et.ajaxTransport(function($a){var Ya;// Cross domain only allowed if supported through XMLHttpRequest
if(Je.cors||Ia&&!$a.crossDomain)return{send:function(Fa,qa){var Ua=$a.xhr(),Va=++Ea,Ba;// Apply custom fields if provided
if(Ua.open($a.type,$a.url,$a.async,$a.username,$a.password),$a.xhrFields)for(Ba in $a.xhrFields)Ua[Ba]=$a.xhrFields[Ba];// Override mime type if needed
// Set headers
for(Ba in $a.mimeType&&Ua.overrideMimeType&&Ua.overrideMimeType($a.mimeType),$a.crossDomain||Fa['X-Requested-With']||(Fa['X-Requested-With']='XMLHttpRequest'),Fa)Ua.setRequestHeader(Ba,Fa[Ba]);// Callback
Ya=function(Ka){return function(){Ya&&(delete Oa[Va],Ya=Ua.onload=Ua.onerror=null,'abort'===Ka?Ua.abort():'error'===Ka?qa(// file: protocol always yields status 0; see #8605, #14207
Ua.status,Ua.statusText):qa(Aa[Ua.status]||Ua.status,Ua.statusText,// Support: IE9
// Accessing binary-data responseText throws an exception
// (#11426)
'string'==typeof Ua.responseText?{text:Ua.responseText}:void 0,Ua.getAllResponseHeaders()))}},Ua.onload=Ya(),Ua.onerror=Ya('error'),Ya=Oa[Va]=Ya('abort');try{Ua.send($a.hasContent&&$a.data||null)}catch(Ka){// #14683: Only rethrow if this hasn't been notified as an error yet
if(Ya)throw Ka}},abort:function(){Ya&&Ya()}}}),et.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/(?:java|ecma)script/},converters:{'text script':function($a){return et.globalEval($a),$a}}}),et.ajaxPrefilter('script',function($a){void 0===$a.cache&&($a.cache=!1),$a.crossDomain&&($a.type='GET')}),et.ajaxTransport('script',function($a){// This transport only deals with cross domain requests
if($a.crossDomain){var Ya,Fa;return{send:function(qa,Ba){Ya=et('<script>').prop({async:!0,charset:$a.scriptCharset,src:$a.url}).on('load error',Fa=function(Ua){Ya.remove(),Fa=null,Ua&&Ba('error'===Ua.type?404:200,Ua.type)}),Qe.head.appendChild(Ya[0])},abort:function(){Fa&&Fa()}}}});var La=[],Ha=/(=)\?(?=&|$)|\?\?/;// Default jsonp settings
et.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var $a=La.pop()||et.expando+'_'+ua++;return this[$a]=!0,$a}}),et.ajaxPrefilter('json jsonp',function($a,Ya,Fa){var Va=!1!==$a.jsonp&&(Ha.test($a.url)?'url':'string'==typeof $a.data&&!($a.contentType||'').indexOf('application/x-www-form-urlencoded')&&Ha.test($a.data)&&'data'),qa,Ba,Ua;// Handle iff the expected data type is "jsonp" or we have a parameter to set
if(Va||'jsonp'===$a.dataTypes[0])// Delegate to script
return qa=$a.jsonpCallback=et.isFunction($a.jsonpCallback)?$a.jsonpCallback():$a.jsonpCallback,Va?$a[Va]=$a[Va].replace(Ha,'$1'+qa):!1!==$a.jsonp&&($a.url+=(ha.test($a.url)?'&':'?')+$a.jsonp+'='+qa),$a.converters['script json']=function(){return Ua||et.error(qa+' was not called'),Ua[0]},$a.dataTypes[0]='json',Ba=ee[qa],ee[qa]=function(){Ua=arguments},Fa.always(function(){ee[qa]=Ba,$a[qa]&&($a.jsonpCallback=Ya.jsonpCallback,La.push(qa)),Ua&&et.isFunction(Ba)&&Ba(Ua[0]),Ua=Ba=void 0}),'script'}),et.parseHTML=function($a,Ya,Fa){if(!$a||'string'!=typeof $a)return null;'boolean'==typeof Ya&&(Fa=Ya,Ya=!1),Ya=Ya||Qe;var qa=rt.exec($a),Ba=!Fa&&[];// Single tag
return qa?[Ya.createElement(qa[1])]:(qa=et.buildFragment([$a],Ya,Ba),Ba&&Ba.length&&et(Ba).remove(),et.merge([],qa.childNodes))};// Keep a copy of the old load method
var Ma=et.fn.load;/**
 * Load a url into a page
 */et.fn.load=function($a,Ya,Fa){if('string'!=typeof $a&&Ma)return Ma.apply(this,arguments);var Va=this,Ka=$a.indexOf(' '),qa,Ba,Ua;return 0<=Ka&&(qa=et.trim($a.slice(Ka)),$a=$a.slice(0,Ka)),et.isFunction(Ya)?(Fa=Ya,Ya=void 0):Ya&&'object'==typeof Ya&&(Ba='POST'),0<Va.length&&et.ajax({url:$a,// if "type" variable is undefined, then "GET" method will be used
type:Ba,dataType:'html',data:Ya}).done(function(Ga){Ua=arguments,Va.html(qa?// If a selector was specified, locate the right elements in a dummy div
// Exclude scripts to avoid IE 'Permission Denied' errors
et('<div>').append(et.parseHTML(Ga)).find(qa):// Otherwise use the full result
Ga)}).complete(Fa&&function(Ga,Xa){Va.each(Fa,Ua||[Ga.responseText,Xa,Ga])}),this},et.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function($a,Ya){et.fn[Ya]=function(Fa){return this.on(Ya,Fa)}}),et.expr.filters.animated=function($a){return et.grep(et.timers,function(Ya){return $a===Ya.elem}).length};var za=ee.document.documentElement;et.offset={setOffset:function($a,Ya,Fa){var Ja=et.css($a,'position'),Qa=et($a),Za={},qa,Ba,Ua,Va,Ka,Ga,Xa;// Set position first, in-case top/left are set even on static elem
'static'===Ja&&($a.style.position='relative'),Ka=Qa.offset(),Ua=et.css($a,'top'),Ga=et.css($a,'left'),Xa=('absolute'===Ja||'fixed'===Ja)&&-1<(Ua+Ga).indexOf('auto'),Xa?(qa=Qa.position(),Va=qa.top,Ba=qa.left):(Va=parseFloat(Ua)||0,Ba=parseFloat(Ga)||0),et.isFunction(Ya)&&(Ya=Ya.call($a,Fa,Ka)),null!=Ya.top&&(Za.top=Ya.top-Ka.top+Va),null!=Ya.left&&(Za.left=Ya.left-Ka.left+Ba),'using'in Ya?Ya.using.call($a,Za):Qa.css(Za)}},et.fn.extend({offset:function($a){if(arguments.length)return void 0===$a?this:this.each(function(Va){et.offset.setOffset(this,$a,Va)});var qa=this[0],Ba={top:0,left:0},Ua=qa&&qa.ownerDocument,Ya,Fa;if(Ua)// Make sure it's not a disconnected DOM node
return(Ya=Ua.documentElement,!et.contains(Ya,qa))?Ba:(typeof qa.getBoundingClientRect!=St&&(Ba=qa.getBoundingClientRect()),Fa=Ye(Ua),{top:Ba.top+Fa.pageYOffset-Ya.clientTop,left:Ba.left+Fa.pageXOffset-Ya.clientLeft});// Support: BlackBerry 5, iOS 3 (original iPhone)
// If we don't have gBCR, just use 0,0 rather than error
},position:function(){if(this[0]){var Fa=this[0],qa={top:0,left:0},$a,Ya;// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent
// Subtract parent offsets and element margins
return'fixed'===et.css(Fa,'position')?Ya=Fa.getBoundingClientRect():($a=this.offsetParent(),Ya=this.offset(),!et.nodeName($a[0],'html')&&(qa=$a.offset()),qa.top+=et.css($a[0],'borderTopWidth',!0),qa.left+=et.css($a[0],'borderLeftWidth',!0)),{top:Ya.top-qa.top-et.css(Fa,'marginTop',!0),left:Ya.left-qa.left-et.css(Fa,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var $a=this.offsetParent||za;$a&&!et.nodeName($a,'html')&&'static'===et.css($a,'position');)$a=$a.offsetParent;return $a||za})}}),et.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function($a,Ya){var Fa='pageYOffset'===Ya;et.fn[$a]=function(qa){return bt(this,function(Ba,Ua,Va){var Ka=Ye(Ba);return void 0===Va?Ka?Ka[Ya]:Ba[Ua]:void(Ka?Ka.scrollTo(Fa?ee.pageXOffset:Va,Fa?Va:ee.pageYOffset):Ba[Ua]=Va)},$a,qa,arguments.length,null)}}),et.each(['top','left'],function($a,Ya){et.cssHooks[Ya]=ke(Je.pixelPosition,function(Fa,qa){if(qa)// If curCSS returns percentage, fallback to offset
return qa=xe(Fa,Ya),qt.test(qa)?et(Fa).position()[Ya]+'px':qa})}),et.each({Height:'height',Width:'width'},function($a,Ya){et.each({padding:'inner'+$a,content:Ya,'':'outer'+$a},function(Fa,qa){et.fn[qa]=function(Ba,Ua){var Va=arguments.length&&(Fa||'boolean'!=typeof Ba),Ka=Fa||(!0===Ba||!0===Ua?'margin':'border');return bt(this,function(Ga,Xa,Ja){var Qa;return et.isWindow(Ga)?Ga.document.documentElement['client'+$a]:9===Ga.nodeType?(Qa=Ga.documentElement,Math.max(Ga.body['scroll'+$a],Qa['scroll'+$a],Ga.body['offset'+$a],Qa['offset'+$a],Qa['client'+$a])):void 0===Ja?// Get width or height on the element, requesting but not forcing parseFloat
et.css(Ga,Xa,Ka):// Set width or height on the element
et.style(Ga,Xa,Ja,Ka);// Get document width or height
},Ya,Va?Ba:void 0,Va,null)}})}),et.fn.size=function(){return this.length},et.fn.andSelf=et.fn.addBack,'function'==typeof define&&define.amd&&define('jquery',[],function(){return et});var// Map over jQuery in case of overwrite
Wa=ee.jQuery,// Map over the $ in case of overwrite
Ra=ee.$;return et.noConflict=function($a){return ee.$===et&&(ee.$=Ra),$a&&ee.jQuery===et&&(ee.jQuery=Wa),et},typeof te==St&&(ee.jQuery=ee.$=et),et}),function(ee){'function'==typeof define&&define.amd?define(['jquery'],ee):ee(jQuery)}(function(ee){ee.extend(ee.fn,{// http://jqueryvalidation.org/validate/
validate:function(ne){// if nothing is selected, return nothing; can't chain anyway
if(!this.length)return void(ne&&ne.debug&&window.console&&console.warn('Nothing selected, can\'t validate, returning nothing.'));// check if a validator for this form was already created
var oe=ee.data(this[0],'validator');return oe?oe:(this.attr('novalidate','novalidate'),oe=new ee.validator(ne,this[0]),ee.data(this[0],'validator',oe),oe.settings.onsubmit&&(this.validateDelegate(':submit','click',function(ie){oe.settings.submitHandler&&(oe.submitButton=ie.target),ee(ie.target).hasClass('cancel')&&(oe.cancelSubmit=!0),void 0!==ee(ie.target).attr('formnovalidate')&&(oe.cancelSubmit=!0)}),this.submit(function(ie){function se(){var re;return!oe.settings.submitHandler||(oe.submitButton&&(re=ee('<input type=\'hidden\'/>').attr('name',oe.submitButton.name).val(ee(oe.submitButton).val()).appendTo(oe.currentForm)),oe.settings.submitHandler.call(oe,oe.currentForm,ie),oe.submitButton&&re.remove(),!1)}// prevent submit for invalid forms or custom submit handlers
return oe.settings.debug&&ie.preventDefault(),oe.cancelSubmit?(oe.cancelSubmit=!1,se()):oe.form()?oe.pendingRequest?(oe.formSubmitted=!0,!1):se():(oe.focusInvalid(),!1)})),oe);// Add novalidate tag if HTML5.
},// http://jqueryvalidation.org/valid/
valid:function(){var ne,oe;return ee(this[0]).is('form')?ne=this.validate().form():(ne=!0,oe=ee(this[0].form).validate(),this.each(function(){ne=oe.element(this)&&ne})),ne},// attributes: space separated list of attributes to retrieve and remove
removeAttrs:function(ne){var oe={},ie=this;return ee.each(ne.split(/\s/),function(se,re){oe[re]=ie.attr(re),ie.removeAttr(re)}),oe},// http://jqueryvalidation.org/rules/
rules:function(ne,oe){var ie=this[0],se,re,le,de,ce,pe;if(ne)switch(se=ee.data(ie.form,'validator').settings,re=se.rules,le=ee.validator.staticRules(ie),ne){case'add':ee.extend(le,ee.validator.normalizeRule(oe)),delete le.messages,re[ie.name]=le,oe.messages&&(se.messages[ie.name]=ee.extend(se.messages[ie.name],oe.messages));break;case'remove':return oe?(pe={},ee.each(oe.split(/\s/),function(ue,he){pe[he]=le[he],delete le[he],'required'===he&&ee(ie).removeAttr('aria-required')}),pe):(delete re[ie.name],le);}return de=ee.validator.normalizeRules(ee.extend({},ee.validator.classRules(ie),ee.validator.attributeRules(ie),ee.validator.dataRules(ie),ee.validator.staticRules(ie)),ie),de.required&&(ce=de.required,delete de.required,de=ee.extend({required:ce},de),ee(ie).attr('aria-required','true')),de.remote&&(ce=de.remote,delete de.remote,de=ee.extend(de,{remote:ce})),de}}),ee.extend(ee.expr[':'],{// http://jqueryvalidation.org/blank-selector/
blank:function(ne){return!ee.trim(''+ee(ne).val())},// http://jqueryvalidation.org/filled-selector/
filled:function(ne){return!!ee.trim(''+ee(ne).val())},// http://jqueryvalidation.org/unchecked-selector/
unchecked:function(ne){return!ee(ne).prop('checked')}}),ee.validator=function(ne,oe){this.settings=ee.extend(!0,{},ee.validator.defaults,ne),this.currentForm=oe,this.init()},ee.validator.format=function(ne,oe){return 1===arguments.length?function(){var ie=ee.makeArray(arguments);return ie.unshift(ne),ee.validator.format.apply(this,ie)}:(2<arguments.length&&oe.constructor!==Array&&(oe=ee.makeArray(arguments).slice(1)),oe.constructor!==Array&&(oe=[oe]),ee.each(oe,function(ie,se){ne=ne.replace(new RegExp('\\{'+ie+'\\}','g'),function(){return se})}),ne)},ee.extend(ee.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:'error',validClass:'valid',errorElement:'label',focusInvalid:!0,errorContainer:ee([]),errorLabelContainer:ee([]),onsubmit:!0,ignore:':hidden',ignoreTitle:!1,onfocusin:function(ne){this.lastActive=ne,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,ne,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(ne)))},onfocusout:function(ne){this.checkable(ne)||!(ne.name in this.submitted)&&this.optional(ne)||this.element(ne)},onkeyup:function(ne,oe){9===oe.which&&''===this.elementValue(ne)||(ne.name in this.submitted||ne===this.lastElement)&&this.element(ne)},onclick:function(ne){ne.name in this.submitted?this.element(ne):ne.parentNode.name in this.submitted&&this.element(ne.parentNode)},highlight:function(ne,oe,ie){'radio'===ne.type?this.findByName(ne.name).addClass(oe).removeClass(ie):ee(ne).addClass(oe).removeClass(ie)},unhighlight:function(ne,oe,ie){'radio'===ne.type?this.findByName(ne.name).removeClass(oe).addClass(ie):ee(ne).removeClass(oe).addClass(ie)}},// http://jqueryvalidation.org/jQuery.validator.setDefaults/
setDefaults:function(ne){ee.extend(ee.validator.defaults,ne)},messages:{required:'This field is required.',remote:'Please fix this field.',email:'Please enter a valid email address.',url:'Please enter a valid URL.',date:'Please enter a valid date.',dateISO:'Please enter a valid date ( ISO ).',number:'Please enter a valid number.',digits:'Please enter only digits.',creditcard:'Please enter a valid credit card number.',equalTo:'Please enter the same value again.',maxlength:ee.validator.format('Please enter no more than {0} characters.'),minlength:ee.validator.format('Please enter at least {0} characters.'),rangelength:ee.validator.format('Please enter a value between {0} and {1} characters long.'),range:ee.validator.format('Please enter a value between {0} and {1}.'),max:ee.validator.format('Please enter a value less than or equal to {0}.'),min:ee.validator.format('Please enter a value greater than or equal to {0}.')},autoCreateRanges:!1,prototype:{init:function(){function ne(se){var re=ee.data(this[0].form,'validator'),le='on'+se.type.replace(/^validate/,''),de=re.settings;de[le]&&!this.is(de.ignore)&&de[le].call(re,this[0],se)}this.labelContainer=ee(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||ee(this.currentForm),this.containers=ee(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var oe=this.groups={},ie;ee.each(this.settings.groups,function(se,re){'string'==typeof re&&(re=re.split(/\s/)),ee.each(re,function(le,de){oe[de]=se})}),ie=this.settings.rules,ee.each(ie,function(se,re){ie[se]=ee.validator.normalizeRule(re)}),ee(this.currentForm).validateDelegate(':text, [type=\'password\'], [type=\'file\'], select, textarea, [type=\'number\'], [type=\'search\'] ,[type=\'tel\'], [type=\'url\'], [type=\'email\'], [type=\'datetime\'], [type=\'date\'], [type=\'month\'], [type=\'week\'], [type=\'time\'], [type=\'datetime-local\'], [type=\'range\'], [type=\'color\'], [type=\'radio\'], [type=\'checkbox\']','focusin focusout keyup',ne)// Support: Chrome, oldIE
// "select" is provided as event.target when clicking a option
.validateDelegate('select, option, [type=\'radio\'], [type=\'checkbox\']','click',ne),this.settings.invalidHandler&&ee(this.currentForm).bind('invalid-form.validate',this.settings.invalidHandler),ee(this.currentForm).find('[required], [data-rule-required], .required').attr('aria-required','true')},// http://jqueryvalidation.org/Validator.form/
form:function(){return this.checkForm(),ee.extend(this.submitted,this.errorMap),this.invalid=ee.extend({},this.errorMap),this.valid()||ee(this.currentForm).triggerHandler('invalid-form',[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var ne=0,oe=this.currentElements=this.elements();oe[ne];ne++)this.check(oe[ne]);return this.valid()},// http://jqueryvalidation.org/Validator.element/
element:function(ne){var oe=this.clean(ne),ie=this.validationTargetFor(oe),se=!0;return this.lastElement=ie,void 0===ie?delete this.invalid[oe.name]:(this.prepareElement(ie),this.currentElements=ee(ie),se=!1!==this.check(ie),se?delete this.invalid[ie.name]:this.invalid[ie.name]=!0),ee(ne).attr('aria-invalid',!se),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),se},// http://jqueryvalidation.org/Validator.showErrors/
showErrors:function(ne){if(ne){for(var oe in ee.extend(this.errorMap,ne),this.errorList=[],ne)this.errorList.push({message:ne[oe],element:this.findByName(oe)[0]});// remove items from success list
this.successList=ee.grep(this.successList,function(ie){return!(ie.name in ne)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},// http://jqueryvalidation.org/Validator.resetForm/
resetForm:function(){ee.fn.resetForm&&ee(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData('previousValue').removeAttr('aria-invalid')},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(ne){/* jshint unused: false */var oe=0,ie;for(ie in ne)oe++;return oe},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(ne){ne.not(this.containers).text(''),this.addWrapper(ne).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{ee(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(':visible').focus()// manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find
.trigger('focusin')}catch(ne){// ignore IE throwing errors when focusing hidden elements
}},findLastActive:function(){var ne=this.lastActive;return ne&&1===ee.grep(this.errorList,function(oe){return oe.element.name===ne.name}).length&&ne},elements:function(){var ne=this,oe={};// select all valid inputs inside the form (no submit or reset buttons)
return ee(this.currentForm).find('input, select, textarea').not(':submit, :reset, :image, [disabled]').not(this.settings.ignore).filter(function(){// select only the first element for each name, and only those with rules specified
return(!this.name&&ne.settings.debug&&window.console&&console.error('%o has no name assigned',this),!(this.name in oe)&&ne.objectLength(ee(this).rules()))&&(oe[this.name]=!0,!0)})},clean:function(ne){return ee(ne)[0]},errors:function(){var ne=this.settings.errorClass.split(' ').join('.');return ee(this.settings.errorElement+'.'+ne,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=ee([]),this.toHide=ee([]),this.currentElements=ee([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(ne){this.reset(),this.toHide=this.errorsFor(ne)},elementValue:function(ne){var ie=ee(ne),se=ne.type,oe;return'radio'===se||'checkbox'===se?ee('input[name=\''+ne.name+'\']:checked').val():'number'===se&&'undefined'!=typeof ne.validity?!ne.validity.badInput&&ie.val():(oe=ie.val(),'string'==typeof oe?oe.replace(/\r/g,''):oe)},check:function(ne){ne=this.validationTargetFor(this.clean(ne));var oe=ee(ne).rules(),ie=ee.map(oe,function(pe,ue){return ue}).length,se=!1,re=this.elementValue(ne),le,de,ce;for(de in oe){ce={method:de,parameters:oe[de]};try{// if a method indicates that the field is optional and therefore valid,
// don't mark it as valid when there are no other rules
if(le=ee.validator.methods[de].call(this,re,ne,ce.parameters),'dependency-mismatch'===le&&1===ie){se=!0;continue}if(se=!1,'pending'===le)return void(this.toHide=this.toHide.not(this.errorsFor(ne)));if(!le)return this.formatAndAdd(ne,ce),!1}catch(pe){throw this.settings.debug&&window.console&&console.log('Exception occurred when checking element '+ne.id+', check the \''+ce.method+'\' method.',pe),pe}}if(!se)return this.objectLength(oe)&&this.successList.push(ne),!0},// return the custom message for the given element and validation method
// specified in the element's HTML5 data attribute
// return the generic message if present and no method specific message is present
customDataMessage:function(ne,oe){return ee(ne).data('msg'+oe.charAt(0).toUpperCase()+oe.substring(1).toLowerCase())||ee(ne).data('msg')},// return the custom message for the given element name and validation method
customMessage:function(ne,oe){var ie=this.settings.messages[ne];return ie&&(ie.constructor===String?ie:ie[oe])},// return the first defined argument, allowing empty strings
findDefined:function(){for(var ne=0;ne<arguments.length;ne++)if(arguments[ne]!==void 0)return arguments[ne];return void 0},defaultMessage:function(ne,oe){return this.findDefined(this.customMessage(ne.name,oe),this.customDataMessage(ne,oe),// title is never undefined, so handle empty string as undefined
!this.settings.ignoreTitle&&ne.title||void 0,ee.validator.messages[oe],'<strong>Warning: No message defined for '+ne.name+'</strong>')},formatAndAdd:function(ne,oe){var ie=this.defaultMessage(ne,oe.method),se=/\$?\{(\d+)\}/g;'function'==typeof ie?ie=ie.call(this,oe.parameters,ne):se.test(ie)&&(ie=ee.validator.format(ie.replace(se,'{$1}'),oe.parameters)),this.errorList.push({message:ie,element:ne,method:oe.method}),this.errorMap[ne.name]=ie,this.submitted[ne.name]=ie},addWrapper:function(ne){return this.settings.wrapper&&(ne=ne.add(ne.parent(this.settings.wrapper))),ne},defaultShowErrors:function(){var ne,oe,ie;for(ne=0;this.errorList[ne];ne++)ie=this.errorList[ne],this.settings.highlight&&this.settings.highlight.call(this,ie.element,this.settings.errorClass,this.settings.validClass),this.showLabel(ie.element,ie.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(ne=0;this.successList[ne];ne++)this.showLabel(this.successList[ne]);if(this.settings.unhighlight)for(ne=0,oe=this.validElements();oe[ne];ne++)this.settings.unhighlight.call(this,oe[ne],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return ee(this.errorList).map(function(){return this.element})},showLabel:function(ne,oe){var le=this.errorsFor(ne),de=this.idOrName(ne),ce=ee(ne).attr('aria-describedby'),ie,se,re;le.length?(le.removeClass(this.settings.validClass).addClass(this.settings.errorClass),le.html(oe)):(le=ee('<'+this.settings.errorElement+'>').attr('id',de+'-error').addClass(this.settings.errorClass).html(oe||''),ie=le,this.settings.wrapper&&(ie=le.hide().show().wrap('<'+this.settings.wrapper+'/>').parent()),this.labelContainer.length?this.labelContainer.append(ie):this.settings.errorPlacement?this.settings.errorPlacement(ie,ee(ne)):ie.insertAfter(ne),le.is('label')?le.attr('for',de):0===le.parents('label[for=\''+de+'\']').length&&(re=le.attr('id'),ce?!ce.match(new RegExp('\b'+re+'\b'))&&(ce+=' '+re):ce=re,ee(ne).attr('aria-describedby',ce),se=this.groups[ne.name],se&&ee.each(this.groups,function(pe,ue){ue===se&&ee('[name=\''+pe+'\']',this.currentForm).attr('aria-describedby',le.attr('id'))}))),!oe&&this.settings.success&&(le.text(''),'string'==typeof this.settings.success?le.addClass(this.settings.success):this.settings.success(le,ne)),this.toShow=this.toShow.add(le)},errorsFor:function(ne){var oe=this.idOrName(ne),ie=ee(ne).attr('aria-describedby'),se='label[for=\''+oe+'\'], label[for=\''+oe+'\'] *';// aria-describedby should directly reference the error element
return ie&&(se=se+', #'+ie.replace(/\s+/g,', #')),this.errors().filter(se)},idOrName:function(ne){return this.groups[ne.name]||(this.checkable(ne)?ne.name:ne.id||ne.name)},validationTargetFor:function(ne){return this.checkable(ne)&&(ne=this.findByName(ne.name).not(this.settings.ignore)[0]),ne},checkable:function(ne){return /radio|checkbox/i.test(ne.type)},findByName:function(ne){return ee(this.currentForm).find('[name=\''+ne+'\']')},getLength:function(ne,oe){switch(oe.nodeName.toLowerCase()){case'select':return ee('option:selected',oe).length;case'input':if(this.checkable(oe))return this.findByName(oe.name).filter(':checked').length;}return ne.length},depend:function(ne,oe){return!this.dependTypes[typeof ne]||this.dependTypes[typeof ne](ne,oe)},dependTypes:{boolean:function(ne){return ne},string:function(ne,oe){return!!ee(ne,oe.form).length},'function':function(ne,oe){return ne(oe)}},optional:function(ne){var oe=this.elementValue(ne);return!ee.validator.methods.required.call(this,oe,ne)&&'dependency-mismatch'},startRequest:function(ne){this.pending[ne.name]||(this.pendingRequest++,this.pending[ne.name]=!0)},stopRequest:function(ne,oe){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[ne.name],oe&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(ee(this.currentForm).submit(),this.formSubmitted=!1):!oe&&0===this.pendingRequest&&this.formSubmitted&&(ee(this.currentForm).triggerHandler('invalid-form',[this]),this.formSubmitted=!1)},previousValue:function(ne){return ee.data(ne,'previousValue')||ee.data(ne,'previousValue',{old:null,valid:!0,message:this.defaultMessage(ne,'remote')})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(ne,oe){ne.constructor===String?this.classRuleSettings[ne]=oe:ee.extend(this.classRuleSettings,ne)},classRules:function(ne){var oe={},ie=ee(ne).attr('class');return ie&&ee.each(ie.split(' '),function(){this in ee.validator.classRuleSettings&&ee.extend(oe,ee.validator.classRuleSettings[this])}),oe},attributeRules:function(ne){var oe={},ie=ee(ne),se=ne.getAttribute('type'),re,le;for(re in ee.validator.methods)'required'===re?(le=ne.getAttribute(re),''===le&&(le=!0),le=!!le):le=ie.attr(re),/min|max/.test(re)&&(null===se||/number|range|text/.test(se))&&(le=+le),le||0===le?oe[re]=le:se===re&&'range'!==se&&(oe[re]=!0);// maxlength may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs
return oe.maxlength&&/-1|2147483647|524288/.test(oe.maxlength)&&delete oe.maxlength,oe},dataRules:function(ne){var se={},re=ee(ne),oe,ie;for(oe in ee.validator.methods)ie=re.data('rule'+oe.charAt(0).toUpperCase()+oe.substring(1).toLowerCase()),void 0!=ie&&(se[oe]=ie);return se},staticRules:function(ne){var oe={},ie=ee.data(ne.form,'validator');return ie.settings.rules&&(oe=ee.validator.normalizeRule(ie.settings.rules[ne.name])||{}),oe},normalizeRules:function(ne,oe){return ee.each(ne,function(ie,se){// ignore rule when param is explicitly false, eg. required:false
if(!1===se)return void delete ne[ie];if(se.param||se.depends){var re=!0;switch(typeof se.depends){case'string':re=!!ee(se.depends,oe.form).length;break;case'function':re=se.depends.call(oe,oe);}re?ne[ie]=void 0===se.param||se.param:delete ne[ie]}}),ee.each(ne,function(ie,se){ne[ie]=ee.isFunction(se)?se(oe):se}),ee.each(['minlength','maxlength'],function(){ne[this]&&(ne[this]=+ne[this])}),ee.each(['rangelength','range'],function(){var ie;ne[this]&&(ee.isArray(ne[this])?ne[this]=[+ne[this][0],+ne[this][1]]:'string'==typeof ne[this]&&(ie=ne[this].replace(/[\[\]]/g,'').split(/[\s,]+/),ne[this]=[+ie[0],+ie[1]]))}),ee.validator.autoCreateRanges&&(ne.min&&ne.max&&(ne.range=[ne.min,ne.max],delete ne.min,delete ne.max),ne.minlength&&ne.maxlength&&(ne.rangelength=[ne.minlength,ne.maxlength],delete ne.minlength,delete ne.maxlength)),ne},// Converts a simple string to a {string: true} rule, e.g., "required" to {required:true}
normalizeRule:function(ne){if('string'==typeof ne){var oe={};ee.each(ne.split(/\s/),function(){oe[this]=!0}),ne=oe}return ne},// http://jqueryvalidation.org/jQuery.validator.addMethod/
addMethod:function(ne,oe,ie){ee.validator.methods[ne]=oe,ee.validator.messages[ne]=ie===void 0?ee.validator.messages[ne]:ie,3>oe.length&&ee.validator.addClassRules(ne,ee.validator.normalizeRule(ne))},methods:{// http://jqueryvalidation.org/required-method/
required:function(ne,oe,ie){// check if dependency is met
if(!this.depend(ie,oe))return'dependency-mismatch';if('select'===oe.nodeName.toLowerCase()){// could be an array for select-multiple or a string, both are fine this way
var se=ee(oe).val();return se&&0<se.length}return this.checkable(oe)?0<this.getLength(ne,oe):0<ee.trim(ne).length},// http://jqueryvalidation.org/email-method/
email:function(ne,oe){// From http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#e-mail-state-%28type=email%29
// Retrieved 2014-01-14
// If you have a problem with this implementation, report a bug against the above spec
// Or use custom methods to implement your own email validation
return this.optional(oe)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(ne)},// http://jqueryvalidation.org/url-method/
url:function(ne,oe){// contributed by Scott Gonzalez: http://projects.scottsplayground.com/iri/
return this.optional(oe)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(ne)},// http://jqueryvalidation.org/date-method/
date:function(ne,oe){return this.optional(oe)||!/Invalid|NaN/.test(new Date(ne).toString())},// http://jqueryvalidation.org/dateISO-method/
dateISO:function(ne,oe){return this.optional(oe)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(ne)},// http://jqueryvalidation.org/number-method/
number:function(ne,oe){return this.optional(oe)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(ne)},// http://jqueryvalidation.org/digits-method/
digits:function(ne,oe){return this.optional(oe)||/^\d+$/.test(ne)},// http://jqueryvalidation.org/creditcard-method/
// based on http://en.wikipedia.org/wiki/Luhn/
creditcard:function(ne,oe){if(this.optional(oe))return'dependency-mismatch';// accept only spaces, digits and dashes
if(/[^0-9 \-]+/.test(ne))return!1;var ie=0,se=0,re=!1,le,de;// Basing min and max length on
// http://developer.ean.com/general_info/Valid_Credit_Card_Types
if(ne=ne.replace(/\D/g,''),13>ne.length||19<ne.length)return!1;for(le=ne.length-1;0<=le;le--)de=ne.charAt(le),se=parseInt(de,10),re&&9<(se*=2)&&(se-=9),ie+=se,re=!re;return 0==ie%10},// http://jqueryvalidation.org/minlength-method/
minlength:function(ne,oe,ie){var se=ee.isArray(ne)?ne.length:this.getLength(ee.trim(ne),oe);return this.optional(oe)||se>=ie},// http://jqueryvalidation.org/maxlength-method/
maxlength:function(ne,oe,ie){var se=ee.isArray(ne)?ne.length:this.getLength(ee.trim(ne),oe);return this.optional(oe)||se<=ie},// http://jqueryvalidation.org/rangelength-method/
rangelength:function(ne,oe,ie){var se=ee.isArray(ne)?ne.length:this.getLength(ee.trim(ne),oe);return this.optional(oe)||se>=ie[0]&&se<=ie[1]},// http://jqueryvalidation.org/min-method/
min:function(ne,oe,ie){return this.optional(oe)||ne>=ie},// http://jqueryvalidation.org/max-method/
max:function(ne,oe,ie){return this.optional(oe)||ne<=ie},// http://jqueryvalidation.org/range-method/
range:function(ne,oe,ie){return this.optional(oe)||ne>=ie[0]&&ne<=ie[1]},// http://jqueryvalidation.org/equalTo-method/
equalTo:function(ne,oe,ie){// bind to the blur event of the target in order to revalidate whenever the target field is updated
// TODO find a way to bind the event just once, avoiding the unbind-rebind overhead
var se=ee(ie);return this.settings.onfocusout&&se.unbind('.validate-equalTo').bind('blur.validate-equalTo',function(){ee(oe).valid()}),ne===se.val()},// http://jqueryvalidation.org/remote-method/
remote:function(ne,oe,ie){if(this.optional(oe))return'dependency-mismatch';var se=this.previousValue(oe),re,le;return(this.settings.messages[oe.name]||(this.settings.messages[oe.name]={}),se.originalMessage=this.settings.messages[oe.name].remote,this.settings.messages[oe.name].remote=se.message,ie='string'==typeof ie&&{url:ie}||ie,se.old===ne)?se.valid:(se.old=ne,re=this,this.startRequest(oe),le={},le[oe.name]=ne,ee.ajax(ee.extend(!0,{url:ie,mode:'abort',port:'validate'+oe.name,dataType:'json',data:le,context:re.currentForm,success:function(de){var ce=!0===de||'true'===de,pe,ue,he;re.settings.messages[oe.name].remote=se.originalMessage,ce?(he=re.formSubmitted,re.prepareElement(oe),re.formSubmitted=he,re.successList.push(oe),delete re.invalid[oe.name],re.showErrors()):(pe={},ue=de||re.defaultMessage(oe,'remote'),pe[oe.name]=se.message=ee.isFunction(ue)?ue(ne):ue,re.invalid[oe.name]=!0,re.showErrors(pe)),se.valid=ce,re.stopRequest(oe,ce)}},ie)),'pending')}}}),ee.format=function(){throw'$.format has been deprecated. Please use $.validator.format instead.'};// ajax mode: abort
// usage: $.ajax({ mode: "abort"[, port: "uniqueport"]});
// if mode:"abort" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()
var te={},ae;// Use a prefilter if available (1.5+)
ee.ajaxPrefilter?ee.ajaxPrefilter(function(ne,oe,ie){var se=ne.port;'abort'===ne.mode&&(te[se]&&te[se].abort(),te[se]=ie)}):(ae=ee.ajax,ee.ajax=function(ne){var oe=('mode'in ne?ne:ee.ajaxSettings).mode,ie=('port'in ne?ne:ee.ajaxSettings).port;return'abort'===oe?(te[ie]&&te[ie].abort(),te[ie]=ae.apply(this,arguments),te[ie]):ae.apply(this,arguments)}),ee.extend(ee.fn,{validateDelegate:function(ne,oe,ie){return this.bind(oe,function(se){var re=ee(se.target);if(re.is(ne))return ie.apply(re,arguments)})}})}),function($){$.extend({tablesorter:new function(){function benchmark(ee,te){log(ee+','+(new Date().getTime()-te.getTime())+'ms')}function log(ee){'undefined'!=typeof console&&'undefined'!=typeof console.debug?console.log(ee):alert(ee)}function buildParserCache(ee,te){if(ee.config.debug)var ae='';if(0!=ee.tBodies.length){var ne=ee.tBodies[0].rows;if(ne[0]){var oe=[],ie=ne[0].cells,se=ie.length;for(var re=0;re<se;re++){var le=!1;$.metadata&&$(te[re]).metadata()&&$(te[re]).metadata().sorter?le=getParserById($(te[re]).metadata().sorter):ee.config.headers[re]&&ee.config.headers[re].sorter&&(le=getParserById(ee.config.headers[re].sorter)),le||(le=detectParserForColumn(ee,ne,-1,re)),ee.config.debug&&(ae+='column:'+re+' parser:'+le.id+'\n'),oe.push(le)}}return ee.config.debug&&log(ae),oe}}function detectParserForColumn(ee,te,ae,ne){for(var oe=parsers.length,ie=!1,se=!1,re=!0;''==se&&re;)ae++,te[ae]?(ie=getNodeFromRowAndCellIndex(te,ae,ne),se=trimAndGetNodeText(ee.config,ie),ee.config.debug&&log('Checking if value was empty on row:'+ae)):re=!1;for(var le=1;le<oe;le++)if(parsers[le].is(se,ee,ie))return parsers[le];return parsers[0]}function getNodeFromRowAndCellIndex(ee,te,ae){return ee[te].cells[ae]}function trimAndGetNodeText(ee,te){return $.trim(getElementText(ee,te))}function getParserById(ee){var te=parsers.length;for(var ae=0;ae<te;ae++)if(parsers[ae].id.toLowerCase()==ee.toLowerCase())return parsers[ae];return!1}function buildCache(ee){if(ee.config.debug)var te=new Date;var ae=ee.tBodies[0]&&ee.tBodies[0].rows.length||0,ne=ee.tBodies[0].rows[0]&&ee.tBodies[0].rows[0].cells.length||0,oe=ee.config.parsers,ie={row:[],normalized:[]};for(var se=0;se<ae;++se){var re=$(ee.tBodies[0].rows[se]),le=[];if(re.hasClass(ee.config.cssChildRow)){ie.row[ie.row.length-1]=ie.row[ie.row.length-1].add(re);continue}ie.row.push(re);for(var de=0;de<ne;++de)le.push(oe[de].format(getElementText(ee.config,re[0].cells[de]),ee,re[0].cells[de]));le.push(ie.normalized.length),ie.normalized.push(le),le=null};return ee.config.debug&&benchmark('Building cache for '+ae+' rows:',te),ie}function getElementText(ee,te){var ae='';return te?(ee.supportsTextContent||(ee.supportsTextContent=te.textContent||!1),ae='simple'==ee.textExtraction?ee.supportsTextContent?te.textContent:te.childNodes[0]&&te.childNodes[0].hasChildNodes()?te.childNodes[0].innerHTML:te.innerHTML:'function'==typeof ee.textExtraction?ee.textExtraction(te):$(te).text(),ae):''}function appendToTable(ee,te){if(ee.config.debug)var ae=new Date;var ne=te,oe=ne.row,ie=ne.normalized,se=ie.length,re=ie[0].length-1,le=$(ee.tBodies[0]),de=[];for(var ce=0;ce<se;ce++){var pe=ie[ce][re];if(de.push(oe[pe]),!ee.config.appender){var ue=oe[pe].length;for(var he=0;he<ue;he++)le[0].appendChild(oe[pe][he])}}ee.config.appender&&ee.config.appender(ee,de),de=null,ee.config.debug&&benchmark('Rebuilt table:',ae),applyWidget(ee),setTimeout(function(){$(ee).trigger('sortEnd')},0)}function buildHeaders(ee){if(ee.config.debug)var te=new Date;!!$.metadata;var ae=computeTableHeaderCellIndexes(ee);return $tableHeaders=$(ee.config.selectorHeaders,ee).each(function(ne){if(this.column=ae[this.parentNode.rowIndex+'-'+this.cellIndex],this.order=formatSortingOrder(ee.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(ee,ne))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(ee,ne)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(ee,ne)),!this.sortDisabled){var oe=$(this).addClass(ee.config.cssHeader);ee.config.onRenderHeader&&ee.config.onRenderHeader.apply(oe)}ee.config.headerList[ne]=this}),ee.config.debug&&(benchmark('Built headers:',te),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(ee){var te=[],ae={},ne=ee.getElementsByTagName('THEAD')[0],oe=ne.getElementsByTagName('TR');for(var ie=0;ie<oe.length;ie++){var se=oe[ie].cells;for(var re=0;re<se.length;re++){var le=se[re],de=le.parentNode.rowIndex,ce=de+'-'+le.cellIndex,pe=le.rowSpan||1,ue=le.colSpan||1,he;'undefined'==typeof te[de]&&(te[de]=[]);for(var ge=0;ge<te[de].length+1;ge++)if('undefined'==typeof te[de][ge]){he=ge;break}ae[ce]=he;for(var ge=de;ge<de+pe;ge++){'undefined'==typeof te[ge]&&(te[ge]=[]);var fe=te[ge];for(var ye=he;ye<he+ue;ye++)fe[ye]='x'}}}return ae}function checkHeaderMetadata(ee){if($.metadata&&!1===$(ee).metadata().sorter)return!0;;return!1}function checkHeaderOptions(ee,te){if(ee.config.headers[te]&&!1===ee.config.headers[te].sorter)return!0;;return!1}function checkHeaderOptionsSortingLocked(ee,te){return ee.config.headers[te]&&ee.config.headers[te].lockedOrder&&ee.config.headers[te].lockedOrder}function applyWidget(ee){var te=ee.config.widgets,ae=te.length;for(var ne=0;ne<ae;ne++)getWidgetById(te[ne]).format(ee)}function getWidgetById(ee){var te=widgets.length;for(var ae=0;ae<te;ae++)if(widgets[ae].id.toLowerCase()==ee.toLowerCase())return widgets[ae]}function formatSortingOrder(ee){return'Number'==typeof ee?1==ee?1:0:'desc'==ee.toLowerCase()?1:0}function isValueInArray(ee,te){var ae=te.length;for(var ne=0;ne<ae;ne++)if(te[ne][0]==ee)return!0;return!1}function setHeadersCss(ee,te,ae,ne){te.removeClass(ne[0]).removeClass(ne[1]);var oe=[];te.each(function(re){this.sortDisabled||(oe[this.column]=$(this))});var ie=ae.length;for(var se=0;se<ie;se++)oe[ae[se][0]].addClass(ne[ae[se][1]])}function fixColumnWidth(ee,te){var ae=ee.config;if(ae.widthFixed){var ne=$('<colgroup>');$('tr:first td',ee.tBodies[0]).each(function(){ne.append($('<col>').css('width',$(this).width()))}),$(ee).prepend(ne)};}function updateHeaderSortCount(ee,te){var ae=ee.config,ne=te.length;for(var oe=0;oe<ne;oe++){var ie=te[oe],se=ae.headerList[ie[0]];se.count=ie[1],se.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;var dynamicExp='var sortWrapper = function(a,b) {',l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s='text'==table.config.parsers[c].type?0==order?makeSortFunction('text','asc',c):makeSortFunction('text','desc',c):0==order?makeSortFunction('numeric','asc',c):makeSortFunction('numeric','desc',c),e='e'+i;dynamicExp+='var '+e+' = '+s,dynamicExp+='if('+e+') { return '+e+'; } ',dynamicExp+='else { '}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+='return a['+orgOrderCol+']-b['+orgOrderCol+'];';for(var i=0;i<l;i++)dynamicExp+='}; ';return dynamicExp+='return 0; ',dynamicExp+='}; ',table.config.debug&&benchmark('Evaling expression:'+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark('Sorting on '+sortList.toString()+' and dir '+order+' time:',sortTime),cache}function makeSortFunction(ee,te,ae){var ne='a['+ae+']',oe='b['+ae+']';if('text'==ee&&'asc'==te)return'('+ne+' == '+oe+' ? 0 : ('+ne+' === null ? Number.POSITIVE_INFINITY : ('+oe+' === null ? Number.NEGATIVE_INFINITY : ('+ne+' < '+oe+') ? -1 : 1 )));';return'text'==ee&&'desc'==te?'('+ne+' == '+oe+' ? 0 : ('+ne+' === null ? Number.POSITIVE_INFINITY : ('+oe+' === null ? Number.NEGATIVE_INFINITY : ('+oe+' < '+ne+') ? -1 : 1 )));':'numeric'==ee&&'asc'==te?'('+ne+' === null && '+oe+' === null) ? 0 :('+ne+' === null ? Number.POSITIVE_INFINITY : ('+oe+' === null ? Number.NEGATIVE_INFINITY : '+ne+' - '+oe+'));':'numeric'==ee&&'desc'==te?'('+ne+' === null && '+oe+' === null) ? 0 :('+ne+' === null ? Number.POSITIVE_INFINITY : ('+oe+' === null ? Number.NEGATIVE_INFINITY : '+oe+' - '+ne+'));':void 0}var parsers=[],widgets=[];this.defaults={cssHeader:'header',cssAsc:'headerSortUp',cssDesc:'headerSortDown',cssChildRow:'expand-child',sortInitialOrder:'asc',sortMultiSortKey:'shiftKey',sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:'simple',parsers:{},widgets:[],widgetZebra:{css:['even','odd']},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:'us',decimal:'/.|,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:!1},this.benchmark=benchmark;;;;;;;;;;;;;;;;;;this.construct=function(ee){return this.each(function(){if(this.tHead&&this.tBodies){var te,ae,ne,oe;this.config={},oe=$.extend(this.config,$.tablesorter.defaults,ee),te=$(this),$.data(this,'tablesorter',oe),ae=buildHeaders(this),this.config.parsers=buildParserCache(this,ae),ne=buildCache(this);var ie=[oe.cssDesc,oe.cssAsc];fixColumnWidth(this),ae.click(function(ge){var fe=te[0].tBodies[0]&&te[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&0<fe){te.trigger('sortStart'),$(this);var ye=this.column;if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),!ge[oe.sortMultiSortKey]){if(oe.sortList=[],null!=oe.sortForce){var be=oe.sortForce;for(var _e=0;_e<be.length;_e++)be[_e][0]!=ye&&oe.sortList.push(be[_e])}oe.sortList.push([ye,this.order])}else if(isValueInArray(ye,oe.sortList))for(var _e=0;_e<oe.sortList.length;_e++){var ve=oe.sortList[_e],we=oe.headerList[ve[0]];ve[0]==ye&&(we.count=ve[1],we.count++,ve[1]=we.count%2)}else oe.sortList.push([ye,this.order]);;return setTimeout(function(){setHeadersCss(te[0],ae,oe.sortList,ie),appendToTable(te[0],multisort(te[0],oe.sortList,ne))},1),!1}}).mousedown(function(){if(oe.cancelSelection)return this.onselectstart=function(){return!1},!1}),te.bind('update',function(){var ge=this;setTimeout(function(){ge.config.parsers=buildParserCache(ge,ae),ne=buildCache(ge)},1)}).bind('updateCell',function(ge,fe){var ye=this.config,be=[fe.parentNode.rowIndex-1,fe.cellIndex];ne.normalized[be[0]][be[1]]=ye.parsers[be[1]].format(getElementText(ye,fe),fe)}).bind('sorton',function(ge,fe){$(this).trigger('sortStart'),oe.sortList=fe;var ye=oe.sortList;updateHeaderSortCount(this,ye),setHeadersCss(this,ae,ye,ie),appendToTable(this,multisort(this,ye,ne))}).bind('appendCache',function(){appendToTable(this,ne)}).bind('applyWidgetId',function(ge,fe){getWidgetById(fe).format(this)}).bind('applyWidgets',function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(oe.sortList=$(this).metadata().sortlist),0<oe.sortList.length&&te.trigger('sorton',[oe.sortList]),applyWidget(this)}})},this.addParser=function(ee){var te=parsers.length,ae=!0;for(var ne=0;ne<te;ne++)parsers[ne].id.toLowerCase()==ee.id.toLowerCase()&&(ae=!1);ae&&parsers.push(ee);;},this.addWidget=function(ee){widgets.push(ee)},this.formatFloat=function(ee){var te=parseFloat(ee);return isNaN(te)?0:te},this.formatInt=function(ee){var te=parseInt(ee);return isNaN(te)?0:te},this.isDigit=function(ee,te){return /^[-+]?\d*$/.test($.trim(ee.replace(/[,.']/g,'')))},this.clearTableBody=function(ee){$.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(ee.tBodies[0]):ee.tBodies[0].innerHTML=''}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:'text',is:function(ee){return!0},format:function(ee){return $.trim(ee.toLocaleLowerCase())},type:'text'}),ts.addParser({id:'digit',is:function(ee,te){var ae=te.config;return $.tablesorter.isDigit(ee,ae)},format:function(ee){return $.tablesorter.formatFloat(ee)},type:'numeric'}),ts.addParser({id:'currency',is:function(ee){return /^[Â£$â‚¬?.]/.test(ee)},format:function(ee){return $.tablesorter.formatFloat(ee.replace(new RegExp(/[Â£$â‚¬]/g),''))},type:'numeric'}),ts.addParser({id:'ipAddress',is:function(ee){return /^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(ee)},format:function(ee){var te=ee.split('.'),ae='',ne=te.length;for(var oe=0;oe<ne;oe++){var ie=te[oe];ae+=2==ie.length?'0'+ie:ie}return $.tablesorter.formatFloat(ae)},type:'numeric'}),ts.addParser({id:'url',is:function(ee){return /^(https?|ftp|file):\/\/$/.test(ee)},format:function(ee){return jQuery.trim(ee.replace(new RegExp(/(https?|ftp|file):\/\//),''))},type:'text'}),ts.addParser({id:'isoDate',is:function(ee){return /^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(ee)},format:function(ee){return $.tablesorter.formatFloat(''==ee?'0':new Date(ee.replace(new RegExp(/-/g),'/')).getTime())},type:'numeric'}),ts.addParser({id:'percent',is:function(ee){return /\%$/.test($.trim(ee))},format:function(ee){return $.tablesorter.formatFloat(ee.replace(new RegExp(/%/g),''))},type:'numeric'}),ts.addParser({id:'usLongDate',is:function(ee){return ee.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(ee){return $.tablesorter.formatFloat(new Date(ee).getTime())},type:'numeric'}),ts.addParser({id:'shortDate',is:function(ee){return /\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(ee)},format:function(ee,te){var ae=te.config;return ee=ee.replace(/\-/g,'/'),'us'==ae.dateFormat?ee=ee.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,'$3/$1/$2'):'uk'==ae.dateFormat?ee=ee.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,'$3/$2/$1'):('dd/mm/yy'==ae.dateFormat||'dd-mm-yy'==ae.dateFormat)&&(ee=ee.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,'$1/$2/$3')),$.tablesorter.formatFloat(new Date(ee).getTime())},type:'numeric'}),ts.addParser({id:'time',is:function(ee){return /^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(ee)},format:function(ee){return $.tablesorter.formatFloat(new Date('2000/01/01 '+ee).getTime())},type:'numeric'}),ts.addParser({id:'metadata',is:function(ee){return!1},format:function(ee,te,ae){var ne=te.config,oe=ne.parserMetadataName?ne.parserMetadataName:'sortValue';return $(ae).metadata()[oe]},type:'numeric'}),ts.addWidget({id:'zebra',format:function(ee){if(ee.config.debug)var te=new Date;var ne=-1,ae,oe;$('tr:visible',ee.tBodies[0]).each(function(ie){ae=$(this),ae.hasClass(ee.config.cssChildRow)||ne++,oe=0==ne%2,ae.removeClass(ee.config.widgetZebra.css[oe?0:1]).addClass(ee.config.widgetZebra.css[oe?1:0])}),ee.config.debug&&$.tablesorter.benchmark('Applying Zebra widget',te)}})}(jQuery),function(ee,te){function ae(se,re){var pe=se.nodeName.toLowerCase(),le,de,ce;return'area'===pe?(le=se.parentNode,de=le.name,se.href&&de&&'map'===le.nodeName.toLowerCase()&&(ce=ee('img[usemap=#'+de+']')[0],!!ce&&ne(ce))):(/input|select|textarea|button|object/.test(pe)?!se.disabled:'a'===pe?se.href||re:re)&&ne(se)}function ne(se){return ee.expr.filters.visible(se)&&!ee(se).parents().addBack().filter(function(){return'hidden'===ee.css(this,'visibility')}).length}var oe=0,ie=/^ui-id-\d+$/;ee.ui=ee.ui||{},ee.extend(ee.ui,{version:'1.10.3',keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),ee.fn.extend({focus:function(se){return function(re,le){return'number'==typeof re?this.each(function(){var de=this;setTimeout(function(){ee(de).focus(),le&&le.call(de)},re)}):se.apply(this,arguments)}}(ee.fn.focus),scrollParent:function(){var se;return se=ee.ui.ie&&/(static|relative)/.test(this.css('position'))||/absolute/.test(this.css('position'))?this.parents().filter(function(){return /(relative|absolute|fixed)/.test(ee.css(this,'position'))&&/(auto|scroll)/.test(ee.css(this,'overflow')+ee.css(this,'overflow-y')+ee.css(this,'overflow-x'))}).eq(0):this.parents().filter(function(){return /(auto|scroll)/.test(ee.css(this,'overflow')+ee.css(this,'overflow-y')+ee.css(this,'overflow-x'))}).eq(0),/fixed/.test(this.css('position'))||!se.length?ee(document):se},zIndex:function(se){if(se!==te)return this.css('zIndex',se);if(this.length)for(var de=ee(this[0]),re,le;de.length&&de[0]!==document;){if(re=de.css('position'),('absolute'===re||'relative'===re||'fixed'===re)&&(le=parseInt(de.css('zIndex'),10),!isNaN(le)&&0!==le))return le;de=de.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id='ui-id-'+ ++oe)})},removeUniqueId:function(){return this.each(function(){ie.test(this.id)&&ee(this).removeAttr('id')})}}),ee.extend(ee.expr[':'],{data:ee.expr.createPseudo?ee.expr.createPseudo(function(se){return function(re){return!!ee.data(re,se)}}):function(se,re,le){return!!ee.data(se,le[3])},focusable:function(se){return ae(se,!isNaN(ee.attr(se,'tabindex')))},tabbable:function(se){var re=ee.attr(se,'tabindex'),le=isNaN(re);return(le||0<=re)&&ae(se,!le)}}),ee('<a>').outerWidth(1).jquery||ee.each(['Width','Height'],function(se,re){function le(ue,he,ge,fe){return ee.each(de,function(){he-=parseFloat(ee.css(ue,'padding'+this))||0,ge&&(he-=parseFloat(ee.css(ue,'border'+this+'Width'))||0),fe&&(he-=parseFloat(ee.css(ue,'margin'+this))||0)}),he}var de='Width'===re?['Left','Right']:['Top','Bottom'],ce=re.toLowerCase(),pe={innerWidth:ee.fn.innerWidth,innerHeight:ee.fn.innerHeight,outerWidth:ee.fn.outerWidth,outerHeight:ee.fn.outerHeight};ee.fn['inner'+re]=function(ue){return ue===te?pe['inner'+re].call(this):this.each(function(){ee(this).css(ce,le(this,ue)+'px')})},ee.fn['outer'+re]=function(ue,he){return'number'==typeof ue?this.each(function(){ee(this).css(ce,le(this,ue,!0,he)+'px')}):pe['outer'+re].call(this,ue)}}),ee.fn.addBack||(ee.fn.addBack=function(se){return this.add(null==se?this.prevObject:this.prevObject.filter(se))}),ee('<a>').data('a-b','a').removeData('a-b').data('a-b')&&(ee.fn.removeData=function(se){return function(re){return arguments.length?se.call(this,ee.camelCase(re)):se.call(this)}}(ee.fn.removeData)),ee.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),ee.support.selectstart='onselectstart'in document.createElement('div'),ee.fn.extend({disableSelection:function(){return this.bind((ee.support.selectstart?'selectstart':'mousedown')+'.ui-disableSelection',function(se){se.preventDefault()})},enableSelection:function(){return this.unbind('.ui-disableSelection')}}),ee.extend(ee.ui,{plugin:{add:function(se,re,le){var ce=ee.ui[se].prototype,de;for(de in le)ce.plugins[de]=ce.plugins[de]||[],ce.plugins[de].push([re,le[de]])},call:function(se,re,le){var ce=se.plugins[re],de;if(ce&&se.element[0].parentNode&&11!==se.element[0].parentNode.nodeType)for(de=0;ce.length>de;de++)se.options[ce[de][0]]&&ce[de][1].apply(se.element,le)}},hasScroll:function(se,re){if('hidden'===ee(se).css('overflow'))return!1;var le=re&&'left'===re?'scrollLeft':'scrollTop',de=!1;return!!(0<se[le])||(se[le]=1,de=0<se[le],se[le]=0,de)}})}(jQuery),function(ee,te){var ae=0,ne=Array.prototype.slice,oe=ee.cleanData;ee.cleanData=function(ie){for(var re=0,se;null!=(se=ie[re]);re++)try{ee(se).triggerHandler('remove')}catch(le){}oe(ie)},ee.widget=function(ie,se,re){var ue={},he=ie.split('.')[0],le,de,ce,pe;ie=ie.split('.')[1],le=he+'-'+ie,re||(re=se,se=ee.Widget),ee.expr[':'][le.toLowerCase()]=function(ge){return!!ee.data(ge,le)},ee[he]=ee[he]||{},de=ee[he][ie],ce=ee[he][ie]=function(ge,fe){return this._createWidget?(arguments.length&&this._createWidget(ge,fe),te):new ce(ge,fe)},ee.extend(ce,de,{version:re.version,_proto:ee.extend({},re),_childConstructors:[]}),pe=new se,pe.options=ee.widget.extend({},pe.options),ee.each(re,function(ge,fe){return ee.isFunction(fe)?(ue[ge]=function(){var ye=function(){return se.prototype[ge].apply(this,arguments)},be=function(_e){return se.prototype[ge].apply(this,_e)};return function(){var ve=this._super,we=this._superApply,_e;return this._super=ye,this._superApply=be,_e=fe.apply(this,arguments),this._super=ve,this._superApply=we,_e}}(),te):(ue[ge]=fe,te)}),ce.prototype=ee.widget.extend(pe,{widgetEventPrefix:de?pe.widgetEventPrefix:ie},ue,{constructor:ce,namespace:he,widgetName:ie,widgetFullName:le}),de?(ee.each(de._childConstructors,function(ge,fe){var ye=fe.prototype;ee.widget(ye.namespace+'.'+ye.widgetName,ce,fe._proto)}),delete de._childConstructors):se._childConstructors.push(ce),ee.widget.bridge(ie,ce)},ee.widget.extend=function(ie){for(var le=ne.call(arguments,1),de=0,ce=le.length,se,re;ce>de;de++)for(se in le[de])re=le[de][se],le[de].hasOwnProperty(se)&&re!==te&&(ie[se]=ee.isPlainObject(re)?ee.isPlainObject(ie[se])?ee.widget.extend({},ie[se],re):ee.widget.extend({},re):re);return ie},ee.widget.bridge=function(ie,se){var re=se.prototype.widgetFullName||ie;ee.fn[ie]=function(le){var de='string'==typeof le,ce=ne.call(arguments,1),pe=this;return le=!de&&ce.length?ee.widget.extend.apply(null,[le].concat(ce)):le,de?this.each(function(){var he=ee.data(this,re),ue;return he?ee.isFunction(he[le])&&'_'!==le.charAt(0)?(ue=he[le].apply(he,ce),ue!==he&&ue!==te?(pe=ue&&ue.jquery?pe.pushStack(ue.get()):ue,!1):te):ee.error('no such method \''+le+'\' for '+ie+' widget instance'):ee.error('cannot call methods on '+ie+' prior to initialization; attempted to call method \''+le+'\'')}):this.each(function(){var ue=ee.data(this,re);ue?ue.option(le||{})._init():ee.data(this,re,new se(le,this))}),pe}},ee.Widget=function(){},ee.Widget._childConstructors=[],ee.Widget.prototype={widgetName:'widget',widgetEventPrefix:'',defaultElement:'<div>',options:{disabled:!1,create:null},_createWidget:function(ie,se){se=ee(se||this.defaultElement||this)[0],this.element=ee(se),this.uuid=ae++,this.eventNamespace='.'+this.widgetName+this.uuid,this.options=ee.widget.extend({},this.options,this._getCreateOptions(),ie),this.bindings=ee(),this.hoverable=ee(),this.focusable=ee(),se!==this&&(ee.data(se,this.widgetFullName,this),this._on(!0,this.element,{remove:function(re){re.target===se&&this.destroy()}}),this.document=ee(se.style?se.ownerDocument:se.document||se),this.window=ee(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger('create',null,this._getCreateEventData()),this._init()},_getCreateOptions:ee.noop,_getCreateEventData:ee.noop,_create:ee.noop,_init:ee.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(ee.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr('aria-disabled').removeClass(this.widgetFullName+'-disabled ui-state-disabled'),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass('ui-state-hover'),this.focusable.removeClass('ui-state-focus')},_destroy:ee.noop,widget:function(){return this.element},option:function(ie,se){var ce=ie,re,le,de;if(0===arguments.length)return ee.widget.extend({},this.options);if('string'==typeof ie)if(ce={},re=ie.split('.'),ie=re.shift(),re.length){for(le=ce[ie]=ee.widget.extend({},this.options[ie]),de=0;re.length-1>de;de++)le[re[de]]=le[re[de]]||{},le=le[re[de]];if(ie=re.pop(),se===te)return le[ie]===te?null:le[ie];le[ie]=se}else{if(se===te)return this.options[ie]===te?null:this.options[ie];ce[ie]=se}return this._setOptions(ce),this},_setOptions:function(ie){for(var se in ie)this._setOption(se,ie[se]);return this},_setOption:function(ie,se){return this.options[ie]=se,'disabled'===ie&&(this.widget().toggleClass(this.widgetFullName+'-disabled ui-state-disabled',!!se).attr('aria-disabled',se),this.hoverable.removeClass('ui-state-hover'),this.focusable.removeClass('ui-state-focus')),this},enable:function(){return this._setOption('disabled',!1)},disable:function(){return this._setOption('disabled',!0)},_on:function(ie,se,re){var de=this,le;'boolean'!=typeof ie&&(re=se,se=ie,ie=!1),re?(se=le=ee(se),this.bindings=this.bindings.add(se)):(re=se,se=this.element,le=this.widget()),ee.each(re,function(ce,pe){function ue(){return ie||!0!==de.options.disabled&&!ee(this).hasClass('ui-state-disabled')?('string'==typeof pe?de[pe]:pe).apply(de,arguments):te}'string'!=typeof pe&&(ue.guid=pe.guid=pe.guid||ue.guid||ee.guid++);var he=ce.match(/^(\w+)\s*(.*)$/),ge=he[1]+de.eventNamespace,fe=he[2];fe?le.delegate(fe,ge,ue):se.bind(ge,ue)})},_off:function(ie,se){se=(se||'').split(' ').join(this.eventNamespace+' ')+this.eventNamespace,ie.unbind(se).undelegate(se)},_delay:function(ie,se){var re=this;return setTimeout(function(){return('string'==typeof ie?re[ie]:ie).apply(re,arguments)},se||0)},_hoverable:function(ie){this.hoverable=this.hoverable.add(ie),this._on(ie,{mouseenter:function(se){ee(se.currentTarget).addClass('ui-state-hover')},mouseleave:function(se){ee(se.currentTarget).removeClass('ui-state-hover')}})},_focusable:function(ie){this.focusable=this.focusable.add(ie),this._on(ie,{focusin:function(se){ee(se.currentTarget).addClass('ui-state-focus')},focusout:function(se){ee(se.currentTarget).removeClass('ui-state-focus')}})},_trigger:function(ie,se,re){var ce=this.options[ie],le,de;if(re=re||{},se=ee.Event(se),se.type=(ie===this.widgetEventPrefix?ie:this.widgetEventPrefix+ie).toLowerCase(),se.target=this.element[0],de=se.originalEvent)for(le in de)le in se||(se[le]=de[le]);return this.element.trigger(se,re),!(ee.isFunction(ce)&&!1===ce.apply(this.element[0],[se].concat(re))||se.isDefaultPrevented())}},ee.each({show:'fadeIn',hide:'fadeOut'},function(ie,se){ee.Widget.prototype['_'+ie]=function(re,le,de){'string'==typeof le&&(le={effect:le});var pe=le?!0===le||'number'==typeof le?se:le.effect||se:ie,ce;le=le||{},'number'==typeof le&&(le={duration:le}),ce=!ee.isEmptyObject(le),le.complete=de,le.delay&&re.delay(le.delay),ce&&ee.effects&&ee.effects.effect[pe]?re[ie](le):pe!==ie&&re[pe]?re[pe](le.duration,le.easing,de):re.queue(function(ue){ee(this)[ie](),de&&de.call(re[0]),ue()})}})}(jQuery),function(ee){var te=!1;ee(document).mouseup(function(){te=!1}),ee.widget('ui.mouse',{version:'1.10.3',options:{cancel:'input,textarea,button,select,option',distance:1,delay:0},_mouseInit:function(){var ae=this;this.element.bind('mousedown.'+this.widgetName,function(ne){return ae._mouseDown(ne)}).bind('click.'+this.widgetName,function(ne){return!0===ee.data(ne.target,ae.widgetName+'.preventClickEvent')?(ee.removeData(ne.target,ae.widgetName+'.preventClickEvent'),ne.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName),this._mouseMoveDelegate&&ee(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(ae){if(!te){this._mouseStarted&&this._mouseUp(ae),this._mouseDownEvent=ae;var ne=this,oe=1===ae.which,ie='string'==typeof this.options.cancel&&ae.target.nodeName&&ee(ae.target).closest(this.options.cancel).length;return oe&&!ie&&this._mouseCapture(ae)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){ne.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(ae)&&this._mouseDelayMet(ae)&&(this._mouseStarted=!1!==this._mouseStart(ae),!this._mouseStarted)?(ae.preventDefault(),!0):(!0===ee.data(ae.target,this.widgetName+'.preventClickEvent')&&ee.removeData(ae.target,this.widgetName+'.preventClickEvent'),this._mouseMoveDelegate=function(se){return ne._mouseMove(se)},this._mouseUpDelegate=function(se){return ne._mouseUp(se)},ee(document).bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate),ae.preventDefault(),te=!0,!0)):!0}},_mouseMove:function(ae){return ee.ui.ie&&(!document.documentMode||9>document.documentMode)&&!ae.button?this._mouseUp(ae):this._mouseStarted?(this._mouseDrag(ae),ae.preventDefault()):(this._mouseDistanceMet(ae)&&this._mouseDelayMet(ae)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,ae),this._mouseStarted?this._mouseDrag(ae):this._mouseUp(ae)),!this._mouseStarted)},_mouseUp:function(ae){return ee(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,ae.target===this._mouseDownEvent.target&&ee.data(ae.target,this.widgetName+'.preventClickEvent',!0),this._mouseStop(ae)),!1},_mouseDistanceMet:function(ae){return Math.max(Math.abs(this._mouseDownEvent.pageX-ae.pageX),Math.abs(this._mouseDownEvent.pageY-ae.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(ee,te){function ae(fe,ye,be){return[parseFloat(fe[0])*(he.test(fe[0])?ye/100:1),parseFloat(fe[1])*(he.test(fe[1])?be/100:1)]}function ne(fe,ye){return parseInt(ee.css(fe,ye),10)||0}function oe(fe){var ye=fe[0];return 9===ye.nodeType?{width:fe.width(),height:fe.height(),offset:{top:0,left:0}}:ee.isWindow(ye)?{width:fe.width(),height:fe.height(),offset:{top:fe.scrollTop(),left:fe.scrollLeft()}}:ye.preventDefault?{width:0,height:0,offset:{top:ye.pageY,left:ye.pageX}}:{width:fe.outerWidth(),height:fe.outerHeight(),offset:fe.offset()}}ee.ui=ee.ui||{};var se=Math.max,re=Math.abs,le=Math.round,de=/left|center|right/,ce=/top|center|bottom/,pe=/[\+\-]\d+(\.[\d]+)?%?/,ue=/^\w+/,he=/%$/,ge=ee.fn.position,ie;ee.position={scrollbarWidth:function(){if(ie!==te)return ie;var be=ee('<div style=\'display:block;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>'),_e=be.children()[0],fe,ye;return ee('body').append(be),fe=_e.offsetWidth,be.css('overflow','scroll'),ye=_e.offsetWidth,fe===ye&&(ye=be[0].clientWidth),be.remove(),ie=fe-ye},getScrollInfo:function(fe){var ye=fe.isWindow?'':fe.element.css('overflow-x'),be=fe.isWindow?'':fe.element.css('overflow-y'),_e='scroll'===ye||'auto'===ye&&fe.width<fe.element[0].scrollWidth,ve='scroll'===be||'auto'===be&&fe.height<fe.element[0].scrollHeight;return{width:ve?ee.position.scrollbarWidth():0,height:_e?ee.position.scrollbarWidth():0}},getWithinInfo:function(fe){var ye=ee(fe||window),be=ee.isWindow(ye[0]);return{element:ye,isWindow:be,offset:ye.offset()||{left:0,top:0},scrollLeft:ye.scrollLeft(),scrollTop:ye.scrollTop(),width:be?ye.width():ye.outerWidth(),height:be?ye.height():ye.outerHeight()}}},ee.fn.position=function(fe){if(!fe||!fe.of)return ge.apply(this,arguments);fe=ee.extend({},fe);var ke=ee(fe.of),Ce=ee.position.getWithinInfo(fe.within),Te=ee.position.getScrollInfo(Ce),De=(fe.collision||'flip').split(' '),Se={},ye,be,_e,ve,we,xe;return xe=oe(ke),ke[0].preventDefault&&(fe.at='left top'),be=xe.width,_e=xe.height,ve=xe.offset,we=ee.extend({},ve),ee.each(['my','at'],function(){var Pe=(fe[this]||'').split(' '),je,Ne;1===Pe.length&&(Pe=de.test(Pe[0])?Pe.concat(['center']):ce.test(Pe[0])?['center'].concat(Pe):['center','center']),Pe[0]=de.test(Pe[0])?Pe[0]:'center',Pe[1]=ce.test(Pe[1])?Pe[1]:'center',je=pe.exec(Pe[0]),Ne=pe.exec(Pe[1]),Se[this]=[je?je[0]:0,Ne?Ne[0]:0],fe[this]=[ue.exec(Pe[0])[0],ue.exec(Pe[1])[0]]}),1===De.length&&(De[1]=De[0]),'right'===fe.at[0]?we.left+=be:'center'===fe.at[0]&&(we.left+=be/2),'bottom'===fe.at[1]?we.top+=_e:'center'===fe.at[1]&&(we.top+=_e/2),ye=ae(Se.at,be,_e),we.left+=ye[0],we.top+=ye[1],this.each(function(){var Pe=ee(this),Ee=Pe.outerWidth(),Oe=Pe.outerHeight(),Ae=ne(this,'marginLeft'),Ie=ne(this,'marginTop'),Le=Ee+Ae+ne(this,'marginRight')+Te.width,He=Oe+Ie+ne(this,'marginBottom')+Te.height,Me=ee.extend({},we),ze=ae(Se.my,Pe.outerWidth(),Pe.outerHeight()),je,Ne;'right'===fe.my[0]?Me.left-=Ee:'center'===fe.my[0]&&(Me.left-=Ee/2),'bottom'===fe.my[1]?Me.top-=Oe:'center'===fe.my[1]&&(Me.top-=Oe/2),Me.left+=ze[0],Me.top+=ze[1],ee.support.offsetFractions||(Me.left=le(Me.left),Me.top=le(Me.top)),je={marginLeft:Ae,marginTop:Ie},ee.each(['left','top'],function(We,Re){ee.ui.position[De[We]]&&ee.ui.position[De[We]][Re](Me,{targetWidth:be,targetHeight:_e,elemWidth:Ee,elemHeight:Oe,collisionPosition:je,collisionWidth:Le,collisionHeight:He,offset:[ye[0]+ze[0],ye[1]+ze[1]],my:fe.my,at:fe.at,within:Ce,elem:Pe})}),fe.using&&(Ne=function(We){var Re=ve.left-Me.left,Ye=Re+be-Ee,Fe=ve.top-Me.top,qe=Fe+_e-Oe,Be={target:{element:ke,left:ve.left,top:ve.top,width:be,height:_e},element:{element:Pe,left:Me.left,top:Me.top,width:Ee,height:Oe},horizontal:0>Ye?'left':0<Re?'right':'center',vertical:0>qe?'top':0<Fe?'bottom':'middle'};Ee>be&&be>re(Re+Ye)&&(Be.horizontal='center'),Oe>_e&&_e>re(Fe+qe)&&(Be.vertical='middle'),Be.important=se(re(Re),re(Ye))>se(re(Fe),re(qe))?'horizontal':'vertical',fe.using.call(this,We,Be)}),Pe.offset(ee.extend(Me,{using:Ne}))})},ee.ui.position={fit:{left:function(fe,ye){var _e=ye.within,ve=_e.isWindow?_e.scrollLeft:_e.offset.left,we=_e.width,xe=fe.left-ye.collisionPosition.marginLeft,ke=ve-xe,Ce=xe+ye.collisionWidth-we-ve,be;ye.collisionWidth>we?0<ke&&0>=Ce?(be=fe.left+ke+ye.collisionWidth-we-ve,fe.left+=ke-be):fe.left=0<Ce&&0>=ke?ve:ke>Ce?ve+we-ye.collisionWidth:ve:0<ke?fe.left+=ke:0<Ce?fe.left-=Ce:fe.left=se(fe.left-xe,fe.left)},top:function(fe,ye){var _e=ye.within,ve=_e.isWindow?_e.scrollTop:_e.offset.top,we=ye.within.height,xe=fe.top-ye.collisionPosition.marginTop,ke=ve-xe,Ce=xe+ye.collisionHeight-we-ve,be;ye.collisionHeight>we?0<ke&&0>=Ce?(be=fe.top+ke+ye.collisionHeight-we-ve,fe.top+=ke-be):fe.top=0<Ce&&0>=ke?ve:ke>Ce?ve+we-ye.collisionHeight:ve:0<ke?fe.top+=ke:0<Ce?fe.top-=Ce:fe.top=se(fe.top-xe,fe.top)}},flip:{left:function(fe,ye){var ve=ye.within,we=ve.offset.left+ve.scrollLeft,xe=ve.width,ke=ve.isWindow?ve.scrollLeft:ve.offset.left,Ce=fe.left-ye.collisionPosition.marginLeft,Te=Ce-ke,De=Ce+ye.collisionWidth-xe-ke,Se='left'===ye.my[0]?-ye.elemWidth:'right'===ye.my[0]?ye.elemWidth:0,je='left'===ye.at[0]?ye.targetWidth:'right'===ye.at[0]?-ye.targetWidth:0,Ne=-2*ye.offset[0],be,_e;0>Te?(be=fe.left+Se+je+Ne+ye.collisionWidth-xe-we,(0>be||re(Te)>be)&&(fe.left+=Se+je+Ne)):0<De&&(_e=fe.left-ye.collisionPosition.marginLeft+Se+je+Ne-ke,(0<_e||De>re(_e))&&(fe.left+=Se+je+Ne))},top:function(fe,ye){var ve=ye.within,we=ve.offset.top+ve.scrollTop,xe=ve.height,ke=ve.isWindow?ve.scrollTop:ve.offset.top,Ce=fe.top-ye.collisionPosition.marginTop,Te=Ce-ke,De=Ce+ye.collisionHeight-xe-ke,Se='top'===ye.my[1],je=Se?-ye.elemHeight:'bottom'===ye.my[1]?ye.elemHeight:0,Ne='top'===ye.at[1]?ye.targetHeight:'bottom'===ye.at[1]?-ye.targetHeight:0,Pe=-2*ye.offset[1],be,_e;0>Te?(_e=fe.top+je+Ne+Pe+ye.collisionHeight-xe-we,fe.top+je+Ne+Pe>Te&&(0>_e||re(Te)>_e)&&(fe.top+=je+Ne+Pe)):0<De&&(be=fe.top-ye.collisionPosition.marginTop+je+Ne+Pe-ke,fe.top+je+Ne+Pe>De&&(0<be||De>re(be))&&(fe.top+=je+Ne+Pe))}},flipfit:{left:function(){ee.ui.position.flip.left.apply(this,arguments),ee.ui.position.fit.left.apply(this,arguments)},top:function(){ee.ui.position.flip.top.apply(this,arguments),ee.ui.position.fit.top.apply(this,arguments)}}},function(){var we=document.getElementsByTagName('body')[0],xe=document.createElement('div'),fe,ye,be,_e,ve;for(ve in fe=document.createElement(we?'div':'body'),be={visibility:'hidden',width:0,height:0,border:0,margin:0,background:'none'},we&&ee.extend(be,{position:'absolute',left:'-1000px',top:'-1000px'}),be)fe.style[ve]=be[ve];fe.appendChild(xe),ye=we||document.documentElement,ye.insertBefore(fe,ye.firstChild),xe.style.cssText='position: absolute; left: 10.7432222px;',_e=ee(xe).offset().left,ee.support.offsetFractions=10<_e&&11>_e,fe.innerHTML='',ye.removeChild(fe)}()}(jQuery),function(ee){ee.widget('ui.draggable',ee.ui.mouse,{version:'1.10.3',widgetEventPrefix:'drag',options:{addClasses:!0,appendTo:'parent',axis:!1,connectToSortable:!1,containment:!1,cursor:'auto',cursorAt:!1,grid:!1,handle:!1,helper:'original',iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:'default',scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:'both',snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){'original'!==this.options.helper||/^(?:r|a|f)/.test(this.element.css('position'))||(this.element[0].style.position='relative'),this.options.addClasses&&this.element.addClass('ui-draggable'),this.options.disabled&&this.element.addClass('ui-draggable-disabled'),this._mouseInit()},_destroy:function(){this.element.removeClass('ui-draggable ui-draggable-dragging ui-draggable-disabled'),this._mouseDestroy()},_mouseCapture:function(te){var ae=this.options;return this.helper||ae.disabled||0<ee(te.target).closest('.ui-resizable-handle').length?!1:(this.handle=this._getHandle(te),!!this.handle&&(ee(!0===ae.iframeFix?'iframe':ae.iframeFix).each(function(){ee('<div class=\'ui-draggable-iframeFix\' style=\'background: #fff;\'></div>').css({width:this.offsetWidth+'px',height:this.offsetHeight+'px',position:'absolute',opacity:'0.001',zIndex:1000}).css(ee(this).offset()).appendTo('body')}),!0))},_mouseStart:function(te){var ae=this.options;return this.helper=this._createHelper(te),this.helper.addClass('ui-draggable-dragging'),this._cacheHelperProportions(),ee.ui.ddmanager&&(ee.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css('position'),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css('position'),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,ee.extend(this.offset,{click:{left:te.pageX-this.offset.left,top:te.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(te),this.originalPageX=te.pageX,this.originalPageY=te.pageY,ae.cursorAt&&this._adjustOffsetFromHelper(ae.cursorAt),this._setContainment(),!1===this._trigger('start',te)?(this._clear(),!1):(this._cacheHelperProportions(),ee.ui.ddmanager&&!ae.dropBehaviour&&ee.ui.ddmanager.prepareOffsets(this,te),this._mouseDrag(te,!0),ee.ui.ddmanager&&ee.ui.ddmanager.dragStart(this,te),!0)},_mouseDrag:function(te,ae){if('fixed'===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(te),this.positionAbs=this._convertPositionTo('absolute'),!ae){var ne=this._uiHash();if(!1===this._trigger('drag',te,ne))return this._mouseUp({}),!1;this.position=ne.position}return this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),ee.ui.ddmanager&&ee.ui.ddmanager.drag(this,te),!1},_mouseStop:function(te){var ae=this,ne=!1;return ee.ui.ddmanager&&!this.options.dropBehaviour&&(ne=ee.ui.ddmanager.drop(this,te)),this.dropped&&(ne=this.dropped,this.dropped=!1),('original'!==this.options.helper||ee.contains(this.element[0].ownerDocument,this.element[0]))&&('invalid'===this.options.revert&&!ne||'valid'===this.options.revert&&ne||!0===this.options.revert||ee.isFunction(this.options.revert)&&this.options.revert.call(this.element,ne)?ee(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==ae._trigger('stop',te)&&ae._clear()}):!1!==this._trigger('stop',te)&&this._clear(),!1)},_mouseUp:function(te){return ee('div.ui-draggable-iframeFix').each(function(){this.parentNode.removeChild(this)}),ee.ui.ddmanager&&ee.ui.ddmanager.dragStop(this,te),ee.ui.mouse.prototype._mouseUp.call(this,te)},cancel:function(){return this.helper.is('.ui-draggable-dragging')?this._mouseUp({}):this._clear(),this},_getHandle:function(te){return!this.options.handle||!!ee(te.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(te){var ae=this.options,ne=ee.isFunction(ae.helper)?ee(ae.helper.apply(this.element[0],[te])):'clone'===ae.helper?this.element.clone().removeAttr('id'):this.element;return ne.parents('body').length||ne.appendTo('parent'===ae.appendTo?this.element[0].parentNode:ae.appendTo),ne[0]===this.element[0]||/(fixed|absolute)/.test(ne.css('position'))||ne.css('position','absolute'),ne},_adjustOffsetFromHelper:function(te){'string'==typeof te&&(te=te.split(' ')),ee.isArray(te)&&(te={left:+te[0],top:+te[1]||0}),'left'in te&&(this.offset.click.left=te.left+this.margins.left),'right'in te&&(this.offset.click.left=this.helperProportions.width-te.right+this.margins.left),'top'in te&&(this.offset.click.top=te.top+this.margins.top),'bottom'in te&&(this.offset.click.top=this.helperProportions.height-te.bottom+this.margins.top)},_getParentOffset:function(){var te=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==document&&ee.contains(this.scrollParent[0],this.offsetParent[0])&&(te.left+=this.scrollParent.scrollLeft(),te.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&ee.ui.ie)&&(te={top:0,left:0}),{top:te.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:te.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var te=this.element.position();return{top:te.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:te.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css('marginLeft'),10)||0,top:parseInt(this.element.css('marginTop'),10)||0,right:parseInt(this.element.css('marginRight'),10)||0,bottom:parseInt(this.element.css('marginBottom'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var oe=this.options,te,ae,ne;return oe.containment?'window'===oe.containment?(this.containment=[ee(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,ee(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,ee(window).scrollLeft()+ee(window).width()-this.helperProportions.width-this.margins.left,ee(window).scrollTop()+(ee(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):'document'===oe.containment?(this.containment=[0,0,ee(document).width()-this.helperProportions.width-this.margins.left,(ee(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):oe.containment.constructor===Array?(this.containment=oe.containment,void 0):('parent'===oe.containment&&(oe.containment=this.helper[0].parentNode),ae=ee(oe.containment),ne=ae[0],ne&&(te='hidden'!==ae.css('overflow'),this.containment=[(parseInt(ae.css('borderLeftWidth'),10)||0)+(parseInt(ae.css('paddingLeft'),10)||0),(parseInt(ae.css('borderTopWidth'),10)||0)+(parseInt(ae.css('paddingTop'),10)||0),(te?Math.max(ne.scrollWidth,ne.offsetWidth):ne.offsetWidth)-(parseInt(ae.css('borderRightWidth'),10)||0)-(parseInt(ae.css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(te?Math.max(ne.scrollHeight,ne.offsetHeight):ne.offsetHeight)-(parseInt(ae.css('borderBottomWidth'),10)||0)-(parseInt(ae.css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=ae),void 0):(this.containment=null,void 0)},_convertPositionTo:function(te,ae){ae||(ae=this.position);var ne='absolute'===te?1:-1,oe='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&ee.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:oe.scrollTop(),left:oe.scrollLeft()}),{top:ae.top+this.offset.relative.top*ne+this.offset.parent.top*ne-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*ne,left:ae.left+this.offset.relative.left*ne+this.offset.parent.left*ne-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*ne}},_generatePosition:function(te){var se=this.options,re='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&ee.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,le=te.pageX,de=te.pageY,ae,ne,oe,ie;return this.offset.scroll||(this.offset.scroll={top:re.scrollTop(),left:re.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(ne=this.relative_container.offset(),ae=[this.containment[0]+ne.left,this.containment[1]+ne.top,this.containment[2]+ne.left,this.containment[3]+ne.top]):ae=this.containment,te.pageX-this.offset.click.left<ae[0]&&(le=ae[0]+this.offset.click.left),te.pageY-this.offset.click.top<ae[1]&&(de=ae[1]+this.offset.click.top),te.pageX-this.offset.click.left>ae[2]&&(le=ae[2]+this.offset.click.left),te.pageY-this.offset.click.top>ae[3]&&(de=ae[3]+this.offset.click.top)),se.grid&&(oe=se.grid[1]?this.originalPageY+Math.round((de-this.originalPageY)/se.grid[1])*se.grid[1]:this.originalPageY,de=ae?oe-this.offset.click.top>=ae[1]||oe-this.offset.click.top>ae[3]?oe:oe-this.offset.click.top>=ae[1]?oe-se.grid[1]:oe+se.grid[1]:oe,ie=se.grid[0]?this.originalPageX+Math.round((le-this.originalPageX)/se.grid[0])*se.grid[0]:this.originalPageX,le=ae?ie-this.offset.click.left>=ae[0]||ie-this.offset.click.left>ae[2]?ie:ie-this.offset.click.left>=ae[0]?ie-se.grid[0]:ie+se.grid[0]:ie)),{top:de-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:le-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass('ui-draggable-dragging'),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(te,ae,ne){return ne=ne||this._uiHash(),ee.ui.plugin.call(this,te,[ae,ne]),'drag'===te&&(this.positionAbs=this._convertPositionTo('absolute')),ee.Widget.prototype._trigger.call(this,te,ae,ne)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),ee.ui.plugin.add('draggable','connectToSortable',{start:function(te,ae){var ne=ee(this).data('ui-draggable'),oe=ne.options,ie=ee.extend({},ae,{item:ne.element});ne.sortables=[],ee(oe.connectToSortable).each(function(){var se=ee.data(this,'ui-sortable');se&&!se.options.disabled&&(ne.sortables.push({instance:se,shouldRevert:se.options.revert}),se.refreshPositions(),se._trigger('activate',te,ie))})},stop:function(te,ae){var ne=ee(this).data('ui-draggable'),oe=ee.extend({},ae,{item:ne.element});ee.each(ne.sortables,function(){this.instance.isOver?(this.instance.isOver=0,ne.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(te),this.instance.options.helper=this.instance.options._helper,'original'===ne.options.helper&&this.instance.currentItem.css({top:'auto',left:'auto'})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger('deactivate',te,oe))})},drag:function(te,ae){var ne=ee(this).data('ui-draggable'),oe=this;ee.each(ne.sortables,function(){var ie=!1,se=this;this.instance.positionAbs=ne.positionAbs,this.instance.helperProportions=ne.helperProportions,this.instance.offset.click=ne.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(ie=!0,ee.each(ne.sortables,function(){return this.instance.positionAbs=ne.positionAbs,this.instance.helperProportions=ne.helperProportions,this.instance.offset.click=ne.offset.click,this!==se&&this.instance._intersectsWith(this.instance.containerCache)&&ee.contains(se.instance.element[0],this.instance.element[0])&&(ie=!1),ie})),ie?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=ee(oe).clone().removeAttr('id').appendTo(this.instance.element).data('ui-sortable-item',!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return ae.helper[0]},te.target=this.instance.currentItem[0],this.instance._mouseCapture(te,!0),this.instance._mouseStart(te,!0,!0),this.instance.offset.click.top=ne.offset.click.top,this.instance.offset.click.left=ne.offset.click.left,this.instance.offset.parent.left-=ne.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=ne.offset.parent.top-this.instance.offset.parent.top,ne._trigger('toSortable',te),ne.dropped=this.instance.element,ne.currentItem=ne.element,this.instance.fromOutside=ne),this.instance.currentItem&&this.instance._mouseDrag(te)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger('out',te,this.instance._uiHash(this.instance)),this.instance._mouseStop(te,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),ne._trigger('fromSortable',te),ne.dropped=!1)})}}),ee.ui.plugin.add('draggable','cursor',{start:function(){var te=ee('body'),ae=ee(this).data('ui-draggable').options;te.css('cursor')&&(ae._cursor=te.css('cursor')),te.css('cursor',ae.cursor)},stop:function(){var te=ee(this).data('ui-draggable').options;te._cursor&&ee('body').css('cursor',te._cursor)}}),ee.ui.plugin.add('draggable','opacity',{start:function(te,ae){var ne=ee(ae.helper),oe=ee(this).data('ui-draggable').options;ne.css('opacity')&&(oe._opacity=ne.css('opacity')),ne.css('opacity',oe.opacity)},stop:function(te,ae){var ne=ee(this).data('ui-draggable').options;ne._opacity&&ee(ae.helper).css('opacity',ne._opacity)}}),ee.ui.plugin.add('draggable','scroll',{start:function(){var te=ee(this).data('ui-draggable');te.scrollParent[0]!==document&&'HTML'!==te.scrollParent[0].tagName&&(te.overflowOffset=te.scrollParent.offset())},drag:function(te){var ae=ee(this).data('ui-draggable'),ne=ae.options,oe=!1;ae.scrollParent[0]!==document&&'HTML'!==ae.scrollParent[0].tagName?(ne.axis&&'x'===ne.axis||(ae.overflowOffset.top+ae.scrollParent[0].offsetHeight-te.pageY<ne.scrollSensitivity?ae.scrollParent[0].scrollTop=oe=ae.scrollParent[0].scrollTop+ne.scrollSpeed:te.pageY-ae.overflowOffset.top<ne.scrollSensitivity&&(ae.scrollParent[0].scrollTop=oe=ae.scrollParent[0].scrollTop-ne.scrollSpeed)),ne.axis&&'y'===ne.axis||(ae.overflowOffset.left+ae.scrollParent[0].offsetWidth-te.pageX<ne.scrollSensitivity?ae.scrollParent[0].scrollLeft=oe=ae.scrollParent[0].scrollLeft+ne.scrollSpeed:te.pageX-ae.overflowOffset.left<ne.scrollSensitivity&&(ae.scrollParent[0].scrollLeft=oe=ae.scrollParent[0].scrollLeft-ne.scrollSpeed))):(ne.axis&&'x'===ne.axis||(te.pageY-ee(document).scrollTop()<ne.scrollSensitivity?oe=ee(document).scrollTop(ee(document).scrollTop()-ne.scrollSpeed):ee(window).height()-(te.pageY-ee(document).scrollTop())<ne.scrollSensitivity&&(oe=ee(document).scrollTop(ee(document).scrollTop()+ne.scrollSpeed))),ne.axis&&'y'===ne.axis||(te.pageX-ee(document).scrollLeft()<ne.scrollSensitivity?oe=ee(document).scrollLeft(ee(document).scrollLeft()-ne.scrollSpeed):ee(window).width()-(te.pageX-ee(document).scrollLeft())<ne.scrollSensitivity&&(oe=ee(document).scrollLeft(ee(document).scrollLeft()+ne.scrollSpeed)))),!1!==oe&&ee.ui.ddmanager&&!ne.dropBehaviour&&ee.ui.ddmanager.prepareOffsets(ae,te)}}),ee.ui.plugin.add('draggable','snap',{start:function(){var te=ee(this).data('ui-draggable'),ae=te.options;te.snapElements=[],ee(ae.snap.constructor===String?ae.snap:ae.snap.items||':data(ui-draggable)').each(function(){var ne=ee(this),oe=ne.offset();this!==te.element[0]&&te.snapElements.push({item:this,width:ne.outerWidth(),height:ne.outerHeight(),top:oe.top,left:oe.left})})},drag:function(te,ae){var he=ee(this).data('ui-draggable'),ge=he.options,fe=ge.snapTolerance,ye=ae.offset.left,be=ye+he.helperProportions.width,_e=ae.offset.top,ve=_e+he.helperProportions.height,ne,oe,ie,se,re,le,de,ce,pe,ue;for(pe=he.snapElements.length-1;0<=pe;pe--)re=he.snapElements[pe].left,le=re+he.snapElements[pe].width,de=he.snapElements[pe].top,ce=de+he.snapElements[pe].height,re-fe>be||ye>le+fe||de-fe>ve||_e>ce+fe||!ee.contains(he.snapElements[pe].item.ownerDocument,he.snapElements[pe].item)?(he.snapElements[pe].snapping&&he.options.snap.release&&he.options.snap.release.call(he.element,te,ee.extend(he._uiHash(),{snapItem:he.snapElements[pe].item})),he.snapElements[pe].snapping=!1):('inner'!==ge.snapMode&&(ne=fe>=Math.abs(de-ve),oe=fe>=Math.abs(ce-_e),ie=fe>=Math.abs(re-be),se=fe>=Math.abs(le-ye),ne&&(ae.position.top=he._convertPositionTo('relative',{top:de-he.helperProportions.height,left:0}).top-he.margins.top),oe&&(ae.position.top=he._convertPositionTo('relative',{top:ce,left:0}).top-he.margins.top),ie&&(ae.position.left=he._convertPositionTo('relative',{top:0,left:re-he.helperProportions.width}).left-he.margins.left),se&&(ae.position.left=he._convertPositionTo('relative',{top:0,left:le}).left-he.margins.left)),ue=ne||oe||ie||se,'outer'!==ge.snapMode&&(ne=fe>=Math.abs(de-_e),oe=fe>=Math.abs(ce-ve),ie=fe>=Math.abs(re-ye),se=fe>=Math.abs(le-be),ne&&(ae.position.top=he._convertPositionTo('relative',{top:de,left:0}).top-he.margins.top),oe&&(ae.position.top=he._convertPositionTo('relative',{top:ce-he.helperProportions.height,left:0}).top-he.margins.top),ie&&(ae.position.left=he._convertPositionTo('relative',{top:0,left:re}).left-he.margins.left),se&&(ae.position.left=he._convertPositionTo('relative',{top:0,left:le-he.helperProportions.width}).left-he.margins.left)),!he.snapElements[pe].snapping&&(ne||oe||ie||se||ue)&&he.options.snap.snap&&he.options.snap.snap.call(he.element,te,ee.extend(he._uiHash(),{snapItem:he.snapElements[pe].item})),he.snapElements[pe].snapping=ne||oe||ie||se||ue)}}),ee.ui.plugin.add('draggable','stack',{start:function(){var ae=this.data('ui-draggable').options,ne=ee.makeArray(ee(ae.stack)).sort(function(oe,ie){return(parseInt(ee(oe).css('zIndex'),10)||0)-(parseInt(ee(ie).css('zIndex'),10)||0)}),te;ne.length&&(te=parseInt(ee(ne[0]).css('zIndex'),10)||0,ee(ne).each(function(oe){ee(this).css('zIndex',te+oe)}),this.css('zIndex',te+ne.length))}}),ee.ui.plugin.add('draggable','zIndex',{start:function(te,ae){var ne=ee(ae.helper),oe=ee(this).data('ui-draggable').options;ne.css('zIndex')&&(oe._zIndex=ne.css('zIndex')),ne.css('zIndex',oe.zIndex)},stop:function(te,ae){var ne=ee(this).data('ui-draggable').options;ne._zIndex&&ee(ae.helper).css('zIndex',ne._zIndex)}})}(jQuery),function(ee){function te(ae,ne,oe){return ae>ne&&ne+oe>ae}ee.widget('ui.droppable',{version:'1.10.3',widgetEventPrefix:'drop',options:{accept:'*',activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:'default',tolerance:'intersect',activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var ae=this.options,ne=ae.accept;this.isover=!1,this.isout=!0,this.accept=ee.isFunction(ne)?ne:function(oe){return oe.is(ne)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},ee.ui.ddmanager.droppables[ae.scope]=ee.ui.ddmanager.droppables[ae.scope]||[],ee.ui.ddmanager.droppables[ae.scope].push(this),ae.addClasses&&this.element.addClass('ui-droppable')},_destroy:function(){for(var ae=0,ne=ee.ui.ddmanager.droppables[this.options.scope];ne.length>ae;ae++)ne[ae]===this&&ne.splice(ae,1);this.element.removeClass('ui-droppable ui-droppable-disabled')},_setOption:function(ae,ne){'accept'===ae&&(this.accept=ee.isFunction(ne)?ne:function(oe){return oe.is(ne)}),ee.Widget.prototype._setOption.apply(this,arguments)},_activate:function(ae){var ne=ee.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),ne&&this._trigger('activate',ae,this.ui(ne))},_deactivate:function(ae){var ne=ee.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),ne&&this._trigger('deactivate',ae,this.ui(ne))},_over:function(ae){var ne=ee.ui.ddmanager.current;ne&&(ne.currentItem||ne.element)[0]!==this.element[0]&&this.accept.call(this.element[0],ne.currentItem||ne.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger('over',ae,this.ui(ne)))},_out:function(ae){var ne=ee.ui.ddmanager.current;ne&&(ne.currentItem||ne.element)[0]!==this.element[0]&&this.accept.call(this.element[0],ne.currentItem||ne.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger('out',ae,this.ui(ne)))},_drop:function(ae,ne){var oe=ne||ee.ui.ddmanager.current,ie=!1;return oe&&(oe.currentItem||oe.element)[0]!==this.element[0]&&(this.element.find(':data(ui-droppable)').not('.ui-draggable-dragging').each(function(){var se=ee.data(this,'ui-droppable');return se.options.greedy&&!se.options.disabled&&se.options.scope===oe.options.scope&&se.accept.call(se.element[0],oe.currentItem||oe.element)&&ee.ui.intersect(oe,ee.extend(se,{offset:se.element.offset()}),se.options.tolerance)?(ie=!0,!1):void 0}),!ie&&!!this.accept.call(this.element[0],oe.currentItem||oe.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger('drop',ae,this.ui(oe)),this.element))},ui:function(ae){return{draggable:ae.currentItem||ae.element,helper:ae.helper,position:ae.position,offset:ae.positionAbs}}}),ee.ui.intersect=function(ae,ne,oe){if(!ne.offset)return!1;var re=(ae.positionAbs||ae.position.absolute).left,le=re+ae.helperProportions.width,de=(ae.positionAbs||ae.position.absolute).top,ce=de+ae.helperProportions.height,pe=ne.offset.left,ue=pe+ne.proportions.width,he=ne.offset.top,ge=he+ne.proportions.height,ie,se;return'fit'===oe?re>=pe&&ue>=le&&de>=he&&ge>=ce:'intersect'===oe?re+ae.helperProportions.width/2>pe&&ue>le-ae.helperProportions.width/2&&de+ae.helperProportions.height/2>he&&ge>ce-ae.helperProportions.height/2:'pointer'===oe?(ie=(ae.positionAbs||ae.position.absolute).left+(ae.clickOffset||ae.offset.click).left,se=(ae.positionAbs||ae.position.absolute).top+(ae.clickOffset||ae.offset.click).top,te(se,he,ne.proportions.height)&&te(ie,pe,ne.proportions.width)):!('touch'!=oe)&&(de>=he&&ge>=de||ce>=he&&ge>=ce||he>de&&ce>ge)&&(re>=pe&&ue>=re||le>=pe&&ue>=le||pe>re&&le>ue)},ee.ui.ddmanager={current:null,droppables:{'default':[]},prepareOffsets:function(ae,ne){var se=e.ui.ddmanager.droppables[ae.options.scope]||[],re=ne?ne.type:null,le=(ae.currentItem||ae.element).find(':data(ui-droppable)').addBack(),oe,ie;e:for(oe=0;se.length>oe;oe++)if(!(se[oe].options.disabled||ae&&!se[oe].accept.call(se[oe].element[0],ae.currentItem||ae.element))){for(ie=0;le.length>ie;ie++)if(le[ie]===se[oe].element[0]){se[oe].proportions.height=0;continue e}se[oe].visible='none'!==se[oe].element.css('display'),se[oe].visible&&('mousedown'===re&&se[oe]._activate.call(se[oe],ne),se[oe].offset=se[oe].element.offset(),se[oe].proportions={width:se[oe].element[0].offsetWidth,height:se[oe].element[0].offsetHeight})}},drop:function(ae,ne){var oe=!1;return ee.each((ee.ui.ddmanager.droppables[ae.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&ee.ui.intersect(ae,this,this.options.tolerance)&&(oe=this._drop.call(this,ne)||oe),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],ae.currentItem||ae.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,ne)))}),oe},dragStart:function(ae,ne){ae.element.parentsUntil('body').bind('scroll.droppable',function(){ae.options.refreshPositions||ee.ui.ddmanager.prepareOffsets(ae,ne)})},drag:function(ae,ne){ae.options.refreshPositions&&ee.ui.ddmanager.prepareOffsets(ae,ne),ee.each(ee.ui.ddmanager.droppables[ae.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var re=ee.ui.intersect(ae,this,this.options.tolerance),le=!re&&this.isover?'isout':re&&!this.isover?'isover':null,oe,ie,se;le&&(this.options.greedy&&(ie=this.options.scope,se=this.element.parents(':data(ui-droppable)').filter(function(){return ee.data(this,'ui-droppable').options.scope===ie}),se.length&&(oe=ee.data(se[0],'ui-droppable'),oe.greedyChild='isover'===le)),oe&&'isover'===le&&(oe.isover=!1,oe.isout=!0,oe._out.call(oe,ne)),this[le]=!0,this['isout'===le?'isover':'isout']=!1,this['isover'===le?'_over':'_out'].call(this,ne),oe&&'isout'===le&&(oe.isout=!1,oe.isover=!0,oe._over.call(oe,ne)))}})},dragStop:function(ae,ne){ae.element.parentsUntil('body').unbind('scroll.droppable'),ae.options.refreshPositions||ee.ui.ddmanager.prepareOffsets(ae,ne)}}}(jQuery),function(ee){function te(ne){return parseInt(ne,10)||0}function ae(ne){return!isNaN(parseInt(ne,10))}ee.widget('ui.resizable',ee.ui.mouse,{version:'1.10.3',widgetEventPrefix:'resize',options:{alsoResize:!1,animate:!1,animateDuration:'slow',animateEasing:'swing',aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:'e,s,se',helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var le=this,de=this.options,ne,oe,ie,se,re;if(this.element.addClass('ui-resizable'),ee.extend(this,{_aspectRatio:!!de.aspectRatio,aspectRatio:de.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:de.helper||de.ghost||de.animate?de.helper||'ui-resizable-helper':null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(ee('<div class=\'ui-wrapper\' style=\'overflow: hidden;\'></div>').css({position:this.element.css('position'),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css('top'),left:this.element.css('left')})),this.element=this.element.parent().data('ui-resizable',this.element.data('ui-resizable')),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css('marginLeft'),marginTop:this.originalElement.css('marginTop'),marginRight:this.originalElement.css('marginRight'),marginBottom:this.originalElement.css('marginBottom')}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css('resize'),this.originalElement.css('resize','none'),this._proportionallyResizeElements.push(this.originalElement.css({position:'static',zoom:1,display:'block'})),this.originalElement.css({margin:this.originalElement.css('margin')}),this._proportionallyResize()),this.handles=de.handles||(ee('.ui-resizable-handle',this.element).length?{n:'.ui-resizable-n',e:'.ui-resizable-e',s:'.ui-resizable-s',w:'.ui-resizable-w',se:'.ui-resizable-se',sw:'.ui-resizable-sw',ne:'.ui-resizable-ne',nw:'.ui-resizable-nw'}:'e,s,se'),this.handles.constructor===String)for('all'===this.handles&&(this.handles='n,e,s,w,se,sw,ne,nw'),ne=this.handles.split(','),this.handles={},oe=0;ne.length>oe;oe++)ie=ee.trim(ne[oe]),re='ui-resizable-'+ie,se=ee('<div class=\'ui-resizable-handle '+re+'\'></div>'),se.css({zIndex:de.zIndex}),'se'===ie&&se.addClass('ui-icon ui-icon-gripsmall-diagonal-se'),this.handles[ie]='.ui-resizable-'+ie,this.element.append(se);this._renderAxis=function(ce){var pe,ue,he,ge;for(pe in ce=ce||this.element,this.handles)this.handles[pe].constructor===String&&(this.handles[pe]=ee(this.handles[pe],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(ue=ee(this.handles[pe],this.element),ge=/sw|ne|nw|se|n|s/.test(pe)?ue.outerHeight():ue.outerWidth(),he=['padding',/ne|nw|n/.test(pe)?'Top':/se|sw|s/.test(pe)?'Bottom':/^e$/.test(pe)?'Right':'Left'].join(''),ce.css(he,ge),this._proportionallyResize()),ee(this.handles[pe]).length},this._renderAxis(this.element),this._handles=ee('.ui-resizable-handle',this.element).disableSelection(),this._handles.mouseover(function(){le.resizing||(this.className&&(se=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),le.axis=se&&se[1]?se[1]:'se')}),de.autoHide&&(this._handles.hide(),ee(this.element).addClass('ui-resizable-autohide').mouseenter(function(){de.disabled||(ee(this).removeClass('ui-resizable-autohide'),le._handles.show())}).mouseleave(function(){de.disabled||le.resizing||(ee(this).addClass('ui-resizable-autohide'),le._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var oe=function(ie){ee(ie).removeClass('ui-resizable ui-resizable-disabled ui-resizable-resizing').removeData('resizable').removeData('ui-resizable').unbind('.resizable').find('.ui-resizable-handle').remove()},ne;return this.elementIsWrapper&&(oe(this.element),ne=this.element,this.originalElement.css({position:ne.css('position'),width:ne.outerWidth(),height:ne.outerHeight(),top:ne.css('top'),left:ne.css('left')}).insertAfter(ne),ne.remove()),this.originalElement.css('resize',this.originalResizeStyle),oe(this.originalElement),this},_mouseCapture:function(ne){var se=!1,oe,ie;for(oe in this.handles)ie=ee(this.handles[oe])[0],(ie===ne.target||ee.contains(ie,ne.target))&&(se=!0);return!this.options.disabled&&se},_mouseStart:function(ne){var re=this.options,le=this.element.position(),de=this.element,oe,ie,se;return this.resizing=!0,/absolute/.test(de.css('position'))?de.css({position:'absolute',top:de.css('top'),left:de.css('left')}):de.is('.ui-draggable')&&de.css({position:'absolute',top:le.top,left:le.left}),this._renderProxy(),oe=te(this.helper.css('left')),ie=te(this.helper.css('top')),re.containment&&(oe+=ee(re.containment).scrollLeft()||0,ie+=ee(re.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:oe,top:ie},this.size=this._helper?{width:de.outerWidth(),height:de.outerHeight()}:{width:de.width(),height:de.height()},this.originalSize=this._helper?{width:de.outerWidth(),height:de.outerHeight()}:{width:de.width(),height:de.height()},this.originalPosition={left:oe,top:ie},this.sizeDiff={width:de.outerWidth()-de.width(),height:de.outerHeight()-de.height()},this.originalMousePosition={left:ne.pageX,top:ne.pageY},this.aspectRatio='number'==typeof re.aspectRatio?re.aspectRatio:this.originalSize.width/this.originalSize.height||1,se=ee('.ui-resizable-'+this.axis).css('cursor'),ee('body').css('cursor','auto'===se?this.axis+'-resize':se),de.addClass('ui-resizable-resizing'),this._propagate('start',ne),!0},_mouseDrag:function(ne){var ie=this.helper,se={},re=this.originalMousePosition,le=this.axis,de=this.position.top,ce=this.position.left,pe=this.size.width,ue=this.size.height,he=ne.pageX-re.left||0,ge=ne.pageY-re.top||0,fe=this._change[le],oe;return!!fe&&(oe=fe.apply(this,[ne,he,ge]),this._updateVirtualBoundaries(ne.shiftKey),(this._aspectRatio||ne.shiftKey)&&(oe=this._updateRatio(oe,ne)),oe=this._respectSize(oe,ne),this._updateCache(oe),this._propagate('resize',ne),this.position.top!==de&&(se.top=this.position.top+'px'),this.position.left!==ce&&(se.left=this.position.left+'px'),this.size.width!==pe&&(se.width=this.size.width+'px'),this.size.height!==ue&&(se.height=this.size.height+'px'),ie.css(se),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),ee.isEmptyObject(se)||this._trigger('resize',ne,this.ui()),!1)},_mouseStop:function(ne){this.resizing=!1;var pe=this.options,ue=this,oe,ie,se,re,le,de,ce;return this._helper&&(oe=this._proportionallyResizeElements,ie=oe.length&&/textarea/i.test(oe[0].nodeName),se=ie&&ee.ui.hasScroll(oe[0],'left')?0:ue.sizeDiff.height,re=ie?0:ue.sizeDiff.width,le={width:ue.helper.width()-re,height:ue.helper.height()-se},de=parseInt(ue.element.css('left'),10)+(ue.position.left-ue.originalPosition.left)||null,ce=parseInt(ue.element.css('top'),10)+(ue.position.top-ue.originalPosition.top)||null,pe.animate||this.element.css(ee.extend(le,{top:ce,left:de})),ue.helper.height(ue.size.height),ue.helper.width(ue.size.width),this._helper&&!pe.animate&&this._proportionallyResize()),ee('body').css('cursor','auto'),this.element.removeClass('ui-resizable-resizing'),this._propagate('stop',ne),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(ne){var de=this.options,oe,ie,se,re,le;le={minWidth:ae(de.minWidth)?de.minWidth:0,maxWidth:ae(de.maxWidth)?de.maxWidth:1/0,minHeight:ae(de.minHeight)?de.minHeight:0,maxHeight:ae(de.maxHeight)?de.maxHeight:1/0},(this._aspectRatio||ne)&&(oe=le.minHeight*this.aspectRatio,se=le.minWidth/this.aspectRatio,ie=le.maxHeight*this.aspectRatio,re=le.maxWidth/this.aspectRatio,oe>le.minWidth&&(le.minWidth=oe),se>le.minHeight&&(le.minHeight=se),le.maxWidth>ie&&(le.maxWidth=ie),le.maxHeight>re&&(le.maxHeight=re)),this._vBoundaries=le},_updateCache:function(ne){this.offset=this.helper.offset(),ae(ne.left)&&(this.position.left=ne.left),ae(ne.top)&&(this.position.top=ne.top),ae(ne.height)&&(this.size.height=ne.height),ae(ne.width)&&(this.size.width=ne.width)},_updateRatio:function(ne){var oe=this.position,ie=this.size,se=this.axis;return ae(ne.height)?ne.width=ne.height*this.aspectRatio:ae(ne.width)&&(ne.height=ne.width/this.aspectRatio),'sw'===se&&(ne.left=oe.left+(ie.width-ne.width),ne.top=null),'nw'===se&&(ne.top=oe.top+(ie.height-ne.height),ne.left=oe.left+(ie.width-ne.width)),ne},_respectSize:function(ne){var oe=this._vBoundaries,ie=this.axis,se=ae(ne.width)&&oe.maxWidth&&oe.maxWidth<ne.width,re=ae(ne.height)&&oe.maxHeight&&oe.maxHeight<ne.height,le=ae(ne.width)&&oe.minWidth&&oe.minWidth>ne.width,de=ae(ne.height)&&oe.minHeight&&oe.minHeight>ne.height,ce=this.originalPosition.left+this.originalSize.width,pe=this.position.top+this.size.height,ue=/sw|nw|w/.test(ie),he=/nw|ne|n/.test(ie);return le&&(ne.width=oe.minWidth),de&&(ne.height=oe.minHeight),se&&(ne.width=oe.maxWidth),re&&(ne.height=oe.maxHeight),le&&ue&&(ne.left=ce-oe.minWidth),se&&ue&&(ne.left=ce-oe.maxWidth),de&&he&&(ne.top=pe-oe.minHeight),re&&he&&(ne.top=pe-oe.maxHeight),ne.width||ne.height||ne.left||!ne.top?ne.width||ne.height||ne.top||!ne.left||(ne.left=null):ne.top=null,ne},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var le=this.helper||this.element,ne,oe,ie,se,re;for(ne=0;this._proportionallyResizeElements.length>ne;ne++){if(re=this._proportionallyResizeElements[ne],!this.borderDif)for(this.borderDif=[],ie=[re.css('borderTopWidth'),re.css('borderRightWidth'),re.css('borderBottomWidth'),re.css('borderLeftWidth')],se=[re.css('paddingTop'),re.css('paddingRight'),re.css('paddingBottom'),re.css('paddingLeft')],oe=0;ie.length>oe;oe++)this.borderDif[oe]=(parseInt(ie[oe],10)||0)+(parseInt(se[oe],10)||0);re.css({height:le.height()-this.borderDif[0]-this.borderDif[2]||0,width:le.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var ne=this.element,oe=this.options;this.elementOffset=ne.offset(),this._helper?(this.helper=this.helper||ee('<div style=\'overflow:hidden;\'></div>'),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:'absolute',left:this.elementOffset.left+'px',top:this.elementOffset.top+'px',zIndex:++oe.zIndex}),this.helper.appendTo('body').disableSelection()):this.helper=this.element},_change:{e:function(ne,oe){return{width:this.originalSize.width+oe}},w:function(ne,oe){var ie=this.originalSize,se=this.originalPosition;return{left:se.left+oe,width:ie.width-oe}},n:function(ne,oe,ie){var se=this.originalSize,re=this.originalPosition;return{top:re.top+ie,height:se.height-ie}},s:function(ne,oe,ie){return{height:this.originalSize.height+ie}},se:function(ne,oe,ie){return ee.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[ne,oe,ie]))},sw:function(ne,oe,ie){return ee.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[ne,oe,ie]))},ne:function(ne,oe,ie){return ee.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[ne,oe,ie]))},nw:function(ne,oe,ie){return ee.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[ne,oe,ie]))}},_propagate:function(ne,oe){ee.ui.plugin.call(this,ne,[oe,this.ui()]),'resize'!==ne&&this._trigger(ne,oe,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),ee.ui.plugin.add('resizable','animate',{stop:function(ne){var oe=ee(this).data('ui-resizable'),ie=oe.options,se=oe._proportionallyResizeElements,re=se.length&&/textarea/i.test(se[0].nodeName),le=re&&ee.ui.hasScroll(se[0],'left')?0:oe.sizeDiff.height,de=re?0:oe.sizeDiff.width,ce={width:oe.size.width-de,height:oe.size.height-le},pe=parseInt(oe.element.css('left'),10)+(oe.position.left-oe.originalPosition.left)||null,ue=parseInt(oe.element.css('top'),10)+(oe.position.top-oe.originalPosition.top)||null;oe.element.animate(ee.extend(ce,ue&&pe?{top:ue,left:pe}:{}),{duration:ie.animateDuration,easing:ie.animateEasing,step:function(){var he={width:parseInt(oe.element.css('width'),10),height:parseInt(oe.element.css('height'),10),top:parseInt(oe.element.css('top'),10),left:parseInt(oe.element.css('left'),10)};se&&se.length&&ee(se[0]).css({width:he.width,height:he.height}),oe._updateCache(he),oe._propagate('resize',ne)}})}}),ee.ui.plugin.add('resizable','containment',{start:function(){var ce=ee(this).data('ui-resizable'),pe=ce.options,ue=ce.element,he=pe.containment,ge=he instanceof ee?he.get(0):/parent/.test(he)?ue.parent().get(0):he,ne,oe,ie,se,re,le,de;ge&&(ce.containerElement=ee(ge),/document/.test(he)||he===document?(ce.containerOffset={left:0,top:0},ce.containerPosition={left:0,top:0},ce.parentData={element:ee(document),left:0,top:0,width:ee(document).width(),height:ee(document).height()||document.body.parentNode.scrollHeight}):(ne=ee(ge),oe=[],ee(['Top','Right','Left','Bottom']).each(function(fe,ye){oe[fe]=te(ne.css('padding'+ye))}),ce.containerOffset=ne.offset(),ce.containerPosition=ne.position(),ce.containerSize={height:ne.innerHeight()-oe[3],width:ne.innerWidth()-oe[1]},ie=ce.containerOffset,se=ce.containerSize.height,re=ce.containerSize.width,le=ee.ui.hasScroll(ge,'left')?ge.scrollWidth:re,de=ee.ui.hasScroll(ge)?ge.scrollHeight:se,ce.parentData={element:ge,left:ie.left,top:ie.top,width:le,height:de}))},resize:function(ne){var le=ee(this).data('ui-resizable'),de=le.options,ce=le.containerOffset,pe=le.position,ue=le._aspectRatio||ne.shiftKey,he={top:0,left:0},ge=le.containerElement,oe,ie,se,re;ge[0]!==document&&/static/.test(ge.css('position'))&&(he=ce),pe.left<(le._helper?ce.left:0)&&(le.size.width=le.size.width+(le._helper?le.position.left-ce.left:le.position.left-he.left),ue&&(le.size.height=le.size.width/le.aspectRatio),le.position.left=de.helper?ce.left:0),pe.top<(le._helper?ce.top:0)&&(le.size.height=le.size.height+(le._helper?le.position.top-ce.top:le.position.top),ue&&(le.size.width=le.size.height*le.aspectRatio),le.position.top=le._helper?ce.top:0),le.offset.left=le.parentData.left+le.position.left,le.offset.top=le.parentData.top+le.position.top,oe=Math.abs((le._helper?le.offset.left-he.left:le.offset.left-he.left)+le.sizeDiff.width),ie=Math.abs((le._helper?le.offset.top-he.top:le.offset.top-ce.top)+le.sizeDiff.height),se=le.containerElement.get(0)===le.element.parent().get(0),re=/relative|absolute/.test(le.containerElement.css('position')),se&&re&&(oe-=le.parentData.left),oe+le.size.width>=le.parentData.width&&(le.size.width=le.parentData.width-oe,ue&&(le.size.height=le.size.width/le.aspectRatio)),ie+le.size.height>=le.parentData.height&&(le.size.height=le.parentData.height-ie,ue&&(le.size.width=le.size.height*le.aspectRatio))},stop:function(){var ne=ee(this).data('ui-resizable'),oe=ne.options,ie=ne.containerOffset,se=ne.containerPosition,re=ne.containerElement,le=ee(ne.helper),de=le.offset(),ce=le.outerWidth()-ne.sizeDiff.width,pe=le.outerHeight()-ne.sizeDiff.height;ne._helper&&!oe.animate&&/relative/.test(re.css('position'))&&ee(this).css({left:de.left-se.left-ie.left,width:ce,height:pe}),ne._helper&&!oe.animate&&/static/.test(re.css('position'))&&ee(this).css({left:de.left-se.left-ie.left,width:ce,height:pe})}}),ee.ui.plugin.add('resizable','alsoResize',{start:function(){var ne=ee(this).data('ui-resizable'),oe=ne.options,ie=function(se){ee(se).each(function(){var re=ee(this);re.data('ui-resizable-alsoresize',{width:parseInt(re.width(),10),height:parseInt(re.height(),10),left:parseInt(re.css('left'),10),top:parseInt(re.css('top'),10)})})};'object'!=typeof oe.alsoResize||oe.alsoResize.parentNode?ie(oe.alsoResize):oe.alsoResize.length?(oe.alsoResize=oe.alsoResize[0],ie(oe.alsoResize)):ee.each(oe.alsoResize,function(se){ie(se)})},resize:function(ne,oe){var ie=ee(this).data('ui-resizable'),se=ie.options,re=ie.originalSize,le=ie.originalPosition,de={height:ie.size.height-re.height||0,width:ie.size.width-re.width||0,top:ie.position.top-le.top||0,left:ie.position.left-le.left||0},ce=function(pe,ue){ee(pe).each(function(){var he=ee(this),ge=ee(this).data('ui-resizable-alsoresize'),fe={},ye=ue&&ue.length?ue:he.parents(oe.originalElement[0]).length?['width','height']:['width','height','top','left'];ee.each(ye,function(be,_e){var ve=(ge[_e]||0)+(de[_e]||0);ve&&0<=ve&&(fe[_e]=ve||null)}),he.css(fe)})};'object'!=typeof se.alsoResize||se.alsoResize.nodeType?ce(se.alsoResize):ee.each(se.alsoResize,function(pe,ue){ce(pe,ue)})},stop:function(){ee(this).removeData('resizable-alsoresize')}}),ee.ui.plugin.add('resizable','ghost',{start:function(){var ne=ee(this).data('ui-resizable'),oe=ne.options,ie=ne.size;ne.ghost=ne.originalElement.clone(),ne.ghost.css({opacity:0.25,display:'block',position:'relative',height:ie.height,width:ie.width,margin:0,left:0,top:0}).addClass('ui-resizable-ghost').addClass('string'==typeof oe.ghost?oe.ghost:''),ne.ghost.appendTo(ne.helper)},resize:function(){var ne=ee(this).data('ui-resizable');ne.ghost&&ne.ghost.css({position:'relative',height:ne.size.height,width:ne.size.width})},stop:function(){var ne=ee(this).data('ui-resizable');ne.ghost&&ne.helper&&ne.helper.get(0).removeChild(ne.ghost.get(0))}}),ee.ui.plugin.add('resizable','grid',{resize:function(){var ne=ee(this).data('ui-resizable'),oe=ne.options,ie=ne.size,se=ne.originalSize,re=ne.originalPosition,le=ne.axis,de='number'==typeof oe.grid?[oe.grid,oe.grid]:oe.grid,ce=de[0]||1,pe=de[1]||1,ue=Math.round((ie.width-se.width)/ce)*ce,he=Math.round((ie.height-se.height)/pe)*pe,ge=se.width+ue,fe=se.height+he,ye=oe.maxWidth&&ge>oe.maxWidth,be=oe.maxHeight&&fe>oe.maxHeight,_e=oe.minWidth&&oe.minWidth>ge,ve=oe.minHeight&&oe.minHeight>fe;oe.grid=de,_e&&(ge+=ce),ve&&(fe+=pe),ye&&(ge-=ce),be&&(fe-=pe),/^(se|s|e)$/.test(le)?(ne.size.width=ge,ne.size.height=fe):/^(ne)$/.test(le)?(ne.size.width=ge,ne.size.height=fe,ne.position.top=re.top-he):/^(sw)$/.test(le)?(ne.size.width=ge,ne.size.height=fe,ne.position.left=re.left-ue):(ne.size.width=ge,ne.size.height=fe,ne.position.top=re.top-he,ne.position.left=re.left-ue)}})}(jQuery),function(ee){ee.widget('ui.selectable',ee.ui.mouse,{version:'1.10.3',options:{appendTo:'body',autoRefresh:!0,distance:0,filter:'*',tolerance:'touch',selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var ae=this,te;this.element.addClass('ui-selectable'),this.dragged=!1,this.refresh=function(){te=ee(ae.options.filter,ae.element[0]),te.addClass('ui-selectee'),te.each(function(){var ne=ee(this),oe=ne.offset();ee.data(this,'selectable-item',{element:this,$element:ne,left:oe.left,top:oe.top,right:oe.left+ne.outerWidth(),bottom:oe.top+ne.outerHeight(),startselected:!1,selected:ne.hasClass('ui-selected'),selecting:ne.hasClass('ui-selecting'),unselecting:ne.hasClass('ui-unselecting')})})},this.refresh(),this.selectees=te.addClass('ui-selectee'),this._mouseInit(),this.helper=ee('<div class=\'ui-selectable-helper\'></div>')},_destroy:function(){this.selectees.removeClass('ui-selectee').removeData('selectable-item'),this.element.removeClass('ui-selectable ui-selectable-disabled'),this._mouseDestroy()},_mouseStart:function(te){var ae=this,ne=this.options;this.opos=[te.pageX,te.pageY],this.options.disabled||(this.selectees=ee(ne.filter,this.element[0]),this._trigger('start',te),ee(ne.appendTo).append(this.helper),this.helper.css({left:te.pageX,top:te.pageY,width:0,height:0}),ne.autoRefresh&&this.refresh(),this.selectees.filter('.ui-selected').each(function(){var oe=ee.data(this,'selectable-item');oe.startselected=!0,te.metaKey||te.ctrlKey||(oe.$element.removeClass('ui-selected'),oe.selected=!1,oe.$element.addClass('ui-unselecting'),oe.unselecting=!0,ae._trigger('unselecting',te,{unselecting:oe.element}))}),ee(te.target).parents().addBack().each(function(){var ie=ee.data(this,'selectable-item'),oe;return ie?(oe=!te.metaKey&&!te.ctrlKey||!ie.$element.hasClass('ui-selected'),ie.$element.removeClass(oe?'ui-unselecting':'ui-selected').addClass(oe?'ui-selecting':'ui-unselecting'),ie.unselecting=!oe,ie.selecting=oe,ie.selected=oe,oe?ae._trigger('selecting',te,{selecting:ie.element}):ae._trigger('unselecting',te,{unselecting:ie.element}),!1):void 0}))},_mouseDrag:function(te){if(this.dragged=!0,!this.options.disabled){var ne=this,oe=this.options,ie=this.opos[0],se=this.opos[1],re=te.pageX,le=te.pageY,ae;return ie>re&&(ae=re,re=ie,ie=ae),se>le&&(ae=le,le=se,se=ae),this.helper.css({left:ie,top:se,width:re-ie,height:le-se}),this.selectees.each(function(){var de=ee.data(this,'selectable-item'),ce=!1;de&&de.element!==ne.element[0]&&('touch'===oe.tolerance?ce=!(de.left>re||ie>de.right||de.top>le||se>de.bottom):'fit'===oe.tolerance&&(ce=de.left>ie&&re>de.right&&de.top>se&&le>de.bottom),ce?(de.selected&&(de.$element.removeClass('ui-selected'),de.selected=!1),de.unselecting&&(de.$element.removeClass('ui-unselecting'),de.unselecting=!1),de.selecting||(de.$element.addClass('ui-selecting'),de.selecting=!0,ne._trigger('selecting',te,{selecting:de.element}))):(de.selecting&&((te.metaKey||te.ctrlKey)&&de.startselected?(de.$element.removeClass('ui-selecting'),de.selecting=!1,de.$element.addClass('ui-selected'),de.selected=!0):(de.$element.removeClass('ui-selecting'),de.selecting=!1,de.startselected&&(de.$element.addClass('ui-unselecting'),de.unselecting=!0),ne._trigger('unselecting',te,{unselecting:de.element}))),de.selected&&(te.metaKey||te.ctrlKey||de.startselected||(de.$element.removeClass('ui-selected'),de.selected=!1,de.$element.addClass('ui-unselecting'),de.unselecting=!0,ne._trigger('unselecting',te,{unselecting:de.element})))))}),!1}},_mouseStop:function(te){var ae=this;return this.dragged=!1,ee('.ui-unselecting',this.element[0]).each(function(){var ne=ee.data(this,'selectable-item');ne.$element.removeClass('ui-unselecting'),ne.unselecting=!1,ne.startselected=!1,ae._trigger('unselected',te,{unselected:ne.element})}),ee('.ui-selecting',this.element[0]).each(function(){var ne=ee.data(this,'selectable-item');ne.$element.removeClass('ui-selecting').addClass('ui-selected'),ne.selecting=!1,ne.selected=!0,ne.startselected=!0,ae._trigger('selected',te,{selected:ne.element})}),this._trigger('stop',te),this.helper.remove(),!1}})}(jQuery),function(ee){function te(ne,oe,ie){return ne>oe&&oe+ie>ne}function ae(ne){return /left|right/.test(ne.css('float'))||/inline|table-cell/.test(ne.css('display'))}ee.widget('ui.sortable',ee.ui.mouse,{version:'1.10.3',widgetEventPrefix:'sort',ready:!1,options:{appendTo:'parent',axis:!1,connectWith:!1,containment:!1,cursor:'auto',cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:'original',items:'> *',opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:'default',tolerance:'intersect',zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var ne=this.options;this.containerCache={},this.element.addClass('ui-sortable'),this.refresh(),this.floating=!!this.items.length&&('x'===ne.axis||ae(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass('ui-sortable ui-sortable-disabled'),this._mouseDestroy();for(var ne=this.items.length-1;0<=ne;ne--)this.items[ne].item.removeData(this.widgetName+'-item');return this},_setOption:function(ne,oe){'disabled'===ne?(this.options[ne]=oe,this.widget().toggleClass('ui-sortable-disabled',!!oe)):ee.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(ne,oe){var ie=null,se=!1,re=this;return!this.reverting&&(this.options.disabled||'static'===this.options.type?!1:(this._refreshItems(ne),ee(ne.target).parents().each(function(){return ee.data(this,re.widgetName+'-item')===re?(ie=ee(this),!1):void 0}),ee.data(ne.target,re.widgetName+'-item')===re&&(ie=ee(ne.target)),!!ie&&(!this.options.handle||oe||(ee(this.options.handle,ie).find('*').addBack().each(function(){this===ne.target&&(se=!0)}),se))&&(this.currentItem=ie,this._removeCurrentsFromItems(),!0)))},_mouseStart:function(ne,oe,ie){var le=this.options,se,re;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(ne),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},ee.extend(this.offset,{click:{left:ne.pageX-this.offset.left,top:ne.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css('position','absolute'),this.cssPosition=this.helper.css('position'),this.originalPosition=this._generatePosition(ne),this.originalPageX=ne.pageX,this.originalPageY=ne.pageY,le.cursorAt&&this._adjustOffsetFromHelper(le.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),le.containment&&this._setContainment(),le.cursor&&'auto'!==le.cursor&&(re=this.document.find('body'),this.storedCursor=re.css('cursor'),re.css('cursor',le.cursor),this.storedStylesheet=ee('<style>*{ cursor: '+le.cursor+' !important; }</style>').appendTo(re)),le.opacity&&(this.helper.css('opacity')&&(this._storedOpacity=this.helper.css('opacity')),this.helper.css('opacity',le.opacity)),le.zIndex&&(this.helper.css('zIndex')&&(this._storedZIndex=this.helper.css('zIndex')),this.helper.css('zIndex',le.zIndex)),this.scrollParent[0]!==document&&'HTML'!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger('start',ne,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!ie)for(se=this.containers.length-1;0<=se;se--)this.containers[se]._trigger('activate',ne,this._uiHash(this));return ee.ui.ddmanager&&(ee.ui.ddmanager.current=this),ee.ui.ddmanager&&!le.dropBehaviour&&ee.ui.ddmanager.prepareOffsets(this,ne),this.dragging=!0,this.helper.addClass('ui-sortable-helper'),this._mouseDrag(ne),!0},_mouseDrag:function(ne){var le=this.options,de=!1,oe,ie,se,re;for(this.position=this._generatePosition(ne),this.positionAbs=this._convertPositionTo('absolute'),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&'HTML'!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-ne.pageY<le.scrollSensitivity?this.scrollParent[0].scrollTop=de=this.scrollParent[0].scrollTop+le.scrollSpeed:ne.pageY-this.overflowOffset.top<le.scrollSensitivity&&(this.scrollParent[0].scrollTop=de=this.scrollParent[0].scrollTop-le.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-ne.pageX<le.scrollSensitivity?this.scrollParent[0].scrollLeft=de=this.scrollParent[0].scrollLeft+le.scrollSpeed:ne.pageX-this.overflowOffset.left<le.scrollSensitivity&&(this.scrollParent[0].scrollLeft=de=this.scrollParent[0].scrollLeft-le.scrollSpeed)):(ne.pageY-ee(document).scrollTop()<le.scrollSensitivity?de=ee(document).scrollTop(ee(document).scrollTop()-le.scrollSpeed):ee(window).height()-(ne.pageY-ee(document).scrollTop())<le.scrollSensitivity&&(de=ee(document).scrollTop(ee(document).scrollTop()+le.scrollSpeed)),ne.pageX-ee(document).scrollLeft()<le.scrollSensitivity?de=ee(document).scrollLeft(ee(document).scrollLeft()-le.scrollSpeed):ee(window).width()-(ne.pageX-ee(document).scrollLeft())<le.scrollSensitivity&&(de=ee(document).scrollLeft(ee(document).scrollLeft()+le.scrollSpeed))),!1!==de&&ee.ui.ddmanager&&!le.dropBehaviour&&ee.ui.ddmanager.prepareOffsets(this,ne)),this.positionAbs=this._convertPositionTo('absolute'),this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),oe=this.items.length-1;0<=oe;oe--)if(ie=this.items[oe],se=ie.item[0],re=this._intersectsWithPointer(ie),re&&ie.instance===this.currentContainer&&se!==this.currentItem[0]&&this.placeholder[1===re?'next':'prev']()[0]!==se&&!ee.contains(this.placeholder[0],se)&&('semi-dynamic'!==this.options.type||!ee.contains(this.element[0],se))){if(this.direction=1===re?'down':'up','pointer'!==this.options.tolerance&&!this._intersectsWithSides(ie))break;this._rearrange(ne,ie),this._trigger('change',ne,this._uiHash());break}return this._contactContainers(ne),ee.ui.ddmanager&&ee.ui.ddmanager.drag(this,ne),this._trigger('sort',ne,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(ne,oe){if(ne){if(ee.ui.ddmanager&&!this.options.dropBehaviour&&ee.ui.ddmanager.drop(this,ne),this.options.revert){var ie=this,se=this.placeholder.offset(),re=this.options.axis,le={};re&&'x'!==re||(le.left=se.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),re&&'y'!==re||(le.top=se.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,ee(this.helper).animate(le,parseInt(this.options.revert,10)||500,function(){ie._clear(ne)})}else this._clear(ne,oe);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),'original'===this.options.helper?this.currentItem.css(this._storedCSS).removeClass('ui-sortable-helper'):this.currentItem.show();for(var ne=this.containers.length-1;0<=ne;ne--)this.containers[ne]._trigger('deactivate',null,this._uiHash(this)),this.containers[ne].containerCache.over&&(this.containers[ne]._trigger('out',null,this._uiHash(this)),this.containers[ne].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),'original'!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),ee.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?ee(this.domPosition.prev).after(this.currentItem):ee(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(ne){var oe=this._getItemsAsjQuery(ne&&ne.connected),ie=[];return ne=ne||{},ee(oe).each(function(){var se=(ee(ne.item||this).attr(ne.attribute||'id')||'').match(ne.expression||/(.+)[\-=_](.+)/);se&&ie.push((ne.key||se[1]+'[]')+'='+(ne.key&&ne.expression?se[1]:se[2]))}),!ie.length&&ne.key&&ie.push(ne.key+'='),ie.join('&')},toArray:function(ne){var oe=this._getItemsAsjQuery(ne&&ne.connected),ie=[];return ne=ne||{},oe.each(function(){ie.push(ee(ne.item||this).attr(ne.attribute||'id')||'')}),ie},_intersectsWith:function(ne){var oe=this.positionAbs.left,ie=oe+this.helperProportions.width,se=this.positionAbs.top,re=se+this.helperProportions.height,le=ne.left,de=le+ne.width,ce=ne.top,pe=ce+ne.height,ue=this.offset.click.top,he=this.offset.click.left,ge='x'===this.options.axis||se+ue>ce&&pe>se+ue,fe='y'===this.options.axis||oe+he>le&&de>oe+he;return'pointer'===this.options.tolerance||this.options.forcePointerForContainers||'pointer'!==this.options.tolerance&&this.helperProportions[this.floating?'width':'height']>ne[this.floating?'width':'height']?ge&&fe:oe+this.helperProportions.width/2>le&&de>ie-this.helperProportions.width/2&&se+this.helperProportions.height/2>ce&&pe>re-this.helperProportions.height/2},_intersectsWithPointer:function(ne){var oe='x'===this.options.axis||te(this.positionAbs.top+this.offset.click.top,ne.top,ne.height),ie='y'===this.options.axis||te(this.positionAbs.left+this.offset.click.left,ne.left,ne.width),se=this._getDragVerticalDirection(),re=this._getDragHorizontalDirection();return oe&&ie&&(this.floating?re&&'right'===re||'down'===se?2:1:se&&('down'===se?2:1))},_intersectsWithSides:function(ne){var oe=te(this.positionAbs.top+this.offset.click.top,ne.top+ne.height/2,ne.height),ie=te(this.positionAbs.left+this.offset.click.left,ne.left+ne.width/2,ne.width),se=this._getDragVerticalDirection(),re=this._getDragHorizontalDirection();return this.floating&&re?'right'===re&&ie||'left'===re&&!ie:se&&('down'===se&&oe||'up'===se&&!oe)},_getDragVerticalDirection:function(){var ne=this.positionAbs.top-this.lastPositionAbs.top;return 0!=ne&&(0<ne?'down':'up')},_getDragHorizontalDirection:function(){var ne=this.positionAbs.left-this.lastPositionAbs.left;return 0!=ne&&(0<ne?'right':'left')},refresh:function(ne){return this._refreshItems(ne),this.refreshPositions(),this},_connectWith:function(){var ne=this.options;return ne.connectWith.constructor===String?[ne.connectWith]:ne.connectWith},_getItemsAsjQuery:function(ne){var le=[],de=[],ce=this._connectWith(),oe,ie,se,re;if(ce&&ne)for(oe=ce.length-1;0<=oe;oe--)for(se=ee(ce[oe]),ie=se.length-1;0<=ie;ie--)re=ee.data(se[ie],this.widgetFullName),re&&re!==this&&!re.options.disabled&&de.push([ee.isFunction(re.options.items)?re.options.items.call(re.element):ee(re.options.items,re.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),re]);for(de.push([ee.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):ee(this.options.items,this.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),this]),oe=de.length-1;0<=oe;oe--)de[oe][0].each(function(){le.push(this)});return ee(le)},_removeCurrentsFromItems:function(){var ne=this.currentItem.find(':data('+this.widgetName+'-item)');this.items=ee.grep(this.items,function(oe){for(var ie=0;ne.length>ie;ie++)if(ne[ie]===oe.item[0])return!1;return!0})},_refreshItems:function(ne){this.items=[],this.containers=[this];var ue=this.items,he=[[ee.isFunction(this.options.items)?this.options.items.call(this.element[0],ne,{item:this.currentItem}):ee(this.options.items,this.element),this]],ge=this._connectWith(),oe,ie,se,re,le,de,ce,pe;if(ge&&this.ready)for(oe=ge.length-1;0<=oe;oe--)for(se=ee(ge[oe]),ie=se.length-1;0<=ie;ie--)re=ee.data(se[ie],this.widgetFullName),re&&re!==this&&!re.options.disabled&&(he.push([ee.isFunction(re.options.items)?re.options.items.call(re.element[0],ne,{item:this.currentItem}):ee(re.options.items,re.element),re]),this.containers.push(re));for(oe=he.length-1;0<=oe;oe--)for(le=he[oe][1],de=he[oe][0],ie=0,pe=de.length;pe>ie;ie++)ce=ee(de[ie]),ce.data(this.widgetName+'-item',le),ue.push({item:ce,instance:le,width:0,height:0,left:0,top:0})},refreshPositions:function(ne){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var oe,ie,se,re;for(oe=this.items.length-1;0<=oe;oe--)ie=this.items[oe],ie.instance!==this.currentContainer&&this.currentContainer&&ie.item[0]!==this.currentItem[0]||(se=this.options.toleranceElement?ee(this.options.toleranceElement,ie.item):ie.item,ne||(ie.width=se.outerWidth(),ie.height=se.outerHeight()),re=se.offset(),ie.left=re.left,ie.top=re.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(oe=this.containers.length-1;0<=oe;oe--)re=this.containers[oe].element.offset(),this.containers[oe].containerCache.left=re.left,this.containers[oe].containerCache.top=re.top,this.containers[oe].containerCache.width=this.containers[oe].element.outerWidth(),this.containers[oe].containerCache.height=this.containers[oe].element.outerHeight();return this},_createPlaceholder:function(ne){ne=ne||this;var ie=ne.options,oe;ie.placeholder&&ie.placeholder.constructor!==String||(oe=ie.placeholder,ie.placeholder={element:function(){var se=ne.currentItem[0].nodeName.toLowerCase(),re=ee('<'+se+'>',ne.document[0]).addClass(oe||ne.currentItem[0].className+' ui-sortable-placeholder').removeClass('ui-sortable-helper');return'tr'===se?ne.currentItem.children().each(function(){ee('<td>&#160;</td>',ne.document[0]).attr('colspan',ee(this).attr('colspan')||1).appendTo(re)}):'img'===se&&re.attr('src',ne.currentItem.attr('src')),oe||re.css('visibility','hidden'),re},update:function(se,re){(!oe||ie.forcePlaceholderSize)&&(re.height()||re.height(ne.currentItem.innerHeight()-parseInt(ne.currentItem.css('paddingTop')||0,10)-parseInt(ne.currentItem.css('paddingBottom')||0,10)),re.width()||re.width(ne.currentItem.innerWidth()-parseInt(ne.currentItem.css('paddingLeft')||0,10)-parseInt(ne.currentItem.css('paddingRight')||0,10)))}}),ne.placeholder=ee(ie.placeholder.element.call(ne.element,ne.currentItem)),ne.currentItem.after(ne.placeholder),ie.placeholder.update(ne,ne.placeholder)},_contactContainers:function(ne){var ge=null,fe=null,oe,ie,se,re,le,de,ce,pe,ue,he;for(oe=this.containers.length-1;0<=oe;oe--)if(!ee.contains(this.currentItem[0],this.containers[oe].element[0]))if(this._intersectsWith(this.containers[oe].containerCache)){if(ge&&ee.contains(this.containers[oe].element[0],ge.element[0]))continue;ge=this.containers[oe],fe=oe}else this.containers[oe].containerCache.over&&(this.containers[oe]._trigger('out',ne,this._uiHash(this)),this.containers[oe].containerCache.over=0);if(ge)if(1===this.containers.length)this.containers[fe].containerCache.over||(this.containers[fe]._trigger('over',ne,this._uiHash(this)),this.containers[fe].containerCache.over=1);else{for(se=10000,re=null,he=ge.floating||ae(this.currentItem),le=he?'left':'top',de=he?'width':'height',ce=this.positionAbs[le]+this.offset.click[le],ie=this.items.length-1;0<=ie;ie--)ee.contains(this.containers[fe].element[0],this.items[ie].item[0])&&this.items[ie].item[0]!==this.currentItem[0]&&(!he||te(this.positionAbs.top+this.offset.click.top,this.items[ie].top,this.items[ie].height))&&(pe=this.items[ie].item.offset()[le],ue=!1,Math.abs(pe-ce)>Math.abs(pe+this.items[ie][de]-ce)&&(ue=!0,pe+=this.items[ie][de]),se>Math.abs(pe-ce)&&(se=Math.abs(pe-ce),re=this.items[ie],this.direction=ue?'up':'down'));if(!re&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[fe])return;re?this._rearrange(ne,re,null,!0):this._rearrange(ne,null,this.containers[fe].element,!0),this._trigger('change',ne,this._uiHash()),this.containers[fe]._trigger('change',ne,this._uiHash(this)),this.currentContainer=this.containers[fe],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[fe]._trigger('over',ne,this._uiHash(this)),this.containers[fe].containerCache.over=1}},_createHelper:function(ne){var oe=this.options,ie=ee.isFunction(oe.helper)?ee(oe.helper.apply(this.element[0],[ne,this.currentItem])):'clone'===oe.helper?this.currentItem.clone():this.currentItem;return ie.parents('body').length||ee('parent'===oe.appendTo?this.currentItem[0].parentNode:oe.appendTo)[0].appendChild(ie[0]),ie[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css('position'),top:this.currentItem.css('top'),left:this.currentItem.css('left')}),(!ie[0].style.width||oe.forceHelperSize)&&ie.width(this.currentItem.width()),(!ie[0].style.height||oe.forceHelperSize)&&ie.height(this.currentItem.height()),ie},_adjustOffsetFromHelper:function(ne){'string'==typeof ne&&(ne=ne.split(' ')),ee.isArray(ne)&&(ne={left:+ne[0],top:+ne[1]||0}),'left'in ne&&(this.offset.click.left=ne.left+this.margins.left),'right'in ne&&(this.offset.click.left=this.helperProportions.width-ne.right+this.margins.left),'top'in ne&&(this.offset.click.top=ne.top+this.margins.top),'bottom'in ne&&(this.offset.click.top=this.helperProportions.height-ne.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var ne=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==document&&ee.contains(this.scrollParent[0],this.offsetParent[0])&&(ne.left+=this.scrollParent.scrollLeft(),ne.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&ee.ui.ie)&&(ne={top:0,left:0}),{top:ne.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:ne.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var ne=this.currentItem.position();return{top:ne.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:ne.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css('marginLeft'),10)||0,top:parseInt(this.currentItem.css('marginTop'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var se=this.options,ne,oe,ie;'parent'===se.containment&&(se.containment=this.helper[0].parentNode),('document'===se.containment||'window'===se.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,ee('document'===se.containment?document:window).width()-this.helperProportions.width-this.margins.left,(ee('document'===se.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(se.containment)||(ne=ee(se.containment)[0],oe=ee(se.containment).offset(),ie='hidden'!==ee(ne).css('overflow'),this.containment=[oe.left+(parseInt(ee(ne).css('borderLeftWidth'),10)||0)+(parseInt(ee(ne).css('paddingLeft'),10)||0)-this.margins.left,oe.top+(parseInt(ee(ne).css('borderTopWidth'),10)||0)+(parseInt(ee(ne).css('paddingTop'),10)||0)-this.margins.top,oe.left+(ie?Math.max(ne.scrollWidth,ne.offsetWidth):ne.offsetWidth)-(parseInt(ee(ne).css('borderLeftWidth'),10)||0)-(parseInt(ee(ne).css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left,oe.top+(ie?Math.max(ne.scrollHeight,ne.offsetHeight):ne.offsetHeight)-(parseInt(ee(ne).css('borderTopWidth'),10)||0)-(parseInt(ee(ne).css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(ne,oe){oe||(oe=this.position);var ie='absolute'===ne?1:-1,se='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&ee.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,re=/(html|body)/i.test(se[0].tagName);return{top:oe.top+this.offset.relative.top*ie+this.offset.parent.top*ie-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():re?0:se.scrollTop())*ie,left:oe.left+this.offset.relative.left*ie+this.offset.parent.left*ie-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():re?0:se.scrollLeft())*ie}},_generatePosition:function(ne){var se=this.options,re=ne.pageX,le=ne.pageY,de='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&ee.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,ce=/(html|body)/i.test(de[0].tagName),oe,ie;return'relative'!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(ne.pageX-this.offset.click.left<this.containment[0]&&(re=this.containment[0]+this.offset.click.left),ne.pageY-this.offset.click.top<this.containment[1]&&(le=this.containment[1]+this.offset.click.top),ne.pageX-this.offset.click.left>this.containment[2]&&(re=this.containment[2]+this.offset.click.left),ne.pageY-this.offset.click.top>this.containment[3]&&(le=this.containment[3]+this.offset.click.top)),se.grid&&(oe=this.originalPageY+Math.round((le-this.originalPageY)/se.grid[1])*se.grid[1],le=this.containment?oe-this.offset.click.top>=this.containment[1]&&oe-this.offset.click.top<=this.containment[3]?oe:oe-this.offset.click.top>=this.containment[1]?oe-se.grid[1]:oe+se.grid[1]:oe,ie=this.originalPageX+Math.round((re-this.originalPageX)/se.grid[0])*se.grid[0],re=this.containment?ie-this.offset.click.left>=this.containment[0]&&ie-this.offset.click.left<=this.containment[2]?ie:ie-this.offset.click.left>=this.containment[0]?ie-se.grid[0]:ie+se.grid[0]:ie)),{top:le-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():ce?0:de.scrollTop()),left:re-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():ce?0:de.scrollLeft())}},_rearrange:function(ne,oe,ie,se){ie?ie[0].appendChild(this.placeholder[0]):oe.item[0].parentNode.insertBefore(this.placeholder[0],'down'===this.direction?oe.item[0]:oe.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var re=this.counter;this._delay(function(){re===this.counter&&this.refreshPositions(!se)})},_clear:function(ne,oe){this.reverting=!1;var se=[],ie;if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(ie in this._storedCSS)('auto'===this._storedCSS[ie]||'static'===this._storedCSS[ie])&&(this._storedCSS[ie]='');this.currentItem.css(this._storedCSS).removeClass('ui-sortable-helper')}else this.currentItem.show();for(this.fromOutside&&!oe&&se.push(function(re){this._trigger('receive',re,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not('.ui-sortable-helper')[0]&&this.domPosition.parent===this.currentItem.parent()[0]||oe||se.push(function(re){this._trigger('update',re,this._uiHash())}),this!==this.currentContainer&&(oe||(se.push(function(re){this._trigger('remove',re,this._uiHash())}),se.push(function(re){return function(le){re._trigger('receive',le,this._uiHash(this))}}.call(this,this.currentContainer)),se.push(function(re){return function(le){re._trigger('update',le,this._uiHash(this))}}.call(this,this.currentContainer)))),ie=this.containers.length-1;0<=ie;ie--)oe||se.push(function(re){return function(le){re._trigger('deactivate',le,this._uiHash(this))}}.call(this,this.containers[ie])),this.containers[ie].containerCache.over&&(se.push(function(re){return function(le){re._trigger('out',le,this._uiHash(this))}}.call(this,this.containers[ie])),this.containers[ie].containerCache.over=0);if(this.storedCursor&&(this.document.find('body').css('cursor',this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css('opacity',this._storedOpacity),this._storedZIndex&&this.helper.css('zIndex','auto'===this._storedZIndex?'':this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!oe){for(this._trigger('beforeStop',ne,this._uiHash()),ie=0;se.length>ie;ie++)se[ie].call(this,ne);this._trigger('stop',ne,this._uiHash())}return this.fromOutside=!1,!1}if(oe||this._trigger('beforeStop',ne,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!oe){for(ie=0;se.length>ie;ie++)se[ie].call(this,ne);this._trigger('stop',ne,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===ee.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(ne){var oe=ne||this;return{helper:oe.helper,placeholder:oe.placeholder||ee([]),position:oe.position,originalPosition:oe.originalPosition,offset:oe.positionAbs,item:oe.currentItem,sender:ne?ne.element:null}}})}(jQuery),function(){(function(ee){var te=this||(0,eval)('this'),ae=te.document,ne=te.navigator,oe=te.jQuery,ie=te.JSON;(function(se){'function'==typeof define&&define.amd?define(['exports','require'],se):'object'==typeof exports&&'object'==typeof module?se(module.exports||exports):se(te.ko={})})(function(se,re){function le(Pe,Ee){return(null===Pe||typeof Pe in ye)&&Pe===Ee}function de(Pe,Ee){var Oe;return function(){Oe||(Oe=fe.a.setTimeout(function(){Oe=ee,Pe()},Ee))}}function ce(Pe,Ee){var Oe;return function(){clearTimeout(Oe),Oe=fe.a.setTimeout(Pe,Ee)}}function pe(Pe,Ee){Ee&&Ee!==be?'beforeChange'===Ee?this.Kb(Pe):this.Ha(Pe,Ee):this.Lb(Pe)}function ue(Pe,Ee){null!==Ee&&Ee.k&&Ee.k()}function he(Pe,Ee){var Oe=this.Hc,Ae=Oe[ke];Ae.R||(this.lb&&this.Ma[Ee]?(Oe.Pb(Ee,Pe,this.Ma[Ee]),this.Ma[Ee]=null,--this.lb):Ae.r[Ee]||Oe.Pb(Ee,Pe,Ae.s?{ia:Pe}:Oe.uc(Pe)))}function ge(Pe,Ee,Oe,Ae){fe.d[Pe]={init:function(Ie,Le,He,Me,ze){var We,Re;return fe.m(function(){var Ye=fe.a.c(Le()),Fe=!Oe!=!Ye,qe=!Re;(qe||Ee||Fe!==We)&&(qe&&fe.va.Aa()&&(Re=fe.a.ua(fe.f.childNodes(Ie),!0)),Fe?(qe||fe.f.da(Ie,fe.a.ua(Re)),fe.eb(Ae?Ae(ze,Ye):ze,Ie)):fe.f.xa(Ie),We=Fe)},null,{i:Ie}),{controlsDescendantBindings:!0}}},fe.h.ta[Pe]=!1,fe.f.Z[Pe]=!0}var fe='undefined'==typeof se?{}:se;fe.b=function(Pe,Ee){for(var Oe=Pe.split('.'),Ae=fe,Ie=0;Ie<Oe.length-1;Ie++)Ae=Ae[Oe[Ie]];Ae[Oe[Oe.length-1]]=Ee},fe.G=function(Pe,Ee,Oe){Pe[Ee]=Oe},fe.version='3.4.0',fe.b('version',fe.version),fe.options={deferUpdates:!1,useOnlyNativeEvents:!1},fe.a=function(){function Pe(Ye,Fe){for(var qe in Ye)Ye.hasOwnProperty(qe)&&Fe(qe,Ye[qe])}function Ee(Ye,Fe){if(Fe)for(var qe in Fe)Fe.hasOwnProperty(qe)&&(Ye[qe]=Fe[qe]);return Ye}function Oe(Ye,Fe){return Ye.__proto__=Fe,Ye}function Ae(Ye,Fe,qe,Be){var Ue=Ye[Fe].match(Re)||[];fe.a.q(qe.match(Re),function(Ve){fe.a.pa(Ue,Ve,Be)}),Ye[Fe]=Ue.join(' ')}var Ie={__proto__:[]}instanceof Array,Le='function'==typeof Symbol,He={},Me={};He[ne&&/Firefox\/2/i.test(ne.userAgent)?'KeyboardEvent':'UIEvents']=['keyup','keydown','keypress'],He.MouseEvents='click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave'.split(' '),Pe(He,function(Ye,Fe){if(Fe.length)for(var qe=0,Be=Fe.length;qe<Be;qe++)Me[Fe[qe]]=Ye});var ze={propertychange:!0},We=ae&&function(){for(var Ye=3,Fe=ae.createElement('div'),qe=Fe.getElementsByTagName('i');Fe.innerHTML='<!--[if gt IE '+ ++Ye+']><i></i><![endif]-->',qe[0];);return 4<Ye?Ye:ee}(),Re=/\S+/g;return{cc:['authenticity_token',/^__RequestVerificationToken(_.*)?$/],q:function(Ye,Fe){for(var qe=0,Be=Ye.length;qe<Be;qe++)Fe(Ye[qe],qe)},o:function(Ye,Fe){if('function'==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(Ye,Fe);for(var qe=0,Be=Ye.length;qe<Be;qe++)if(Ye[qe]===Fe)return qe;return-1},Sb:function(Ye,Fe,qe){for(var Be=0,Ue=Ye.length;Be<Ue;Be++)if(Fe.call(qe,Ye[Be],Be))return Ye[Be];return null},La:function(Ye,Fe){var qe=fe.a.o(Ye,Fe);0<qe?Ye.splice(qe,1):0===qe&&Ye.shift()},Tb:function(Ye){Ye=Ye||[];for(var Fe=[],qe=0,Be=Ye.length;qe<Be;qe++)0>fe.a.o(Fe,Ye[qe])&&Fe.push(Ye[qe]);return Fe},fb:function(Ye,Fe){Ye=Ye||[];for(var qe=[],Be=0,Ue=Ye.length;Be<Ue;Be++)qe.push(Fe(Ye[Be],Be));return qe},Ka:function(Ye,Fe){Ye=Ye||[];for(var qe=[],Be=0,Ue=Ye.length;Be<Ue;Be++)Fe(Ye[Be],Be)&&qe.push(Ye[Be]);return qe},ra:function(Ye,Fe){if(Fe instanceof Array)Ye.push.apply(Ye,Fe);else for(var qe=0,Be=Fe.length;qe<Be;qe++)Ye.push(Fe[qe]);return Ye},pa:function(Ye,Fe,qe){var Be=fe.a.o(fe.a.zb(Ye),Fe);0>Be?qe&&Ye.push(Fe):qe||Ye.splice(Be,1)},ka:Ie,extend:Ee,Xa:Oe,Ya:Ie?Oe:Ee,D:Pe,Ca:function(Ye,Fe){if(!Ye)return Ye;var qe={},Be;for(Be in Ye)Ye.hasOwnProperty(Be)&&(qe[Be]=Fe(Ye[Be],Be,Ye));return qe},ob:function(Ye){for(;Ye.firstChild;)fe.removeNode(Ye.firstChild)},jc:function(Ye){Ye=fe.a.V(Ye);for(var Fe=(Ye[0]&&Ye[0].ownerDocument||ae).createElement('div'),qe=0,Be=Ye.length;qe<Be;qe++)Fe.appendChild(fe.$(Ye[qe]));return Fe},ua:function(Ye,Fe){for(var qe=0,Be=Ye.length,Ue=[];qe<Be;qe++){var Ve=Ye[qe].cloneNode(!0);Ue.push(Fe?fe.$(Ve):Ve)}return Ue},da:function(Ye,Fe){if(fe.a.ob(Ye),Fe)for(var qe=0,Be=Fe.length;qe<Be;qe++)Ye.appendChild(Fe[qe])},qc:function(Ye,Fe){var qe=Ye.nodeType?[Ye]:Ye;if(0<qe.length){for(var Be=qe[0],Ue=Be.parentNode,Ve=0,Ke=Fe.length;Ve<Ke;Ve++)Ue.insertBefore(Fe[Ve],Be);for(Ve=0,Ke=qe.length;Ve<Ke;Ve++)fe.removeNode(qe[Ve])}},za:function(Ye,Fe){if(Ye.length){for(Fe=8===Fe.nodeType&&Fe.parentNode||Fe;Ye.length&&Ye[0].parentNode!==Fe;)Ye.splice(0,1);for(;1<Ye.length&&Ye[Ye.length-1].parentNode!==Fe;)Ye.length--;if(1<Ye.length){var qe=Ye[0],Be=Ye[Ye.length-1];for(Ye.length=0;qe!==Be;)Ye.push(qe),qe=qe.nextSibling;Ye.push(Be)}}return Ye},sc:function(Ye,Fe){7>We?Ye.setAttribute('selected',Fe):Ye.selected=Fe},$a:function(Ye){return null===Ye||Ye===ee?'':Ye.trim?Ye.trim():Ye.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,'')},nd:function(Ye,Fe){return Ye=Ye||'',!(Fe.length>Ye.length)&&Ye.substring(0,Fe.length)===Fe},Mc:function(Ye,Fe){if(Ye===Fe)return!0;if(11===Ye.nodeType)return!1;if(Fe.contains)return Fe.contains(3===Ye.nodeType?Ye.parentNode:Ye);if(Fe.compareDocumentPosition)return 16==(16&Fe.compareDocumentPosition(Ye));for(;Ye&&Ye!=Fe;)Ye=Ye.parentNode;return!!Ye},nb:function(Ye){return fe.a.Mc(Ye,Ye.ownerDocument.documentElement)},Qb:function(Ye){return!!fe.a.Sb(Ye,fe.a.nb)},A:function(Ye){return Ye&&Ye.tagName&&Ye.tagName.toLowerCase()},Wb:function(Ye){return fe.onError?function(){try{return Ye.apply(this,arguments)}catch(Fe){throw fe.onError&&fe.onError(Fe),Fe}}:Ye},setTimeout:function(Ye,Fe){return setTimeout(fe.a.Wb(Ye),Fe)},$b:function(Ye){setTimeout(function(){throw fe.onError&&fe.onError(Ye),Ye},0)},p:function(Ye,Fe,qe){var Be=fe.a.Wb(qe);if(qe=We&&ze[Fe],!(fe.options.useOnlyNativeEvents||qe||!oe))oe(Ye).bind(Fe,Be);else if(!(qe||'function'!=typeof Ye.addEventListener))Ye.addEventListener(Fe,Be,!1);else if('undefined'!=typeof Ye.attachEvent){var Ue=function(Ke){Be.call(Ye,Ke)},Ve='on'+Fe;Ye.attachEvent(Ve,Ue),fe.a.F.oa(Ye,function(){Ye.detachEvent(Ve,Ue)})}else throw Error('Browser doesn\'t support addEventListener or attachEvent')},Da:function(Ye,Fe){if(!Ye||!Ye.nodeType)throw Error('element must be a DOM node when calling triggerEvent');var qe;if('input'===fe.a.A(Ye)&&Ye.type&&'click'==Fe.toLowerCase()?(qe=Ye.type,qe='checkbox'==qe||'radio'==qe):qe=!1,!(fe.options.useOnlyNativeEvents||!oe||qe))oe(Ye).trigger(Fe);else if('function'==typeof ae.createEvent){if('function'==typeof Ye.dispatchEvent)qe=ae.createEvent(Me[Fe]||'HTMLEvents'),qe.initEvent(Fe,!0,!0,te,0,0,0,0,0,!1,!1,!1,!1,0,Ye),Ye.dispatchEvent(qe);else throw Error('The supplied element doesn\'t support dispatchEvent');}else if(qe&&Ye.click)Ye.click();else if('undefined'!=typeof Ye.fireEvent)Ye.fireEvent('on'+Fe);else throw Error('Browser doesn\'t support triggering events')},c:function(Ye){return fe.H(Ye)?Ye():Ye},zb:function(Ye){return fe.H(Ye)?Ye.t():Ye},bb:function(Ye,Fe,qe){var Be;Fe&&('object'==typeof Ye.classList?(Be=Ye.classList[qe?'add':'remove'],fe.a.q(Fe.match(Re),function(Ue){Be.call(Ye.classList,Ue)})):'string'==typeof Ye.className.baseVal?Ae(Ye.className,'baseVal',Fe,qe):Ae(Ye,'className',Fe,qe))},Za:function(Ye,Fe){var qe=fe.a.c(Fe);(null===qe||qe===ee)&&(qe='');var Be=fe.f.firstChild(Ye);!Be||3!=Be.nodeType||fe.f.nextSibling(Be)?fe.f.da(Ye,[Ye.ownerDocument.createTextNode(qe)]):Be.data=qe,fe.a.Rc(Ye)},rc:function(Ye,Fe){if(Ye.name=Fe,7>=We)try{Ye.mergeAttributes(ae.createElement('<input name=\''+Ye.name+'\'/>'),!1)}catch(qe){}},Rc:function(Ye){9<=We&&(Ye=1==Ye.nodeType?Ye:Ye.parentNode,Ye.style&&(Ye.style.zoom=Ye.style.zoom))},Nc:function(Ye){if(We){var Fe=Ye.style.width;Ye.style.width=0,Ye.style.width=Fe}},hd:function(Ye,Fe){Ye=fe.a.c(Ye),Fe=fe.a.c(Fe);for(var qe=[],Be=Ye;Be<=Fe;Be++)qe.push(Be);return qe},V:function(Ye){for(var Fe=[],qe=0,Be=Ye.length;qe<Be;qe++)Fe.push(Ye[qe]);return Fe},Yb:function(Ye){return Le?Symbol(Ye):Ye},rd:6===We,sd:7===We,C:We,ec:function(Ye,Fe){for(var qe=fe.a.V(Ye.getElementsByTagName('input')).concat(fe.a.V(Ye.getElementsByTagName('textarea'))),Be='string'==typeof Fe?function(Ke){return Ke.name===Fe}:function(Ke){return Fe.test(Ke.name)},Ue=[],Ve=qe.length-1;0<=Ve;Ve--)Be(qe[Ve])&&Ue.push(qe[Ve]);return Ue},ed:function(Ye){return'string'==typeof Ye&&(Ye=fe.a.$a(Ye))?ie&&ie.parse?ie.parse(Ye):new Function('return '+Ye)():null},Eb:function(Ye,Fe,qe){if(!ie||!ie.stringify)throw Error('Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don\'t support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js');return ie.stringify(fe.a.c(Ye),Fe,qe)},fd:function(Ye,Fe,qe){qe=qe||{};var Be=qe.params||{},Ue=qe.includeFields||this.cc,Ve=Ye;if('object'==typeof Ye&&'form'===fe.a.A(Ye))for(var Ve=Ye.action,Ke=Ue.length-1;0<=Ke;Ke--)for(var Ge=fe.a.ec(Ye,Ue[Ke]),Xe=Ge.length-1;0<=Xe;Xe--)Be[Ge[Xe].name]=Ge[Xe].value;Fe=fe.a.c(Fe);var Je=ae.createElement('form');for(var Qe in Je.style.display='none',Je.action=Ve,Je.method='post',Fe)Ye=ae.createElement('input'),Ye.type='hidden',Ye.name=Qe,Ye.value=fe.a.Eb(fe.a.c(Fe[Qe])),Je.appendChild(Ye);Pe(Be,function(Ze,et){var tt=ae.createElement('input');tt.type='hidden',tt.name=Ze,tt.value=et,Je.appendChild(tt)}),ae.body.appendChild(Je),qe.submitter?qe.submitter(Je):Je.submit(),setTimeout(function(){Je.parentNode.removeChild(Je)},0)}}}(),fe.b('utils',fe.a),fe.b('utils.arrayForEach',fe.a.q),fe.b('utils.arrayFirst',fe.a.Sb),fe.b('utils.arrayFilter',fe.a.Ka),fe.b('utils.arrayGetDistinctValues',fe.a.Tb),fe.b('utils.arrayIndexOf',fe.a.o),fe.b('utils.arrayMap',fe.a.fb),fe.b('utils.arrayPushAll',fe.a.ra),fe.b('utils.arrayRemoveItem',fe.a.La),fe.b('utils.extend',fe.a.extend),fe.b('utils.fieldsIncludedWithJsonPost',fe.a.cc),fe.b('utils.getFormFields',fe.a.ec),fe.b('utils.peekObservable',fe.a.zb),fe.b('utils.postJson',fe.a.fd),fe.b('utils.parseJson',fe.a.ed),fe.b('utils.registerEventHandler',fe.a.p),fe.b('utils.stringifyJson',fe.a.Eb),fe.b('utils.range',fe.a.hd),fe.b('utils.toggleDomNodeCssClass',fe.a.bb),fe.b('utils.triggerEvent',fe.a.Da),fe.b('utils.unwrapObservable',fe.a.c),fe.b('utils.objectForEach',fe.a.D),fe.b('utils.addOrRemoveItem',fe.a.pa),fe.b('utils.setTextContent',fe.a.Za),fe.b('unwrap',fe.a.c),Function.prototype.bind||(Function.prototype.bind=function(Pe){var Ee=this;if(1===arguments.length)return function(){return Ee.apply(Pe,arguments)};var Oe=Array.prototype.slice.call(arguments,1);return function(){var Ae=Oe.slice(0);return Ae.push.apply(Ae,arguments),Ee.apply(Pe,Ae)}}),fe.a.e=new function(){function Pe(Ie,Le){var He=Ie[Oe];if(!He||'null'===He||!Ae[He]){if(!Le)return ee;He=Ie[Oe]='ko'+Ee++,Ae[He]={}}return Ae[He]}var Ee=0,Oe='__ko__'+new Date().getTime(),Ae={};return{get:function(Ie,Le){var He=Pe(Ie,!1);return He===ee?ee:He[Le]},set:function(Ie,Le,He){(He!==ee||Pe(Ie,!1)!==ee)&&(Pe(Ie,!0)[Le]=He)},clear:function(Ie){var Le=Ie[Oe];return!!Le&&(delete Ae[Le],Ie[Oe]=null,!0)},I:function(){return Ee++ +Oe}}},fe.b('utils.domData',fe.a.e),fe.b('utils.domData.clear',fe.a.e.clear),fe.a.F=new function(){function Pe(Le,He){var Me=fe.a.e.get(Le,Oe);return Me===ee&&He&&(Me=[],fe.a.e.set(Le,Oe,Me)),Me}function Ee(Le){var He=Pe(Le,!1);if(He)for(var He=He.slice(0),Me=0;Me<He.length;Me++)He[Me](Le);if(fe.a.e.clear(Le),fe.a.F.cleanExternalData(Le),Ie[Le.nodeType])for(He=Le.firstChild;Le=He;)He=Le.nextSibling,8===Le.nodeType&&Ee(Le)}var Oe=fe.a.e.I(),Ae={1:!0,8:!0,9:!0},Ie={1:!0,9:!0};return{oa:function(Le,He){if('function'!=typeof He)throw Error('Callback must be a function');Pe(Le,!0).push(He)},pc:function(Le,He){var Me=Pe(Le,!1);Me&&(fe.a.La(Me,He),0==Me.length&&fe.a.e.set(Le,Oe,ee))},$:function(Le){if(Ae[Le.nodeType]&&(Ee(Le),Ie[Le.nodeType])){var He=[];fe.a.ra(He,Le.getElementsByTagName('*'));for(var Me=0,ze=He.length;Me<ze;Me++)Ee(He[Me])}return Le},removeNode:function(Le){fe.$(Le),Le.parentNode&&Le.parentNode.removeChild(Le)},cleanExternalData:function(Le){oe&&'function'==typeof oe.cleanData&&oe.cleanData([Le])}}},fe.$=fe.a.F.$,fe.removeNode=fe.a.F.removeNode,fe.b('cleanNode',fe.$),fe.b('removeNode',fe.removeNode),fe.b('utils.domNodeDisposal',fe.a.F),fe.b('utils.domNodeDisposal.addDisposeCallback',fe.a.F.oa),fe.b('utils.domNodeDisposal.removeDisposeCallback',fe.a.F.pc),function(){var Pe=[0,'',''],Ee=[1,'<table>','</table>'],Oe=[3,'<table><tbody><tr>','</tr></tbody></table>'],Ae=[1,'<select multiple=\'multiple\'>','</select>'],Ie={thead:Ee,tbody:Ee,tfoot:Ee,tr:[2,'<table><tbody>','</tbody></table>'],td:Oe,th:Oe,option:Ae,optgroup:Ae},Le=8>=fe.a.C;fe.a.ma=function(He,Me){var ze;if(!oe){(ze=Me)||(ze=ae);var We=ze.parentWindow||ze.defaultView||te,Re=fe.a.$a(He).toLowerCase(),Ye=ze.createElement('div'),Fe;for(Fe=(Re=Re.match(/^<([a-z]+)[ >]/))&&Ie[Re[1]]||Pe,Re=Fe[0],Fe='ignored<div>'+Fe[1]+He+Fe[2]+'</div>','function'==typeof We.innerShiv?Ye.appendChild(We.innerShiv(Fe)):(Le&&ze.appendChild(Ye),Ye.innerHTML=Fe,Le&&Ye.parentNode.removeChild(Ye));Re--;)Ye=Ye.lastChild;ze=fe.a.V(Ye.lastChild.childNodes)}else if(oe.parseHTML)ze=oe.parseHTML(He,Me)||[];else if((ze=oe.clean([He],Me))&&ze[0]){for(var We=ze[0];We.parentNode&&11!==We.parentNode.nodeType;)We=We.parentNode;We.parentNode&&We.parentNode.removeChild(We)}return ze},fe.a.Cb=function(He,Me){if(fe.a.ob(He),Me=fe.a.c(Me),null!==Me&&Me!==ee)if('string'!=typeof Me&&(Me=Me.toString()),oe)oe(He).html(Me);else for(var ze=fe.a.ma(Me,He.ownerDocument),We=0;We<ze.length;We++)He.appendChild(ze[We])}}(),fe.b('utils.parseHtmlFragment',fe.a.ma),fe.b('utils.setHtml',fe.a.Cb),fe.M=function(){function Pe(Oe,Ae){if(Oe)if(8==Oe.nodeType){var Ie=fe.M.lc(Oe.nodeValue);null!=Ie&&Ae.push({Lc:Oe,cd:Ie})}else if(1==Oe.nodeType)for(var Ie=0,Le=Oe.childNodes,He=Le.length;Ie<He;Ie++)Pe(Le[Ie],Ae)}var Ee={};return{wb:function(Oe){if('function'!=typeof Oe)throw Error('You can only pass a function to ko.memoization.memoize()');var Ae=(0|4294967296*(1+Math.random())).toString(16).substring(1)+(0|4294967296*(1+Math.random())).toString(16).substring(1);return Ee[Ae]=Oe,'<!--[ko_memo:'+Ae+']-->'},xc:function(Oe,Ae){var Ie=Ee[Oe];if(Ie===ee)throw Error('Couldn\'t find any memo with ID '+Oe+'. Perhaps it\'s already been unmemoized.');try{return Ie.apply(null,Ae||[]),!0}finally{delete Ee[Oe]}},yc:function(Oe,Ae){var Ie=[];Pe(Oe,Ie);for(var Le=0,He=Ie.length;Le<He;Le++){var Me=Ie[Le].Lc,ze=[Me];Ae&&fe.a.ra(ze,Ae),fe.M.xc(Ie[Le].cd,ze),Me.nodeValue='',Me.parentNode&&Me.parentNode.removeChild(Me)}},lc:function(Oe){return(Oe=Oe.match(/^\[ko_memo\:(.*?)\]$/))?Oe[1]:null}}}(),fe.b('memoization',fe.M),fe.b('memoization.memoize',fe.M.wb),fe.b('memoization.unmemoize',fe.M.xc),fe.b('memoization.parseMemoText',fe.M.lc),fe.b('memoization.unmemoizeDomNodeAndDescendants',fe.M.yc),fe.Y=function(){function Pe(){if(Ae)for(var He=Ae,Me=0,ze;Le<Ae;)if(ze=Oe[Le++]){if(Le>He){if(5000<=++Me){Le=Ae,fe.a.$b(Error('\'Too much recursion\' after processing '+Me+' task groups.'));break}He=Ae}try{ze()}catch(We){fe.a.$b(We)}}}function Ee(){Pe(),Le=Ae=Oe.length=0}var Oe=[],Ae=0,Ie=1,Le=0;return{scheduler:te.MutationObserver?function(He){var Me=ae.createElement('div');return new MutationObserver(He).observe(Me,{attributes:!0}),function(){Me.classList.toggle('foo')}}(Ee):ae&&'onreadystatechange'in ae.createElement('script')?function(He){var Me=ae.createElement('script');Me.onreadystatechange=function(){Me.onreadystatechange=null,ae.documentElement.removeChild(Me),Me=null,He()},ae.documentElement.appendChild(Me)}:function(He){setTimeout(He,0)},Wa:function(He){return Ae||fe.Y.scheduler(Ee),Oe[Ae++]=He,Ie++},cancel:function(He){He-=Ie-Ae,He>=Le&&He<Ae&&(Oe[He]=null)},resetForTesting:function(){var He=Ae-Le;return Le=Ae=Oe.length=0,He},md:Pe}}(),fe.b('tasks',fe.Y),fe.b('tasks.schedule',fe.Y.Wa),fe.b('tasks.runEarly',fe.Y.md),fe.ya={throttle:function(Pe,Ee){Pe.throttleEvaluation=Ee;var Oe=null;return fe.B({read:Pe,write:function(Ae){clearTimeout(Oe),Oe=fe.a.setTimeout(function(){Pe(Ae)},Ee)}})},rateLimit:function(Pe,Ee){var Oe,Ae,Ie;'number'==typeof Ee?Oe=Ee:(Oe=Ee.timeout,Ae=Ee.method),Pe.cb=!1,Ie='notifyWhenChangesStop'==Ae?ce:de,Pe.Ta(function(Le){return Ie(Le,Oe)})},deferred:function(Pe,Ee){if(!0!==Ee)throw Error('The \'deferred\' extender only accepts the value \'true\', because it is not supported to turn deferral off once enabled.');Pe.cb||(Pe.cb=!0,Pe.Ta(function(Oe){var Ae;return function(){fe.Y.cancel(Ae),Ae=fe.Y.Wa(Oe),Pe.notifySubscribers(ee,'dirty')}}))},notify:function(Pe,Ee){Pe.equalityComparer='always'==Ee?null:le}};var ye={undefined:1,boolean:1,number:1,string:1};fe.b('extenders',fe.ya),fe.vc=function(Pe,Ee,Oe){this.ia=Pe,this.gb=Ee,this.Kc=Oe,this.R=!1,fe.G(this,'dispose',this.k)},fe.vc.prototype.k=function(){this.R=!0,this.Kc()},fe.J=function(){fe.a.Ya(this,_e),_e.rb(this)};var be='change',_e={rb:function(Pe){Pe.K={},Pe.Nb=1},X:function(Pe,Ee,Oe){var Ae=this;Oe=Oe||be;var Ie=new fe.vc(Ae,Ee?Pe.bind(Ee):Pe,function(){fe.a.La(Ae.K[Oe],Ie),Ae.Ia&&Ae.Ia(Oe)});return Ae.sa&&Ae.sa(Oe),Ae.K[Oe]||(Ae.K[Oe]=[]),Ae.K[Oe].push(Ie),Ie},notifySubscribers:function(Pe,Ee){if(Ee=Ee||be,Ee===be&&this.zc(),this.Pa(Ee))try{fe.l.Ub();for(var Oe=this.K[Ee].slice(0),Ae=0,Ie;Ie=Oe[Ae];++Ae)Ie.R||Ie.gb(Pe)}finally{fe.l.end()}},Na:function(){return this.Nb},Uc:function(Pe){return this.Na()!==Pe},zc:function(){++this.Nb},Ta:function(Pe){var Ee=this,Oe=fe.H(Ee),Ae,Ie,Le;Ee.Ha||(Ee.Ha=Ee.notifySubscribers,Ee.notifySubscribers=pe);var He=Pe(function(){Ee.Mb=!1,Oe&&Le===Ee&&(Le=Ee()),Ae=!1,Ee.tb(Ie,Le)&&Ee.Ha(Ie=Le)});Ee.Lb=function(Me){Ee.Mb=Ae=!0,Le=Me,He()},Ee.Kb=function(Me){Ae||(Ie=Me,Ee.Ha(Me,'beforeChange'))}},Pa:function(Pe){return this.K[Pe]&&this.K[Pe].length},Sc:function(Pe){if(Pe)return this.K[Pe]&&this.K[Pe].length||0;var Ee=0;return fe.a.D(this.K,function(Oe,Ae){'dirty'!==Oe&&(Ee+=Ae.length)}),Ee},tb:function(Pe,Ee){return!this.equalityComparer||!this.equalityComparer(Pe,Ee)},extend:function(Pe){var Ee=this;return Pe&&fe.a.D(Pe,function(Oe,Ae){var Ie=fe.ya[Oe];'function'==typeof Ie&&(Ee=Ie(Ee,Ae)||Ee)}),Ee}};fe.G(_e,'subscribe',_e.X),fe.G(_e,'extend',_e.extend),fe.G(_e,'getSubscriptionsCount',_e.Sc),fe.a.ka&&fe.a.Xa(_e,Function.prototype),fe.J.fn=_e,fe.hc=function(Pe){return null!=Pe&&'function'==typeof Pe.X&&'function'==typeof Pe.notifySubscribers},fe.b('subscribable',fe.J),fe.b('isSubscribable',fe.hc),fe.va=fe.l=function(){function Pe(Le){Oe.push(Ae),Ae=Le}function Ee(){Ae=Oe.pop()}var Oe=[],Ie=0,Ae;return{Ub:Pe,end:Ee,oc:function(Le){if(Ae){if(!fe.hc(Le))throw Error('Only subscribable things can act as dependencies');Ae.gb.call(Ae.Gc,Le,Le.Cc||(Le.Cc=++Ie))}},w:function(Le,He,Me){try{return Pe(),Le.apply(He,Me||[])}finally{Ee()}},Aa:function(){if(Ae)return Ae.m.Aa()},Sa:function(){if(Ae)return Ae.Sa}}}(),fe.b('computedContext',fe.va),fe.b('computedContext.getDependenciesCount',fe.va.Aa),fe.b('computedContext.isInitial',fe.va.Sa),fe.b('ignoreDependencies',fe.qd=fe.l.w);var ve=fe.a.Yb('_latestValue');fe.N=function(Pe){function Ee(){return 0<arguments.length?(Ee.tb(Ee[ve],arguments[0])&&(Ee.ga(),Ee[ve]=arguments[0],Ee.fa()),this):(fe.l.oc(Ee),Ee[ve])}return Ee[ve]=Pe,fe.a.ka||fe.a.extend(Ee,fe.J.fn),fe.J.fn.rb(Ee),fe.a.Ya(Ee,we),fe.options.deferUpdates&&fe.ya.deferred(Ee,!0),Ee};var we={equalityComparer:le,t:function(){return this[ve]},fa:function(){this.notifySubscribers(this[ve])},ga:function(){this.notifySubscribers(this[ve],'beforeChange')}};fe.a.ka&&fe.a.Xa(we,fe.J.fn);var xe=fe.N.gd='__ko_proto__';we[xe]=fe.N,fe.Oa=function(Pe,Ee){return null===Pe||Pe===ee||Pe[xe]===ee?!1:!(Pe[xe]!==Ee)||fe.Oa(Pe[xe],Ee)},fe.H=function(Pe){return fe.Oa(Pe,fe.N)},fe.Ba=function(Pe){return'function'==typeof Pe&&Pe[xe]===fe.N||'function'==typeof Pe&&Pe[xe]===fe.B&&Pe.Vc},fe.b('observable',fe.N),fe.b('isObservable',fe.H),fe.b('isWriteableObservable',fe.Ba),fe.b('isWritableObservable',fe.Ba),fe.b('observable.fn',we),fe.G(we,'peek',we.t),fe.G(we,'valueHasMutated',we.fa),fe.G(we,'valueWillMutate',we.ga),fe.la=function(Pe){if(Pe=Pe||[],'object'!=typeof Pe||!('length'in Pe))throw Error('The argument passed when initializing an observable array must be an array, or null, or undefined.');return Pe=fe.N(Pe),fe.a.Ya(Pe,fe.la.fn),Pe.extend({trackArrayChanges:!0})},fe.la.fn={remove:function(Pe){for(var Ee=this.t(),Oe=[],Ae='function'!=typeof Pe||fe.H(Pe)?function(He){return He===Pe}:Pe,Ie=0;Ie<Ee.length;Ie++){var Le=Ee[Ie];Ae(Le)&&(0===Oe.length&&this.ga(),Oe.push(Le),Ee.splice(Ie,1),Ie--)}return Oe.length&&this.fa(),Oe},removeAll:function(Pe){if(Pe===ee){var Ee=this.t(),Oe=Ee.slice(0);return this.ga(),Ee.splice(0,Ee.length),this.fa(),Oe}return Pe?this.remove(function(Ae){return 0<=fe.a.o(Pe,Ae)}):[]},destroy:function(Pe){var Ee=this.t(),Oe='function'!=typeof Pe||fe.H(Pe)?function(Ie){return Ie===Pe}:Pe;this.ga();for(var Ae=Ee.length-1;0<=Ae;Ae--)Oe(Ee[Ae])&&(Ee[Ae]._destroy=!0);this.fa()},destroyAll:function(Pe){return Pe===ee?this.destroy(function(){return!0}):Pe?this.destroy(function(Ee){return 0<=fe.a.o(Pe,Ee)}):[]},indexOf:function(Pe){var Ee=this();return fe.a.o(Ee,Pe)},replace:function(Pe,Ee){var Oe=this.indexOf(Pe);0<=Oe&&(this.ga(),this.t()[Oe]=Ee,this.fa())}},fe.a.ka&&fe.a.Xa(fe.la.fn,fe.N.fn),fe.a.q('pop push reverse shift sort splice unshift'.split(' '),function(Pe){fe.la.fn[Pe]=function(){var Ee=this.t();this.ga(),this.Vb(Ee,Pe,arguments);var Oe=Ee[Pe].apply(Ee,arguments);return this.fa(),Oe===Ee?this:Oe}}),fe.a.q(['slice'],function(Pe){fe.la.fn[Pe]=function(){var Ee=this();return Ee[Pe].apply(Ee,arguments)}}),fe.b('observableArray',fe.la),fe.ya.trackArrayChanges=function(Pe,Ee){function Oe(){if(!Ae){Ae=!0;var We=Pe.notifySubscribers;Pe.notifySubscribers=function(Ye,Fe){return Fe&&Fe!==be||++He,We.apply(this,arguments)};var Re=[].concat(Pe.t()||[]);Ie=null,Le=Pe.X(function(Ye){if(Ye=[].concat(Ye||[]),Pe.Pa('arrayChange')){var Fe;(!Ie||1<He)&&(Ie=fe.a.ib(Re,Ye,Pe.hb)),Fe=Ie}Re=Ye,Ie=null,He=0,Fe&&Fe.length&&Pe.notifySubscribers(Fe,'arrayChange')})}}if(Pe.hb={},Ee&&'object'==typeof Ee&&fe.a.extend(Pe.hb,Ee),Pe.hb.sparse=!0,!Pe.Vb){var Ae=!1,Ie=null,He=0,Me=Pe.sa,ze=Pe.Ia,Le;Pe.sa=function(We){Me&&Me.call(Pe,We),'arrayChange'===We&&Oe()},Pe.Ia=function(We){ze&&ze.call(Pe,We),'arrayChange'!==We||Pe.Pa('arrayChange')||(Le.k(),Ae=!1)},Pe.Vb=function(We,Re,Ye){function Fe(Je,Qe,Ze){return qe[qe.length]={status:Je,value:Qe,index:Ze}}if(Ae&&!He){var qe=[],Be=We.length,Ue=Ye.length,Ve=0;switch(Re){case'push':Ve=Be;case'unshift':for(Re=0;Re<Ue;Re++)Fe('added',Ye[Re],Ve+Re);break;case'pop':Ve=Be-1;case'shift':Be&&Fe('deleted',We[Ve],Ve);break;case'splice':Re=Math.min(Math.max(0,0>Ye[0]?Be+Ye[0]:Ye[0]),Be);for(var Be=1===Ue?Be:Math.min(Re+(Ye[1]||0),Be),Ue=Re+Ue-2,Ve=Math.max(Be,Ue),Ke=[],Ge=[],Xe=2;Re<Ve;++Re,++Xe)Re<Be&&Ge.push(Fe('deleted',We[Re],Re)),Re<Ue&&Ke.push(Fe('added',Ye[Xe],Re));fe.a.dc(Ge,Ke);break;default:return;}Ie=qe}}}};var ke=fe.a.Yb('_state');fe.m=fe.B=function(Pe,Ee,Oe){function Ae(){if(0<arguments.length){if('function'==typeof Ie)Ie.apply(Le.pb,arguments);else throw Error('Cannot write a value to a ko.computed unless you specify a \'write\' option. If you wish to read the current value, don\'t pass any parameters.');return this}return fe.l.oc(Ae),(Le.S||Le.s&&Ae.Qa())&&Ae.aa(),Le.T}if('object'==typeof Pe?Oe=Pe:(Oe=Oe||{},Pe&&(Oe.read=Pe)),'function'!=typeof Oe.read)throw Error('Pass a function that returns the value of the ko.computed');var Ie=Oe.write,Le={T:ee,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:Oe.read,pb:Ee||Oe.owner,i:Oe.disposeWhenNodeIsRemoved||Oe.i||null,wa:Oe.disposeWhen||Oe.wa,mb:null,r:{},L:0,bc:null};return Ae[ke]=Le,Ae.Vc='function'==typeof Ie,fe.a.ka||fe.a.extend(Ae,fe.J.fn),fe.J.fn.rb(Ae),fe.a.Ya(Ae,Ce),Oe.pure?(Le.Va=!0,Le.s=!0,fe.a.extend(Ae,Te)):Oe.deferEvaluation&&fe.a.extend(Ae,De),fe.options.deferUpdates&&fe.ya.deferred(Ae,!0),Le.i&&(Le.Fb=!0,Le.i.nodeType||(Le.i=null)),Le.s||Oe.deferEvaluation||Ae.aa(),Le.i&&Ae.ba()&&fe.a.F.oa(Le.i,Le.mb=function(){Ae.k()}),Ae};var Ce={equalityComparer:le,Aa:function(){return this[ke].L},Pb:function(Pe,Ee,Oe){if(this[ke].Va&&Ee===this)throw Error('A \'pure\' computed must not be called recursively');this[ke].r[Pe]=Oe,Oe.Ga=this[ke].L++,Oe.na=Ee.Na()},Qa:function(){var Oe=this[ke].r,Pe,Ee;for(Pe in Oe)if(Oe.hasOwnProperty(Pe)&&(Ee=Oe[Pe],Ee.ia.Uc(Ee.na)))return!0},bd:function(){this.Fa&&!this[ke].Ra&&this.Fa()},ba:function(){return this[ke].S||0<this[ke].L},ld:function(){this.Mb||this.ac()},uc:function(Pe){if(Pe.cb&&!this[ke].i){var Ee=Pe.X(this.bd,this,'dirty'),Oe=Pe.X(this.ld,this);return{ia:Pe,k:function(){Ee.k(),Oe.k()}}}return Pe.X(this.ac,this)},ac:function(){var Pe=this,Ee=Pe.throttleEvaluation;Ee&&0<=Ee?(clearTimeout(this[ke].bc),this[ke].bc=fe.a.setTimeout(function(){Pe.aa(!0)},Ee)):Pe.Fa?Pe.Fa():Pe.aa(!0)},aa:function(Pe){var Ee=this[ke],Oe=Ee.wa;if(!Ee.Ra&&!Ee.R){if(!(Ee.i&&!fe.a.nb(Ee.i)||Oe&&Oe()))Ee.Fb=!1;else if(!Ee.Fb)return void this.k();Ee.Ra=!0;try{this.Qc(Pe)}finally{Ee.Ra=!1}Ee.L||this.k()}},Qc:function(Pe){var Ee=this[ke],Oe=Ee.Va?ee:!Ee.L,Ae={Hc:this,Ma:Ee.r,lb:Ee.L};fe.l.Ub({Gc:Ae,gb:he,m:this,Sa:Oe}),Ee.r={},Ee.L=0,Ae=this.Pc(Ee,Ae),this.tb(Ee.T,Ae)&&(Ee.s||this.notifySubscribers(Ee.T,'beforeChange'),Ee.T=Ae,Ee.s?this.zc():Pe&&this.notifySubscribers(Ee.T)),Oe&&this.notifySubscribers(Ee.T,'awake')},Pc:function(Pe,Ee){try{var Oe=Pe.jd;return Pe.pb?Oe.call(Pe.pb):Oe()}finally{fe.l.end(),Ee.lb&&!Pe.s&&fe.a.D(Ee.Ma,ue),Pe.S=!1}},t:function(){var Pe=this[ke];return(Pe.S&&!Pe.L||Pe.s&&this.Qa())&&this.aa(),Pe.T},Ta:function(Pe){fe.J.fn.Ta.call(this,Pe),this.Fa=function(){this.Kb(this[ke].T),this[ke].S=!0,this.Lb(this)}},k:function(){var Pe=this[ke];!Pe.s&&Pe.r&&fe.a.D(Pe.r,function(Ee,Oe){Oe.k&&Oe.k()}),Pe.i&&Pe.mb&&fe.a.F.pc(Pe.i,Pe.mb),Pe.r=null,Pe.L=0,Pe.R=!0,Pe.S=!1,Pe.s=!1,Pe.i=null}},Te={sa:function(Pe){var Ee=this,Oe=Ee[ke];if(!Oe.R&&Oe.s&&'change'==Pe){if(Oe.s=!1,Oe.S||Ee.Qa())Oe.r=null,Oe.L=0,Oe.S=!0,Ee.aa();else{var Ae=[];fe.a.D(Oe.r,function(Ie,Le){Ae[Le.Ga]=Ie}),fe.a.q(Ae,function(Ie,Le){var He=Oe.r[Ie],Me=Ee.uc(He.ia);Me.Ga=Le,Me.na=He.na,Oe.r[Ie]=Me})}Oe.R||Ee.notifySubscribers(Oe.T,'awake')}},Ia:function(Pe){var Ee=this[ke];Ee.R||'change'!=Pe||this.Pa('change')||(fe.a.D(Ee.r,function(Oe,Ae){Ae.k&&(Ee.r[Oe]={ia:Ae.ia,Ga:Ae.Ga,na:Ae.na},Ae.k())}),Ee.s=!0,this.notifySubscribers(ee,'asleep'))},Na:function(){var Pe=this[ke];return Pe.s&&(Pe.S||this.Qa())&&this.aa(),fe.J.fn.Na.call(this)}},De={sa:function(Pe){'change'!=Pe&&'beforeChange'!=Pe||this.t()}};fe.a.ka&&fe.a.Xa(Ce,fe.J.fn);var Se=fe.N.gd;fe.m[Se]=fe.N,Ce[Se]=fe.m,fe.Xc=function(Pe){return fe.Oa(Pe,fe.m)},fe.Yc=function(Pe){return fe.Oa(Pe,fe.m)&&Pe[ke]&&Pe[ke].Va},fe.b('computed',fe.m),fe.b('dependentObservable',fe.m),fe.b('isComputed',fe.Xc),fe.b('isPureComputed',fe.Yc),fe.b('computed.fn',Ce),fe.G(Ce,'peek',Ce.t),fe.G(Ce,'dispose',Ce.k),fe.G(Ce,'isActive',Ce.ba),fe.G(Ce,'getDependenciesCount',Ce.Aa),fe.nc=function(Pe,Ee){return'function'==typeof Pe?fe.m(Pe,Ee,{pure:!0}):(Pe=fe.a.extend({},Pe),Pe.pure=!0,fe.m(Pe,Ee))},fe.b('pureComputed',fe.nc),function(){function Pe(Ae,Ie,Le){if(Le=Le||new Oe,Ae=Ie(Ae),'object'!=typeof Ae||null===Ae||Ae===ee||Ae instanceof RegExp||Ae instanceof Date||Ae instanceof String||Ae instanceof Number||Ae instanceof Boolean)return Ae;var He=Ae instanceof Array?[]:{};return Le.save(Ae,He),Ee(Ae,function(Me){var ze=Ie(Ae[Me]);switch(typeof ze){case'boolean':case'number':case'string':case'function':He[Me]=ze;break;case'object':case'undefined':var We=Le.get(ze);He[Me]=We===ee?Pe(ze,Ie,Le):We;}}),He}function Ee(Ae,Ie){if(Ae instanceof Array){for(var Le=0;Le<Ae.length;Le++)Ie(Le);'function'==typeof Ae.toJSON&&Ie('toJSON')}else for(Le in Ae)Ie(Le)}function Oe(){this.keys=[],this.Ib=[]}fe.wc=function(Ae){if(0==arguments.length)throw Error('When calling ko.toJS, pass the object you want to convert.');return Pe(Ae,function(Ie){for(var Le=0;fe.H(Ie)&&10>Le;Le++)Ie=Ie();return Ie})},fe.toJSON=function(Ae,Ie,Le){return Ae=fe.wc(Ae),fe.a.Eb(Ae,Ie,Le)},Oe.prototype={save:function(Ae,Ie){var Le=fe.a.o(this.keys,Ae);0<=Le?this.Ib[Le]=Ie:(this.keys.push(Ae),this.Ib.push(Ie))},get:function(Ae){return Ae=fe.a.o(this.keys,Ae),0<=Ae?this.Ib[Ae]:ee}}}(),fe.b('toJS',fe.wc),fe.b('toJSON',fe.toJSON),function(){fe.j={u:function(Pe){switch(fe.a.A(Pe)){case'option':return!0===Pe.__ko__hasDomDataOptionValue__?fe.a.e.get(Pe,fe.d.options.xb):7>=fe.a.C?Pe.getAttributeNode('value')&&Pe.getAttributeNode('value').specified?Pe.value:Pe.text:Pe.value;case'select':return 0<=Pe.selectedIndex?fe.j.u(Pe.options[Pe.selectedIndex]):ee;default:return Pe.value;}},ha:function(Pe,Ee,Oe){switch(fe.a.A(Pe)){case'option':switch(typeof Ee){case'string':fe.a.e.set(Pe,fe.d.options.xb,ee),'__ko__hasDomDataOptionValue__'in Pe&&delete Pe.__ko__hasDomDataOptionValue__,Pe.value=Ee;break;default:fe.a.e.set(Pe,fe.d.options.xb,Ee),Pe.__ko__hasDomDataOptionValue__=!0,Pe.value='number'==typeof Ee?Ee:'';}break;case'select':(''===Ee||null===Ee)&&(Ee=ee);for(var Ae=-1,Ie=0,Le=Pe.options.length,He;Ie<Le;++Ie)if(He=fe.j.u(Pe.options[Ie]),He==Ee||''==He&&Ee===ee){Ae=Ie;break}(Oe||0<=Ae||Ee===ee&&1<Pe.size)&&(Pe.selectedIndex=Ae);break;default:(null===Ee||Ee===ee)&&(Ee=''),Pe.value=Ee;}}}}(),fe.b('selectExtensions',fe.j),fe.b('selectExtensions.readValue',fe.j.u),fe.b('selectExtensions.writeValue',fe.j.ha),fe.h=function(){function Pe(Me){Me=fe.a.$a(Me),123===Me.charCodeAt(0)&&(Me=Me.slice(1,-1));var ze=[],We=Me.match(Ae),Ye=[],Fe=0,Re;if(We){We.push(',');for(var qe=0,Be;Be=We[qe];++qe){var Ue=Be.charCodeAt(0);if(44===Ue){if(0>=Fe){ze.push(Re&&Ye.length?{key:Re,value:Ye.join('')}:{unknown:Re||Ye.join('')}),Re=Fe=0,Ye=[];continue}}else if(!(58===Ue))47===Ue&&qe&&1<Be.length?(Ue=We[qe-1].match(Ie))&&!Le[Ue[0]]&&(Me=Me.substr(Me.indexOf(Be)+1),We=Me.match(Ae),We.push(','),qe=-1,Be='/'):40===Ue||123===Ue||91===Ue?++Fe:41===Ue||125===Ue||93===Ue?--Fe:Re||Ye.length||34!=Ue&&39!=Ue||(Be=Be.slice(1,-1));else if(!Fe&&!Re&&1===Ye.length){Re=Ye.pop();continue}Ye.push(Be)}}return ze}var Ee=['true','false','null','undefined'],Oe=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,Ae=RegExp('"(?:[^"\\\\]|\\\\.)*"|\'(?:[^\'\\\\]|\\\\.)*\'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,"\'{}()/:[\\]]*[^\\s,"\'{}()/:[\\]]|[^\\s]','g'),Ie=/[\])"'A-Za-z0-9_$]+$/,Le={'in':1,'return':1,'typeof':1},He={};return{ta:[],ea:He,yb:Pe,Ua:function(Me,ze){function We(Ue,Ve){var Ke;if(!qe){var Ge=fe.getBindingHandler(Ue);if(Ge&&Ge.preprocess&&!(Ve=Ge.preprocess(Ve,Ue,We)))return;(Ge=He[Ue])&&(Ke=Ve,0<=fe.a.o(Ee,Ke)?Ke=!1:(Ge=Ke.match(Oe),Ke=null!==Ge&&(Ge[1]?'Object('+Ge[1]+')'+Ge[2]:Ke)),Ge=Ke),Ge&&Ye.push('\''+Ue+'\':function(_z){'+Ke+'=_z}')}Fe&&(Ve='function(){return '+Ve+' }'),Re.push('\''+Ue+'\':'+Ve)}ze=ze||{};var Re=[],Ye=[],Fe=ze.valueAccessors,qe=ze.bindingParams,Be='string'==typeof Me?Pe(Me):Me;return fe.a.q(Be,function(Ue){We(Ue.key||Ue.unknown,Ue.value)}),Ye.length&&We('_ko_property_writers','{'+Ye.join(',')+' }'),Re.join(',')},ad:function(Me,ze){for(var We=0;We<Me.length;We++)if(Me[We].key==ze)return!0;return!1},Ea:function(Me,ze,We,Re,Ye){Me&&fe.H(Me)?!fe.Ba(Me)||Ye&&Me.t()===Re||Me(Re):(Me=ze.get('_ko_property_writers'))&&Me[We]&&Me[We](Re)}}}(),fe.b('expressionRewriting',fe.h),fe.b('expressionRewriting.bindingRewriteValidators',fe.h.ta),fe.b('expressionRewriting.parseObjectLiteral',fe.h.yb),fe.b('expressionRewriting.preProcessBindings',fe.h.Ua),fe.b('expressionRewriting._twoWayBindings',fe.h.ea),fe.b('jsonExpressionRewriting',fe.h),fe.b('jsonExpressionRewriting.insertPropertyAccessorsIntoJson',fe.h.Ua),function(){function Pe(ze){return 8==ze.nodeType&&Le.test(Ie?ze.text:ze.nodeValue)}function Ee(ze){return 8==ze.nodeType&&He.test(Ie?ze.text:ze.nodeValue)}function Oe(ze,We){for(var Re=ze,Ye=1,Fe=[];Re=Re.nextSibling;){if(Ee(Re)&&(Ye--,0==Ye))return Fe;Fe.push(Re),Pe(Re)&&Ye++}if(!We)throw Error('Cannot find closing comment tag to match: '+ze.nodeValue);return null}function Ae(ze,We){var Re=Oe(ze,We);return Re?0<Re.length?Re[Re.length-1].nextSibling:ze.nextSibling:null}var Ie=ae&&'<!--test-->'===ae.createComment('test').text,Le=Ie?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,He=Ie?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,Me={ul:!0,ol:!0};fe.f={Z:{},childNodes:function(ze){return Pe(ze)?Oe(ze):ze.childNodes},xa:function(ze){if(Pe(ze)){ze=fe.f.childNodes(ze);for(var We=0,Re=ze.length;We<Re;We++)fe.removeNode(ze[We])}else fe.a.ob(ze)},da:function(ze,We){if(Pe(ze)){fe.f.xa(ze);for(var Re=ze.nextSibling,Ye=0,Fe=We.length;Ye<Fe;Ye++)Re.parentNode.insertBefore(We[Ye],Re)}else fe.a.da(ze,We)},mc:function(ze,We){Pe(ze)?ze.parentNode.insertBefore(We,ze.nextSibling):ze.firstChild?ze.insertBefore(We,ze.firstChild):ze.appendChild(We)},gc:function(ze,We,Re){Re?Pe(ze)?ze.parentNode.insertBefore(We,Re.nextSibling):Re.nextSibling?ze.insertBefore(We,Re.nextSibling):ze.appendChild(We):fe.f.mc(ze,We)},firstChild:function(ze){return Pe(ze)?!ze.nextSibling||Ee(ze.nextSibling)?null:ze.nextSibling:ze.firstChild},nextSibling:function(ze){return Pe(ze)&&(ze=Ae(ze)),ze.nextSibling&&Ee(ze.nextSibling)?null:ze.nextSibling},Tc:Pe,pd:function(ze){return(ze=(Ie?ze.text:ze.nodeValue).match(Le))?ze[1]:null},kc:function(ze){if(Me[fe.a.A(ze)]){var We=ze.firstChild;if(We)do if(1===We.nodeType){var Re=We.firstChild,Ye=null;if(Re)do if(Ye)Ye.push(Re);else if(Pe(Re)){var Fe=Ae(Re,!0);Fe?Re=Fe:Ye=[Re]}else Ee(Re)&&(Ye=[Re]);while(Re=Re.nextSibling);if(Re=Ye)for(Ye=We.nextSibling,Fe=0;Fe<Re.length;Fe++)Ye?ze.insertBefore(Re[Fe],Ye):ze.appendChild(Re[Fe])}while(We=We.nextSibling)}}}}(),fe.b('virtualElements',fe.f),fe.b('virtualElements.allowedBindings',fe.f.Z),fe.b('virtualElements.emptyNode',fe.f.xa),fe.b('virtualElements.insertAfter',fe.f.gc),fe.b('virtualElements.prepend',fe.f.mc),fe.b('virtualElements.setDomNodeChildren',fe.f.da),function(){fe.Q=function(){this.Fc={}},fe.a.extend(fe.Q.prototype,{nodeHasBindings:function(Pe){switch(Pe.nodeType){case 1:return null!=Pe.getAttribute('data-bind')||fe.g.getComponentNameForNode(Pe);case 8:return fe.f.Tc(Pe);default:return!1;}},getBindings:function(Pe,Ee){var Oe=this.getBindingsString(Pe,Ee),Oe=Oe?this.parseBindingsString(Oe,Ee,Pe):null;return fe.g.Ob(Oe,Pe,Ee,!1)},getBindingAccessors:function(Pe,Ee){var Oe=this.getBindingsString(Pe,Ee),Oe=Oe?this.parseBindingsString(Oe,Ee,Pe,{valueAccessors:!0}):null;return fe.g.Ob(Oe,Pe,Ee,!0)},getBindingsString:function(Pe){switch(Pe.nodeType){case 1:return Pe.getAttribute('data-bind');case 8:return fe.f.pd(Pe);default:return null;}},parseBindingsString:function(Pe,Ee,Oe,Ae){try{var Ie=this.Fc,Le=Pe+(Ae&&Ae.valueAccessors||''),He;if(!(He=Ie[Le])){var ze='with($context){with($data||{}){return{'+fe.h.Ua(Pe,Ae)+'}}}',Me;Me=new Function('$context','$element',ze),He=Ie[Le]=Me}return He(Ee,Oe)}catch(We){throw We.message='Unable to parse bindings.\nBindings value: '+Pe+'\nMessage: '+We.message,We}}}),fe.Q.instance=new fe.Q}(),fe.b('bindingProvider',fe.Q),function(){function Pe(qe){return function(){return qe}}function Ee(qe){return qe()}function Oe(qe){return fe.a.Ca(fe.l.w(qe),function(Be,Ue){return function(){return qe()[Ue]}})}function Ae(qe,Be,Ue){return'function'==typeof qe?Oe(qe.bind(null,Be,Ue)):fe.a.Ca(qe,Pe)}function Ie(qe,Be){return Oe(this.getBindings.bind(this,qe,Be))}function Le(qe,Be,Ue){var Ke=fe.f.firstChild(Be),Ge=fe.Q.instance,Xe=Ge.preprocessNode,Ve;if(Xe){for(;Ve=Ke;)Ke=fe.f.nextSibling(Ve),Xe.call(Ge,Ve);Ke=fe.f.firstChild(Be)}for(;Ve=Ke;)Ke=fe.f.nextSibling(Ve),He(qe,Ve,Ue)}function He(qe,Be,Ue){var Ve=!0,Ke=1===Be.nodeType;Ke&&fe.f.kc(Be),(Ke&&Ue||fe.Q.instance.nodeHasBindings(Be))&&(Ve=ze(Be,null,qe,Ue).shouldBindDescendants),Ve&&!Re[fe.a.A(Be)]&&Le(qe,Be,!Ke)}function Me(qe){var Be=[],Ue={},Ve=[];return fe.a.D(qe,function Ke(Ge){if(!Ue[Ge]){var Xe=fe.getBindingHandler(Ge);Xe&&(Xe.after&&(Ve.push(Ge),fe.a.q(Xe.after,function(Je){if(qe[Je]){if(-1!==fe.a.o(Ve,Je))throw Error('Cannot combine the following bindings, because they have a cyclic dependency: '+Ve.join(', '));Ke(Je)}}),Ve.length--),Be.push({key:Ge,fc:Xe})),Ue[Ge]=!0}}),Be}function ze(qe,Be,Ue,Ve){var Ke=fe.a.e.get(qe,Ye);if(!Be){if(Ke)throw Error('You cannot apply bindings multiple times to the same element.');fe.a.e.set(qe,Ye,!0)}!Ke&&Ve&&fe.tc(qe,Ue);var Ge;if(Be&&'function'!=typeof Be)Ge=Be;else{var Xe=fe.Q.instance,Je=Xe.getBindingAccessors||Ie,Qe=fe.B(function(){return(Ge=Be?Be(Ue,qe):Je.call(Xe,qe,Ue))&&Ue.P&&Ue.P(),Ge},null,{i:qe});Ge&&Qe.ba()||(Qe=null)}var Ze;if(Ge){var et=Qe?function(at){return function(){return Ee(Qe()[at])}}:function(at){return Ge[at]},tt=function(){return fe.a.Ca(Qe?Qe():Ge,Ee)};tt.get=function(at){return Ge[at]&&Ee(et(at))},tt.has=function(at){return at in Ge},Ve=Me(Ge),fe.a.q(Ve,function(at){var nt=at.fc.init,ot=at.fc.update,it=at.key;if(8===qe.nodeType&&!fe.f.Z[it])throw Error('The binding \''+it+'\' cannot be used with virtual elements');try{'function'==typeof nt&&fe.l.w(function(){var st=nt(qe,et(it),tt,Ue.$data,Ue);if(st&&st.controlsDescendantBindings){if(Ze!==ee)throw Error('Multiple bindings ('+Ze+' and '+it+') are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.');Ze=it}}),'function'==typeof ot&&fe.B(function(){ot(qe,et(it),tt,Ue.$data,Ue)},null,{i:qe})}catch(st){throw st.message='Unable to process binding "'+it+': '+Ge[it]+'"\nMessage: '+st.message,st}})}return{shouldBindDescendants:Ze===ee}}function We(qe){return qe&&qe instanceof fe.U?qe:new fe.U(qe)}fe.d={};var Re={script:!0,textarea:!0,template:!0};fe.getBindingHandler=function(qe){return fe.d[qe]},fe.U=function(qe,Be,Ue,Ve){var Ke=this,Ge='function'==typeof qe&&!fe.H(qe),Je=fe.B(function(){var Qe=Ge?qe():qe,Ze=fe.a.c(Qe);return Be?(Be.P&&Be.P(),fe.a.extend(Ke,Be),Je&&(Ke.P=Je)):(Ke.$parents=[],Ke.$root=Ze,Ke.ko=fe),Ke.$rawData=Qe,Ke.$data=Ze,Ue&&(Ke[Ue]=Ze),Ve&&Ve(Ke,Be,Ze),Ke.$data},null,{wa:function(){return Xe&&!fe.a.Qb(Xe)},i:!0}),Xe;Je.ba()&&(Ke.P=Je,Je.equalityComparer=null,Xe=[],Je.Ac=function(Qe){Xe.push(Qe),fe.a.F.oa(Qe,function(Ze){fe.a.La(Xe,Ze),Xe.length||(Je.k(),Ke.P=Je=ee)})})},fe.U.prototype.createChildContext=function(qe,Be,Ue){return new fe.U(qe,this,Be,function(Ve,Ke){Ve.$parentContext=Ke,Ve.$parent=Ke.$data,Ve.$parents=(Ke.$parents||[]).slice(0),Ve.$parents.unshift(Ve.$parent),Ue&&Ue(Ve)})},fe.U.prototype.extend=function(qe){return new fe.U(this.P||this.$data,this,null,function(Be,Ue){Be.$rawData=Ue.$rawData,fe.a.extend(Be,'function'==typeof qe?qe():qe)})};var Ye=fe.a.e.I(),Fe=fe.a.e.I();fe.tc=function(qe,Be){return 2==arguments.length?void(fe.a.e.set(qe,Fe,Be),Be.P&&Be.P.Ac(qe)):fe.a.e.get(qe,Fe)},fe.Ja=function(qe,Be,Ue){return 1===qe.nodeType&&fe.f.kc(qe),ze(qe,Be,We(Ue),!0)},fe.Dc=function(qe,Be,Ue){return Ue=We(Ue),fe.Ja(qe,Ae(Be,Ue,qe),Ue)},fe.eb=function(qe,Be){1!==Be.nodeType&&8!==Be.nodeType||Le(We(qe),Be,!0)},fe.Rb=function(qe,Be){if(!oe&&te.jQuery&&(oe=te.jQuery),Be&&1!==Be.nodeType&&8!==Be.nodeType)throw Error('ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node');Be=Be||te.document.body,He(We(qe),Be,!0)},fe.kb=function(qe){switch(qe.nodeType){case 1:case 8:var Be=fe.tc(qe);if(Be)return Be;if(qe.parentNode)return fe.kb(qe.parentNode);}return ee},fe.Jc=function(qe){return(qe=fe.kb(qe))?qe.$data:ee},fe.b('bindingHandlers',fe.d),fe.b('applyBindings',fe.Rb),fe.b('applyBindingsToDescendants',fe.eb),fe.b('applyBindingAccessorsToNode',fe.Ja),fe.b('applyBindingsToNode',fe.Dc),fe.b('contextFor',fe.kb),fe.b('dataFor',fe.Jc)}(),function(Pe){function Ee(He,Me){var ze=Ie.hasOwnProperty(He)?Ie[He]:Pe,We;ze?ze.X(Me):(ze=Ie[He]=new fe.J,ze.X(Me),Oe(He,function(Re,Ye){var Fe=Ye&&Ye.synchronous;Le[He]={definition:Re,Zc:Fe},delete Ie[He],We||Fe?ze.notifySubscribers(Re):fe.Y.Wa(function(){ze.notifySubscribers(Re)})}),We=!0)}function Oe(He,Me){Ae('getConfig',[He],function(ze){ze?Ae('loadComponent',[He,ze],function(We){Me(We,ze)}):Me(null,null)})}function Ae(He,Me,ze,We){We||(We=fe.g.loaders.slice(0));var Re=We.shift();if(Re){var Ye=Re[He];if(Ye){var Fe=!1;if(Ye.apply(Re,Me.concat(function(qe){Fe?ze(null):null===qe?Ae(He,Me,ze,We):ze(qe)}))!==Pe&&(Fe=!0,!Re.suppressLoaderExceptions))throw Error('Component loaders must supply values by invoking the callback, not by returning values synchronously.')}else Ae(He,Me,ze,We)}else ze(null)}var Ie={},Le={};fe.g={get:function(He,Me){var ze=Le.hasOwnProperty(He)?Le[He]:Pe;ze?ze.Zc?fe.l.w(function(){Me(ze.definition)}):fe.Y.Wa(function(){Me(ze.definition)}):Ee(He,Me)},Xb:function(He){delete Le[He]},Jb:Ae},fe.g.loaders=[],fe.b('components',fe.g),fe.b('components.get',fe.g.get),fe.b('components.clearCachedDefinition',fe.g.Xb)}(),function(){function Pe(ze,We,Re,Ye){function Fe(){0==--Be&&Ye(qe)}var qe={},Be=2,Ue=Re.template;Re=Re.viewModel,Ue?Ie(We,Ue,function(Ve){fe.g.Jb('loadTemplate',[ze,Ve],function(Ke){qe.template=Ke,Fe()})}):Fe(),Re?Ie(We,Re,function(Ve){fe.g.Jb('loadViewModel',[ze,Ve],function(Ke){qe[Me]=Ke,Fe()})}):Fe()}function Ee(ze,We,Re){if('function'==typeof We)Re(function(Fe){return new We(Fe)});else if('function'==typeof We[Me])Re(We[Me]);else if('instance'in We){var Ye=We.instance;Re(function(){return Ye})}else'viewModel'in We?Ee(ze,We.viewModel,Re):ze('Unknown viewModel value: '+We)}function Oe(ze){switch(fe.a.A(ze)){case'script':return fe.a.ma(ze.text);case'textarea':return fe.a.ma(ze.value);case'template':if(Ae(ze.content))return fe.a.ua(ze.content.childNodes);}return fe.a.ua(ze.childNodes)}function Ae(ze){return te.DocumentFragment?ze instanceof DocumentFragment:ze&&11===ze.nodeType}function Ie(ze,We,Re){'string'==typeof We.require?re||te.require?(re||te.require)([We.require],Re):ze('Uses require, but no AMD loader is present'):Re(We)}function Le(ze){return function(We){throw Error('Component \''+ze+'\': '+We)}}var He={};fe.g.register=function(ze,We){if(!We)throw Error('Invalid configuration for '+ze);if(fe.g.ub(ze))throw Error('Component '+ze+' is already registered');He[ze]=We},fe.g.ub=function(ze){return He.hasOwnProperty(ze)},fe.g.od=function(ze){delete He[ze],fe.g.Xb(ze)},fe.g.Zb={getConfig:function(ze,We){We(He.hasOwnProperty(ze)?He[ze]:null)},loadComponent:function(ze,We,Re){var Ye=Le(ze);Ie(Ye,We,function(Fe){Pe(ze,Ye,Fe,Re)})},loadTemplate:function(ze,We,Re){if(ze=Le(ze),'string'==typeof We)Re(fe.a.ma(We));else if(We instanceof Array)Re(We);else if(Ae(We))Re(fe.a.V(We.childNodes));else if(!We.element)ze('Unknown template value: '+We);else if(We=We.element,te.HTMLElement?We instanceof HTMLElement:We&&We.tagName&&1===We.nodeType)Re(Oe(We));else if('string'==typeof We){var Ye=ae.getElementById(We);Ye?Re(Oe(Ye)):ze('Cannot find element with ID '+We)}else ze('Unknown element type: '+We)},loadViewModel:function(ze,We,Re){Ee(Le(ze),We,Re)}};var Me='createViewModel';fe.b('components.register',fe.g.register),fe.b('components.isRegistered',fe.g.ub),fe.b('components.unregister',fe.g.od),fe.b('components.defaultLoader',fe.g.Zb),fe.g.loaders.push(fe.g.Zb),fe.g.Bc=He}(),function(){function Pe(Oe,Ae){var Ie=Oe.getAttribute('params');if(Ie){var Ie=Ee.parseBindingsString(Ie,Ae,Oe,{valueAccessors:!0,bindingParams:!0}),Ie=fe.a.Ca(Ie,function(He){return fe.m(He,null,{i:Oe})}),Le=fe.a.Ca(Ie,function(He){var Me=He.t();return He.ba()?fe.m({read:function(){return fe.a.c(He())},write:fe.Ba(Me)&&function(ze){He()(ze)},i:Oe}):Me});return Le.hasOwnProperty('$raw')||(Le.$raw=Ie),Le}return{$raw:{}}}fe.g.getComponentNameForNode=function(Oe){var Ae=fe.a.A(Oe);if(fe.g.ub(Ae)&&(-1!=Ae.indexOf('-')||'[object HTMLUnknownElement]'+Oe||8>=fe.a.C&&Oe.tagName===Ae))return Ae},fe.g.Ob=function(Oe,Ae,Ie,Le){if(1===Ae.nodeType){var He=fe.g.getComponentNameForNode(Ae);if(He){if(Oe=Oe||{},Oe.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var Me={name:He,params:Pe(Ae,Ie)};Oe.component=Le?function(){return Me}:Me}}return Oe};var Ee=new fe.Q;9>fe.a.C&&(fe.g.register=function(Oe){return function(Ae){return ae.createElement(Ae),Oe.apply(this,arguments)}}(fe.g.register),ae.createDocumentFragment=function(Oe){return function(){var Ae=Oe(),Ie=fe.g.Bc,Le;for(Le in Ie)Ie.hasOwnProperty(Le)&&Ae.createElement(Le);return Ae}}(ae.createDocumentFragment))}(),function(Pe){function Ee(Ie,Le,He){if(Le=Le.template,!Le)throw Error('Component \''+Ie+'\' has no template');Ie=fe.a.ua(Le),fe.f.da(He,Ie)}function Oe(Ie,Le,He,Me){var ze=Ie.createViewModel;return ze?ze.call(Ie,Me,{element:Le,templateNodes:He}):Me}var Ae=0;fe.d.component={init:function(Ie,Le,He,Me,ze){function We(){var qe=Re&&Re.dispose;'function'==typeof qe&&qe.call(Re),Ye=Re=null}var Fe=fe.a.V(fe.f.childNodes(Ie)),Re,Ye;return fe.a.F.oa(Ie,We),fe.m(function(){var qe=fe.a.c(Le()),Be,Ue;if('string'==typeof qe?Be=qe:(Be=fe.a.c(qe.name),Ue=fe.a.c(qe.params)),!Be)throw Error('No component name specified');var Ve=Ye=++Ae;fe.g.get(Be,function(Ke){if(Ye===Ve){if(We(),!Ke)throw Error('Unknown component \''+Be+'\'');Ee(Be,Ke,Ie);var Ge=Oe(Ke,Ie,Fe,Ue);Ke=ze.createChildContext(Ge,Pe,function(Xe){Xe.$component=Ge,Xe.$componentTemplateNodes=Fe}),Re=Ge,fe.eb(Ke,Ie)}})},null,{i:Ie}),{controlsDescendantBindings:!0}}},fe.f.Z.component=!0}();var je={'class':'className','for':'htmlFor'};fe.d.attr={update:function(Pe,Ee){var Oe=fe.a.c(Ee())||{};fe.a.D(Oe,function(Ae,Ie){Ie=fe.a.c(Ie);var Le=!1===Ie||null===Ie||Ie===ee;Le&&Pe.removeAttribute(Ae),8>=fe.a.C&&Ae in je?(Ae=je[Ae],Le?Pe.removeAttribute(Ae):Pe[Ae]=Ie):Le||Pe.setAttribute(Ae,Ie.toString()),'name'===Ae&&fe.a.rc(Pe,Le?'':Ie.toString())})}},function(){fe.d.checked={after:['value','attr'],init:function(Pe,Ee,Oe){function Ae(){var qe=Pe.checked,Be=Fe?Le():qe;if(!fe.va.Sa()&&(!Me||qe)){var Ue=fe.l.w(Ee);if(We){var Ve=Re?Ue.t():Ue;Ye===Be?fe.a.pa(Ve,Be,qe):(qe&&(fe.a.pa(Ve,Be,!0),fe.a.pa(Ve,Ye,!1)),Ye=Be),Re&&fe.Ba(Ue)&&Ue(Ve)}else fe.h.Ea(Ue,Oe,'checked',Be,!0)}}function Ie(){var qe=fe.a.c(Ee());Pe.checked=We?0<=fe.a.o(qe,Le()):He?qe:Le()===qe}var Le=fe.nc(function(){return Oe.has('checkedValue')?fe.a.c(Oe.get('checkedValue')):Oe.has('value')?fe.a.c(Oe.get('value')):Pe.value}),He='checkbox'==Pe.type,Me='radio'==Pe.type;if(He||Me){var ze=Ee(),We=He&&fe.a.c(ze)instanceof Array,Re=!(We&&ze.push&&ze.splice),Ye=We?Le():ee,Fe=Me||We;Me&&!Pe.name&&fe.d.uniqueName.init(Pe,function(){return!0}),fe.m(Ae,null,{i:Pe}),fe.a.p(Pe,'click',Ae),fe.m(Ie,null,{i:Pe}),ze=ee}}},fe.h.ea.checked=!0,fe.d.checkedValue={update:function(Pe,Ee){Pe.value=fe.a.c(Ee())}}}(),fe.d.css={update:function(Pe,Ee){var Oe=fe.a.c(Ee());null!==Oe&&'object'==typeof Oe?fe.a.D(Oe,function(Ae,Ie){Ie=fe.a.c(Ie),fe.a.bb(Pe,Ae,Ie)}):(Oe=fe.a.$a((Oe||'')+''),fe.a.bb(Pe,Pe.__ko__cssValue,!1),Pe.__ko__cssValue=Oe,fe.a.bb(Pe,Oe,!0))}},fe.d.enable={update:function(Pe,Ee){var Oe=fe.a.c(Ee());Oe&&Pe.disabled?Pe.removeAttribute('disabled'):Oe||Pe.disabled||(Pe.disabled=!0)}},fe.d.disable={update:function(Pe,Ee){fe.d.enable.update(Pe,function(){return!fe.a.c(Ee())})}},fe.d.event={init:function(Pe,Ee,Oe,Ae,Ie){var Le=Ee()||{};fe.a.D(Le,function(He){'string'==typeof He&&fe.a.p(Pe,He,function(Me){var We=Ee()[He],ze;if(We){try{var Re=fe.a.V(arguments);Ae=Ie.$data,Re.unshift(Ae),ze=We.apply(Ae,Re)}finally{!0!==ze&&(Me.preventDefault?Me.preventDefault():Me.returnValue=!1)}!1===Oe.get(He+'Bubble')&&(Me.cancelBubble=!0,Me.stopPropagation&&Me.stopPropagation())}})})}},fe.d.foreach={ic:function(Pe){return function(){var Ee=Pe(),Oe=fe.a.zb(Ee);return Oe&&'number'!=typeof Oe.length?(fe.a.c(Ee),{foreach:Oe.data,as:Oe.as,includeDestroyed:Oe.includeDestroyed,afterAdd:Oe.afterAdd,beforeRemove:Oe.beforeRemove,afterRender:Oe.afterRender,beforeMove:Oe.beforeMove,afterMove:Oe.afterMove,templateEngine:fe.W.sb}):{foreach:Ee,templateEngine:fe.W.sb}}},init:function(Pe,Ee){return fe.d.template.init(Pe,fe.d.foreach.ic(Ee))},update:function(Pe,Ee,Oe,Ae,Ie){return fe.d.template.update(Pe,fe.d.foreach.ic(Ee),Oe,Ae,Ie)}},fe.h.ta.foreach=!1,fe.f.Z.foreach=!0,fe.d.hasfocus={init:function(Pe,Ee,Oe){function Ae(He){Pe.__ko_hasfocusUpdating=!0;var Me=Pe.ownerDocument;if('activeElement'in Me){var ze;try{ze=Me.activeElement}catch(We){ze=Me.body}He=ze===Pe}Me=Ee(),fe.h.Ea(Me,Oe,'hasfocus',He,!0),Pe.__ko_hasfocusLastValue=He,Pe.__ko_hasfocusUpdating=!1}var Ie=Ae.bind(null,!0),Le=Ae.bind(null,!1);fe.a.p(Pe,'focus',Ie),fe.a.p(Pe,'focusin',Ie),fe.a.p(Pe,'blur',Le),fe.a.p(Pe,'focusout',Le)},update:function(Pe,Ee){var Oe=!!fe.a.c(Ee());Pe.__ko_hasfocusUpdating||Pe.__ko_hasfocusLastValue===Oe||(Oe?Pe.focus():Pe.blur(),!Oe&&Pe.__ko_hasfocusLastValue&&Pe.ownerDocument.body.focus(),fe.l.w(fe.a.Da,null,[Pe,Oe?'focusin':'focusout']))}},fe.h.ea.hasfocus=!0,fe.d.hasFocus=fe.d.hasfocus,fe.h.ea.hasFocus=!0,fe.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(Pe,Ee){fe.a.Cb(Pe,Ee())}},ge('if'),ge('ifnot',!1,!0),ge('with',!0,!1,function(Pe,Ee){return Pe.createChildContext(Ee)});var Ne={};fe.d.options={init:function(Pe){if('select'!==fe.a.A(Pe))throw Error('options binding applies only to SELECT elements');for(;0<Pe.length;)Pe.remove(0);return{controlsDescendantBindings:!0}},update:function(Pe,Ee,Oe){function Ae(){return fe.a.Ka(Pe.options,function(Be){return Be.selected})}function Ie(Be,Ue,Ve){var Ke=typeof Ue;return'function'==Ke?Ue(Be):'string'==Ke?Be[Ue]:Ve}function Le(Be,Ue){if(qe&&We)fe.j.ha(Pe,fe.a.c(Oe.get('value')),!0);else if(Fe.length){var Ve=0<=fe.a.o(Fe,fe.j.u(Ue[0]));fe.a.sc(Ue[0],Ve),qe&&!Ve&&fe.l.w(fe.a.Da,null,[Pe,'change'])}}var He=Pe.multiple,Me=0!=Pe.length&&He?Pe.scrollTop:null,ze=fe.a.c(Ee()),We=Oe.get('valueAllowUnset')&&Oe.has('value'),Re=Oe.get('optionsIncludeDestroyed');Ee={};var Fe=[],Ye;We||(He?Fe=fe.a.fb(Ae(),fe.j.u):0<=Pe.selectedIndex&&Fe.push(fe.j.u(Pe.options[Pe.selectedIndex]))),ze&&('undefined'==typeof ze.length&&(ze=[ze]),Ye=fe.a.Ka(ze,function(Be){return Re||Be===ee||null===Be||!fe.a.c(Be._destroy)}),Oe.has('optionsCaption')&&(ze=fe.a.c(Oe.get('optionsCaption')),null!==ze&&ze!==ee&&Ye.unshift(Ne)));var qe=!1;Ee.beforeRemove=function(Be){Pe.removeChild(Be)},ze=Le,Oe.has('optionsAfterRender')&&'function'==typeof Oe.get('optionsAfterRender')&&(ze=function(Be,Ue){Le(0,Ue),fe.l.w(Oe.get('optionsAfterRender'),null,[Ue[0],Be===Ne?ee:Be])}),fe.a.Bb(Pe,Ye,function(Be,Ue,Ve){return Ve.length&&(Fe=!We&&Ve[0].selected?[fe.j.u(Ve[0])]:[],qe=!0),Ue=Pe.ownerDocument.createElement('option'),Be===Ne?(fe.a.Za(Ue,Oe.get('optionsCaption')),fe.j.ha(Ue,ee)):(Ve=Ie(Be,Oe.get('optionsValue'),Be),fe.j.ha(Ue,fe.a.c(Ve)),Be=Ie(Be,Oe.get('optionsText'),Ve),fe.a.Za(Ue,Be)),[Ue]},Ee,ze),fe.l.w(function(){We?fe.j.ha(Pe,fe.a.c(Oe.get('value')),!0):(He?Fe.length&&Ae().length<Fe.length:Fe.length&&0<=Pe.selectedIndex?fe.j.u(Pe.options[Pe.selectedIndex])!==Fe[0]:Fe.length||0<=Pe.selectedIndex)&&fe.a.Da(Pe,'change')}),fe.a.Nc(Pe),Me&&20<Math.abs(Me-Pe.scrollTop)&&(Pe.scrollTop=Me)}},fe.d.options.xb=fe.a.e.I(),fe.d.selectedOptions={after:['options','foreach'],init:function(Pe,Ee,Oe){fe.a.p(Pe,'change',function(){var Ae=Ee(),Ie=[];fe.a.q(Pe.getElementsByTagName('option'),function(Le){Le.selected&&Ie.push(fe.j.u(Le))}),fe.h.Ea(Ae,Oe,'selectedOptions',Ie)})},update:function(Pe,Ee){if('select'!=fe.a.A(Pe))throw Error('values binding applies only to SELECT elements');var Oe=fe.a.c(Ee()),Ae=Pe.scrollTop;Oe&&'number'==typeof Oe.length&&fe.a.q(Pe.getElementsByTagName('option'),function(Ie){var Le=0<=fe.a.o(Oe,fe.j.u(Ie));Ie.selected!=Le&&fe.a.sc(Ie,Le)}),Pe.scrollTop=Ae}},fe.h.ea.selectedOptions=!0,fe.d.style={update:function(Pe,Ee){var Oe=fe.a.c(Ee()||{});fe.a.D(Oe,function(Ae,Ie){Ie=fe.a.c(Ie),(null===Ie||Ie===ee||!1===Ie)&&(Ie=''),Pe.style[Ae]=Ie})}},fe.d.submit={init:function(Pe,Ee,Oe,Ae,Ie){if('function'!=typeof Ee())throw Error('The value for a submit binding must be a function');fe.a.p(Pe,'submit',function(Le){var Me=Ee(),He;try{He=Me.call(Ie.$data,Pe)}finally{!0!==He&&(Le.preventDefault?Le.preventDefault():Le.returnValue=!1)}})}},fe.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(Pe,Ee){fe.a.Za(Pe,Ee())}},fe.f.Z.text=!0,function(){if(te&&te.navigator)var Pe=function(We){if(We)return parseFloat(We[1])},Ee=te.opera&&te.opera.version&&parseInt(te.opera.version()),Oe=te.navigator.userAgent,Ae=Pe(Oe.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),Ie=Pe(Oe.match(/Firefox\/([^ ]*)/));if(10>fe.a.C)var Le=fe.a.e.I(),He=fe.a.e.I(),Me=function(We){var Re=this.activeElement;(Re=Re&&fe.a.e.get(Re,He))&&Re(We)},ze=function(We,Re){var Ye=We.ownerDocument;fe.a.e.get(Ye,Le)||(fe.a.e.set(Ye,Le,!0),fe.a.p(Ye,'selectionchange',Me)),fe.a.e.set(We,He,Re)};fe.d.textInput={init:function(We,Re,Ye){function Fe(Je,Qe){fe.a.p(We,Je,Qe)}function qe(){var Je=fe.a.c(Re());(null===Je||Je===ee)&&(Je=''),Ge!==ee&&Je===Ge?fe.a.setTimeout(qe,4):We.value!==Je&&(Ve=Je,We.value=Je)}function Be(){Ke||(Ge=We.value,Ke=fe.a.setTimeout(Ue,4))}function Ue(){clearTimeout(Ke),Ge=Ke=ee;var Je=We.value;Ve!==Je&&(Ve=Je,fe.h.Ea(Re(),Ye,'textInput',Je))}var Ve=We.value,Xe=9==fe.a.C?Be:Ue,Ke,Ge;10>fe.a.C?(Fe('propertychange',function(Je){'value'===Je.propertyName&&Xe(Je)}),8==fe.a.C&&(Fe('keyup',Ue),Fe('keydown',Ue)),8<=fe.a.C&&(ze(We,Xe),Fe('dragend',Be))):(Fe('input',Ue),5>Ae&&'textarea'===fe.a.A(We)?(Fe('keydown',Be),Fe('paste',Be),Fe('cut',Be)):11>Ee?Fe('keydown',Be):4>Ie&&(Fe('DOMAutoComplete',Ue),Fe('dragdrop',Ue),Fe('drop',Ue))),Fe('change',Ue),fe.m(qe,null,{i:We})}},fe.h.ea.textInput=!0,fe.d.textinput={preprocess:function(We,Re,Ye){Ye('textInput',We)}}}(),fe.d.uniqueName={init:function(Pe,Ee){if(Ee()){var Oe='ko_unique_'+ ++fe.d.uniqueName.Ic;fe.a.rc(Pe,Oe)}}},fe.d.uniqueName.Ic=0,fe.d.value={after:['options','foreach'],init:function(Pe,Ee,Oe){if('input'!=Pe.tagName.toLowerCase()||'checkbox'!=Pe.type&&'radio'!=Pe.type){var Ae=['change'],Ie=Oe.get('valueUpdate'),Le=!1,He=null;Ie&&('string'==typeof Ie&&(Ie=[Ie]),fe.a.ra(Ae,Ie),Ae=fe.a.Tb(Ae));var Me=function(){He=null,Le=!1;var We=Ee(),Re=fe.j.u(Pe);fe.h.Ea(We,Oe,'value',Re)};!fe.a.C||'input'!=Pe.tagName.toLowerCase()||'text'!=Pe.type||'off'==Pe.autocomplete||Pe.form&&'off'==Pe.form.autocomplete||-1!=fe.a.o(Ae,'propertychange')||(fe.a.p(Pe,'propertychange',function(){Le=!0}),fe.a.p(Pe,'focus',function(){Le=!1}),fe.a.p(Pe,'blur',function(){Le&&Me()})),fe.a.q(Ae,function(We){var Re=Me;fe.a.nd(We,'after')&&(Re=function(){He=fe.j.u(Pe),fe.a.setTimeout(Me,0)},We=We.substring(5)),fe.a.p(Pe,We,Re)});var ze=function(){var We=fe.a.c(Ee()),Re=fe.j.u(Pe);if(null!==He&&We===He)fe.a.setTimeout(ze,0);else if(We!==Re)if('select'===fe.a.A(Pe)){var Ye=Oe.get('valueAllowUnset'),Re=function(){fe.j.ha(Pe,We,Ye)};Re(),Ye||We===fe.j.u(Pe)?fe.a.setTimeout(Re,0):fe.l.w(fe.a.Da,null,[Pe,'change'])}else fe.j.ha(Pe,We)};fe.m(ze,null,{i:Pe})}else fe.Ja(Pe,{checkedValue:Ee})},update:function(){}},fe.h.ea.value=!0,fe.d.visible={update:function(Pe,Ee){var Oe=fe.a.c(Ee()),Ae='none'!=Pe.style.display;Oe&&!Ae?Pe.style.display='':!Oe&&Ae&&(Pe.style.display='none')}},function(Pe){fe.d[Pe]={init:function(Ee,Oe,Ae,Ie,Le){return fe.d.event.init.call(this,Ee,function(){var He={};return He[Pe]=Oe(),He},Ae,Ie,Le)}}}('click'),fe.O=function(){},fe.O.prototype.renderTemplateSource=function(){throw Error('Override renderTemplateSource')},fe.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error('Override createJavaScriptEvaluatorBlock')},fe.O.prototype.makeTemplateSource=function(Pe,Ee){if('string'==typeof Pe){Ee=Ee||ae;var Oe=Ee.getElementById(Pe);if(!Oe)throw Error('Cannot find template with ID '+Pe);return new fe.v.n(Oe)}if(1==Pe.nodeType||8==Pe.nodeType)return new fe.v.qa(Pe);throw Error('Unknown template type: '+Pe)},fe.O.prototype.renderTemplate=function(Pe,Ee,Oe,Ae){return Pe=this.makeTemplateSource(Pe,Ae),this.renderTemplateSource(Pe,Ee,Oe,Ae)},fe.O.prototype.isTemplateRewritten=function(Pe,Ee){return!(!1!==this.allowTemplateRewriting)||this.makeTemplateSource(Pe,Ee).data('isRewritten')},fe.O.prototype.rewriteTemplate=function(Pe,Ee,Oe){Pe=this.makeTemplateSource(Pe,Oe),Ee=Ee(Pe.text()),Pe.text(Ee),Pe.data('isRewritten',!0)},fe.b('templateEngine',fe.O),fe.Gb=function(){function Pe(Ae,Ie,Le,He){Ae=fe.h.yb(Ae);for(var Me=fe.h.ta,ze=0;ze<Ae.length;ze++){var We=Ae[ze].key;if(Me.hasOwnProperty(We)){var Re=Me[We];if('function'==typeof Re){if(We=Re(Ae[ze].value))throw Error(We);}else if(!Re)throw Error('This template engine does not support the \''+We+'\' binding within its templates')}}return Le='ko.__tr_ambtns(function($context,$element){return(function(){return{ '+fe.h.Ua(Ae,{valueAccessors:!0})+' } })()},\''+Le.toLowerCase()+'\')',He.createJavaScriptEvaluatorBlock(Le)+Ie}var Ee=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,Oe=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(Ae,Ie,Le){Ie.isTemplateRewritten(Ae,Le)||Ie.rewriteTemplate(Ae,function(He){return fe.Gb.dd(He,Ie)},Le)},dd:function(Ae,Ie){return Ae.replace(Ee,function(Le,He,Me,ze,We){return Pe(We,He,Me,Ie)}).replace(Oe,function(Le,He){return Pe(He,'<!-- ko -->','#comment',Ie)})},Ec:function(Ae,Ie){return fe.M.wb(function(Le,He){var Me=Le.nextSibling;Me&&Me.nodeName.toLowerCase()===Ie&&fe.Ja(Me,Ae,He)})}}}(),fe.b('__tr_ambtns',fe.Gb.Ec),function(){fe.v={},fe.v.n=function(Oe){if(this.n=Oe){var Ae=fe.a.A(Oe);this.ab='script'===Ae?1:'textarea'===Ae?2:'template'==Ae&&Oe.content&&11===Oe.content.nodeType?3:4}},fe.v.n.prototype.text=function(){var Oe=1===this.ab?'text':2===this.ab?'value':'innerHTML';if(0==arguments.length)return this.n[Oe];var Ae=arguments[0];'innerHTML'==Oe?fe.a.Cb(this.n,Ae):this.n[Oe]=Ae};var Pe=fe.a.e.I()+'_';fe.v.n.prototype.data=function(Oe){return 1===arguments.length?fe.a.e.get(this.n,Pe+Oe):void fe.a.e.set(this.n,Pe+Oe,arguments[1])};var Ee=fe.a.e.I();fe.v.n.prototype.nodes=function(){var Oe=this.n;return 0==arguments.length?(fe.a.e.get(Oe,Ee)||{}).jb||(3===this.ab?Oe.content:4===this.ab?Oe:ee):void fe.a.e.set(Oe,Ee,{jb:arguments[0]})},fe.v.qa=function(Oe){this.n=Oe},fe.v.qa.prototype=new fe.v.n,fe.v.qa.prototype.text=function(){if(0==arguments.length){var Oe=fe.a.e.get(this.n,Ee)||{};return Oe.Hb===ee&&Oe.jb&&(Oe.Hb=Oe.jb.innerHTML),Oe.Hb}fe.a.e.set(this.n,Ee,{Hb:arguments[0]})},fe.b('templateSources',fe.v),fe.b('templateSources.domElement',fe.v.n),fe.b('templateSources.anonymousTemplate',fe.v.qa)}(),function(){function Pe(Me,ze,We){var Re;for(ze=fe.f.nextSibling(ze);Me&&(Re=Me)!==ze;)Me=fe.f.nextSibling(Re),We(Re,Me)}function Ee(Me,ze){if(Me.length){var We=Me[0],Re=Me[Me.length-1],Ye=We.parentNode,Fe=fe.Q.instance,qe=Fe.preprocessNode;if(qe){if(Pe(We,Re,function(Be,Ue){var Ve=Be.previousSibling,Ke=qe.call(Fe,Be);Ke&&(Be===We&&(We=Ke[0]||Ue),Be===Re&&(Re=Ke[Ke.length-1]||Ve))}),Me.length=0,!We)return;We===Re?Me.push(We):(Me.push(We,Re),fe.a.za(Me,Ye))}Pe(We,Re,function(Be){1!==Be.nodeType&&8!==Be.nodeType||fe.Rb(ze,Be)}),Pe(We,Re,function(Be){1!==Be.nodeType&&8!==Be.nodeType||fe.M.yc(Be,[ze])}),fe.a.za(Me,Ye)}}function Oe(Me){return Me.nodeType?Me:0<Me.length?Me[0]:null}function Ae(Me,ze,We,Re,Ye){Ye=Ye||{};var Fe=(Me&&Oe(Me)||We||{}).ownerDocument,qe=Ye.templateEngine||Le;if(fe.Gb.Oc(We,qe,Fe),We=qe.renderTemplate(We,Re,Ye,Fe),'number'!=typeof We.length||0<We.length&&'number'!=typeof We[0].nodeType)throw Error('Template engine must return an array of DOM nodes');switch(Fe=!1,ze){case'replaceChildren':fe.f.da(Me,We),Fe=!0;break;case'replaceNode':fe.a.qc(Me,We),Fe=!0;break;case'ignoreTargetNode':break;default:throw Error('Unknown renderMode: '+ze);}return Fe&&(Ee(We,Re),Ye.afterRender&&fe.l.w(Ye.afterRender,null,[We,Re.$data])),We}function Ie(Me,ze,We){return fe.H(Me)?Me():'function'==typeof Me?Me(ze,We):Me}var Le;fe.Db=function(Me){if(Me!=ee&&!(Me instanceof fe.O))throw Error('templateEngine must inherit from ko.templateEngine');Le=Me},fe.Ab=function(Me,ze,We,Re,Ye){if(We=We||{},(We.templateEngine||Le)==ee)throw Error('Set a template engine before calling renderTemplate');if(Ye=Ye||'replaceChildren',Re){var Fe=Oe(Re);return fe.B(function(){var qe=ze&&ze instanceof fe.U?ze:new fe.U(fe.a.c(ze)),Be=Ie(Me,qe.$data,qe),qe=Ae(Re,Ye,Be,qe,We);'replaceNode'==Ye&&(Re=qe,Fe=Oe(Re))},null,{wa:function(){return!Fe||!fe.a.nb(Fe)},i:Fe&&'replaceNode'==Ye?Fe.parentNode:Fe})}return fe.M.wb(function(qe){fe.Ab(Me,ze,We,qe,'replaceNode')})},fe.kd=function(Me,ze,We,Re,Ye){function Fe(Ue,Ve){Ee(Ve,Be),We.afterRender&&We.afterRender(Ve,Ue),Be=null}function qe(Ue,Ve){Be=Ye.createChildContext(Ue,We.as,function(Ge){Ge.$index=Ve});var Ke=Ie(Me,Ue,Be);return Ae(null,'ignoreTargetNode',Ke,Be,We)}var Be;return fe.B(function(){var Ue=fe.a.c(ze)||[];'undefined'==typeof Ue.length&&(Ue=[Ue]),Ue=fe.a.Ka(Ue,function(Ve){return We.includeDestroyed||Ve===ee||null===Ve||!fe.a.c(Ve._destroy)}),fe.l.w(fe.a.Bb,null,[Re,Ue,qe,We,Fe])},null,{i:Re})};var He=fe.a.e.I();fe.d.template={init:function(Me,ze){var We=fe.a.c(ze());if('string'==typeof We||We.name)fe.f.xa(Me);else{if(!('nodes'in We))We=fe.f.childNodes(Me);else if(We=We.nodes||[],fe.H(We))throw Error('The "nodes" option must be a plain, non-observable array.');We=fe.a.jc(We),new fe.v.qa(Me).nodes(We)}return{controlsDescendantBindings:!0}},update:function(Me,ze,We,Re,Ye){var Fe=ze(),qe;ze=fe.a.c(Fe),We=!0,Re=null,'string'==typeof ze?ze={}:(Fe=ze.name,'if'in ze&&(We=fe.a.c(ze['if'])),We&&'ifnot'in ze&&(We=!fe.a.c(ze.ifnot)),qe=fe.a.c(ze.data)),'foreach'in ze?Re=fe.kd(Fe||Me,We&&ze.foreach||[],ze,Me,Ye):We?(Ye='data'in ze?Ye.createChildContext(qe,ze.as):Ye,Re=fe.Ab(Fe||Me,Ye,ze,Me)):fe.f.xa(Me),Ye=Re,(qe=fe.a.e.get(Me,He))&&'function'==typeof qe.k&&qe.k(),fe.a.e.set(Me,He,Ye&&Ye.ba()?Ye:ee)}},fe.h.ta.template=function(Me){return Me=fe.h.yb(Me),1==Me.length&&Me[0].unknown||fe.h.ad(Me,'name')?null:'This template engine does not support anonymous templates nested within its templates'},fe.f.Z.template=!0}(),fe.b('setTemplateEngine',fe.Db),fe.b('renderTemplate',fe.Ab),fe.a.dc=function(Pe,Ee,Oe){if(Pe.length&&Ee.length){var Ae,Ie,Le,He,Me;for(Ae=Ie=0;(!Oe||Ae<Oe)&&(He=Pe[Ie]);++Ie){for(Le=0;Me=Ee[Le];++Le)if(He.value===Me.value){He.moved=Me.index,Me.moved=He.index,Ee.splice(Le,1),Ae=Le=0;break}Ae+=Le}}},fe.a.ib=function(){function Pe(Ee,Oe,Ae,Ie,Le){var He=Math.min,Me=Math.max,ze=[],Re=Ee.length,Fe=Oe.length,qe=Fe-Re||1,Be=Re+Fe+1,We,Ye,Ue,Ve,Ke;for(We=0;We<=Re;We++)for(Ve=Ue,ze.push(Ue=[]),Ke=He(Fe,We+qe),Ye=Me(0,We-1);Ye<=Ke;Ye++)Ue[Ye]=Ye?We?Ee[We-1]===Oe[Ye-1]?Ve[Ye-1]:He(Ve[Ye]||Be,Ue[Ye-1]||Be)+1:Ye+1:We+1;for(He=[],Me=[],qe=[],We=Re,Ye=Fe;We||Ye;)Fe=ze[We][Ye]-1,Ye&&Fe===ze[We][Ye-1]?Me.push(He[He.length]={status:Ae,value:Oe[--Ye],index:Ye}):We&&Fe===ze[We-1][Ye]?qe.push(He[He.length]={status:Ie,value:Ee[--We],index:We}):(--Ye,--We,Le.sparse||He.push({status:'retained',value:Oe[Ye]}));return fe.a.dc(qe,Me,!Le.dontLimitMoves&&10*Re),He.reverse()}return function(Ee,Oe,Ae){return Ae='boolean'==typeof Ae?{dontLimitMoves:Ae}:Ae||{},Ee=Ee||[],Oe=Oe||[],Ee.length<Oe.length?Pe(Ee,Oe,'added','deleted',Ae):Pe(Oe,Ee,'deleted','added',Ae)}}(),fe.b('utils.compareArrays',fe.a.ib),function(){function Pe(Ae,Ie,Le,He,Me){var ze=[],We=fe.B(function(){var Re=Ie(Le,Me,fe.a.za(ze,Ae))||[];0<ze.length&&(fe.a.qc(ze,Re),He&&fe.l.w(He,null,[Le,Re,Me])),ze.length=0,fe.a.ra(ze,Re)},null,{i:Ae,wa:function(){return!fe.a.Qb(ze)}});return{ca:ze,B:We.ba()?We:ee}}var Ee=fe.a.e.I(),Oe=fe.a.e.I();fe.a.Bb=function(Ae,Ie,Le,He,Me){function ze(at,nt){Je=Ye[nt],Ve!==nt&&(Xe[at]=Je),Je.qb(Ve++),fe.a.za(Je.ca,Ae),Be.push(Je),Ge.push(Je)}function We(at,nt){if(at)for(var ot=0,it=nt.length;ot<it;ot++)nt[ot]&&fe.a.q(nt[ot].ca,function(st){at(st,ot,nt[ot].ja)})}Ie=Ie||[],He=He||{};var Re=fe.a.e.get(Ae,Ee)===ee,Ye=fe.a.e.get(Ae,Ee)||[],Fe=fe.a.fb(Ye,function(at){return at.ja}),qe=fe.a.ib(Fe,Ie,He.dontLimitMoves),Be=[],Ue=0,Ve=0,Ke=[],Ge=[];Ie=[];for(var Xe=[],Fe=[],Qe=0,Je,Ze,et;Ze=qe[Qe];Qe++)switch(et=Ze.moved,Ze.status){case'deleted':et===ee&&(Je=Ye[Ue],Je.B&&(Je.B.k(),Je.B=ee),fe.a.za(Je.ca,Ae).length&&(He.beforeRemove&&(Be.push(Je),Ge.push(Je),Je.ja===Oe?Je=null:Ie[Qe]=Je),Je&&Ke.push.apply(Ke,Je.ca))),Ue++;break;case'retained':ze(Qe,Ue++);break;case'added':et===ee?(Je={ja:Ze.value,qb:fe.N(Ve++)},Be.push(Je),Ge.push(Je),Re||(Fe[Qe]=Je)):ze(Qe,et);}fe.a.e.set(Ae,Ee,Be),We(He.beforeMove,Xe),fe.a.q(Ke,He.beforeRemove?fe.$:fe.removeNode);for(var Qe=0,Re=fe.f.firstChild(Ae),tt;Je=Ge[Qe];Qe++){for(Je.ca||fe.a.extend(Je,Pe(Ae,Le,Je.ja,Me,Je.qb)),Ue=0;qe=Je.ca[Ue];Re=qe.nextSibling,tt=qe,Ue++)qe!==Re&&fe.f.gc(Ae,qe,tt);!Je.Wc&&Me&&(Me(Je.ja,Je.ca,Je.qb),Je.Wc=!0)}for(We(He.beforeRemove,Ie),Qe=0;Qe<Ie.length;++Qe)Ie[Qe]&&(Ie[Qe].ja=Oe);We(He.afterMove,Xe),We(He.afterAdd,Fe)}}(),fe.b('utils.setDomNodeChildrenFromArrayMapping',fe.a.Bb),fe.W=function(){this.allowTemplateRewriting=!1},fe.W.prototype=new fe.O,fe.W.prototype.renderTemplateSource=function(Pe,Ee,Oe,Ae){return(Ee=(9>fe.a.C?0:Pe.nodes)?Pe.nodes():null)?fe.a.V(Ee.cloneNode(!0).childNodes):(Pe=Pe.text(),fe.a.ma(Pe,Ae))},fe.W.sb=new fe.W,fe.Db(fe.W.sb),fe.b('nativeTemplateEngine',fe.W),function(){fe.vb=function(){var Ee=this.$c=function(){if(!oe||!oe.tmpl)return 0;try{if(0<=oe.tmpl.tag.tmpl.open.toString().indexOf('__'))return 2}catch(Oe){}return 1}();this.renderTemplateSource=function(Oe,Ae,Ie,Le){if(Le=Le||ae,Ie=Ie||{},2>Ee)throw Error('Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.');var He=Oe.data('precompiled');return He||(He=Oe.text()||'',He=oe.template(null,'{{ko_with $item.koBindingContext}}'+He+'{{/ko_with}}'),Oe.data('precompiled',He)),Oe=[Ae.$data],Ae=oe.extend({koBindingContext:Ae},Ie.templateOptions),Ae=oe.tmpl(He,Oe,Ae),Ae.appendTo(Le.createElement('div')),oe.fragments={},Ae},this.createJavaScriptEvaluatorBlock=function(Oe){return'{{ko_code ((function() { return '+Oe+' })()) }}'},this.addTemplate=function(Oe,Ae){ae.write('<script type=\'text/html\' id=\''+Oe+'\'>'+Ae+'</script>')},0<Ee&&(oe.tmpl.tag.ko_code={open:'__.push($1 || \'\');'},oe.tmpl.tag.ko_with={open:'with($1) {',close:'} '})},fe.vb.prototype=new fe.O;var Pe=new fe.vb;0<Pe.$c&&fe.Db(Pe),fe.b('jqueryTmplTemplateEngine',fe.vb)}()})})()}(),function(ee){'function'==typeof require&&'object'==typeof exports&&'object'==typeof module?ee(require('knockout'),exports):'function'==typeof define&&define.amd?define(['knockout','exports'],ee):ee(ko,ko.mapping={})}(function(ee,te){function ae(Te,De){var Se,je;for(je in De)if(De.hasOwnProperty(je)&&De[je])if(Se=te.getType(Te[je]),je&&Te[je]&&'array'!==Se&&'string'!==Se)ae(Te[je],De[je]);else if('array'===te.getType(Te[je])&&'array'===te.getType(De[je])){Se=Te;for(var Ne=je,Pe=Te[je],Ee=De[je],Oe={},Ae=Pe.length-1;0<=Ae;--Ae)Oe[Pe[Ae]]=Pe[Ae];for(Ae=Ee.length-1;0<=Ae;--Ae)Oe[Ee[Ae]]=Ee[Ae];for(Ee in Pe=[],Ee=void 0,Oe)Pe.push(Oe[Ee]);Se[Ne]=Pe}else Te[je]=De[je]}function ne(Te,De){var Se={};return ae(Se,Te),ae(Se,De),Se}function oe(Te,De){for(var Se=ne({},Te),je=we.length-1;0<=je;je--){var Ne=we[je];Se[Ne]&&(Se['']instanceof Object||(Se['']={}),Se[''][Ne]=Se[Ne],delete Se[Ne])}return De&&(Se.ignore=ie(De.ignore,Se.ignore),Se.include=ie(De.include,Se.include),Se.copy=ie(De.copy,Se.copy),Se.observe=ie(De.observe,Se.observe)),Se.ignore=ie(Se.ignore,Ce.ignore),Se.include=ie(Se.include,Ce.include),Se.copy=ie(Se.copy,Ce.copy),Se.observe=ie(Se.observe,Ce.observe),Se.mappedProperties=Se.mappedProperties||{},Se.copiedProperties=Se.copiedProperties||{},Se}function ie(Te,De){return'array'!==te.getType(Te)&&(Te='undefined'===te.getType(Te)?[]:[Te]),'array'!==te.getType(De)&&(De='undefined'===te.getType(De)?[]:[De]),ee.utils.arrayGetDistinctValues(Te.concat(De))}function se(Te,De,Se,je,Ne,Pe,Ee){var Oe='array'===te.getType(ee.utils.unwrapObservable(De));if(Pe=Pe||'',te.isMapped(Te)){var Ae=ee.utils.unwrapObservable(Te)[fe];Se=ne(Ae,Se)}var Ie=Ee||Ne,Le=function(){return Se[je]&&Se[je].create instanceof Function},He=function(Je){var Qe=_e,Ze=ee.dependentObservable;return ee.dependentObservable=function(et,tt,at){at=at||{},et&&'object'==typeof et&&(at=et);var nt=at.deferEvaluation,ot=!1;if(at.deferEvaluation=!0,et=new ye(et,tt,at),!nt){var it=et,nt=ee.dependentObservable;ee.dependentObservable=ye,et=ee.isWriteableObservable(it),ee.dependentObservable=nt,et=ye({read:function(){return ot||(ee.utils.arrayRemoveItem(Qe,it),ot=!0),it.apply(it,arguments)},write:et&&function(st){return it(st)},deferEvaluation:!0}),Qe.push(et)}return et},ee.dependentObservable.fn=ye.fn,ee.computed=ee.dependentObservable,Je=ee.utils.unwrapObservable(Ne)instanceof Array?Se[je].create({data:Je||De,parent:Ie,skip:xe}):Se[je].create({data:Je||De,parent:Ie}),ee.dependentObservable=Ze,ee.computed=ee.dependentObservable,Je},Me=function(){return Se[je]&&Se[je].update instanceof Function},ze=function(Je,Qe){var Ze={data:Qe||De,parent:Ie,target:ee.utils.unwrapObservable(Je)};return ee.isWriteableObservable(Je)&&(Ze.observable=Je),Se[je].update(Ze)};if(Ee=ve.get(De))return Ee;if(je=je||'',Oe){var Oe=[],We=!1,Re=function(Je){return Je};Se[je]&&Se[je].key&&(Re=Se[je].key,We=!0),ee.isObservable(Te)||(Te=ee.observableArray([]),Te.mappedRemove=function(Je){var Qe='function'==typeof Je?Je:function(Ze){return Ze===Re(Je)};return Te.remove(function(Ze){return Qe(Re(Ze))})},Te.mappedRemoveAll=function(Je){var Qe=ce(Je,Re);return Te.remove(function(Ze){return-1!=ee.utils.arrayIndexOf(Qe,Re(Ze))})},Te.mappedDestroy=function(Je){var Qe='function'==typeof Je?Je:function(Ze){return Ze===Re(Je)};return Te.destroy(function(Ze){return Qe(Re(Ze))})},Te.mappedDestroyAll=function(Je){var Qe=ce(Je,Re);return Te.destroy(function(Ze){return-1!=ee.utils.arrayIndexOf(Qe,Re(Ze))})},Te.mappedIndexOf=function(Je){var Qe=ce(Te(),Re);return Je=Re(Je),ee.utils.arrayIndexOf(Qe,Je)},Te.mappedCreate=function(Je){if(-1!==Te.mappedIndexOf(Je))throw Error('There already is an object with the key that you specified.');var Qe=Le()?He(Je):Je;return Me()&&(Je=ze(Qe,Je),ee.isWriteableObservable(Qe)?Qe(Je):Qe=Je),Te.push(Qe),Qe}),Ee=ce(ee.utils.unwrapObservable(Te),Re).sort(),Ae=ce(De,Re),We&&Ae.sort(),We=ee.utils.compareArrays(Ee,Ae),Ee={};var Fe=ee.utils.unwrapObservable(De),qe={},Be=!0,Ae=0,Ye;for(Ye=Fe.length;Ae<Ye;Ae++){var Ue=Re(Fe[Ae]);if(void 0===Ue||Ue instanceof Object){Be=!1;break}qe[Ue]=Fe[Ae]}var Fe=[],Ve=0,Ae=0;for(Ye=We.length;Ae<Ye;Ae++){var Ue=We[Ae],Ge=Pe+'['+Ae+']',Ke;switch(Ue.status){case'added':var Xe=Be?qe[Ue.value]:de(ee.utils.unwrapObservable(De),Ue.value,Re);Ke=se(void 0,Xe,Se,je,Te,Ge,Ne),Le()||(Ke=ee.utils.unwrapObservable(Ke)),Ge=re(ee.utils.unwrapObservable(De),Xe,Ee),Ke===xe?Ve++:Fe[Ge-Ve]=Ke,Ee[Ge]=!0;break;case'retained':Xe=Be?qe[Ue.value]:de(ee.utils.unwrapObservable(De),Ue.value,Re),Ke=de(Te,Ue.value,Re),se(Ke,Xe,Se,je,Te,Ge,Ne),Ge=re(ee.utils.unwrapObservable(De),Xe,Ee),Fe[Ge]=Ke,Ee[Ge]=!0;break;case'deleted':Ke=de(Te,Ue.value,Re);}Oe.push({event:Ue.status,item:Ke})}Te(Fe),Se[je]&&Se[je].arrayChanged&&ee.utils.arrayForEach(Oe,function(Je){Se[je].arrayChanged(Je.event,Je.item)})}else if(ue(De)){if(Te=ee.utils.unwrapObservable(Te),!Te){if(Le())return We=He(),Me()&&(We=ze(We)),We;if(Me())return ze(We);Te={}}if(Me()&&(Te=ze(Te)),ve.save(De,Te),Me())return Te;pe(De,function(Je){var Qe=Pe.length?Pe+'.'+Je:Je;if(-1==ee.utils.arrayIndexOf(Se.ignore,Qe))if(-1!=ee.utils.arrayIndexOf(Se.copy,Qe))Te[Je]=De[Je];else if('object'!=typeof De[Je]&&'array'!=typeof De[Je]&&0<Se.observe.length&&-1==ee.utils.arrayIndexOf(Se.observe,Qe))Te[Je]=De[Je],Se.copiedProperties[Qe]=!0;else{var Ze=ve.get(De[Je]),et=se(Te[Je],De[Je],Se,Je,Te,Qe,Te),Ze=Ze||et;0<Se.observe.length&&-1==ee.utils.arrayIndexOf(Se.observe,Qe)?(Te[Je]=Ze(),Se.copiedProperties[Qe]=!0):(ee.isWriteableObservable(Te[Je])?Te[Je](ee.utils.unwrapObservable(Ze)):(Ze=void 0===Te[Je]?Ze:ee.utils.unwrapObservable(Ze),Te[Je]=Ze),Se.mappedProperties[Qe]=!0)}})}else switch(te.getType(De)){case'function':Me()?ee.isWriteableObservable(De)?(De(ze(De)),Te=De):Te=ze(De):Te=De;break;default:if(ee.isWriteableObservable(Te))return Ke=Me()?ze(Te):ee.utils.unwrapObservable(De),Te(Ke),Ke;Le()||Me(),Te=Le()?He():ee.observable(ee.utils.unwrapObservable(De)),Me()&&Te(ze(Te));}return Te}function re(Te,De,Se){for(var je=0,Ne=Te.length;je<Ne;je++)if(!0!==Se[je]&&Te[je]===De)return je;return null}function le(Te,De){var Se;return De&&(Se=De(Te)),'undefined'===te.getType(Se)&&(Se=Te),ee.utils.unwrapObservable(Se)}function de(Te,De,Se){Te=ee.utils.unwrapObservable(Te);for(var je=0,Ne=Te.length;je<Ne;je++){var Pe=Te[je];if(le(Pe,Se)===De)return Pe}throw Error('When calling ko.update*, the key \''+De+'\' was not found!')}function ce(Te,De){return ee.utils.arrayMap(ee.utils.unwrapObservable(Te),function(Se){return De?le(Se,De):Se})}function pe(Te,De){if('array'===te.getType(Te))for(var Se=0;Se<Te.length;Se++)De(Se);else for(Se in Te)De(Se)}function ue(Te){var De=te.getType(Te);return('object'===De||'array'===De)&&null!==Te}function he(){var Te=[],De=[];this.save=function(Se,je){var Ne=ee.utils.arrayIndexOf(Te,Se);0<=Ne?De[Ne]=je:(Te.push(Se),De.push(je))},this.get=function(Se){return Se=ee.utils.arrayIndexOf(Te,Se),0<=Se?De[Se]:void 0}}function ge(){var Te={},De=function(Se){var je;try{je=Se}catch(Ne){je='$$$'}return Se=Te[je],void 0===Se&&(Se=new he,Te[je]=Se),Se};this.save=function(Se,je){De(Se).save(Se,je)},this.get=function(Se){return De(Se).get(Se)}}var fe='__ko_mapping__',ye=ee.dependentObservable,be=0,we=['create','update','key','arrayChanged'],xe={},ke={include:['_destroy'],ignore:[],copy:[],observe:[]},Ce=ke,_e,ve;te.isMapped=function(Te){return(Te=ee.utils.unwrapObservable(Te))&&Te[fe]},te.fromJS=function(Te){if(0==arguments.length)throw Error('When calling ko.fromJS, pass the object you want to convert.');try{be++||(_e=[],ve=new ge);var De,Se;2==arguments.length&&(arguments[1][fe]?Se=arguments[1]:De=arguments[1]),3==arguments.length&&(De=arguments[1],Se=arguments[2]),Se&&(De=ne(De,Se[fe])),De=oe(De);var je=se(Se,Te,De);if(Se&&(je=Se),! --be)for(;_e.length;){var Ne=_e.pop();Ne&&Ne()}return je[fe]=ne(je[fe],De),je}catch(Pe){throw be=0,Pe}},te.fromJSON=function(Te){var De=ee.utils.parseJson(Te);return arguments[0]=De,te.fromJS.apply(this,arguments)},te.updateFromJS=function(){throw Error('ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!')},te.updateFromJSON=function(){throw Error('ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!')},te.toJS=function(Te,De){if(Ce||te.resetDefaultOptions(),0==arguments.length)throw Error('When calling ko.mapping.toJS, pass the object you want to convert.');if('array'!==te.getType(Ce.ignore))throw Error('ko.mapping.defaultOptions().ignore should be an array.');if('array'!==te.getType(Ce.include))throw Error('ko.mapping.defaultOptions().include should be an array.');if('array'!==te.getType(Ce.copy))throw Error('ko.mapping.defaultOptions().copy should be an array.');return De=oe(De,Te[fe]),te.visitModel(Te,function(Se){return ee.utils.unwrapObservable(Se)},De)},te.toJSON=function(Te,De){var Se=te.toJS(Te,De);return ee.utils.stringifyJson(Se)},te.defaultOptions=function(){return 0<arguments.length?void(Ce=arguments[0]):Ce},te.resetDefaultOptions=function(){Ce={include:ke.include.slice(0),ignore:ke.ignore.slice(0),copy:ke.copy.slice(0)}},te.getType=function(Te){if(Te&&'object'==typeof Te){if(Te.constructor===Date)return'date';if(Te.constructor===Array)return'array'}return typeof Te},te.visitModel=function(Te,De,Se){Se=Se||{},Se.visitedObjects=Se.visitedObjects||new ge;var Ne=ee.utils.unwrapObservable(Te),je;if(ue(Ne))Se=oe(Se,Ne[fe]),De(Te,Se.parentName),je='array'===te.getType(Ne)?[]:{};else return De(Te,Se.parentName);Se.visitedObjects.save(Te,je);var Pe=Se.parentName;return pe(Ne,function(Ee){if(!(Se.ignore&&-1!=ee.utils.arrayIndexOf(Se.ignore,Ee))){var Oe=Ne[Ee],Ae=Se,Ie=Pe||'';if('array'===te.getType(Ne)?Pe&&(Ie+='['+Ee+']'):(Pe&&(Ie+='.'),Ie+=Ee),Ae.parentName=Ie,!(-1===ee.utils.arrayIndexOf(Se.copy,Ee)&&-1===ee.utils.arrayIndexOf(Se.include,Ee)&&Ne[fe]&&Ne[fe].mappedProperties&&!Ne[fe].mappedProperties[Ee]&&Ne[fe].copiedProperties&&!Ne[fe].copiedProperties[Ee]&&'array'!==te.getType(Ne)))switch(te.getType(ee.utils.unwrapObservable(Oe))){case'object':case'array':case'undefined':Ae=Se.visitedObjects.get(Oe),je[Ee]='undefined'===te.getType(Ae)?te.visitModel(Oe,De,Se):Ae;break;default:je[Ee]=De(Oe,Se.parentName);}}}),je}}),'undefined'==typeof jQuery)throw new Error('Bootstrap\'s JavaScript requires jQuery');+function(ee){var te=ee.fn.jquery.split(' ')[0].split('.');if(2>te[0]&&9>te[1]||1==te[0]&&9==te[1]&&1>te[2])throw new Error('Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher')}(jQuery),+function(ee){'use strict';// CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
// ============================================================
function te(){var ae=document.createElement('bootstrap'),ne={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};for(var oe in ne)if(ae.style[oe]!==void 0)return{end:ne[oe]};return!1;// explicit for ie8 (  ._.)
}// http://blog.alexmaccaw.com/css-transitions
ee.fn.emulateTransitionEnd=function(ae){var ne=!1,oe=this;return ee(this).one('bsTransitionEnd',function(){ne=!0}),setTimeout(function(){ne||ee(oe).trigger(ee.support.transition.end)},ae),this},ee(function(){ee.support.transition=te(),ee.support.transition&&(ee.event.special.bsTransitionEnd={bindType:ee.support.transition.end,delegateType:ee.support.transition.end,handle:function(ae){if(ee(ae.target).is(this))return ae.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(ee){'use strict';// ALERT CLASS DEFINITION
// ======================
var te='[data-dismiss="alert"]',ae=function(oe){ee(oe).on('click',te,this.close)};ae.VERSION='3.3.0',ae.TRANSITION_DURATION=150,ae.prototype.close=function(oe){var se=ee(this),re=se.attr('data-target');re||(re=se.attr('href'),re=re&&re.replace(/.*(?=#[^\s]*$)/,''));var le=ee(re);if(oe&&oe.preventDefault(),le.length||(le=se.closest('.alert')),le.trigger(oe=ee.Event('close.bs.alert')),!oe.isDefaultPrevented()){function ge(){le.detach().trigger('closed.bs.alert').remove()}le.removeClass('in'),ee.support.transition&&le.hasClass('fade')?le.one('bsTransitionEnd',ge).emulateTransitionEnd(ae.TRANSITION_DURATION):ge()}};var ne=ee.fn.alert;ee.fn.alert=// ALERT PLUGIN DEFINITION
// =======================
function(ie){return this.each(function(){var se=ee(this),re=se.data('bs.alert');re||se.data('bs.alert',re=new ae(this)),'string'==typeof ie&&re[ie].call(se)})},ee.fn.alert.Constructor=ae,ee.fn.alert.noConflict=function(){return ee.fn.alert=ne,this},ee(document).on('click.bs.alert.data-api',te,ae.prototype.close)}(jQuery),+function(ee){'use strict';// BUTTON PUBLIC CLASS DEFINITION
// ==============================
// BUTTON PLUGIN DEFINITION
// ========================
function te(oe){return this.each(function(){var ie=ee(this),se=ie.data('bs.button');se||ie.data('bs.button',se=new ae(this,'object'==typeof oe&&oe)),'toggle'==oe?se.toggle():oe&&se.setState(oe)})}var ae=function(oe,ie){this.$element=ee(oe),this.options=ee.extend({},ae.DEFAULTS,ie),this.isLoading=!1};ae.VERSION='3.3.0',ae.DEFAULTS={loadingText:'loading...'},ae.prototype.setState=function(oe){var ie='disabled',se=this.$element,re=se.is('input')?'val':'html',le=se.data();oe=oe+'Text',null==le.resetText&&se.data('resetText',se[re]()),setTimeout(ee.proxy(function(){se[re](null==le[oe]?this.options[oe]:le[oe]),'loadingText'==oe?(this.isLoading=!0,se.addClass(ie).attr(ie,ie)):this.isLoading&&(this.isLoading=!1,se.removeClass(ie).removeAttr(ie))},this),0)},ae.prototype.toggle=function(){var oe=!0,ie=this.$element.closest('[data-toggle="buttons"]');if(ie.length){var se=this.$element.find('input');'radio'==se.prop('type')&&(se.prop('checked')&&this.$element.hasClass('active')?oe=!1:ie.find('.active').removeClass('active')),oe&&se.prop('checked',!this.$element.hasClass('active')).trigger('change')}else this.$element.attr('aria-pressed',!this.$element.hasClass('active'));oe&&this.$element.toggleClass('active')};var ne=ee.fn.button;ee.fn.button=te,ee.fn.button.Constructor=ae,ee.fn.button.noConflict=function(){return ee.fn.button=ne,this},ee(document).on('click.bs.button.data-api','[data-toggle^="button"]',function(oe){var ie=ee(oe.target);ie.hasClass('btn')||(ie=ie.closest('.btn')),te.call(ie,'toggle'),oe.preventDefault()}).on('focus.bs.button.data-api blur.bs.button.data-api','[data-toggle^="button"]',function(oe){ee(oe.target).closest('.btn').toggleClass('focus','focus'==oe.type)})}(jQuery),+function(ee){'use strict';// CAROUSEL CLASS DEFINITION
// =========================
// CAROUSEL PLUGIN DEFINITION
// ==========================
function te(ie){return this.each(function(){var se=ee(this),re=se.data('bs.carousel'),le=ee.extend({},ae.DEFAULTS,se.data(),'object'==typeof ie&&ie),de='string'==typeof ie?ie:le.slide;re||se.data('bs.carousel',re=new ae(this,le)),'number'==typeof ie?re.to(ie):de?re[de]():le.interval&&re.pause().cycle()})}var ae=function(ie,se){this.$element=ee(ie),this.$indicators=this.$element.find('.carousel-indicators'),this.options=se,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on('keydown.bs.carousel',ee.proxy(this.keydown,this)),'hover'!=this.options.pause||'ontouchstart'in document.documentElement||this.$element.on('mouseenter.bs.carousel',ee.proxy(this.pause,this)).on('mouseleave.bs.carousel',ee.proxy(this.cycle,this))};ae.VERSION='3.3.0',ae.TRANSITION_DURATION=600,ae.DEFAULTS={interval:5000,pause:'hover',wrap:!0,keyboard:!0},ae.prototype.keydown=function(ie){switch(ie.which){case 37:this.prev();break;case 39:this.next();break;default:return;}ie.preventDefault()},ae.prototype.cycle=function(ie){return ie||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(ee.proxy(this.next,this),this.options.interval)),this},ae.prototype.getItemIndex=function(ie){return this.$items=ie.parent().children('.item'),this.$items.index(ie||this.$active)},ae.prototype.getItemForDirection=function(ie,se){var re='prev'==ie?-1:1,le=this.getItemIndex(se),de=(le+re)%this.$items.length;return this.$items.eq(de)},ae.prototype.to=function(ie){var se=this,re=this.getItemIndex(this.$active=this.$element.find('.item.active'));if(!(ie>this.$items.length-1||0>ie))return this.sliding?this.$element.one('slid.bs.carousel',function(){se.to(ie)}):re==ie?this.pause().cycle():this.slide(ie>re?'next':'prev',this.$items.eq(ie));// yes, "slid"
},ae.prototype.pause=function(ie){return ie||(this.paused=!0),this.$element.find('.next, .prev').length&&ee.support.transition&&(this.$element.trigger(ee.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},ae.prototype.next=function(){if(!this.sliding)return this.slide('next')},ae.prototype.prev=function(){if(!this.sliding)return this.slide('prev')},ae.prototype.slide=function(ie,se){var re=this.$element.find('.item.active'),le=se||this.getItemForDirection(ie,re),de=this.interval,ce='next'==ie?'left':'right',pe='next'==ie?'first':'last',ue=this;if(!le.length){if(!this.options.wrap)return;le=this.$element.find('.item')[pe]()}if(le.hasClass('active'))return this.sliding=!1;var he=le[0],ge=ee.Event('slide.bs.carousel',{relatedTarget:he,direction:ce});if(this.$element.trigger(ge),!ge.isDefaultPrevented()){if(this.sliding=!0,de&&this.pause(),this.$indicators.length){this.$indicators.find('.active').removeClass('active');var fe=ee(this.$indicators.children()[this.getItemIndex(le)]);fe&&fe.addClass('active')}var ye=ee.Event('slid.bs.carousel',{relatedTarget:he,direction:ce});// yes, "slid"
return ee.support.transition&&this.$element.hasClass('slide')?(le.addClass(ie),le[0].offsetWidth,re.addClass(ce),le.addClass(ce),re.one('bsTransitionEnd',function(){le.removeClass([ie,ce].join(' ')).addClass('active'),re.removeClass(['active',ce].join(' ')),ue.sliding=!1,setTimeout(function(){ue.$element.trigger(ye)},0)}).emulateTransitionEnd(ae.TRANSITION_DURATION)):(re.removeClass('active'),le.addClass('active'),this.sliding=!1,this.$element.trigger(ye)),de&&this.cycle(),this}};var ne=ee.fn.carousel;ee.fn.carousel=te,ee.fn.carousel.Constructor=ae,ee.fn.carousel.noConflict=function(){return ee.fn.carousel=ne,this};// CAROUSEL DATA-API
// =================
var oe=function(ie){var se,re=ee(this),le=ee(re.attr('data-target')||(se=re.attr('href'))&&se.replace(/.*(?=#[^\s]+$)/,''));// strip for ie7
if(le.hasClass('carousel')){var de=ee.extend({},le.data(),re.data()),ce=re.attr('data-slide-to');ce&&(de.interval=!1),te.call(le,de),ce&&le.data('bs.carousel').to(ce),ie.preventDefault()}};ee(document).on('click.bs.carousel.data-api','[data-slide]',oe).on('click.bs.carousel.data-api','[data-slide-to]',oe),ee(window).on('load',function(){ee('[data-ride="carousel"]').each(function(){var ie=ee(this);te.call(ie,ie.data())})})}(jQuery),+function(ee){'use strict';// COLLAPSE PUBLIC CLASS DEFINITION
// ================================
function te(ie){var se,re=ie.attr('data-target')||(se=ie.attr('href'))&&se.replace(/.*(?=#[^\s]+$)/,'');// strip for ie7
return ee(re)}// COLLAPSE PLUGIN DEFINITION
// ==========================
function ae(ie){return this.each(function(){var se=ee(this),re=se.data('bs.collapse'),le=ee.extend({},ne.DEFAULTS,se.data(),'object'==typeof ie&&ie);!re&&le.toggle&&'show'==ie&&(le.toggle=!1),re||se.data('bs.collapse',re=new ne(this,le)),'string'==typeof ie&&re[ie]()})}var ne=function(ie,se){this.$element=ee(ie),this.options=ee.extend({},ne.DEFAULTS,se),this.$trigger=ee(this.options.trigger).filter('[href="#'+ie.id+'"], [data-target="#'+ie.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};ne.VERSION='3.3.0',ne.TRANSITION_DURATION=350,ne.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},ne.prototype.dimension=function(){var ie=this.$element.hasClass('width');return ie?'width':'height'},ne.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass('in'))){var se=this.$parent&&this.$parent.find('> .panel').children('.in, .collapsing'),ie;if(se&&se.length&&(ie=se.data('bs.collapse'),ie&&ie.transitioning))return;var re=ee.Event('show.bs.collapse');if(this.$element.trigger(re),!re.isDefaultPrevented()){se&&se.length&&(ae.call(se,'hide'),ie||se.data('bs.collapse',null));var le=this.dimension();this.$element.removeClass('collapse').addClass('collapsing')[le](0).attr('aria-expanded',!0),this.$trigger.removeClass('collapsed').attr('aria-expanded',!0),this.transitioning=1;var de=function(){this.$element.removeClass('collapsing').addClass('collapse in')[le](''),this.transitioning=0,this.$element.trigger('shown.bs.collapse')};if(!ee.support.transition)return de.call(this);var ce=ee.camelCase(['scroll',le].join('-'));this.$element.one('bsTransitionEnd',ee.proxy(de,this)).emulateTransitionEnd(ne.TRANSITION_DURATION)[le](this.$element[0][ce])}}},ne.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass('in')){var ie=ee.Event('hide.bs.collapse');if(this.$element.trigger(ie),!ie.isDefaultPrevented()){var se=this.dimension();this.$element[se](this.$element[se]())[0].offsetHeight,this.$element.addClass('collapsing').removeClass('collapse in').attr('aria-expanded',!1),this.$trigger.addClass('collapsed').attr('aria-expanded',!1),this.transitioning=1;var re=function(){this.transitioning=0,this.$element.removeClass('collapsing').addClass('collapse').trigger('hidden.bs.collapse')};if(!ee.support.transition)return re.call(this);this.$element[se](0).one('bsTransitionEnd',ee.proxy(re,this)).emulateTransitionEnd(ne.TRANSITION_DURATION)}}},ne.prototype.toggle=function(){this[this.$element.hasClass('in')?'hide':'show']()},ne.prototype.getParent=function(){return ee(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(ee.proxy(function(ie,se){var re=ee(se);this.addAriaAndCollapsedClass(te(re),re)},this)).end()},ne.prototype.addAriaAndCollapsedClass=function(ie,se){var re=ie.hasClass('in');ie.attr('aria-expanded',re),se.toggleClass('collapsed',!re).attr('aria-expanded',re)};var oe=ee.fn.collapse;ee.fn.collapse=ae,ee.fn.collapse.Constructor=ne,ee.fn.collapse.noConflict=function(){return ee.fn.collapse=oe,this},ee(document).on('click.bs.collapse.data-api','[data-toggle="collapse"]',function(ie){var se=ee(this);se.attr('data-target')||ie.preventDefault();var re=te(se),le=re.data('bs.collapse'),de=le?'toggle':ee.extend({},se.data(),{trigger:this});ae.call(re,de)})}(jQuery),+function(ee){'use strict';// DROPDOWN CLASS DEFINITION
// =========================
function te(se){se&&3===se.which||(ee('.dropdown-backdrop').remove(),ee(ne).each(function(){var ge=ee(this),fe=ae(ge),ye={relatedTarget:this};fe.hasClass('open')&&(fe.trigger(se=ee.Event('hide.bs.dropdown',ye)),!se.isDefaultPrevented()&&(ge.attr('aria-expanded','false'),fe.removeClass('open').trigger('hidden.bs.dropdown',ye)))}))}function ae(se){var re=se.attr('data-target');re||(re=se.attr('href'),re=re&&/#[A-Za-z]/.test(re)&&re.replace(/.*(?=#[^\s]*$)/,''));var le=re&&ee(re);return le&&le.length?le:se.parent()}// DROPDOWN PLUGIN DEFINITION
// ==========================
var ne='[data-toggle="dropdown"]',oe=function(se){ee(se).on('click.bs.dropdown',this.toggle)};oe.VERSION='3.3.0',oe.prototype.toggle=function(se){var re=ee(this);if(!re.is('.disabled, :disabled')){var le=ae(re),de=le.hasClass('open');if(te(),!de){'ontouchstart'in document.documentElement&&!le.closest('.navbar-nav').length&&ee('<div class="dropdown-backdrop"/>').insertAfter(ee(this)).on('click',te);var ce={relatedTarget:this};if(le.trigger(se=ee.Event('show.bs.dropdown',ce)),se.isDefaultPrevented())return;re.trigger('focus').attr('aria-expanded','true'),le.toggleClass('open').trigger('shown.bs.dropdown',ce)}return!1}},oe.prototype.keydown=function(se){if(/(38|40|27|32)/.test(se.which)){var re=ee(this);// up
// down
if(se.preventDefault(),se.stopPropagation(),!re.is('.disabled, :disabled')){var le=ae(re),de=le.hasClass('open');if(!de&&27!=se.which||de&&27==se.which)return 27==se.which&&le.find(ne).trigger('focus'),re.trigger('click');var ce=' li:not(.divider):visible a',pe=le.find('[role="menu"]'+ce+', [role="listbox"]'+ce);if(pe.length){var ue=pe.index(se.target);38==se.which&&0<ue&&ue--,40==se.which&&ue<pe.length-1&&ue++,~ue||(ue=0),pe.eq(ue).trigger('focus')}}}};var ie=ee.fn.dropdown;ee.fn.dropdown=function(re){return this.each(function(){var le=ee(this),de=le.data('bs.dropdown');de||le.data('bs.dropdown',de=new oe(this)),'string'==typeof re&&de[re].call(le)})},ee.fn.dropdown.Constructor=oe,ee.fn.dropdown.noConflict=function(){return ee.fn.dropdown=ie,this},ee(document).on('click.bs.dropdown.data-api',te).on('click.bs.dropdown.data-api','.dropdown form',function(se){se.stopPropagation()}).on('click.bs.dropdown.data-api',ne,oe.prototype.toggle).on('keydown.bs.dropdown.data-api',ne,oe.prototype.keydown).on('keydown.bs.dropdown.data-api','[role="menu"]',oe.prototype.keydown).on('keydown.bs.dropdown.data-api','[role="listbox"]',oe.prototype.keydown)}(jQuery),+function(ee){'use strict';// MODAL CLASS DEFINITION
// ======================
// MODAL PLUGIN DEFINITION
// =======================
function te(oe,ie){return this.each(function(){var se=ee(this),re=se.data('bs.modal'),le=ee.extend({},ae.DEFAULTS,se.data(),'object'==typeof oe&&oe);re||se.data('bs.modal',re=new ae(this,le)),'string'==typeof oe?re[oe](ie):le.show&&re.show(ie)})}var ae=function(oe,ie){this.options=ie,this.$body=ee(document.body),this.$element=ee(oe),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find('.modal-content').load(this.options.remote,ee.proxy(function(){this.$element.trigger('loaded.bs.modal')},this))};ae.VERSION='3.3.0',ae.TRANSITION_DURATION=300,ae.BACKDROP_TRANSITION_DURATION=150,ae.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},ae.prototype.toggle=function(oe){return this.isShown?this.hide():this.show(oe)},ae.prototype.show=function(oe){var ie=this,se=ee.Event('show.bs.modal',{relatedTarget:oe});this.$element.trigger(se),this.isShown||se.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass('modal-open'),this.setScrollbar(),this.escape(),this.$element.on('click.dismiss.bs.modal','[data-dismiss="modal"]',ee.proxy(this.hide,this)),this.backdrop(function(){var ge=ee.support.transition&&ie.$element.hasClass('fade');ie.$element.parent().length||ie.$element.appendTo(ie.$body),ie.$element.show().scrollTop(0),ge&&ie.$element[0].offsetWidth,ie.$element.addClass('in').attr('aria-hidden',!1),ie.enforceFocus();var fe=ee.Event('shown.bs.modal',{relatedTarget:oe});ge?ie.$element.find('.modal-dialog')// wait for modal to slide in
.one('bsTransitionEnd',function(){ie.$element.trigger('focus').trigger(fe)}).emulateTransitionEnd(ae.TRANSITION_DURATION):ie.$element.trigger('focus').trigger(fe)}))},ae.prototype.hide=function(oe){oe&&oe.preventDefault(),oe=ee.Event('hide.bs.modal'),this.$element.trigger(oe),!this.isShown||oe.isDefaultPrevented()||(this.isShown=!1,this.escape(),ee(document).off('focusin.bs.modal'),this.$element.removeClass('in').attr('aria-hidden',!0).off('click.dismiss.bs.modal'),ee.support.transition&&this.$element.hasClass('fade')?this.$element.one('bsTransitionEnd',ee.proxy(this.hideModal,this)).emulateTransitionEnd(ae.TRANSITION_DURATION):this.hideModal())},ae.prototype.enforceFocus=function(){ee(document).off('focusin.bs.modal')// guard against infinite focus loop
.on('focusin.bs.modal',ee.proxy(function(oe){this.$element[0]===oe.target||this.$element.has(oe.target).length||this.$element.trigger('focus')},this))},ae.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on('keydown.dismiss.bs.modal',ee.proxy(function(oe){27==oe.which&&this.hide()},this)):!this.isShown&&this.$element.off('keydown.dismiss.bs.modal')},ae.prototype.hideModal=function(){var oe=this;this.$element.hide(),this.backdrop(function(){oe.$body.removeClass('modal-open'),oe.resetScrollbar(),oe.$element.trigger('hidden.bs.modal')})},ae.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},ae.prototype.backdrop=function(oe){var ie=this,se=this.$element.hasClass('fade')?'fade':'';if(this.isShown&&this.options.backdrop){var re=ee.support.transition&&se;if(this.$backdrop=ee('<div class="modal-backdrop '+se+'" />').prependTo(this.$element).on('click.dismiss.bs.modal',ee.proxy(function(de){de.target===de.currentTarget&&('static'==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),re&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass('in'),!oe)return;re?this.$backdrop.one('bsTransitionEnd',oe).emulateTransitionEnd(ae.BACKDROP_TRANSITION_DURATION):oe()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in');var le=function(){ie.removeBackdrop(),oe&&oe()};ee.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one('bsTransitionEnd',le).emulateTransitionEnd(ae.BACKDROP_TRANSITION_DURATION):le()}else oe&&oe()},ae.prototype.checkScrollbar=function(){this.scrollbarWidth=this.measureScrollbar()},ae.prototype.setScrollbar=function(){var oe=parseInt(this.$body.css('padding-right')||0,10);this.scrollbarWidth&&this.$body.css('padding-right',oe+this.scrollbarWidth)},ae.prototype.resetScrollbar=function(){this.$body.css('padding-right','')},ae.prototype.measureScrollbar=function(){// thx walsh
if(document.body.clientWidth>=window.innerWidth)return 0;var oe=document.createElement('div');oe.className='modal-scrollbar-measure',this.$body.append(oe);var ie=oe.offsetWidth-oe.clientWidth;return this.$body[0].removeChild(oe),ie};var ne=ee.fn.modal;ee.fn.modal=te,ee.fn.modal.Constructor=ae,ee.fn.modal.noConflict=function(){return ee.fn.modal=ne,this},ee(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(oe){var ie=ee(this),se=ie.attr('href'),re=ee(ie.attr('data-target')||se&&se.replace(/.*(?=#[^\s]+$)/,'')),le=re.data('bs.modal')?'toggle':ee.extend({remote:!/#/.test(se)&&se},re.data(),ie.data());// strip for ie7
ie.is('a')&&oe.preventDefault(),re.one('show.bs.modal',function(de){de.isDefaultPrevented()||re.one('hidden.bs.modal',function(){ie.is(':visible')&&ie.trigger('focus')})}),te.call(re,le,this)})}(jQuery),+function(ee){'use strict';// TOOLTIP PUBLIC CLASS DEFINITION
// ===============================
var te=function(ne,oe){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init('tooltip',ne,oe)};te.VERSION='3.3.0',te.TRANSITION_DURATION=150,te.DEFAULTS={animation:!0,placement:'top',selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:!1,container:!1,viewport:{selector:'body',padding:0}},te.prototype.init=function(ne,oe,ie){this.enabled=!0,this.type=ne,this.$element=ee(oe),this.options=this.getOptions(ie),this.$viewport=this.options.viewport&&ee(this.options.viewport.selector||this.options.viewport);var se=this.options.trigger.split(' ');for(var re=se.length;re--;){var le=se[re];if('click'==le)this.$element.on('click.'+this.type,this.options.selector,ee.proxy(this.toggle,this));else if('manual'!=le){var de='hover'==le?'mouseenter':'focusin',ce='hover'==le?'mouseleave':'focusout';this.$element.on(de+'.'+this.type,this.options.selector,ee.proxy(this.enter,this)),this.$element.on(ce+'.'+this.type,this.options.selector,ee.proxy(this.leave,this))}}this.options.selector?this._options=ee.extend({},this.options,{trigger:'manual',selector:''}):this.fixTitle()},te.prototype.getDefaults=function(){return te.DEFAULTS},te.prototype.getOptions=function(ne){return ne=ee.extend({},this.getDefaults(),this.$element.data(),ne),ne.delay&&'number'==typeof ne.delay&&(ne.delay={show:ne.delay,hide:ne.delay}),ne},te.prototype.getDelegateOptions=function(){var ne={},oe=this.getDefaults();return this._options&&ee.each(this._options,function(ie,se){oe[ie]!=se&&(ne[ie]=se)}),ne},te.prototype.enter=function(ne){var oe=ne instanceof this.constructor?ne:ee(ne.currentTarget).data('bs.'+this.type);return oe&&oe.$tip&&oe.$tip.is(':visible')?void(oe.hoverState='in'):(oe||(oe=new this.constructor(ne.currentTarget,this.getDelegateOptions()),ee(ne.currentTarget).data('bs.'+this.type,oe)),clearTimeout(oe.timeout),oe.hoverState='in',oe.options.delay&&oe.options.delay.show?void(oe.timeout=setTimeout(function(){'in'==oe.hoverState&&oe.show()},oe.options.delay.show)):oe.show())},te.prototype.leave=function(ne){var oe=ne instanceof this.constructor?ne:ee(ne.currentTarget).data('bs.'+this.type);return oe||(oe=new this.constructor(ne.currentTarget,this.getDelegateOptions()),ee(ne.currentTarget).data('bs.'+this.type,oe)),clearTimeout(oe.timeout),oe.hoverState='out',oe.options.delay&&oe.options.delay.hide?void(oe.timeout=setTimeout(function(){'out'==oe.hoverState&&oe.hide()},oe.options.delay.hide)):oe.hide()},te.prototype.show=function(){var ne=ee.Event('show.bs.'+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(ne);var oe=ee.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(ne.isDefaultPrevented()||!oe)return;var ie=this,se=this.tip(),re=this.getUID(this.type);this.setContent(),se.attr('id',re),this.$element.attr('aria-describedby',re),this.options.animation&&se.addClass('fade');var le='function'==typeof this.options.placement?this.options.placement.call(this,se[0],this.$element[0]):this.options.placement,de=/\s?auto?\s?/i,ce=de.test(le);ce&&(le=le.replace(de,'')||'top'),se.detach().css({top:0,left:0,display:'block'}).addClass(le).data('bs.'+this.type,this),this.options.container?se.appendTo(this.options.container):se.insertAfter(this.$element);var pe=this.getPosition(),ue=se[0].offsetWidth,he=se[0].offsetHeight;if(ce){var ge=le,fe=this.options.container?ee(this.options.container):this.$element.parent(),ye=this.getPosition(fe);le='bottom'==le&&pe.bottom+he>ye.bottom?'top':'top'==le&&pe.top-he<ye.top?'bottom':'right'==le&&pe.right+ue>ye.width?'left':'left'==le&&pe.left-ue<ye.left?'right':le,se.removeClass(ge).addClass(le)}var be=this.getCalculatedOffset(le,pe,ue,he);this.applyPlacement(be,le);var _e=function(){var ve=ie.hoverState;ie.$element.trigger('shown.bs.'+ie.type),ie.hoverState=null,'out'==ve&&ie.leave(ie)};ee.support.transition&&this.$tip.hasClass('fade')?se.one('bsTransitionEnd',_e).emulateTransitionEnd(te.TRANSITION_DURATION):_e()}},te.prototype.applyPlacement=function(ne,oe){var ie=this.tip(),se=ie[0].offsetWidth,re=ie[0].offsetHeight,le=parseInt(ie.css('margin-top'),10),de=parseInt(ie.css('margin-left'),10);// manually read margins because getBoundingClientRect includes difference
// we must check for NaN for ie 8/9
isNaN(le)&&(le=0),isNaN(de)&&(de=0),ne.top=ne.top+le,ne.left=ne.left+de,ee.offset.setOffset(ie[0],ee.extend({using:function(ye){ie.css({top:Math.round(ye.top),left:Math.round(ye.left)})}},ne),0),ie.addClass('in');// check to see if placing tip in new offset caused the tip to resize itself
var ce=ie[0].offsetWidth,pe=ie[0].offsetHeight;'top'==oe&&pe!=re&&(ne.top=ne.top+re-pe);var ue=this.getViewportAdjustedDelta(oe,ne,ce,pe);ue.left?ne.left+=ue.left:ne.top+=ue.top;var he=/top|bottom/.test(oe),ge=he?2*ue.left-se+ce:2*ue.top-re+pe,fe=he?'offsetWidth':'offsetHeight';ie.offset(ne),this.replaceArrow(ge,ie[0][fe],he)},te.prototype.replaceArrow=function(ne,oe,ie){this.arrow().css(ie?'left':'top',50*(1-ne/oe)+'%').css(ie?'top':'left','')},te.prototype.setContent=function(){var ne=this.tip(),oe=this.getTitle();ne.find('.tooltip-inner')[this.options.html?'html':'text'](oe),ne.removeClass('fade in top bottom left right')},te.prototype.hide=function(ne){function oe(){'in'!=ie.hoverState&&se.detach(),ie.$element.removeAttr('aria-describedby').trigger('hidden.bs.'+ie.type),ne&&ne()}var ie=this,se=this.tip(),re=ee.Event('hide.bs.'+this.type);if(this.$element.trigger(re),!re.isDefaultPrevented())return se.removeClass('in'),ee.support.transition&&this.$tip.hasClass('fade')?se.one('bsTransitionEnd',oe).emulateTransitionEnd(te.TRANSITION_DURATION):oe(),this.hoverState=null,this},te.prototype.fixTitle=function(){var ne=this.$element;(ne.attr('title')||'string'!=typeof ne.attr('data-original-title'))&&ne.attr('data-original-title',ne.attr('title')||'').attr('title','')},te.prototype.hasContent=function(){return this.getTitle()},te.prototype.getPosition=function(ne){ne=ne||this.$element;var oe=ne[0],ie='BODY'==oe.tagName,se=oe.getBoundingClientRect();null==se.width&&(se=ee.extend({},se,{width:se.right-se.left,height:se.bottom-se.top}));var re=ie?{top:0,left:0}:ne.offset(),le={scroll:ie?document.documentElement.scrollTop||document.body.scrollTop:ne.scrollTop()},de=ie?{width:ee(window).width(),height:ee(window).height()}:null;return ee.extend({},se,le,de,re)},te.prototype.getCalculatedOffset=function(ne,oe,ie,se){return'bottom'==ne?{top:oe.top+oe.height,left:oe.left+oe.width/2-ie/2}:'top'==ne?{top:oe.top-se,left:oe.left+oe.width/2-ie/2}:'left'==ne?{top:oe.top+oe.height/2-se/2,left:oe.left-ie}:/* placement == 'right' */{top:oe.top+oe.height/2-se/2,left:oe.left+oe.width}},te.prototype.getViewportAdjustedDelta=function(ne,oe,ie,se){var re={top:0,left:0};if(!this.$viewport)return re;var le=this.options.viewport&&this.options.viewport.padding||0,de=this.getPosition(this.$viewport);if(/right|left/.test(ne)){var ce=oe.top-le-de.scroll,pe=oe.top+le-de.scroll+se;ce<de.top?re.top=de.top-ce:pe>de.top+de.height&&(re.top=de.top+de.height-pe)}else{var ue=oe.left-le,he=oe.left+le+ie;ue<de.left?re.left=de.left-ue:he>de.width&&(re.left=de.left+de.width-he)}return re},te.prototype.getTitle=function(){var oe=this.$element,ie=this.options,ne;return ne=oe.attr('data-original-title')||('function'==typeof ie.title?ie.title.call(oe[0]):ie.title),ne},te.prototype.getUID=function(ne){do ne+=~~(1000000*Math.random());while(document.getElementById(ne));return ne},te.prototype.tip=function(){return this.$tip=this.$tip||ee(this.options.template)},te.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow')},te.prototype.enable=function(){this.enabled=!0},te.prototype.disable=function(){this.enabled=!1},te.prototype.toggleEnabled=function(){this.enabled=!this.enabled},te.prototype.toggle=function(ne){var oe=this;ne&&(oe=ee(ne.currentTarget).data('bs.'+this.type),!oe&&(oe=new this.constructor(ne.currentTarget,this.getDelegateOptions()),ee(ne.currentTarget).data('bs.'+this.type,oe))),oe.tip().hasClass('in')?oe.leave(oe):oe.enter(oe)},te.prototype.destroy=function(){var ne=this;clearTimeout(this.timeout),this.hide(function(){ne.$element.off('.'+ne.type).removeData('bs.'+ne.type)})};var ae=ee.fn.tooltip;ee.fn.tooltip=// TOOLTIP PLUGIN DEFINITION
// =========================
function(oe){return this.each(function(){var ie=ee(this),se=ie.data('bs.tooltip'),re='object'==typeof oe&&oe,le=re&&re.selector;!se&&'destroy'==oe||(le?(!se&&ie.data('bs.tooltip',se={}),!se[le]&&(se[le]=new te(this,re))):!se&&ie.data('bs.tooltip',se=new te(this,re)),'string'==typeof oe&&se[oe]())})},ee.fn.tooltip.Constructor=te,ee.fn.tooltip.noConflict=function(){return ee.fn.tooltip=ae,this}}(jQuery),+function(ee){'use strict';// POPOVER PUBLIC CLASS DEFINITION
// ===============================
var te=function(ne,oe){this.init('popover',ne,oe)};if(!ee.fn.tooltip)throw new Error('Popover requires tooltip.js');te.VERSION='3.3.0',te.DEFAULTS=ee.extend({},ee.fn.tooltip.Constructor.DEFAULTS,{placement:'right',trigger:'click',content:'',template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),te.prototype=ee.extend({},ee.fn.tooltip.Constructor.prototype),te.prototype.constructor=te,te.prototype.getDefaults=function(){return te.DEFAULTS},te.prototype.setContent=function(){var ne=this.tip(),oe=this.getTitle(),ie=this.getContent();ne.find('.popover-title')[this.options.html?'html':'text'](oe),ne.find('.popover-content').children().detach().end()[// we use append for html objects to maintain js events
this.options.html?'string'==typeof ie?'html':'append':'text'](ie),ne.removeClass('fade top bottom left right in'),ne.find('.popover-title').html()||ne.find('.popover-title').hide()},te.prototype.hasContent=function(){return this.getTitle()||this.getContent()},te.prototype.getContent=function(){var ne=this.$element,oe=this.options;return ne.attr('data-content')||('function'==typeof oe.content?oe.content.call(ne[0]):oe.content)},te.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find('.arrow')},te.prototype.tip=function(){return this.$tip||(this.$tip=ee(this.options.template)),this.$tip};var ae=ee.fn.popover;ee.fn.popover=// POPOVER PLUGIN DEFINITION
// =========================
function(oe){return this.each(function(){var ie=ee(this),se=ie.data('bs.popover'),re='object'==typeof oe&&oe,le=re&&re.selector;!se&&'destroy'==oe||(le?(!se&&ie.data('bs.popover',se={}),!se[le]&&(se[le]=new te(this,re))):!se&&ie.data('bs.popover',se=new te(this,re)),'string'==typeof oe&&se[oe]())})},ee.fn.popover.Constructor=te,ee.fn.popover.noConflict=function(){return ee.fn.popover=ae,this}}(jQuery),+function(ee){'use strict';// SCROLLSPY CLASS DEFINITION
// ==========================
function te(oe,ie){var se=ee.proxy(this.process,this);this.$body=ee('body'),this.$scrollElement=ee(oe).is('body')?ee(window):ee(oe),this.options=ee.extend({},te.DEFAULTS,ie),this.selector=(this.options.target||'')+' .nav li > a',this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on('scroll.bs.scrollspy',se),this.refresh(),this.process()}// SCROLLSPY PLUGIN DEFINITION
// ===========================
function ae(oe){return this.each(function(){var ie=ee(this),se=ie.data('bs.scrollspy');se||ie.data('bs.scrollspy',se=new te(this,'object'==typeof oe&&oe)),'string'==typeof oe&&se[oe]()})}te.VERSION='3.3.0',te.DEFAULTS={offset:10},te.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},te.prototype.refresh=function(){var oe='offset',ie=0;ee.isWindow(this.$scrollElement[0])||(oe='position',ie=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var se=this;this.$body.find(this.selector).map(function(){var re=ee(this),le=re.data('target')||re.attr('href'),de=/^#./.test(le)&&ee(le);return de&&de.length&&de.is(':visible')&&[[de[oe]().top+ie,le]]||null}).sort(function(re,le){return re[0]-le[0]}).each(function(){se.offsets.push(this[0]),se.targets.push(this[1])})},te.prototype.process=function(){var oe=this.$scrollElement.scrollTop()+this.options.offset,ie=this.getScrollHeight(),se=this.options.offset+ie-this.$scrollElement.height(),re=this.offsets,le=this.targets,de=this.activeTarget,ce;if(this.scrollHeight!=ie&&this.refresh(),oe>=se)return de!=(ce=le[le.length-1])&&this.activate(ce);if(de&&oe<re[0])return this.activeTarget=null,this.clear();for(ce=re.length;ce--;)de!=le[ce]&&oe>=re[ce]&&(!re[ce+1]||oe<=re[ce+1])&&this.activate(le[ce])},te.prototype.activate=function(oe){this.activeTarget=oe,this.clear();var ie=this.selector+'[data-target="'+oe+'"],'+this.selector+'[href="'+oe+'"]',se=ee(ie).parents('li').addClass('active');se.parent('.dropdown-menu').length&&(se=se.closest('li.dropdown').addClass('active')),se.trigger('activate.bs.scrollspy')},te.prototype.clear=function(){ee(this.selector).parentsUntil(this.options.target,'.active').removeClass('active')};var ne=ee.fn.scrollspy;ee.fn.scrollspy=ae,ee.fn.scrollspy.Constructor=te,ee.fn.scrollspy.noConflict=function(){return ee.fn.scrollspy=ne,this},ee(window).on('load.bs.scrollspy.data-api',function(){ee('[data-spy="scroll"]').each(function(){var oe=ee(this);ae.call(oe,oe.data())})})}(jQuery),+function(ee){'use strict';// TAB CLASS DEFINITION
// ====================
// TAB PLUGIN DEFINITION
// =====================
function te(ie){return this.each(function(){var se=ee(this),re=se.data('bs.tab');re||se.data('bs.tab',re=new ae(this)),'string'==typeof ie&&re[ie]()})}var ae=function(ie){this.element=ee(ie)};ae.VERSION='3.3.0',ae.TRANSITION_DURATION=150,ae.prototype.show=function(){var ie=this.element,se=ie.closest('ul:not(.dropdown-menu)'),re=ie.data('target');if(re||(re=ie.attr('href'),re=re&&re.replace(/.*(?=#[^\s]*$)/,'')),!ie.parent('li').hasClass('active')){var le=se.find('.active:last a'),de=ee.Event('hide.bs.tab',{relatedTarget:ie[0]}),ce=ee.Event('show.bs.tab',{relatedTarget:le[0]});if(le.trigger(de),ie.trigger(ce),!(ce.isDefaultPrevented()||de.isDefaultPrevented())){var pe=ee(re);this.activate(ie.closest('li'),se),this.activate(pe,pe.parent(),function(){le.trigger({type:'hidden.bs.tab',relatedTarget:ie[0]}),ie.trigger({type:'shown.bs.tab',relatedTarget:le[0]})})}}},ae.prototype.activate=function(ie,se,re){function le(){de.removeClass('active').find('> .dropdown-menu > .active').removeClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',!1),ie.addClass('active').find('[data-toggle="tab"]').attr('aria-expanded',!0),ce?(ie[0].offsetWidth,ie.addClass('in')):ie.removeClass('fade'),ie.parent('.dropdown-menu')&&ie.closest('li.dropdown').addClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',!0),re&&re()}var de=se.find('> .active'),ce=re&&ee.support.transition&&(de.length&&de.hasClass('fade')||!!se.find('> .fade').length);de.length&&ce?de.one('bsTransitionEnd',le).emulateTransitionEnd(ae.TRANSITION_DURATION):le(),de.removeClass('in')};var ne=ee.fn.tab;ee.fn.tab=te,ee.fn.tab.Constructor=ae,ee.fn.tab.noConflict=function(){return ee.fn.tab=ne,this};// TAB DATA-API
// ============
var oe=function(ie){ie.preventDefault(),te.call(ee(this),'show')};ee(document).on('click.bs.tab.data-api','[data-toggle="tab"]',oe).on('click.bs.tab.data-api','[data-toggle="pill"]',oe)}(jQuery),+function(ee){'use strict';// AFFIX CLASS DEFINITION
// ======================
// AFFIX PLUGIN DEFINITION
// =======================
function te(oe){return this.each(function(){var ie=ee(this),se=ie.data('bs.affix');se||ie.data('bs.affix',se=new ae(this,'object'==typeof oe&&oe)),'string'==typeof oe&&se[oe]()})}var ae=function(oe,ie){this.options=ee.extend({},ae.DEFAULTS,ie),this.$target=ee(this.options.target).on('scroll.bs.affix.data-api',ee.proxy(this.checkPosition,this)).on('click.bs.affix.data-api',ee.proxy(this.checkPositionWithEventLoop,this)),this.$element=ee(oe),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};ae.VERSION='3.3.0',ae.RESET='affix affix-top affix-bottom',ae.DEFAULTS={offset:0,target:window},ae.prototype.getState=function(oe,ie,se,re){var le=this.$target.scrollTop(),de=this.$element.offset(),ce=this.$target.height();if(null!=se&&'top'==this.affixed)return!!(le<se)&&'top';if('bottom'==this.affixed)return null==se?!(le+ce<=oe-re)&&'bottom':!(le+this.unpin<=de.top)&&'bottom';var pe=null==this.affixed,ue=pe?le:de.top,he=pe?ce:ie;return null!=se&&ue<=se?'top':null!=re&&ue+he>=oe-re&&'bottom'},ae.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(ae.RESET).addClass('affix');var oe=this.$target.scrollTop(),ie=this.$element.offset();return this.pinnedOffset=ie.top-oe},ae.prototype.checkPositionWithEventLoop=function(){setTimeout(ee.proxy(this.checkPosition,this),1)},ae.prototype.checkPosition=function(){if(this.$element.is(':visible')){var oe=this.$element.height(),ie=this.options.offset,se=ie.top,re=ie.bottom,le=ee('body').height();'object'!=typeof ie&&(re=se=ie),'function'==typeof se&&(se=ie.top(this.$element)),'function'==typeof re&&(re=ie.bottom(this.$element));var de=this.getState(le,oe,se,re);if(this.affixed!=de){null!=this.unpin&&this.$element.css('top','');var ce='affix'+(de?'-'+de:''),pe=ee.Event(ce+'.bs.affix');if(this.$element.trigger(pe),pe.isDefaultPrevented())return;this.affixed=de,this.unpin='bottom'==de?this.getPinnedOffset():null,this.$element.removeClass(ae.RESET).addClass(ce).trigger(ce.replace('affix','affixed')+'.bs.affix')}'bottom'==de&&this.$element.offset({top:le-oe-re})}};var ne=ee.fn.affix;ee.fn.affix=te,ee.fn.affix.Constructor=ae,ee.fn.affix.noConflict=function(){return ee.fn.affix=ne,this},ee(window).on('load',function(){ee('[data-spy="affix"]').each(function(){var oe=ee(this),ie=oe.data();ie.offset=ie.offset||{},null!=ie.offsetBottom&&(ie.offset.bottom=ie.offsetBottom),null!=ie.offsetTop&&(ie.offset.top=ie.offsetTop),te.call(oe,ie)})})}(jQuery),function(ee){var te=function(){'use strict';return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(be){return!be||/^\s*$/.test(be)},escapeRegExChars:function(be){return be.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&')},isString:function(be){return'string'==typeof be},isNumber:function(be){return'number'==typeof be},isArray:ee.isArray,isFunction:ee.isFunction,isObject:ee.isPlainObject,isUndefined:function(be){return'undefined'==typeof be},toStr:function(_e){return te.isUndefined(_e)||null===_e?'':_e+''},bind:ee.proxy,each:function(be,_e){ee.each(be,function(we,xe){return _e(xe,we)})},map:ee.map,filter:ee.grep,every:function(be,_e){var ve=!0;return be?(ee.each(be,function(we,xe){if(!(ve=_e.call(null,xe,we,be)))return!1}),!!ve):ve},some:function(be,_e){var ve=!1;return be?(ee.each(be,function(we,xe){if(ve=_e.call(null,xe,we,be))return!1}),!!ve):ve},mixin:ee.extend,getUniqueId:function(){var be=0;return function(){return be++}}(),templatify:function(_e){return ee.isFunction(_e)?_e:function(){return _e+''}},defer:function(be){setTimeout(be,0)},debounce:function(be,_e,ve){var we,xe;return function(){var ke=this,Ce=arguments,Te,De;return Te=function(){we=null,ve||(xe=be.apply(ke,Ce))},De=ve&&!we,clearTimeout(we),we=setTimeout(Te,_e),De&&(xe=be.apply(ke,Ce)),xe}},throttle:function(be,_e){var ve,we,xe,ke,Ce,Te;return Ce=0,Te=function(){Ce=new Date,xe=null,ke=be.apply(ve,we)},function(){var De=new Date,Se=_e-(De-Ce);return ve=this,we=arguments,0>=Se?(clearTimeout(xe),xe=null,Ce=De,ke=be.apply(ve,we)):!xe&&(xe=setTimeout(Te,Se)),ke}},noop:function(){}}}(),ae=function(){'use strict';function be(we){return we=te.toStr(we),we?we.split(/\s+/):[]}function _e(we){return we=te.toStr(we),we?we.split(/\W+/):[]}function ve(we){return function(){var ke=[].slice.call(arguments,0);return function(Te){var De=[];return te.each(ke,function(Se){De=De.concat(we(te.toStr(Te[Se])))}),De}}}return{nonword:_e,whitespace:be,obj:{nonword:ve(_e),whitespace:ve(be)}}}(),ne=function(){'use strict';function be(we){this.maxSize=te.isNumber(we)?we:100,this.reset(),0>=this.maxSize&&(this.set=this.get=ee.noop)}function _e(){this.head=this.tail=null}function ve(we,xe){this.key=we,this.val=xe,this.prev=this.next=null}return te.mixin(be.prototype,{set:function(xe,ke){var Ce=this.list.tail,Te;this.size>=this.maxSize&&(this.list.remove(Ce),delete this.hash[Ce.key]),(Te=this.hash[xe])?(Te.val=ke,this.list.moveToFront(Te)):(Te=new ve(xe,ke),this.list.add(Te),this.hash[xe]=Te,this.size++)},get:function(xe){var ke=this.hash[xe];if(ke)return this.list.moveToFront(ke),ke.val},reset:function(){this.size=0,this.hash={},this.list=new _e}}),te.mixin(_e.prototype,{add:function(xe){this.head&&(xe.next=this.head,this.head.prev=xe),this.head=xe,this.tail=this.tail||xe},remove:function(xe){xe.prev?xe.prev.next=xe.next:this.head=xe.next,xe.next?xe.next.prev=xe.prev:this.tail=xe.prev},moveToFront:function(we){this.remove(we),this.add(we)}}),be}(),oe=function(){'use strict';function be(Ce){this.prefix=['__',Ce,'__'].join(''),this.ttlKey='__ttl__',this.keyMatcher=new RegExp('^'+te.escapeRegExChars(this.prefix))}function _e(){return new Date().getTime()}function ve(Ce){return JSON.stringify(te.isUndefined(Ce)?null:Ce)}function we(Ce){return JSON.parse(Ce)}var xe,ke;try{xe=window.localStorage,xe.setItem('~~~','!'),xe.removeItem('~~~')}catch(Ce){xe=null}return ke=xe&&window.JSON?{_prefix:function(Ce){return this.prefix+Ce},_ttlKey:function(Ce){return this._prefix(Ce)+this.ttlKey},get:function(Ce){return this.isExpired(Ce)&&this.remove(Ce),we(xe.getItem(this._prefix(Ce)))},set:function(Ce,Te,De){return te.isNumber(De)?xe.setItem(this._ttlKey(Ce),ve(_e()+De)):xe.removeItem(this._ttlKey(Ce)),xe.setItem(this._prefix(Ce),ve(Te))},remove:function(Ce){return xe.removeItem(this._ttlKey(Ce)),xe.removeItem(this._prefix(Ce)),this},clear:function(){var De=[],Se=xe.length,Ce,Te;for(Ce=0;Ce<Se;Ce++)(Te=xe.key(Ce)).match(this.keyMatcher)&&De.push(Te.replace(this.keyMatcher,''));for(Ce=De.length;Ce--;)this.remove(De[Ce]);return this},isExpired:function(Ce){var Te=we(xe.getItem(this._ttlKey(Ce)));return te.isNumber(Te)&&_e()>Te}}:{get:te.noop,set:te.noop,remove:te.noop,clear:te.noop,isExpired:te.noop},te.mixin(be.prototype,ke),be}(),ie=function(){'use strict';function be(Ce){Ce=Ce||{},this.cancelled=!1,this.lastUrl=null,this._send=Ce.transport?_e(Ce.transport):ee.ajax,this._get=Ce.rateLimiter?Ce.rateLimiter(this._get):this._get,this._cache=!1===Ce.cache?new ne(0):ke}function _e(Ce){return function(De,Se){var je=ee.Deferred();return Ce(De,Se,function(Pe){te.defer(function(){je.resolve(Pe)})},function(Pe){te.defer(function(){je.reject(Pe)})}),je}}var ve=0,we={},xe=6,ke=new ne(10);return be.setMaxPendingRequests=function(Te){xe=Te},be.resetCache=function(){ke.reset()},te.mixin(be.prototype,{_get:function(Ce,Te,De){function Se(Oe){De&&De(null,Oe),Pe._cache.set(Ce,Oe)}function je(){De&&De(!0)}function Ne(){ve--,delete we[Ce],Pe.onDeckRequestArgs&&(Pe._get.apply(Pe,Pe.onDeckRequestArgs),Pe.onDeckRequestArgs=null)}var Pe=this,Ee;this.cancelled||Ce!==this.lastUrl||((Ee=we[Ce])?Ee.done(Se).fail(je):ve<xe?(ve++,we[Ce]=this._send(Ce,Te).done(Se).fail(je).always(Ne)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(Ce,Te,De){var Se;return te.isFunction(Te)&&(De=Te,Te={}),this.cancelled=!1,this.lastUrl=Ce,(Se=this._cache.get(Ce))?te.defer(function(){De&&De(null,Se)}):this._get(Ce,Te,De),!!Se},cancel:function(){this.cancelled=!0}}),be}(),se=function(){'use strict';function be(ke){ke=ke||{},ke.datumTokenizer&&ke.queryTokenizer||ee.error('datumTokenizer and queryTokenizer are both required'),this.datumTokenizer=ke.datumTokenizer,this.queryTokenizer=ke.queryTokenizer,this.reset()}function _e(ke){return ke=te.filter(ke,function(Ce){return!!Ce}),ke=te.map(ke,function(Ce){return Ce.toLowerCase()}),ke}function ve(){return{ids:[],children:{}}}function we(ke){var Ce={},Te=[];for(var De=0,Se=ke.length;De<Se;De++)Ce[ke[De]]||(Ce[ke[De]]=!0,Te.push(ke[De]));return Te}function xe(ke,Ce){function Te(Ee,Oe){return Ee-Oe}var De=0,Se=0,je=[];ke=ke.sort(Te),Ce=Ce.sort(Te);for(var Ne=ke.length,Pe=Ce.length;De<Ne&&Se<Pe;)ke[De]<Ce[Se]?De++:ke[De]>Ce[Se]?Se++:(je.push(ke[De]),De++,Se++);return je}return te.mixin(be.prototype,{bootstrap:function(Ce){this.datums=Ce.datums,this.trie=Ce.trie},add:function(ke){var Ce=this;ke=te.isArray(ke)?ke:[ke],te.each(ke,function(Te){var De,Se;De=Ce.datums.push(Te)-1,Se=_e(Ce.datumTokenizer(Te)),te.each(Se,function(je){var Ne,Pe,Ee;for(Ne=Ce.trie,Pe=je.split('');Ee=Pe.shift();)Ne=Ne.children[Ee]||(Ne.children[Ee]=ve()),Ne.ids.push(De)})})},get:function(Ce){var Te=this,De,Se;return De=_e(this.queryTokenizer(Ce)),te.each(De,function(je){var Ne,Pe,Ee,Oe;if(Se&&0===Se.length)return!1;for(Ne=Te.trie,Pe=je.split('');Ne&&(Ee=Pe.shift());)Ne=Ne.children[Ee];return Ne&&0===Pe.length?void(Oe=Ne.ids.slice(0),Se=Se?xe(Se,Oe):Oe):(Se=[],!1)}),Se?te.map(we(Se),function(je){return Te.datums[je]}):[]},reset:function(){this.datums=[],this.trie=ve()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),be}(),re=function(){'use strict';return{local:function(_e){return _e.local||null},prefetch:function(_e){var ve,we;return we={url:null,thumbprint:'',ttl:86400000,filter:null,ajax:{}},(ve=_e.prefetch||null)&&(ve=te.isString(ve)?{url:ve}:ve,ve=te.mixin(we,ve),ve.thumbprint='0.10.5'+ve.thumbprint,ve.ajax.type=ve.ajax.type||'GET',ve.ajax.dataType=ve.ajax.dataType||'json',!ve.url&&ee.error('prefetch requires url to be set')),ve},remote:function(_e){function ve(Ce){return function(Te){return te.debounce(Te,Ce)}}function we(Ce){return function(Te){return te.throttle(Te,Ce)}}var xe,ke;return ke={url:null,cache:!0,wildcard:'%QUERY',replace:null,rateLimitBy:'debounce',rateLimitWait:300,send:null,filter:null,ajax:{}},(xe=_e.remote||null)&&(xe=te.isString(xe)?{url:xe}:xe,xe=te.mixin(ke,xe),xe.rateLimiter=/^throttle$/i.test(xe.rateLimitBy)?we(xe.rateLimitWait):ve(xe.rateLimitWait),xe.ajax.type=xe.ajax.type||'GET',xe.ajax.dataType=xe.ajax.dataType||'json',delete xe.rateLimitBy,delete xe.rateLimitWait,!xe.url&&ee.error('remote requires url to be set')),xe}}}();(function(be){'use strict';function _e(Ce){Ce&&(Ce.local||Ce.prefetch||Ce.remote)||ee.error('one of local, prefetch, or remote is required'),this.limit=Ce.limit||5,this.sorter=ve(Ce.sorter),this.dupDetector=Ce.dupDetector||we,this.local=re.local(Ce),this.prefetch=re.prefetch(Ce),this.remote=re.remote(Ce),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new se({datumTokenizer:Ce.datumTokenizer,queryTokenizer:Ce.queryTokenizer}),this.storage=this.cacheKey?new oe(this.cacheKey):null}function ve(Ce){return te.isFunction(Ce)?function(De){return De.sort(Ce)}:function(De){return De}}function we(){return!1}var xe,ke;return xe=be.Bloodhound,ke={data:'data',protocol:'protocol',thumbprint:'thumbprint'},be.Bloodhound=_e,_e.noConflict=function(){return be.Bloodhound=xe,_e},_e.tokenizers=ae,te.mixin(_e.prototype,{_loadPrefetch:function(Te){function De(Pe){Se.clear(),Se.add(Te.filter?Te.filter(Pe):Pe),Se._saveToStorage(Se.index.serialize(),Te.thumbprint,Te.ttl)}var Se=this,je,Ne;return(je=this._readFromStorage(Te.thumbprint))?(this.index.bootstrap(je),Ne=ee.Deferred().resolve()):Ne=ee.ajax(Te.url,Te.ajax).done(De),Ne},_getFromRemote:function(Te,De){var Se=this,je,Ne;if(this.transport)return Te=Te||'',Ne=encodeURIComponent(Te),je=this.remote.replace?this.remote.replace(this.remote.url,Te):this.remote.url.replace(this.remote.wildcard,Ne),this.transport.get(je,this.remote.ajax,function(Ee,Oe){Ee?De([]):De(Se.remote.filter?Se.remote.filter(Oe):Oe)})},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(Te,De,Se){this.storage&&(this.storage.set(ke.data,Te,Se),this.storage.set(ke.protocol,location.protocol,Se),this.storage.set(ke.thumbprint,De,Se))},_readFromStorage:function(Te){var De={},Se;return this.storage&&(De.data=this.storage.get(ke.data),De.protocol=this.storage.get(ke.protocol),De.thumbprint=this.storage.get(ke.thumbprint)),Se=De.thumbprint!==Te||De.protocol!==location.protocol,De.data&&!Se?De.data:null},_initialize:function(){var Te=this,De=this.local,Se;return Se=this.prefetch?this._loadPrefetch(this.prefetch):ee.Deferred().resolve(),De&&Se.done(function(){Te.add(te.isFunction(De)?De():De)}),this.transport=this.remote?new ie(this.remote):null,this.initPromise=Se.promise()},initialize:function(Te){return!this.initPromise||Te?this._initialize():this.initPromise},add:function(Te){this.index.add(Te)},get:function(Te,De){var Se=this,je=[],Ne=!1;je=this.index.get(Te),je=this.sorter(je).slice(0,this.limit),je.length<this.limit?Ne=this._getFromRemote(Te,function(Ee){var Oe=je.slice(0);te.each(Ee,function(Ae){var Ie=te.some(Oe,function(Le){return Se.dupDetector(Ae,Le)});return Ie||Oe.push(Ae),Oe.length<Se.limit}),De&&De(Se.sorter(Oe))}):this._cancelLastRemoteRequest(),!Ne&&(0<je.length||!this.transport)&&De&&De(je)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&ie.resetCache()},ttAdapter:function(){return te.bind(this.get,this)}}),_e})(this);var le=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),de=function(){'use strict';var be={wrapper:{position:'relative',display:'inline-block'},hint:{position:'absolute',top:'0',left:'0',borderColor:'transparent',boxShadow:'none',opacity:'1'},input:{position:'relative',verticalAlign:'top',backgroundColor:'transparent'},inputWithNoHint:{position:'relative',verticalAlign:'top'},dropdown:{position:'absolute',top:'100%',left:'0',zIndex:'100',display:'none'},suggestions:{display:'block'},suggestion:{whiteSpace:'nowrap',cursor:'pointer'},suggestionChild:{whiteSpace:'normal'},ltr:{left:'0',right:'auto'},rtl:{left:'auto',right:' 0'}};return te.isMsie()&&te.mixin(be.input,{backgroundImage:'url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)'}),te.isMsie()&&7>=te.isMsie()&&te.mixin(be.input,{marginTop:'-1px'}),be}(),ce=function(){'use strict';function be(_e){_e&&_e.el||ee.error('EventBus initialized without el'),this.$el=ee(_e.el)}return te.mixin(be.prototype,{trigger:function(_e){var ve=[].slice.call(arguments,1);this.$el.trigger('typeahead:'+_e,ve)}}),be}(),pe=function(){'use strict';function be(ke,Ce,Te,De){var Se;if(!Te)return this;for(Ce=Ce.split(we),Te=De?ve(Te,De):Te,this._callbacks=this._callbacks||{};Se=Ce.shift();)this._callbacks[Se]=this._callbacks[Se]||{sync:[],async:[]},this._callbacks[Se][ke].push(Te);return this}function _e(ke,Ce,Te){return function(){var Se;for(var je=0,Ne=ke.length;!Se&&je<Ne;je+=1)Se=!1===ke[je].apply(Ce,Te);return!Se}}function ve(ke,Ce){return ke.bind?ke.bind(Ce):function(){ke.apply(Ce,[].slice.call(arguments,0))}}var we=/\s+/,xe=function(){var Ce;return Ce=window.setImmediate?function(De){setImmediate(function(){De()})}:function(De){setTimeout(function(){De()},0)},Ce}();return{onSync:function(Ce,Te,De){return be.call(this,'sync',Ce,Te,De)},onAsync:function(Ce,Te,De){return be.call(this,'async',Ce,Te,De)},off:function(Ce){var Te;if(!this._callbacks)return this;for(Ce=Ce.split(we);Te=Ce.shift();)delete this._callbacks[Te];return this},trigger:function(Ce){var Te,De,Se,je,Ne;if(!this._callbacks)return this;for(Ce=Ce.split(we),Se=[].slice.call(arguments,1);(Te=Ce.shift())&&(De=this._callbacks[Te]);)je=_e(De.sync,this,[Te].concat(Se)),Ne=_e(De.async,this,[Te].concat(Se)),je()&&xe(Ne);return this}}}(),ue=function(be){'use strict';function _e(we,xe,ke){var Ce=[],Te;for(var De=0,Se=we.length;De<Se;De++)Ce.push(te.escapeRegExChars(we[De]));return Te=ke?'\\b('+Ce.join('|')+')\\b':'('+Ce.join('|')+')',xe?new RegExp(Te):new RegExp(Te,'i')}var ve={node:null,pattern:null,tagName:'strong',className:null,wordsOnly:!1,caseSensitive:!1};return function(xe){function ke(Te,De){var Se;for(var je=0;je<Te.childNodes.length;je++)Se=Te.childNodes[je],3===Se.nodeType?je+=De(Se)?1:0:ke(Se,De)}var Ce;xe=te.mixin({},ve,xe);xe.node&&xe.pattern&&(xe.pattern=te.isArray(xe.pattern)?xe.pattern:[xe.pattern],Ce=_e(xe.pattern,xe.caseSensitive,xe.wordsOnly),ke(xe.node,function(De){var Se,je,Ne;return(Se=Ce.exec(De.data))&&(Ne=be.createElement(xe.tagName),xe.className&&(Ne.className=xe.className),je=De.splitText(Se.index),je.splitText(Se[0].length),Ne.appendChild(je.cloneNode(!0)),De.parentNode.replaceChild(Ne,je)),!!Se}))}}(window.document),he=function(){'use strict';function be(ke){var Ce=this,Te,De,Se,je;ke=ke||{},ke.input||ee.error('input is missing'),Te=te.bind(this._onBlur,this),De=te.bind(this._onFocus,this),Se=te.bind(this._onKeydown,this),je=te.bind(this._onInput,this),this.$hint=ee(ke.hint),this.$input=ee(ke.input).on('blur.tt',Te).on('focus.tt',De).on('keydown.tt',Se),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=te.noop),te.isMsie()?this.$input.on('keydown.tt keypress.tt cut.tt paste.tt',function(Ne){xe[Ne.which||Ne.keyCode]||te.defer(te.bind(Ce._onInput,Ce,Ne))}):this.$input.on('input.tt',je),this.query=this.$input.val(),this.$overflowHelper=_e(this.$input)}function _e(ke){return ee('<pre aria-hidden="true"></pre>').css({position:'absolute',visibility:'hidden',whiteSpace:'pre',fontFamily:ke.css('font-family'),fontSize:ke.css('font-size'),fontStyle:ke.css('font-style'),fontVariant:ke.css('font-variant'),fontWeight:ke.css('font-weight'),wordSpacing:ke.css('word-spacing'),letterSpacing:ke.css('letter-spacing'),textIndent:ke.css('text-indent'),textRendering:ke.css('text-rendering'),textTransform:ke.css('text-transform')}).insertAfter(ke)}function ve(ke,Ce){return be.normalizeQuery(ke)===be.normalizeQuery(Ce)}function we(ke){return ke.altKey||ke.ctrlKey||ke.metaKey||ke.shiftKey}var xe={9:'tab',27:'esc',37:'left',39:'right',13:'enter',38:'up',40:'down'};return be.normalizeQuery=function(ke){return(ke||'').replace(/^\s*/g,'').replace(/\s{2,}/g,' ')},te.mixin(be.prototype,pe,{_onBlur:function(){this.resetInputValue(),this.trigger('blurred')},_onFocus:function(){this.trigger('focused')},_onKeydown:function(Ce){var Te=xe[Ce.which||Ce.keyCode];this._managePreventDefault(Te,Ce),Te&&this._shouldTrigger(Te,Ce)&&this.trigger(Te+'Keyed',Ce)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(Ce,Te){var De,Se,je;'tab'===Ce?(Se=this.getHint(),je=this.getInputValue(),De=Se&&Se!=je&&!we(Te)):'up'===Ce||'down'===Ce?De=!we(Te):De=!1,De&&Te.preventDefault()},_shouldTrigger:function(Ce,Te){var De;return De='tab'!==Ce||!we(Te),De},_checkInputValue:function(){var Ce,Te,De;Ce=this.getInputValue(),Te=ve(Ce,this.query),De=!!Te&&this.query.length!==Ce.length,this.query=Ce,Te?De&&this.trigger('whitespaceChanged',this.query):this.trigger('queryChanged',this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(Ce){this.query=Ce},getInputValue:function(){return this.$input.val()},setInputValue:function(Ce,Te){this.$input.val(Ce),Te?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(Ce){this.$hint.val(Ce)},clearHint:function(){this.setHint('')},clearHintIfInvalid:function(){var Ce,Te,De,Se;Ce=this.getInputValue(),Te=this.getHint(),De=Ce!=Te&&0===Te.indexOf(Ce),Se=''!==Ce&&De&&!this.hasOverflow(),Se||this.clearHint()},getLanguageDirection:function(){return(this.$input.css('direction')||'ltr').toLowerCase()},hasOverflow:function(){var Ce=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=Ce},isCursorAtEnd:function(){var ke,Ce,Te;return(ke=this.$input.val().length,Ce=this.$input[0].selectionStart,te.isNumber(Ce))?Ce==ke:!document.selection||(Te=document.selection.createRange(),Te.moveStart('character',-ke),ke===Te.text.length)},destroy:function(){this.$hint.off('.tt'),this.$input.off('.tt'),this.$hint=this.$input=this.$overflowHelper=null}}),be}(),ge=function(){'use strict';function be(Te){Te=Te||{},Te.templates=Te.templates||{},Te.source||ee.error('missing source'),Te.name&&!we(Te.name)&&ee.error('invalid dataset name: '+Te.name),this.query=null,this.highlight=!!Te.highlight,this.name=Te.name||te.getUniqueId(),this.source=Te.source,this.displayFn=_e(Te.display||Te.displayKey),this.templates=ve(Te.templates,this.displayFn),this.$el=ee(le.dataset.replace('%CLASS%',this.name))}function _e(Te){return Te=Te||'value',te.isFunction(Te)?Te:function(Se){return Se[Te]}}function ve(Te,De){return{empty:Te.empty&&te.templatify(Te.empty),header:Te.header&&te.templatify(Te.header),footer:Te.footer&&te.templatify(Te.footer),suggestion:Te.suggestion||function(je){return'<p>'+De(je)+'</p>'}}}function we(Te){return /^[_a-zA-Z0-9-]+$/.test(Te)}var xe='ttDataset',ke='ttValue',Ce='ttDatum';return be.extractDatasetName=function(De){return ee(De).data(xe)},be.extractValue=function(De){return ee(De).data(ke)},be.extractDatum=function(De){return ee(De).data(Ce)},te.mixin(be.prototype,pe,{_render:function(De,Se){function je(){return Oe.templates.empty({query:De,isEmpty:!0})}function Ne(){var Ie,Le;return Ie=ee(le.suggestions).css(de.suggestions),Le=te.map(Se,function(Me){var ze=ee(le.suggestion).append(Oe.templates.suggestion(Me)).data(xe,Oe.name).data(ke,Oe.displayFn(Me)).data(Ce,Me);return ze.children().each(function(){ee(this).css(de.suggestionChild)}),ze}),Ie.append.apply(Ie,Le),Oe.highlight&&ue({className:'tt-highlight',node:Ie[0],pattern:De}),Ie}function Pe(){return Oe.templates.header({query:De,isEmpty:!Ae})}function Ee(){return Oe.templates.footer({query:De,isEmpty:!Ae})}if(this.$el){var Oe=this,Ae;this.$el.empty(),Ae=Se&&Se.length,!Ae&&this.templates.empty?this.$el.html(je()).prepend(Oe.templates.header?Pe():null).append(Oe.templates.footer?Ee():null):Ae&&this.$el.html(Ne()).prepend(Oe.templates.header?Pe():null).append(Oe.templates.footer?Ee():null),this.trigger('rendered')}},getRoot:function(){return this.$el},update:function(De){var Se=this;this.query=De,this.canceled=!1,this.source(De,function(Ne){Se.canceled||De!==Se.query||Se._render(De,Ne)})},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger('rendered')},isEmpty:function(){return this.$el.is(':empty')},destroy:function(){this.$el=null}}),be}(),fe=function(){'use strict';function be(ve){var we=this,xe,ke,Ce;ve=ve||{},ve.menu||ee.error('menu is required'),this.isOpen=!1,this.isEmpty=!0,this.datasets=te.map(ve.datasets,_e),xe=te.bind(this._onSuggestionClick,this),ke=te.bind(this._onSuggestionMouseEnter,this),Ce=te.bind(this._onSuggestionMouseLeave,this),this.$menu=ee(ve.menu).on('click.tt','.tt-suggestion',xe).on('mouseenter.tt','.tt-suggestion',ke).on('mouseleave.tt','.tt-suggestion',Ce),te.each(this.datasets,function(Te){we.$menu.append(Te.getRoot()),Te.onSync('rendered',we._onRendered,we)})}function _e(ve){return new ge(ve)}return te.mixin(be.prototype,pe,{_onSuggestionClick:function(we){this.trigger('suggestionClicked',ee(we.currentTarget))},_onSuggestionMouseEnter:function(we){this._removeCursor(),this._setCursor(ee(we.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){this.isEmpty=te.every(this.datasets,function(xe){return xe.isEmpty()}),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger('datasetRendered')},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css('display','block')},_getSuggestions:function(){return this.$menu.find('.tt-suggestion')},_getCursor:function(){return this.$menu.find('.tt-cursor').first()},_setCursor:function(we,xe){we.first().addClass('tt-cursor'),xe||this.trigger('cursorMoved')},_removeCursor:function(){this._getCursor().removeClass('tt-cursor')},_moveCursor:function(we){var xe,ke,Ce,Te;if(this.isOpen){if(ke=this._getCursor(),xe=this._getSuggestions(),this._removeCursor(),Ce=xe.index(ke)+we,Ce=(Ce+1)%(xe.length+1)-1,-1===Ce)return void this.trigger('cursorRemoved');-1>Ce&&(Ce=xe.length-1),this._setCursor(Te=xe.eq(Ce)),this._ensureVisible(Te)}},_ensureVisible:function(we){var xe,ke,Ce,Te;xe=we.position().top,ke=xe+we.outerHeight(!0),Ce=this.$menu.scrollTop(),Te=this.$menu.height()+parseInt(this.$menu.css('paddingTop'),10)+parseInt(this.$menu.css('paddingBottom'),10),0>xe?this.$menu.scrollTop(Ce+xe):Te<ke&&this.$menu.scrollTop(Ce+(ke-Te))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger('closed'))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger('opened'))},setLanguageDirection:function(we){this.$menu.css('ltr'===we?de.ltr:de.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(we){var xe=null;return we.length&&(xe={raw:ge.extractDatum(we),value:ge.extractValue(we),datasetName:ge.extractDatasetName(we)}),xe},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(we){te.each(this.datasets,function(ke){ke.update(we)})},empty:function(){te.each(this.datasets,function(xe){xe.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off('.tt'),this.$menu=null,te.each(this.datasets,function(xe){xe.destroy()})}}),be}(),ye=function(){'use strict';function be(ke){var Ce,Te,De;ke=ke||{},ke.input||ee.error('missing input'),this.isActivated=!1,this.autoselect=!!ke.autoselect,this.minLength=te.isNumber(ke.minLength)?ke.minLength:1,this.$node=_e(ke.input,ke.withHint),Ce=this.$node.find('.tt-dropdown-menu'),Te=this.$node.find('.tt-input'),De=this.$node.find('.tt-hint'),Te.on('blur.tt',function(Se){var je,Ne,Pe;je=document.activeElement,Ne=Ce.is(je),Pe=0<Ce.has(je).length,te.isMsie()&&(Ne||Pe)&&(Se.preventDefault(),Se.stopImmediatePropagation(),te.defer(function(){Te.focus()}))}),Ce.on('mousedown.tt',function(Se){Se.preventDefault()}),this.eventBus=ke.eventBus||new ce({el:Te}),this.dropdown=new fe({menu:Ce,datasets:ke.datasets}).onSync('suggestionClicked',this._onSuggestionClicked,this).onSync('cursorMoved',this._onCursorMoved,this).onSync('cursorRemoved',this._onCursorRemoved,this).onSync('opened',this._onOpened,this).onSync('closed',this._onClosed,this).onAsync('datasetRendered',this._onDatasetRendered,this),this.input=new he({input:Te,hint:De}).onSync('focused',this._onFocused,this).onSync('blurred',this._onBlurred,this).onSync('enterKeyed',this._onEnterKeyed,this).onSync('tabKeyed',this._onTabKeyed,this).onSync('escKeyed',this._onEscKeyed,this).onSync('upKeyed',this._onUpKeyed,this).onSync('downKeyed',this._onDownKeyed,this).onSync('leftKeyed',this._onLeftKeyed,this).onSync('rightKeyed',this._onRightKeyed,this).onSync('queryChanged',this._onQueryChanged,this).onSync('whitespaceChanged',this._onWhitespaceChanged,this),this._setLanguageDirection()}function _e(ke,Ce){var Te,De,Se,je;Te=ee(ke),De=ee(le.wrapper).css(de.wrapper),Se=ee(le.dropdown).css(de.dropdown),je=Te.clone().css(de.hint).css(ve(Te)),je.val('').removeData().addClass('tt-hint').removeAttr('id name placeholder required').prop('readonly',!0).attr({autocomplete:'off',spellcheck:'false',tabindex:-1}),Te.data(xe,{dir:Te.attr('dir'),autocomplete:Te.attr('autocomplete'),spellcheck:Te.attr('spellcheck'),style:Te.attr('style')}),Te.addClass('tt-input').attr({autocomplete:'off',spellcheck:!1}).css(Ce?de.input:de.inputWithNoHint);try{Te.attr('dir')||Te.attr('dir','auto')}catch(Ne){}return Te.wrap(De).parent().prepend(Ce?je:null).append(Se)}function ve(ke){return{backgroundAttachment:ke.css('background-attachment'),backgroundClip:ke.css('background-clip'),backgroundColor:ke.css('background-color'),backgroundImage:ke.css('background-image'),backgroundOrigin:ke.css('background-origin'),backgroundPosition:ke.css('background-position'),backgroundRepeat:ke.css('background-repeat'),backgroundSize:ke.css('background-size')}}function we(ke){var Ce=ke.find('.tt-input');te.each(Ce.data(xe),function(Te,De){te.isUndefined(Te)?Ce.removeAttr(De):Ce.attr(De,Te)}),Ce.detach().removeData(xe).removeClass('tt-input').insertAfter(ke),ke.remove()}var xe='ttAttrs';return te.mixin(be.prototype,{_onSuggestionClicked:function(Ce,Te){var De;(De=this.dropdown.getDatumForSuggestion(Te))&&this._select(De)},_onCursorMoved:function(){var Ce=this.dropdown.getDatumForCursor();this.input.setInputValue(Ce.value,!0),this.eventBus.trigger('cursorchanged',Ce.raw,Ce.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger('opened')},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger('closed')},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(Ce,Te){var De,Se;De=this.dropdown.getDatumForCursor(),Se=this.dropdown.getDatumForTopSuggestion(),De?(this._select(De),Te.preventDefault()):this.autoselect&&Se&&(this._select(Se),Te.preventDefault())},_onTabKeyed:function(Ce,Te){var De;(De=this.dropdown.getDatumForCursor())?(this._select(De),Te.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var Ce=this.input.getQuery();this.dropdown.isEmpty&&Ce.length>=this.minLength?this.dropdown.update(Ce):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var Ce=this.input.getQuery();this.dropdown.isEmpty&&Ce.length>=this.minLength?this.dropdown.update(Ce):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){'rtl'===this.dir&&this._autocomplete()},_onRightKeyed:function(){'ltr'===this.dir&&this._autocomplete()},_onQueryChanged:function(Ce,Te){this.input.clearHintIfInvalid(),Te.length>=this.minLength?this.dropdown.update(Te):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var Ce;this.dir!==(Ce=this.input.getLanguageDirection())&&(this.dir=Ce,this.$node.css('direction',Ce),this.dropdown.setLanguageDirection(Ce))},_updateHint:function(){var Ce,Te,De,Se,je,Ne;Ce=this.dropdown.getDatumForTopSuggestion(),Ce&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(Te=this.input.getInputValue(),De=he.normalizeQuery(Te),Se=te.escapeRegExChars(De),je=new RegExp('^(?:'+Se+')(.+$)','i'),Ne=je.exec(Ce.value),Ne?this.input.setHint(Te+Ne[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(Ce){var Te,De,Se,je;Te=this.input.getHint(),De=this.input.getQuery(),Se=Ce||this.input.isCursorAtEnd(),Te&&De!=Te&&Se&&(je=this.dropdown.getDatumForTopSuggestion(),je&&this.input.setInputValue(je.value),this.eventBus.trigger('autocompleted',je.raw,je.datasetName))},_select:function(Ce){this.input.setQuery(Ce.value),this.input.setInputValue(Ce.value,!0),this._setLanguageDirection(),this.eventBus.trigger('selected',Ce.raw,Ce.datasetName),this.dropdown.close(),te.defer(te.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(Ce){Ce=te.toStr(Ce),this.isActivated?this.input.setInputValue(Ce):(this.input.setQuery(Ce),this.input.setInputValue(Ce,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),we(this.$node),this.$node=null}}),be}();(function(){'use strict';var be,_e,ve;be=ee.fn.typeahead,_e='ttTypeahead',ve={initialize:function(xe,ke){return ke=te.isArray(ke)?ke:[].slice.call(arguments,1),xe=xe||{},this.each(function(){var Te=ee(this),De,Se;te.each(ke,function(je){je.highlight=!!xe.highlight}),Se=new ye({input:Te,eventBus:De=new ce({el:Te}),withHint:!!te.isUndefined(xe.hint)||!!xe.hint,minLength:xe.minLength,autoselect:xe.autoselect,datasets:ke}),Te.data(_e,Se)})},open:function(){return this.each(function(){var ke=ee(this),Ce;(Ce=ke.data(_e))&&Ce.open()})},close:function(){return this.each(function(){var ke=ee(this),Ce;(Ce=ke.data(_e))&&Ce.close()})},val:function(xe){return arguments.length?this.each(function(){var Ce=ee(this),Te;(Te=Ce.data(_e))&&Te.setVal(xe)}):function(Ce){var Te,De;return(Te=Ce.data(_e))&&(De=Te.getVal()),De}(this.first())},destroy:function(){return this.each(function(){var ke=ee(this),Ce;(Ce=ke.data(_e))&&(Ce.destroy(),ke.removeData(_e))})}},ee.fn.typeahead=function(we){var xe;return ve[we]&&'initialize'!==we?(xe=this.filter(function(){return!!ee(this).data(_e)}),ve[we].apply(xe,[].slice.call(arguments,1))):ve.initialize.apply(this,arguments)},ee.fn.typeahead.noConflict=function(){return ee.fn.typeahead=be,this}})()}(window.jQuery);/*

Copyright (c) 2009 Dimas Begunoff, http://www.farinspace.com

Licensed under the MIT license
http://en.wikipedia.org/wiki/MIT_License

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.

*/;(function(ee){// http://jdsharp.us/jQuery/minute/calculate-scrollbar-width.php
function te(){if(ae)return ae;var ne=ee('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');ee('body').append(ne);var oe=ee('div',ne).innerWidth();ne.css('overflow-y','auto');var ie=ee('div',ne).innerWidth();return ee(ne).remove(),ae=oe-ie,ae}var ae=0;ee.fn.tableScroll=function(ne){if('undo'==ne){var oe=ee(this).parent().parent();return void(oe.hasClass('tablescroll_wrapper')&&(oe.find('.tablescroll_head thead').prependTo(this),oe.find('.tablescroll_foot tfoot').appendTo(this),oe.before(this),oe.empty()))}var ie=ee.extend({},ee.fn.tableScroll.defaults,ne);// Bail out if there's no vertical overflow
//if ($(this).height() <= settings.height)
//{
//  return this;
//}
return ie.scrollbarWidth=te(),this.each(function(){var se=ie.flush,re=ee(this).addClass('tablescroll_body'),le;// find or create the wrapper div (allows tableScroll to be re-applied)
le=re.parent().hasClass('tablescroll_wrapper')?re.parent():ee('<div class="tablescroll_wrapper"></div>').insertBefore(re).append(re),le.parent('div').hasClass(ie.containerClass)||ee('<div></div>').addClass(ie.containerClass).insertBefore(le).append(le);var de=ie.width?ie.width:re.outerWidth();le.css({width:de+'px',height:ie.height+'px',overflow:'auto'}),re.css('width',de+'px');// with border difference
var ce=le.outerWidth(),pe=ce-de;le.css({width:de-pe+ie.scrollbarWidth+'px'}),re.css('width',de-pe+'px'),re.outerHeight()<=ie.height&&(le.css({height:'auto',width:de-pe+'px'}),se=!1);// using wrap does not put wrapper in the DOM right 
// away making it unavailable for use during runtime
// tb.wrap(wrapper);
// possible speed enhancements
var ue=!!ee('thead',re).length,he=!!ee('tfoot',re).length,ge=ee('thead tr:first',re),fe=ee('tbody tr:first',re),ye=ee('tfoot tr:first',re),be=0;// remember width of last cell
if(ee('th, td',ge).each(function(we){be=ee(this).width(),ee('th:eq('+we+'), td:eq('+we+')',ge).css('width',be+'px'),ee('th:eq('+we+'), td:eq('+we+')',fe).css('width',be+'px'),he&&ee('th:eq('+we+'), td:eq('+we+')',ye).css('width',be+'px')}),ue)var _e=ee('<table class="tablescroll_head" cellspacing="0"></table>').insertBefore(le).prepend(ee('thead',re));if(he)var ve=ee('<table class="tablescroll_foot" cellspacing="0"></table>').insertAfter(le).prepend(ee('tfoot',re));void 0!=_e&&(_e.css('width',de+'px'),se&&(ee('tr:first th:last, tr:first td:last',_e).css('width',be+ie.scrollbarWidth+'px'),_e.css('width',le.outerWidth()+'px'))),void 0!=ve&&(ve.css('width',de+'px'),se&&(ee('tr:first th:last, tr:first td:last',ve).css('width',be+ie.scrollbarWidth+'px'),ve.css('width',le.outerWidth()+'px')))}),this},ee.fn.tableScroll.defaults={flush:!0,// makes the last thead and tbody column flush with the scrollbar
width:null,// width of the table (head, body and foot), null defaults to the tables natural width
height:100,// height of the scrollable area
containerClass:'tablescroll'// the plugin wraps the table in a div with this css class
}})(jQuery),function(ee,te){if('function'==typeof define&&define.amd)define(['moment','jquery','exports'],function(oe,ie,se){ee.daterangepicker=te(ee,se,oe,ie)});else if('undefined'!=typeof exports){var ae=require('moment'),ne;try{ne=require('jquery')}catch(oe){if(ne=window.jQuery,!ne)throw new Error('jQuery dependency not found')}te(ee,exports,ae,ne)}else ee.daterangepicker=te(ee,{},ee.moment,ee.jQuery||ee.Zepto||ee.ender||ee.$)}(this,function(ee,te,ae,ne){var oe=function(ie,se,re){this.parentEl='body',this.element=ne(ie),this.isShowing=!1,('object'!=typeof se||null===se)&&(se={}),this.parentEl='object'==typeof se&&se.parentEl&&ne(se.parentEl).length?ne(se.parentEl):ne(this.parentEl),this.container=ne('<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl),this.setOptions(se,re);//apply CSS classes and labels to buttons
var le=this.container;ne.each(this.buttonClasses,function(de,ce){le.find('button').addClass(ce)}),this.container.find('.daterangepicker_start_input label').html(this.locale.fromLabel),this.container.find('.daterangepicker_end_input label').html(this.locale.toLabel),this.applyClass.length&&this.container.find('.applyBtn').addClass(this.applyClass),this.cancelClass.length&&this.container.find('.cancelBtn').addClass(this.cancelClass),this.container.find('.applyBtn').html(this.locale.applyLabel),this.container.find('.cancelBtn').html(this.locale.cancelLabel),this.container.find('.calendar').on('click.daterangepicker','.prev',ne.proxy(this.clickPrev,this)).on('click.daterangepicker','.next',ne.proxy(this.clickNext,this)).on('click.daterangepicker','td.available',ne.proxy(this.clickDate,this)).on('mouseenter.daterangepicker','td.available',ne.proxy(this.hoverDate,this)).on('mouseleave.daterangepicker','td.available',ne.proxy(this.updateFormInputs,this)).on('change.daterangepicker','select.yearselect',ne.proxy(this.updateMonthYear,this)).on('change.daterangepicker','select.monthselect',ne.proxy(this.updateMonthYear,this)).on('change.daterangepicker','select.hourselect,select.minuteselect,select.ampmselect',ne.proxy(this.updateTime,this)),this.container.find('.ranges').on('click.daterangepicker','button.applyBtn',ne.proxy(this.clickApply,this)).on('click.daterangepicker','button.cancelBtn',ne.proxy(this.clickCancel,this)).on('click.daterangepicker','.daterangepicker_start_input,.daterangepicker_end_input',ne.proxy(this.showCalendars,this)).on('change.daterangepicker','.daterangepicker_start_input,.daterangepicker_end_input',ne.proxy(this.inputsChanged,this)).on('keydown.daterangepicker','.daterangepicker_start_input,.daterangepicker_end_input',ne.proxy(this.inputsKeydown,this)).on('click.daterangepicker','li',ne.proxy(this.clickRange,this)).on('mouseenter.daterangepicker','li',ne.proxy(this.enterRange,this)).on('mouseleave.daterangepicker','li',ne.proxy(this.updateFormInputs,this)),this.element.is('input')?this.element.on({'click.daterangepicker':ne.proxy(this.show,this),'focus.daterangepicker':ne.proxy(this.show,this),'keyup.daterangepicker':ne.proxy(this.updateFromControl,this)}):this.element.on('click.daterangepicker',ne.proxy(this.toggle,this))};oe.prototype={constructor:oe,setOptions:function(ie,se){// update day names order to firstDay
if(this.startDate=ae().startOf('day'),this.endDate=ae().endOf('day'),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens='right',this.element.hasClass('pull-right')&&(this.opens='left'),this.buttonClasses=['btn','btn-small btn-sm'],this.applyClass='btn-success',this.cancelClass='btn-default',this.format='MM/DD/YYYY',this.separator=' - ',this.locale={applyLabel:'Apply',cancelLabel:'Cancel',fromLabel:'From',toLabel:'To',weekLabel:'W',customRangeLabel:'Custom Range',daysOfWeek:ae.weekdaysMin(),monthNames:ae.monthsShort(),firstDay:ae.localeData()._week.dow},this.cb=function(){},'string'==typeof ie.format&&(this.format=ie.format),'string'==typeof ie.separator&&(this.separator=ie.separator),'string'==typeof ie.startDate&&(this.startDate=ae(ie.startDate,this.format)),'string'==typeof ie.endDate&&(this.endDate=ae(ie.endDate,this.format)),'string'==typeof ie.minDate&&(this.minDate=ae(ie.minDate,this.format)),'string'==typeof ie.maxDate&&(this.maxDate=ae(ie.maxDate,this.format)),'object'==typeof ie.startDate&&(this.startDate=ae(ie.startDate)),'object'==typeof ie.endDate&&(this.endDate=ae(ie.endDate)),'object'==typeof ie.minDate&&(this.minDate=ae(ie.minDate)),'object'==typeof ie.maxDate&&(this.maxDate=ae(ie.maxDate)),'string'==typeof ie.applyClass&&(this.applyClass=ie.applyClass),'string'==typeof ie.cancelClass&&(this.cancelClass=ie.cancelClass),'object'==typeof ie.dateLimit&&(this.dateLimit=ie.dateLimit),'object'==typeof ie.locale&&('object'==typeof ie.locale.daysOfWeek&&(this.locale.daysOfWeek=ie.locale.daysOfWeek.slice()),'object'==typeof ie.locale.monthNames&&(this.locale.monthNames=ie.locale.monthNames.slice()),'number'==typeof ie.locale.firstDay&&(this.locale.firstDay=ie.locale.firstDay),'string'==typeof ie.locale.applyLabel&&(this.locale.applyLabel=ie.locale.applyLabel),'string'==typeof ie.locale.cancelLabel&&(this.locale.cancelLabel=ie.locale.cancelLabel),'string'==typeof ie.locale.fromLabel&&(this.locale.fromLabel=ie.locale.fromLabel),'string'==typeof ie.locale.toLabel&&(this.locale.toLabel=ie.locale.toLabel),'string'==typeof ie.locale.weekLabel&&(this.locale.weekLabel=ie.locale.weekLabel),'string'==typeof ie.locale.customRangeLabel&&(this.locale.customRangeLabel=ie.locale.customRangeLabel)),'string'==typeof ie.opens&&(this.opens=ie.opens),'boolean'==typeof ie.showWeekNumbers&&(this.showWeekNumbers=ie.showWeekNumbers),'string'==typeof ie.buttonClasses&&(this.buttonClasses=[ie.buttonClasses]),'object'==typeof ie.buttonClasses&&(this.buttonClasses=ie.buttonClasses),'boolean'==typeof ie.showDropdowns&&(this.showDropdowns=ie.showDropdowns),'boolean'==typeof ie.singleDatePicker&&(this.singleDatePicker=ie.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),'boolean'==typeof ie.timePicker&&(this.timePicker=ie.timePicker),'number'==typeof ie.timePickerIncrement&&(this.timePickerIncrement=ie.timePickerIncrement),'boolean'==typeof ie.timePicker12Hour&&(this.timePicker12Hour=ie.timePicker12Hour),0!=this.locale.firstDay)for(var re=this.locale.firstDay;0<re;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),re--;var le,de,ce;//if no start/end dates set, check if an input element contains initial values
if('undefined'==typeof ie.startDate&&'undefined'==typeof ie.endDate&&ne(this.element).is('input[type=text]')){var pe=ne(this.element).val(),ue=pe.split(this.separator);le=de=null,2==ue.length?(le=ae(ue[0],this.format),de=ae(ue[1],this.format)):this.singleDatePicker&&(le=ae(pe,this.format),de=ae(pe,this.format)),null!==le&&null!==de&&(this.startDate=le,this.endDate=de)}if('object'==typeof ie.ranges){for(ce in ie.ranges)// If the end of the range is before the minimum (if min is set) OR
// the start of the range is after the max (also if set) don't display this
// range option.
(le=ae(ie.ranges[ce][0]),de=ae(ie.ranges[ce][1]),this.minDate&&le.isBefore(this.minDate)&&(le=ae(this.minDate)),this.maxDate&&de.isAfter(this.maxDate)&&(de=ae(this.maxDate)),!(this.minDate&&de.isBefore(this.minDate)||this.maxDate&&le.isAfter(this.maxDate)))&&(this.ranges[ce]=[le,de]);var he='<ul>';for(ce in this.ranges)he+='<li>'+ce+'</li>';he+='<li>'+this.locale.customRangeLabel+'</li>',he+='</ul>',this.container.find('.ranges ul').remove(),this.container.find('.ranges').prepend(he)}if('function'==typeof se&&(this.cb=se),this.timePicker||(this.startDate=this.startDate.startOf('day'),this.endDate=this.endDate.endOf('day')),this.singleDatePicker?(this.opens='right',this.container.addClass('single'),this.container.find('.calendar.right').show(),this.container.find('.calendar.left').hide(),this.timePicker?this.container.find('.ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input').hide():this.container.find('.ranges').hide(),!this.container.find('.calendar.right').hasClass('single')&&this.container.find('.calendar.right').addClass('single')):(this.container.removeClass('single'),this.container.find('.calendar.right').removeClass('single'),this.container.find('.ranges').show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:ae([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:ae([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},'right'==this.opens||'center'==this.opens){//swap calendar positions
var ge=this.container.find('.calendar.left'),fe=this.container.find('.calendar.right');fe.hasClass('single')&&(fe.removeClass('single'),ge.addClass('single')),ge.removeClass('left').addClass('right'),fe.removeClass('right').addClass('left'),this.singleDatePicker&&(ge.show(),fe.hide())}'undefined'!=typeof ie.ranges||this.singleDatePicker||this.container.addClass('show-calendar'),this.container.addClass('opens'+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(ie){'string'==typeof ie&&(this.startDate=ae(ie,this.format)),'object'==typeof ie&&(this.startDate=ae(ie)),this.timePicker||(this.startDate=this.startDate.startOf('day')),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(ie){'string'==typeof ie&&(this.endDate=ae(ie,this.format)),'object'==typeof ie&&(this.endDate=ae(ie)),this.timePicker||(this.endDate=this.endDate.endOf('day')),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find('input[name=daterangepicker_start]').val(this.startDate.format(this.format)),this.container.find('input[name=daterangepicker_end]').val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find('button.applyBtn').removeAttr('disabled'):this.container.find('button.applyBtn').attr('disabled','disabled')},updateFromControl:function(){if(this.element.is('input')&&this.element.val().length){var ie=this.element.val().split(this.separator),se=null,re=null;2===ie.length&&(se=ae(ie[0],this.format),re=ae(ie[1],this.format)),(this.singleDatePicker||null==se||null==re)&&(se=ae(this.element.val(),this.format),re=se),re.isBefore(se)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=se,this.endDate=re,(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var ie={top:0,left:0},se=ne(window).width();this.parentEl.is('body')||(ie={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},se=this.parentEl[0].clientWidth+this.parentEl.offset().left),'left'==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-ie.top,right:se-this.element.offset().left-this.element.outerWidth(),left:'auto'}),0>this.container.offset().left&&this.container.css({right:'auto',left:9})):'center'==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-ie.top,left:this.element.offset().left-ie.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:'auto'}),0>this.container.offset().left&&this.container.css({right:'auto',left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-ie.top,left:this.element.offset().left-ie.left,right:'auto'}),this.container.offset().left+this.container.outerWidth()>ne(window).width()&&this.container.css({left:'auto',right:0}))},toggle:function(ie){this.element.hasClass('active')?this.hide():this.show()},show:function(ie){this.isShowing||(this.element.addClass('active'),this.container.show(),this.move(),this._outsideClickProxy=ne.proxy(function(ge){this.outsideClick(ge)},this),ne(document).on('mousedown.daterangepicker',this._outsideClickProxy)// also explicitly play nice with Bootstrap dropdowns, which stopPropagation when clicking them
.on('click.daterangepicker','[data-toggle=dropdown]',this._outsideClickProxy)// and also close when focus changes to outside the picker (eg. tabbing between controls)
.on('focusin.daterangepicker',this._outsideClickProxy),this.isShowing=!0,this.element.trigger('show.daterangepicker',this))},outsideClick:function(ie){var se=ne(ie.target);// if the page is clicked anywhere except within the daterangerpicker/button
// itself then call this.hide()
se.closest(this.element).length||se.closest(this.container).length||se.closest('.calendar-date').length||this.hide()},hide:function(ie){this.isShowing&&(ne(document).off('mousedown.daterangepicker').off('click.daterangepicker','[data-toggle=dropdown]').off('focusin.daterangepicker'),this.element.removeClass('active'),this.container.hide(),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger('hide.daterangepicker',this))},enterRange:function(ie){// mouse pointer has entered a range label
var se=ie.target.innerHTML;if(se==this.locale.customRangeLabel)this.updateView();else{var re=this.ranges[se];this.container.find('input[name=daterangepicker_start]').val(re[0].format(this.format)),this.container.find('input[name=daterangepicker_end]').val(re[1].format(this.format))}},showCalendars:function(){this.container.addClass('show-calendar'),this.move(),this.element.trigger('showCalendar.daterangepicker',this)},hideCalendars:function(){this.container.removeClass('show-calendar'),this.element.trigger('hideCalendar.daterangepicker',this)},// when a date is typed into the start to end date textboxes
inputsChanged:function(ie){var se=ne(ie.target),re=ae(se.val(),this.format);if(re.isValid()){var le,de;'daterangepicker_start'===se.attr('name')?(le=re,de=this.endDate):(le=this.startDate,de=re),this.setCustomDates(le,de)}},inputsKeydown:function(ie){13===ie.keyCode&&(this.inputsChanged(ie),this.notify())},updateInputText:function(){this.element.is('input')&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is('input')&&this.element.val(this.endDate.format(this.format))},clickRange:function(ie){var se=ie.target.innerHTML;if(this.chosenLabel=se,se==this.locale.customRangeLabel)this.showCalendars();else{var re=this.ranges[se];this.startDate=re[0],this.endDate=re[1],this.timePicker||(this.startDate.startOf('day'),this.endDate.endOf('day')),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger('apply.daterangepicker',this)}},clickPrev:function(ie){var se=ne(ie.target).parents('.calendar');se.hasClass('left')?this.leftCalendar.month.subtract(1,'month'):this.rightCalendar.month.subtract(1,'month'),this.updateCalendars()},clickNext:function(ie){var se=ne(ie.target).parents('.calendar');se.hasClass('left')?this.leftCalendar.month.add(1,'month'):this.rightCalendar.month.add(1,'month'),this.updateCalendars()},hoverDate:function(ie){var se=ne(ie.target).attr('data-title'),re=se.substr(1,1),le=se.substr(3,1),de=ne(ie.target).parents('.calendar');de.hasClass('left')?this.container.find('input[name=daterangepicker_start]').val(this.leftCalendar.calendar[re][le].format(this.format)):this.container.find('input[name=daterangepicker_end]').val(this.rightCalendar.calendar[re][le].format(this.format))},setCustomDates:function(ie,se){if(this.chosenLabel=this.locale.customRangeLabel,ie.isAfter(se)){var re=this.endDate.diff(this.startDate);se=ae(ie).add(re,'ms')}this.startDate=ie,this.endDate=se,this.updateView(),this.updateCalendars()},clickDate:function(ie){var se=ne(ie.target).attr('data-title'),re=se.substr(1,1),le=se.substr(3,1),de=ne(ie.target).parents('.calendar'),ce,pe;if(de.hasClass('left')){if(ce=this.leftCalendar.calendar[re][le],pe=this.endDate,'object'==typeof this.dateLimit){var ue=ae(ce).add(this.dateLimit).startOf('day');pe.isAfter(ue)&&(pe=ue)}}else if(ce=this.startDate,pe=this.rightCalendar.calendar[re][le],'object'==typeof this.dateLimit){var he=ae(pe).subtract(this.dateLimit).startOf('day');ce.isBefore(he)&&(ce=he)}this.singleDatePicker&&de.hasClass('left')?pe=ce.clone():this.singleDatePicker&&de.hasClass('right')&&(ce=pe.clone()),de.find('td').removeClass('active'),ne(ie.target).addClass('active'),this.setCustomDates(ce,pe),this.timePicker||pe.endOf('day'),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(ie){this.updateInputText(),this.hide(),this.element.trigger('apply.daterangepicker',this)},clickCancel:function(ie){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger('cancel.daterangepicker',this)},updateMonthYear:function(ie){var se=ne(ie.target).closest('.calendar').hasClass('left'),re=se?'left':'right',le=this.container.find('.calendar.'+re),de=parseInt(le.find('.monthselect').val(),10),ce=le.find('.yearselect').val();// Month must be Number for new moment versions
this[re+'Calendar'].month.month(de).year(ce),this.updateCalendars()},updateTime:function(ie){var se=ne(ie.target).closest('.calendar'),re=se.hasClass('left'),le=parseInt(se.find('.hourselect').val(),10),de=parseInt(se.find('.minuteselect').val(),10);if(this.timePicker12Hour){var ce=se.find('.ampmselect').val();'PM'===ce&&12>le&&(le+=12),'AM'===ce&&12===le&&(le=0)}if(re){var pe=this.startDate.clone();pe.hour(le),pe.minute(de),this.startDate=pe,this.leftCalendar.month.hour(le).minute(de),this.singleDatePicker&&(this.endDate=pe.clone())}else{var ue=this.endDate.clone();ue.hour(le),ue.minute(de),this.endDate=ue,this.singleDatePicker&&(this.startDate=ue.clone()),this.rightCalendar.month.hour(le).minute(de)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),'left'),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),'right'),this.container.find('.calendar.left').empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,'left')),this.container.find('.calendar.right').empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,'right')),this.container.find('.ranges li').removeClass('active');var ie=!0,se=0;for(var re in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[re][0])&&this.endDate.isSame(this.ranges[re][1])&&(ie=!1,this.chosenLabel=this.container.find('.ranges li:eq('+se+')').addClass('active').html()):this.startDate.format('YYYY-MM-DD')==this.ranges[re][0].format('YYYY-MM-DD')&&this.endDate.format('YYYY-MM-DD')==this.ranges[re][1].format('YYYY-MM-DD')&&(ie=!1,this.chosenLabel=this.container.find('.ranges li:eq('+se+')').addClass('active').html()),se++;ie&&(this.chosenLabel=this.container.find('.ranges li:last').addClass('active').html(),this.showCalendars())},buildCalendar:function(ie,se,re,le,de){var ce=ae([se,ie]).daysInMonth(),pe=ae([se,ie,1]),ue=ae([se,ie,ce]),he=ae(pe).subtract(1,'month').month(),ge=ae(pe).subtract(1,'month').year(),fe=ae([ge,he]).daysInMonth(),ye=pe.day(),be,_e=[];//initialize a 6 rows x 7 columns array for the calendar
for(_e.firstDay=pe,_e.lastDay=ue,be=0;6>be;be++)_e[be]=[];//populate the calendar with date objects
var ve=fe-ye+this.locale.firstDay+1;ve>fe&&(ve-=7),ye==this.locale.firstDay&&(ve=fe-6);var we=ae([ge,he,ve,12,le]),xe,ke;for(be=0,xe=0,ke=0;42>be;be++,xe++,we=ae(we).add(24,'hour'))0<be&&0==xe%7&&(xe=0,ke++),_e[ke][xe]=we.clone().hour(re),we.hour(12),this.minDate&&_e[ke][xe].format('YYYY-MM-DD')==this.minDate.format('YYYY-MM-DD')&&_e[ke][xe].isBefore(this.minDate)&&'left'==de&&(_e[ke][xe]=this.minDate.clone()),this.maxDate&&_e[ke][xe].format('YYYY-MM-DD')==this.maxDate.format('YYYY-MM-DD')&&_e[ke][xe].isAfter(this.maxDate)&&'right'==de&&(_e[ke][xe]=this.maxDate.clone());return _e},renderDropdowns:function(ie,se,re){var le=ie.month(),de=ie.year(),ce=re&&re.year()||de+5,pe=se&&se.year()||de-50,ue='<select class="monthselect">';for(var he=0;12>he;he++)(de!=pe||he>=se.month())&&(de!=ce||he<=re.month())&&(ue+='<option value=\''+he+'\''+(he===le?' selected=\'selected\'':'')+'>'+this.locale.monthNames[he]+'</option>');ue+='</select>';var ge='<select class="yearselect">';for(var fe=pe;fe<=ce;fe++)ge+='<option value="'+fe+'"'+(fe===de?' selected="selected"':'')+'>'+fe+'</option>';return ge+='</select>',ue+ge},renderCalendar:function(ie,se,re,le,de){var ce='<div class="calendar-date">';ce+='<table class="table-condensed">',ce+='<thead>',ce+='<tr>',this.showWeekNumbers&&(ce+='<th></th>'),ce+=!re||re.isBefore(ie.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':'<th></th>';var pe=this.locale.monthNames[ie[1][1].month()]+ie[1][1].format(' YYYY');this.showDropdowns&&(pe=this.renderDropdowns(ie[1][1],re,le)),ce+='<th colspan="5" class="month">'+pe+'</th>',ce+=!le||le.isAfter(ie.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':'<th></th>',ce+='</tr>',ce+='<tr>',this.showWeekNumbers&&(ce+='<th class="week">'+this.locale.weekLabel+'</th>'),ne.each(this.locale.daysOfWeek,function(je,Ne){ce+='<th>'+Ne+'</th>'}),ce+='</tr>',ce+='</thead>',ce+='<tbody>';for(var ue=0;6>ue;ue++){ce+='<tr>',this.showWeekNumbers&&(ce+='<td class="week">'+ie[ue][0].week()+'</td>');for(var he=0;7>he;he++){var ge='available ';ge+=ie[ue][he].month()==ie[1][1].month()?'':'off',re&&ie[ue][he].isBefore(re,'day')||le&&ie[ue][he].isAfter(le,'day')?ge=' off disabled ':ie[ue][he].format('YYYY-MM-DD')==se.format('YYYY-MM-DD')?(ge+=' active ',ie[ue][he].format('YYYY-MM-DD')==this.startDate.format('YYYY-MM-DD')&&(ge+=' start-date '),ie[ue][he].format('YYYY-MM-DD')==this.endDate.format('YYYY-MM-DD')&&(ge+=' end-date ')):ie[ue][he]>=this.startDate&&ie[ue][he]<=this.endDate&&(ge+=' in-range ',ie[ue][he].isSame(this.startDate)&&(ge+=' start-date '),ie[ue][he].isSame(this.endDate)&&(ge+=' end-date '));var fe='r'+ue+'c'+he;ce+='<td class="'+ge.replace(/\s+/g,' ').replace(/^\s?(.*?)\s?$/,'$1')+'" data-title="'+fe+'">'+ie[ue][he].date()+'</td>'}ce+='</tr>'}ce+='</tbody>',ce+='</table>',ce+='</div>';var ye;if(this.timePicker){ce+='<div class="calendar-time">',ce+='<select class="hourselect">';// Disallow selections before the minDate or after the maxDate
var be=0,_e=23;re&&('left'==de||this.singleDatePicker)&&se.format('YYYY-MM-DD')==re.format('YYYY-MM-DD')&&(be=re.hour(),se.hour()<be&&se.hour(be),this.timePicker12Hour&&12<=be&&12<=se.hour()&&(be-=12),this.timePicker12Hour&&12==be&&(be=1)),le&&('right'==de||this.singleDatePicker)&&se.format('YYYY-MM-DD')==le.format('YYYY-MM-DD')&&(_e=le.hour(),se.hour()>_e&&se.hour(_e),this.timePicker12Hour&&12<=_e&&12<=se.hour()&&(_e-=12));var ve=0,we=23,xe=se.hour();for(this.timePicker12Hour&&(ve=1,we=12,12<=xe&&(xe-=12),0===xe&&(xe=12)),ye=ve;ye<=we;ye++)ce+=ye==xe?'<option value="'+ye+'" selected="selected">'+ye+'</option>':ye<be||ye>_e?'<option value="'+ye+'" disabled="disabled" class="disabled">'+ye+'</option>':'<option value="'+ye+'">'+ye+'</option>';ce+='</select> : ',ce+='<select class="minuteselect">';// Disallow selections before the minDate or after the maxDate
var ke=0,Ce=59;for(re&&('left'==de||this.singleDatePicker)&&se.format('YYYY-MM-DD h A')==re.format('YYYY-MM-DD h A')&&(ke=re.minute(),se.minute()<ke&&se.minute(ke)),le&&('right'==de||this.singleDatePicker)&&se.format('YYYY-MM-DD h A')==le.format('YYYY-MM-DD h A')&&(Ce=le.minute(),se.minute()>Ce&&se.minute(Ce)),ye=0;60>ye;ye+=this.timePickerIncrement){var Te=ye;10>Te&&(Te='0'+Te),ce+=ye==se.minute()?'<option value="'+ye+'" selected="selected">'+Te+'</option>':ye<ke||ye>Ce?'<option value="'+ye+'" disabled="disabled" class="disabled">'+Te+'</option>':'<option value="'+ye+'">'+Te+'</option>'}if(ce+='</select> ',this.timePicker12Hour){ce+='<select class="ampmselect">';// Disallow selection before the minDate or after the maxDate
var De='',Se='';re&&('left'==de||this.singleDatePicker)&&se.format('YYYY-MM-DD')==re.format('YYYY-MM-DD')&&12<=re.hour()&&(De=' disabled="disabled" class="disabled"'),le&&('right'==de||this.singleDatePicker)&&se.format('YYYY-MM-DD')==le.format('YYYY-MM-DD')&&12>le.hour()&&(Se=' disabled="disabled" class="disabled"'),ce+=12<=se.hour()?'<option value="AM"'+De+'>AM</option><option value="PM" selected="selected"'+Se+'>PM</option>':'<option value="AM" selected="selected"'+De+'>AM</option><option value="PM"'+Se+'>PM</option>',ce+='</select>'}ce+='</div>'}return ce},remove:function(){this.container.remove(),this.element.off('.daterangepicker'),this.element.removeData('daterangepicker')}},ne.fn.daterangepicker=function(ie,se){return this.each(function(){var re=ne(this);re.data('daterangepicker')&&re.data('daterangepicker').remove(),re.data('daterangepicker',new oe(re,ie,se))}),this}});/**
 * complete.ly 1.0.0
 * MIT Licensing
 * Copyright (c) 2013 Lorenzo Puccetti
 * 
 * This Software shall be used for doing good things, not bad things.
 * 
**/function completely(ee,te){// <-- it will contain the leftSide part of the textfield (the bit that was already autocompleted)
function ae(ye){return void 0===pe&&(pe=document.createElement('span'),pe.style.visibility='hidden',pe.style.position='fixed',pe.style.outline='0',pe.style.margin='0',pe.style.padding='0',pe.style.border='0',pe.style.left='0',pe.style.whiteSpace='pre',pe.style.fontSize=te.fontSize,pe.style.fontFamily=te.fontFamily,pe.style.fontWeight='normal',document.body.appendChild(pe)),pe.innerHTML=(ye+'').replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;').replace(/</g,'&lt;').replace(/>/g,'&gt;'),pe.getBoundingClientRect().right}te=te||{},te.fontSize=te.fontSize||'16px',te.fontFamily=te.fontFamily||'sans-serif',te.promptInnerHTML=te.promptInnerHTML||'',te.color=te.color||'#333',te.hintColor=te.hintColor||'#aaa',te.backgroundColor=te.backgroundColor||'#fff',te.dropDownBorderColor=te.dropDownBorderColor||'#aaa',te.dropDownZIndex=te.dropDownZIndex||'100',te.dropDownOnHoverBackgroundColor=te.dropDownOnHoverBackgroundColor||'#ddd';var ne='',oe=document.createElement('input');oe.type='text',oe.spellcheck=!1,oe.style.fontSize=te.fontSize,oe.style.fontFamily=te.fontFamily,oe.style.color=te.color,oe.style.backgroundColor=te.backgroundColor,oe.style.width='100%',oe.style.outline='0',oe.style.border='0',oe.style.margin='0',oe.style.padding='0';var ie=oe.cloneNode();ie.tabIndex='-1',ie.disabled='',ie.style.position='absolute',ie.style.top='0',ie.style.left='0',ie.style.borderColor='transparent',ie.style.boxShadow='none',ie.style.color=te.hintColor,oe.style.backgroundColor='transparent',oe.style.verticalAlign='top',oe.style.position='relative';var se=document.createElement('div');se.style.position='relative',se.style.outline='0',se.style.border='0',se.style.margin='0',se.style.padding='0';var re=document.createElement('div');if(re.style.position='absolute',re.style.outline='0',re.style.margin='0',re.style.padding='0',re.style.border='0',re.style.fontSize=te.fontSize,re.style.fontFamily=te.fontFamily,re.style.color=te.color,re.style.backgroundColor=te.backgroundColor,re.style.top='0',re.style.left='0',re.style.overflow='hidden',re.innerHTML=te.promptInnerHTML,re.style.background='transparent',void 0===document.body)throw'document.body is undefined. The library was wired up incorrectly.';document.body.appendChild(re);var le=re.getBoundingClientRect().right;// works out the width of the prompt.
se.appendChild(re),re.style.visibility='visible',re.style.left='-'+le+'px',se.style.marginLeft=le+'px',se.appendChild(ie),se.appendChild(oe);var de=document.createElement('div');de.style.position='absolute',de.style.visibility='hidden',de.style.outline='0',de.style.margin='0',de.style.padding='0',de.style.textAlign='left',de.style.fontSize=te.fontSize,de.style.fontFamily=te.fontFamily,de.style.backgroundColor=te.backgroundColor,de.style.zIndex=te.dropDownZIndex,de.style.cursor='default',de.style.borderStyle='solid',de.style.borderWidth='1px',de.style.borderColor=te.dropDownBorderColor,de.style.overflowX='hidden',de.style.whiteSpace='pre';var ce=function(ye){var be=[],_e=0,ve=-1,we=function(){this.style.outline='1px solid #ddd'},xe=function(){this.style.outline='0'},ke=function(){Ce.hide(),Ce.onmouseselection(this.__hint)},Ce={hide:function(){ye.style.visibility='hidden'},refresh:function(Te,De){ye.style.visibility='hidden',_e=0,ye.innerHTML='';var Se=window.innerHeight||document.documentElement.clientHeight,je=ye.parentNode.getBoundingClientRect(),Ne=je.top-6,Pe=Se-je.bottom-6;// heuristic give 6px 
be=[];for(var Ee=0;Ee<De.length;Ee++)if(0===De[Ee].indexOf(Te)){var Oe=document.createElement('div');Oe.style.color=te.color,Oe.style.padding='6px 12px';;Oe.onmouseover=we,Oe.onmouseout=xe,Oe.onmousedown=ke,Oe.__hint=De[Ee],Oe.innerHTML='<b>'+Te+'</b>'+De[Ee].substring(Te.length),be.push(Oe),ye.appendChild(Oe)}0!==be.length&&(1!==be.length||Te!==be[0].__hint)&&(2>be.length||(Ce.highlight(0),Ne>3*Pe?(ye.style.maxHeight=Ne+'px',ye.style.top='',ye.style.bottom='100%'):(ye.style.top='100%',ye.style.bottom='',ye.style.maxHeight=Pe+'px'),ye.style.visibility='visible'))},highlight:function(Te){-1!=ve&&be[ve]&&(be[ve].style.backgroundColor=te.backgroundColor),be[Te].style.backgroundColor=te.dropDownOnHoverBackgroundColor,ve=Te},move:function(Te){// moves the selection either up or down (unless it's not possible) step is either +1 or -1.
// NO CIRCULAR SCROLLING. 
return'hidden'===ye.style.visibility?'':-1===_e+Te||_e+Te===be.length?be[_e].__hint:(_e+=Te,Ce.highlight(_e),be[_e].__hint);// nothing to move if there is no dropDown. (this happens if the user hits escape and then down or up)
//txtShadow.value = uRows[uIndex].__hint ;
},onmouseselection:function(){}// it will be overwritten. 
};return Ce}(de);ce.onmouseselection=function(ye){oe.value=ie.value=ue+ye,he.onChange(oe.value),ge=oe.value,setTimeout(function(){oe.focus()},0)},se.appendChild(de),ee.appendChild(se);var he={onArrowDown:function(){},// defaults to no action.
onArrowUp:function(){},// defaults to no action.
onEnter:function(){},// defaults to no action.
onTab:function(){},// defaults to no action.
onChange:function(){he.repaint()},// defaults to repainting.
startFrom:0,options:[],wrapper:se,// Only to allow  easy access to the HTML elements to the final user (possibly for minor customizations)
input:oe,// Only to allow  easy access to the HTML elements to the final user (possibly for minor customizations) 
hint:ie,// Only to allow  easy access to the HTML elements to the final user (possibly for minor customizations)
dropDown:de,// Only to allow  easy access to the HTML elements to the final user (possibly for minor customizations)
prompt:re,setText:function(ye){ie.value=ye,oe.value=ye},getText:function(){return oe.value},hideDropDown:function(){ce.hide()},repaint:function(){var ye=oe.value,be=he.startFrom,_e=he.options,ve=_e.length,we=ye.substring(be);// breaking text in leftSide and token.
ue=ye.substring(0,be),ie.value='';for(var xe=0;xe<ve;xe++){var ke=_e[xe];if(0===ke.indexOf(we)){ie.value=ue+ke;break}}// moving the dropDown and refreshing it.
de.style.left=ae(ue)+'px',ce.refresh(we,he.options)}},pe,ue,ge;(function(ye,be){ge=ye.value;var _e=function(){var ve=ye.value;ge!==ve&&(ge=ve,be(ve))};//  
// For user's actions, we listen to both input events and key up events
// It appears that input events are not enough so we defensively listen to key up events too.
// source: http://help.dottoro.com/ljhxklln.php
//
// The cost of listening to three sources should be negligible as the handler will invoke callback function
// only if the text.value was effectively changed. 
//  
// 
ye.addEventListener?(ye.addEventListener('input',_e,!1),ye.addEventListener('keyup',_e,!1),ye.addEventListener('change',_e,!1)):(ye.attachEvent('oninput',_e),ye.attachEvent('onkeyup',_e),ye.attachEvent('onchange',_e))})(oe,function(ye){he.onChange(ye)});var fe=function(ye){ye=ye||window.event;var be=ye.keyCode;// page down (do nothing);
// it's important to reset the txtHint on key down.
// think: user presses a letter (e.g. 'x') and never releases... you get (xxxxxxxxxxxxxxxxx)
// and you would see still the hint
if(33!=be&&34!=be){if(27==be)return ce.hide(),ie.value=oe.value,void oe.focus();if(39==be||35==be||9==be){//
if(9==be&&be!=ne&&(ye.preventDefault&&ye.preventDefault(),ye.stopPropagation&&ye.stopPropagation(),0==ie.value.length&&he.onTab()),ne=be,0<ie.value.length){ce.hide(),oe.value=ie.value;var _e=ge!=oe.value;ge=oe.value,_e&&he.onChange(oe.value)}return}if(13==be){// enter  (autocomplete triggered)
if(0==ie.value.length)he.onEnter();else{var ve='hidden'==de.style.visibility;if(ce.hide(),ve)return ie.value=oe.value,oe.focus(),void he.onEnter();oe.value=ie.value;var _e=ge!=oe.value;ge=oe.value,_e&&he.onChange(oe.value)}return}if(40==be){// down
var we=ce.move(1);return''==we&&he.onArrowDown(),void(ie.value=ue+we)}if(38==be){// up
var we=ce.move(-1);return''==we&&he.onArrowUp(),ie.value=ue+we,ye.preventDefault(),void ye.stopPropagation()}ie.value=''}// page up (do nothing)
};return oe.addEventListener?oe.addEventListener('keydown',fe,!1):oe.attachEvent('onkeydown',fe),he}/*
 * Toastr
 * Copyright 2012-2014 John Papa and Hans FjÃ¤llemark.
 * All Rights Reserved.
 * Use, reproduction, distribution, and modification of this code is subject to the terms and
 * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
 *
 * Author: John Papa and Hans FjÃ¤llemark
 * ARIA Support: Greta Krafsig
 * Project: https://github.com/CodeSeven/toastr
 */;(function(ee){ee(['jquery'],function(te){return function(){function ae(ye,be){return(ye||(ye=de()),pe=te('#'+ye.containerId),pe.length)?pe:(be&&(pe=ie(ye)),pe)}//#endregion
//#region Internal Methods
function ne(ye){var be=pe.children();for(var _e=be.length-1;0<=_e;_e--)oe(te(be[_e]),ye);;}function oe(ye,be){return ye&&0===te(':focus',ye).length&&(ye[be.hideMethod]({duration:be.hideDuration,easing:be.hideEasing,complete:function(){ce(ye)}}),!0)}function ie(ye){return pe=te('<div/>').attr('id',ye.containerId).addClass(ye.positionClass).attr('aria-live','polite').attr('role','alert'),pe.appendTo(te(ye.target)),pe}function se(){return{tapToDismiss:!0,toastClass:'toast',containerId:'toast-container',debug:!1,showMethod:'fadeIn',//fadeIn, slideDown, and show are built into jQuery
showDuration:300,showEasing:'swing',//swing and linear are built into jQuery
onShown:void 0,hideMethod:'fadeOut',hideDuration:1000,hideEasing:'swing',onHidden:void 0,extendedTimeOut:1000,iconClasses:{error:'toast-error',info:'toast-info',success:'toast-success',warning:'toast-warning'},iconClass:'toast-info',positionClass:'toast-top-right',timeOut:5000,// Set timeOut and extendedTimeout to 0 to make it sticky
titleClass:'toast-title',messageClass:'toast-message',target:'body',closeHtml:'<button>&times;</button>',newestOnTop:!0}}function re(ye){ue&&ue(ye)}function le(ye){function be(Se){return te(':focus',xe).length&&!Se?void 0:xe[_e.hideMethod]({duration:_e.hideDuration,easing:_e.hideEasing,complete:function(){ce(xe),_e.onHidden&&'hidden'!==De.state&&_e.onHidden(),De.state='hidden',De.endTime=new Date,re(De)}})}var _e=de(),ve=ye.iconClass||_e.iconClass;'undefined'!=typeof ye.optionsOverride&&(_e=te.extend(_e,ye.optionsOverride),ve=ye.optionsOverride.iconClass||ve),he++,pe=ae(_e,!0);var we=null,xe=te('<div/>'),ke=te('<div/>'),Ce=te('<div/>'),Te=te(_e.closeHtml),De={toastId:he,state:'visible',startTime:new Date,options:_e,map:ye};return ye.iconClass&&xe.addClass(_e.toastClass).addClass(ve),ye.title&&(ke.append(ye.title).addClass(_e.titleClass),xe.append(ke)),ye.message&&(Ce.append(ye.message).addClass(_e.messageClass),xe.append(Ce)),_e.closeButton&&(Te.addClass('toast-close-button').attr('role','button'),xe.prepend(Te)),xe.hide(),_e.newestOnTop?pe.prepend(xe):pe.append(xe),xe[_e.showMethod]({duration:_e.showDuration,easing:_e.showEasing,complete:_e.onShown}),0<_e.timeOut&&(we=setTimeout(be,_e.timeOut)),xe.hover(function(){clearTimeout(we),xe.stop(!0,!0)[_e.showMethod]({duration:_e.showDuration,easing:_e.showEasing})},function(){(0<_e.timeOut||0<_e.extendedTimeOut)&&(we=setTimeout(be,_e.extendedTimeOut))}),!_e.onclick&&_e.tapToDismiss&&xe.click(be),_e.closeButton&&Te&&Te.click(function(Se){Se.stopPropagation?Se.stopPropagation():void 0!==Se.cancelBubble&&!0!==Se.cancelBubble&&(Se.cancelBubble=!0),be(!0)}),_e.onclick&&xe.click(function(){_e.onclick(),be()}),re(De),_e.debug&&console&&console.log(De),xe}function de(){return te.extend({},se(),fe.options)}function ce(ye){pe||(pe=ae());ye.is(':visible')||(ye.remove(),ye=null,0===pe.children().length&&pe.remove())}//#endregion
var pe,ue,he=0,ge={error:'error',info:'info',success:'success',warning:'warning'},fe={clear:function(be){var _e=de();pe||ae(_e),oe(be,_e)||ne(_e)},remove:function(be){var _e=de();return pe||ae(_e),be&&0===te(':focus',be).length?void ce(be):void(pe.children().length&&pe.remove())},error://#region Accessible Methods
function(be,_e,ve){return le({type:ge.error,iconClass:de().iconClasses.error,message:be,optionsOverride:ve,title:_e})},getContainer:ae,info:function(be,_e,ve){return le({type:ge.info,iconClass:de().iconClasses.info,message:be,optionsOverride:ve,title:_e})},options:{},subscribe:function(be){ue=be},success:function(be,_e,ve){return le({type:ge.success,iconClass:de().iconClasses.success,message:be,optionsOverride:ve,title:_e})},version:'2.0.3',warning:function(be,_e,ve){return le({type:ge.warning,iconClass:de().iconClasses.warning,message:be,optionsOverride:ve,title:_e})}};return fe}()})})('function'==typeof define&&define.amd?define:function(ee,te){'undefined'!=typeof module&&module.exports?module.exports=te(require('jquery')):window.toastr=te(window.jQuery)});/*! NProgress (c) 2013, Rico Sta. Cruz
 *  http://ricostacruz.com/nprogress */;(function(ee){'function'==typeof module?module.exports=ee(this.jQuery||require('jquery')):this.NProgress=ee(this.jQuery)})(function(ee){/**
   * Helpers
   */function te(se,re,le){return se<re?re:se>le?le:se}/**
   * (Internal) converts a percentage (`0..1`) to a bar translateX
   * percentage (`-100%..0%`).
   */function ae(se){return 100*(-1+se)}/**
   * (Internal) returns the correct CSS for changing the bar's
   * position given an n percentage, and speed and ease from Settings
   */function ne(se,re,le){var de;return de='translate3d'===ie.positionUsing?{transform:'translate3d('+ae(se)+'%,0,0)'}:'translate'===ie.positionUsing?{transform:'translate('+ae(se)+'%,0)'}:{'margin-left':ae(se)+'%'},de.transition='all '+re+'ms '+le,de}var oe={};oe.version='0.1.2';var ie=oe.settings={minimum:0.08,easing:'ease',positionUsing:'',speed:200,trickle:!0,trickleRate:0.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};/**
   * Updates configuration.
   *
   *     NProgress.configure({
   *       minimum: 0.1
   *     });
   */return oe.configure=function(se){return ee.extend(ie,se),this},oe.status=null,oe.set=function(se){var re=oe.isStarted();se=te(se,ie.minimum,1),oe.status=1===se?null:se;var le=oe.render(!re),de=le.find('[role="bar"]'),ce=ie.speed,pe=ie.easing;return le[0].offsetWidth,le.queue(function(ue){''===ie.positionUsing&&(ie.positionUsing=oe.getPositioningCSS()),de.css(ne(se,ce,pe)),1===se?(le.css({transition:'none',opacity:1}),le[0].offsetWidth,setTimeout(function(){le.css({transition:'all '+ce+'ms linear',opacity:0}),setTimeout(function(){oe.remove(),ue()},ce)},ce)):setTimeout(ue,ce)}),this},oe.isStarted=function(){return'number'==typeof oe.status},oe.start=function(){oe.status||oe.set(0);var se=function(){setTimeout(function(){oe.status&&(oe.trickle(),se())},ie.trickleSpeed)};return ie.trickle&&se(),this},oe.done=function(se){return se||oe.status?oe.inc(0.3+0.5*Math.random()).set(1):this},oe.inc=function(se){var re=oe.status;return re?('number'!=typeof se&&(se=(1-re)*te(Math.random()*re,0.1,0.95)),re=te(re+se,0,0.994),oe.set(re)):oe.start()},oe.trickle=function(){return oe.inc(Math.random()*ie.trickleRate)},oe.render=function(se){if(oe.isRendered())return ee('#nprogress');ee('html').addClass('nprogress-busy');var re=ee('<div id=\'nprogress\'>').html(ie.template),le=se?'-100':ae(oe.status||0);return re.find('[role="bar"]').css({transition:'all 0 linear',transform:'translate3d('+le+'%,0,0)'}),ie.showSpinner||re.find('[role="spinner"]').remove(),re.appendTo(document.body),re},oe.remove=function(){ee('html').removeClass('nprogress-busy'),ee('#nprogress').remove()},oe.isRendered=function(){return 0<ee('#nprogress').length},oe.getPositioningCSS=function(){// Sniff on document.body.style
var se=document.body.style,re='WebkitTransform'in se?'Webkit':'MozTransform'in se?'Moz':'msTransform'in se?'ms':'OTransform'in se?'O':'';// Sniff prefixes
// Browsers without translate() support, e.g. IE7-8
return re+'Perspective'in se?'translate3d':re+'Transform'in se?'translate':'margin'},oe}),function(ee){'use strict';'function'==typeof define&&define.amd?define('jstree',['jquery'],ee):'object'==typeof exports?ee(require('jquery')):ee(jQuery)}(function(ee,te){'use strict';if(!ee.jstree){var ae=0,ne=0,oe=!1,ie=!1,se=!1,re=[],le=ee('script:last').attr('src'),de=document,ce=de.createElement('LI'),pe,ue;ce.setAttribute('role','treeitem'),pe=de.createElement('I'),pe.className='jstree-icon jstree-ocl',ce.appendChild(pe),pe=de.createElement('A'),pe.className='jstree-anchor',pe.setAttribute('href','#'),ue=de.createElement('I'),ue.className='jstree-icon jstree-themeicon',pe.appendChild(ue),ce.appendChild(pe),pe=ue=null,ee.jstree={version:'3.0.0-alpha',defaults:{plugins:[]},plugins:{},path:le&&-1!==le.indexOf('/')?le.replace(/\/[^\/]+$/,''):''},ee.jstree.create=function(ye,be){var _e=new ee.jstree.core(++ae),ve=be;return be=ee.extend(!0,{},ee.jstree.defaults,be),ve&&ve.plugins&&(be.plugins=ve.plugins),ee.each(be.plugins,function(we,xe){'core'!==we&&(_e=_e.plugin(xe,be[xe]))}),_e.init(ye,be),_e},ee.jstree.core=function(ye){this._id=ye,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[]}}},ee.jstree.reference=function(ye){if(ye&&!ee(ye).length){ye.id&&(ye=ye.id);var be=null;return ee('.jstree').each(function(){var _e=ee(this).data('jstree');return _e&&_e._model.data[ye]?(be=_e,!1):te}),be}return ee(ye).closest('.jstree').data('jstree')},ee.fn.jstree=function(ye){var be='string'==typeof ye,_e=Array.prototype.slice.call(arguments,1),ve=null;return this.each(function(){var we=ee.jstree.reference(this),xe=be&&we?we[ye]:null;return ve=be&&xe?xe.apply(we,_e):null,we||be||ye!==te&&!ee.isPlainObject(ye)||ee(this).data('jstree',new ee.jstree.create(this,ye)),we&&!be&&(ve=we),null!==ve&&ve!==te?!1:te}),null!==ve&&ve!==te?ve:this},ee.expr[':'].jstree=ee.expr.createPseudo(function(ye){return function(be){return ee(be).hasClass('jstree')&&ee(be).data('jstree')!==te}}),ee.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!0},expand_selected_onload:!0},ee.jstree.core.prototype={plugin:function(ye,be){var _e=ee.jstree.plugins[ye];return _e?(this._data[ye]={},_e.prototype=this,new _e(be,this)):this},init:function(ye,be){this._model={data:{'#':{id:'#',parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=ee(ye).addClass('jstree jstree-'+this._id),this.settings=be,this.element.bind('destroyed',ee.proxy(this.teardown,this)),this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl='rtl'===this.element.css('direction'),this.element[this._data.core.rtl?'addClass':'removeClass']('jstree-rtl'),this.element.attr('role','tree'),this.bind(),this.trigger('init'),this._data.core.original_container_html=this.element.find(' > ul > li').clone(!0),this._data.core.original_container_html.find('li').addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html('<ul class=\'jstree-container-ul\'><li class=\'jstree-initial-node jstree-loading jstree-leaf jstree-last\'><i class=\'jstree-icon jstree-ocl\'></i><a class=\'jstree-anchor\' href=\'#\'><i class=\'jstree-icon jstree-themeicon-hidden\'></i>'+this.get_string('Loading ...')+'</a></li></ul>'),this._data.core.li_height=this.get_container_ul().children('li:eq(0)').height()||18,this.trigger('loading'),this.load_node('#')},destroy:function(){this.element.unbind('destroyed',this.teardown),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass('jstree').removeData('jstree').find('[class^=\'jstree\']').addBack().attr('class',function(){return this.className.replace(/jstree[^ ]*|$/gi,'')}),this.element=null},bind:function(){this.element.on('dblclick.jstree',function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var ye=window.getSelection();try{ye.removeAllRanges(),ye.collapse()}catch(be){}}}).on('click.jstree','.jstree-ocl',ee.proxy(function(ye){this.toggle_node(ye.target)},this)).on('click.jstree','.jstree-anchor',ee.proxy(function(ye){ye.preventDefault(),ee(ye.currentTarget).focus(),this.activate_node(ye.currentTarget,ye)},this)).on('keydown.jstree','.jstree-anchor',ee.proxy(function(ye){var be=null;switch(ye.which){case 13:case 32:ye.type='click',ee(ye.currentTarget).trigger(ye);break;case 37:ye.preventDefault(),this.is_open(ye.currentTarget)?this.close_node(ye.currentTarget):(be=this.get_prev_dom(ye.currentTarget),be&&be.length&&be.children('.jstree-anchor').focus());break;case 38:ye.preventDefault(),be=this.get_prev_dom(ye.currentTarget),be&&be.length&&be.children('.jstree-anchor').focus();break;case 39:ye.preventDefault(),this.is_closed(ye.currentTarget)?this.open_node(ye.currentTarget,function(_e){this.get_node(_e,!0).children('.jstree-anchor').focus()}):(be=this.get_next_dom(ye.currentTarget),be&&be.length&&be.children('.jstree-anchor').focus());break;case 40:ye.preventDefault(),be=this.get_next_dom(ye.currentTarget),be&&be.length&&be.children('.jstree-anchor').focus();break;case 46:ye.preventDefault(),be=this.get_node(ye.currentTarget),be&&be.id&&'#'!==be.id&&(be=this.is_selected(be)?this.get_selected():be);break;case 113:ye.preventDefault(),be=this.get_node(ye.currentTarget);break;default:}},this)).on('load_node.jstree',ee.proxy(function(ye,be){if(be.status&&('#'!==be.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this.trigger('loaded')),!this._data.core.ready&&!this.get_container_ul().find('.jstree-loading:eq(0)').length)){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var _e=[],ve,we;for(ve=0,we=this._data.core.selected.length;we>ve;ve++)_e=_e.concat(this._model.data[this._data.core.selected[ve]].parents);for(_e=ee.vakata.array_unique(_e),ve=0,we=_e.length;we>ve;ve++)this.open_node(_e[ve],!1,0)}this.trigger('changed',{action:'ready',selected:this._data.core.selected})}this.trigger('ready')}},this)).on('init.jstree',ee.proxy(function(){var ye=this.settings.core.themes;this._data.core.themes.dots=ye.dots,this._data.core.themes.stripes=ye.stripes,this._data.core.themes.icons=ye.icons,this.set_theme(ye.name||'default',ye.url),this.set_theme_variant(ye.variant)},this)).on('loading.jstree',ee.proxy(function(){this[this._data.core.themes.dots?'show_dots':'hide_dots'](),this[this._data.core.themes.icons?'show_icons':'hide_icons'](),this[this._data.core.themes.stripes?'show_stripes':'hide_stripes']()},this)).on('focus.jstree','.jstree-anchor',ee.proxy(function(ye){ee(ye.currentTarget).mouseenter()},this)).on('blur.jstree','.jstree-anchor',ee.proxy(function(ye){ee(ye.currentTarget).mouseleave()},this)).on('mouseenter.jstree','.jstree-anchor',ee.proxy(function(ye){var be=this.element.find('.jstree-anchor:focus').not('.jstree-clicked');be&&be.length&&be[0]!==ye.currentTarget&&be.blur(),this.hover_node(ye.currentTarget)},this)).on('mouseleave.jstree','.jstree-anchor',ee.proxy(function(ye){this.dehover_node(ye.currentTarget)},this))},unbind:function(){this.element.off('.jstree'),ee(document).off('.jstree-'+this._id)},trigger:function(ye,be){be||(be={}),be.instance=this,this.element.triggerHandler(ye.replace('.jstree','')+'.jstree',be)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children('ul:eq(0)')},get_string:function(ye){var be=this.settings.core.strings;return ee.isFunction(be)?be.call(this,ye):be&&be[ye]?be[ye]:ye},_firstChild:function(ye){for(ye=ye?ye.firstChild:null;null!==ye&&1!==ye.nodeType;)ye=ye.nextSibling;return ye},_nextSibling:function(ye){for(ye=ye?ye.nextSibling:null;null!==ye&&1!==ye.nodeType;)ye=ye.nextSibling;return ye},_previousSibling:function(ye){for(ye=ye?ye.previousSibling:null;null!==ye&&1!==ye.nodeType;)ye=ye.previousSibling;return ye},get_node:function(ye,be){ye&&ye.id&&(ye=ye.id);var _e;try{if(this._model.data[ye])ye=this._model.data[ye];else if(((_e=ee(ye,this.element)).length||(_e=ee('#'+ye,this.element)).length)&&this._model.data[_e.closest('li').attr('id')])ye=this._model.data[_e.closest('li').attr('id')];else{if(!(_e=ee(ye,this.element)).length||!_e.hasClass('jstree'))return!1;ye=this._model.data['#']}return be&&(ye='#'===ye.id?this.element:ee(document.getElementById(ye.id))),ye}catch(ve){return!1}},get_next_dom:function(ye,be){var _e;return ye=this.get_node(ye,!0),ye[0]===this.element[0]?(_e=this._firstChild(this.get_container_ul()[0]),!!_e&&ee(_e)):ye&&ye.length&&(be?(_e=this._nextSibling(ye[0]),!!_e&&ee(_e)):ye.hasClass('jstree-open')?(_e=this._firstChild(ye.children('ul')[0]),!!_e&&ee(_e)):null===(_e=this._nextSibling(ye[0]))?ye.parentsUntil('.jstree','li').next('li').eq(0):ee(_e))},get_prev_dom:function(ye,be){var _e;if(ye=this.get_node(ye,!0),ye[0]===this.element[0])return _e=this.get_container_ul()[0].lastChild,!!_e&&ee(_e);if(!ye||!ye.length)return!1;if(be)return _e=this._previousSibling(ye[0]),!!_e&&ee(_e);if(null!==(_e=this._previousSibling(ye[0]))){for(ye=ee(_e);ye.hasClass('jstree-open');)ye=ye.children('ul:eq(0)').children('li:last');return ye}return _e=ye[0].parentNode.parentNode,_e&&'LI'===_e.tagName&&ee(_e)},get_parent:function(ye){return ye=this.get_node(ye),ye&&'#'!==ye.id&&ye.parent},get_children_dom:function(ye){return ye=this.get_node(ye,!0),ye[0]===this.element[0]?this.get_container_ul().children('li'):ye&&ye.length&&ye.children('ul').children('li')},is_parent:function(ye){return ye=this.get_node(ye),ye&&(!1===ye.state.loaded||ye.children.length)},is_loaded:function(ye){return ye=this.get_node(ye),ye&&ye.state.loaded},is_loading:function(ye){return ye=this.get_node(ye,!0),ye&&ye.hasClass('jstree-loading')},is_open:function(ye){return ye=this.get_node(ye),ye&&ye.state.opened},is_closed:function(ye){return ye=this.get_node(ye),ye&&this.is_parent(ye)&&!ye.state.opened},is_leaf:function(ye){return!this.is_parent(ye)},load_node:function(ye,be){var _e,ve;if(ee.isArray(ye)){for(ye=ye.slice(),_e=0,ve=ye.length;ve>_e;_e++)this.load_node(ye[_e],be);return!0}return(ye=this.get_node(ye))?(this.get_node(ye,!0).addClass('jstree-loading'),this._load_node(ye,ee.proxy(function(we){ye.state.loaded=we,this.get_node(ye,!0).removeClass('jstree-loading'),this.trigger('load_node',{node:ye,status:we}),be&&be.call(this,ye,we)},this)),!0):(be.call(this,ye,!1),!1)},_load_node:function(ye,be){var _e=this.settings.core.data;return _e?ee.isFunction(_e)?_e.call(this,ye,ee.proxy(function(ve){return be.call(this,this['string'==typeof ve?'_append_html_data':'_append_json_data'](ye,'string'==typeof ve?ee(ve):ve))},this)):'object'==typeof _e?_e.url?(_e=ee.extend(!0,{},_e),ee.isFunction(_e.url)&&(_e.url=_e.url.call(this,ye)),ee.isFunction(_e.data)&&(_e.data=_e.data.call(this,ye)),ee.ajax(_e).done(ee.proxy(function(ve,we,xe){var ke=xe.getResponseHeader('Content-Type');return-1===ke.indexOf('json')?-1===ke.indexOf('html')?te:be.call(this,this._append_html_data(ye,ee(ve))):be.call(this,this._append_json_data(ye,ve))},this)).fail(ee.proxy(function(){be.call(this,!1)},this))):be.call(this,this._append_json_data(ye,_e)):'string'==typeof _e?be.call(this,this._append_html_data(ye,_e)):be.call(this,!1):be.call(this,!('#'!==ye.id)&&this._append_html_data(ye,this._data.core.original_container_html.clone(!0)))},_node_changed:function(ye){ye=this.get_node(ye),ye&&this._model.changed.push(ye.id)},_append_html_data:function(ye,be){ye=this.get_node(ye);var _e=be.is('ul')?be.children():be,ve=ye.id,we=[],xe=[],ke=this._model.data,Ce=ke[ve],Te=this._data.core.selected.length,De,Se,je;for(_e.each(ee.proxy(function(Ne,Pe){De=this._parse_model_from_html(ee(Pe),ve,Ce.parents.concat()),De&&(we.push(De),xe.push(De),ke[De].children_d.length&&(xe=xe.concat(ke[De].children_d)))},this)),Ce.children=we,Ce.children_d=xe,Se=0,je=Ce.parents.length;je>Se;Se++)ke[Ce.parents[Se]].children_d=ke[Ce.parents[Se]].children_d.concat(xe);return this.trigger('model',{nodes:xe,parent:ve}),'#'===ve?(this.get_container_ul().children('.jstree-initial-node').remove(),this.redraw(!0)):(this._node_changed(ve),this.redraw()),this._data.core.selected.length!==Te&&this.trigger('changed',{action:'model',selected:this._data.core.selected}),!0},_append_json_data:function(ye,be){ye=this.get_node(ye);var _e=be,ve=ye.id,we=[],xe=[],ke=this._model.data,Ce=ke[ve],Te=this._data.core.selected.length,De,Se,je;if(ee.isArray(_e)||(_e=[_e]),_e.length&&_e[0].id!==te&&_e[0].parent!==te){for(Se=0,je=_e.length;je>Se;Se++)_e[Se].children||(_e[Se].children=[]),ke[_e[Se].id]=_e[Se];for(Se=0,je=_e.length;je>Se;Se++)ke[_e[Se].parent].children.push(_e[Se].id),Ce.children_d.push(_e[Se].id);for(Se=0,je=Ce.children.length;je>Se;Se++)De=this._parse_model_from_flat_json(ke[Ce.children[Se]],ve,Ce.parents.concat()),xe.push(De),ke[De].children_d.length&&(xe=xe.concat(ke[De].children_d))}else{for(Se=0,je=_e.length;je>Se;Se++)De=this._parse_model_from_json(_e[Se],ve,Ce.parents.concat()),De&&(we.push(De),xe.push(De),ke[De].children_d.length&&(xe=xe.concat(ke[De].children_d)));for(Ce.children=we,Ce.children_d=xe,Se=0,je=Ce.parents.length;je>Se;Se++)ke[Ce.parents[Se]].children_d=ke[Ce.parents[Se]].children_d.concat(xe)}return this.trigger('model',{nodes:xe,parent:ve}),'#'===ve?this.redraw(!0):(this._node_changed(ve),this.redraw()),this._data.core.selected.length!==Te&&this.trigger('changed',{action:'model',selected:this._data.core.selected}),!0},_parse_model_from_html:function(ye,be,_e){_e=_e?[].concat(_e):[],be&&_e.unshift(be);var xe=this._model.data,ke={id:!1,text:!1,icon:!0,parent:be,parents:_e,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:'#'},original:!1},ve,we,Ce,Te,De;for(Ce in this._model.default_state)this._model.default_state.hasOwnProperty(Ce)&&(ke.state[Ce]=this._model.default_state[Ce]);if(Te=ee.vakata.attributes(ye,!0),ee.each(Te,function(Se,je){return je=ee.trim(je),!je.length||(ke.li_attr[Se]=je,'id'===Se&&(ke.id=je),te)}),Te=ye.children('a').eq(0),Te.length&&(Te=ee.vakata.attributes(Te,!0),ee.each(Te,function(Se,je){je=ee.trim(je),je.length&&(ke.a_attr[Se]=je)})),Te=ye.children('a:eq(0)').length?ye.children('a:eq(0)').clone():ye.clone(),Te.children('ins, i, ul').remove(),Te=Te.html(),Te=ee('<div />').html(Te),ke.text=Te.html(),Te=ye.data(),ke.data=Te?ee.extend(!0,{},Te):null,ke.state.opened=ye.hasClass('jstree-open'),ke.state.selected=ye.children('a').hasClass('jstree-clicked'),ke.state.disabled=ye.children('a').hasClass('jstree-disabled'),ke.data&&ke.data.jstree)for(Ce in ke.data.jstree)ke.data.jstree.hasOwnProperty(Ce)&&(ke.state[Ce]=ke.data.jstree[Ce]);Te=ye.children('a').children('.jstree-themeicon'),Te.length&&(ke.icon=!Te.hasClass('jstree-themeicon-hidden')&&Te.attr('rel')),ke.state.icon&&(ke.icon=ke.state.icon),Te=ye.children('ul').children('li');do De='j'+this._id+'_'+ ++ne;while(xe[De]);return ke.id=ke.li_attr.id||De,Te.length?(Te.each(ee.proxy(function(Se,je){ve=this._parse_model_from_html(ee(je),ke.id,_e),we=this._model.data[ve],ke.children.push(ve),we.children_d.length&&(ke.children_d=ke.children_d.concat(we.children_d))},this)),ke.children_d=ke.children_d.concat(ke.children)):ye.hasClass('jstree-closed')&&(ke.state.loaded=!1),xe[ke.id]=ke,ke.state.selected&&this._data.core.selected.push(ke.id),ke.id},_parse_model_from_flat_json:function(ye,be,_e){_e=_e?_e.concat():[],be&&_e.unshift(be);var ve=ye.id,we=this._model.data,xe=this._model.default_state,Se={id:ve,text:ye.text||'',icon:!(ye.icon!==te)||ye.icon,parent:be,parents:_e,children:ye.children||[],children_d:ye.children_d||[],data:ye.data,state:{},li_attr:{id:!1},a_attr:{href:'#'},original:!1},ke,Ce,Te,De;for(ke in xe)xe.hasOwnProperty(ke)&&(Se.state[ke]=xe[ke]);if(ye&&ye.data&&ye.data.jstree&&ye.data.jstree.icon&&(Se.icon=ye.data.jstree.icon),ye&&ye.data&&(Se.data=ye.data,ye.data.jstree))for(ke in ye.data.jstree)ye.data.jstree.hasOwnProperty(ke)&&(Se.state[ke]=ye.data.jstree[ke]);if(ye&&'object'==typeof ye.state)for(ke in ye.state)ye.state.hasOwnProperty(ke)&&(Se.state[ke]=ye.state[ke]);if(ye&&'object'==typeof ye.li_attr)for(ke in ye.li_attr)ye.li_attr.hasOwnProperty(ke)&&(Se.li_attr[ke]=ye.li_attr[ke]);if(Se.li_attr.id||(Se.li_attr.id=ve),ye&&'object'==typeof ye.a_attr)for(ke in ye.a_attr)ye.a_attr.hasOwnProperty(ke)&&(Se.a_attr[ke]=ye.a_attr[ke]);for(ye&&ye.children&&!0===ye.children&&(Se.state.loaded=!1,Se.children=[],Se.children_d=[]),we[Se.id]=Se,ke=0,Ce=Se.children.length;Ce>ke;ke++)Te=this._parse_model_from_flat_json(we[Se.children[ke]],Se.id,_e),De=we[Te],Se.children_d.push(Te),De.children_d.length&&(Se.children_d=Se.children_d.concat(De.children_d));return delete ye.data,delete ye.children,we[Se.id].original=ye,Se.state.selected&&this._data.core.selected.push(Se.id),Se.id},_parse_model_from_json:function(ye,be,_e){_e=_e?_e.concat():[],be&&_e.unshift(be);var ve=!1,Te=this._model.data,De=this._model.default_state,we,xe,ke,Ce,Se;do ve='j'+this._id+'_'+ ++ne;while(Te[ve]);for(we in Se={id:!1,text:'string'==typeof ye?ye:'',icon:'object'==typeof ye&&ye.icon!==te?ye.icon:!0,parent:be,parents:_e,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:'#'},original:!1},De)De.hasOwnProperty(we)&&(Se.state[we]=De[we]);if(ye&&ye.id&&(Se.id=ye.id),ye&&ye.text&&(Se.text=ye.text),ye&&ye.data&&ye.data.jstree&&ye.data.jstree.icon&&(Se.icon=ye.data.jstree.icon),ye&&ye.data&&(Se.data=ye.data,ye.data.jstree))for(we in ye.data.jstree)ye.data.jstree.hasOwnProperty(we)&&(Se.state[we]=ye.data.jstree[we]);if(ye&&'object'==typeof ye.state)for(we in ye.state)ye.state.hasOwnProperty(we)&&(Se.state[we]=ye.state[we]);if(ye&&'object'==typeof ye.li_attr)for(we in ye.li_attr)ye.li_attr.hasOwnProperty(we)&&(Se.li_attr[we]=ye.li_attr[we]);if(Se.li_attr.id&&!Se.id&&(Se.id=Se.li_attr.id),Se.id||(Se.id=ve),Se.li_attr.id||(Se.li_attr.id=Se.id),ye&&'object'==typeof ye.a_attr)for(we in ye.a_attr)ye.a_attr.hasOwnProperty(we)&&(Se.a_attr[we]=ye.a_attr[we]);if(ye&&ye.children&&ye.children.length){for(we=0,xe=ye.children.length;xe>we;we++)ke=this._parse_model_from_json(ye.children[we],Se.id,_e),Ce=Te[ke],Se.children.push(ke),Ce.children_d.length&&(Se.children_d=Se.children_d.concat(Ce.children_d));Se.children_d=Se.children_d.concat(Se.children)}return ye&&ye.children&&!0===ye.children&&(Se.state.loaded=!1,Se.children=[],Se.children_d=[]),delete ye.data,delete ye.children,Se.original=ye,Te[Se.id]=Se,Se.state.selected&&this._data.core.selected.push(Se.id),Se.id},_redraw:function(){var ye=this._model.force_full_redraw?this._model.data['#'].children.concat([]):this._model.changed.concat([]),be=document.createElement('UL'),_e,ve,we;for(ve=0,we=ye.length;we>ve;ve++)_e=this.redraw_node(ye[ve],!0,this._model.force_full_redraw),_e&&this._model.force_full_redraw&&be.appendChild(_e);this._model.force_full_redraw&&(be.className=this.get_container_ul()[0].className,this.element.empty().append(be)),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger('redraw',{nodes:ye})},redraw:function(ye){ye&&(this._model.force_full_redraw=!0),this._redraw()},redraw_node:function(ye,be,_e){var ve=this.get_node(ye),we=!1,xe=!1,ke=!1,Ce=!1,Te=!1,De=!1,Se='',je=document,Ne=this._model.data;if(!ve)return!1;if('#'===ve.id)return this.redraw(!0);if(be=be||0===ve.children.length,ye=je.getElementById(ve.id))ye=ee(ye),_e||(we=ye.parent().parent()[0],we===this.element[0]&&(we=null),xe=ye.index()),Ne[ve.id].data=ye.data(),be||!ve.children.length||ye.children('ul').length||(be=!0),be||(ke=ye.children('UL')[0]),ye.remove();else if(be=!0,!_e){if(we='#'===ve.parent?null:ee('#'+ve.parent,this.element)[0],!(null===we||we&&Ne[ve.parent].state.opened))return!1;xe=ee.inArray(ve.id,null===we?Ne['#'].children:Ne[ve.parent].children)}for(Ce in ye=ce.cloneNode(!0),Se='jstree-node ',ve.li_attr)if(ve.li_attr.hasOwnProperty(Ce)){if('id'===Ce)continue;'class'===Ce?Se+=ve.li_attr[Ce]:ye.setAttribute(Ce,ve.li_attr[Ce])}for(Te in Se+=!ve.children.length&&ve.state.loaded?' jstree-leaf':ve.state.opened?' jstree-open':' jstree-closed',null!==ve.parent&&Ne[ve.parent].children[Ne[ve.parent].children.length-1]===ve.id&&(Se+=' jstree-last'),ye.id=ve.id,ye.className=Se,Se=(ve.state.selected?' jstree-clicked':'')+(ve.state.disabled?' jstree-disabled':''),ve.a_attr)if(ve.a_attr.hasOwnProperty(Te)){if('href'===Te&&'#'===ve.a_attr[Te])continue;'class'===Te?Se+=' '+ve.a_attr[Te]:ye.childNodes[1].setAttribute(Te,ve.a_attr[Te])}if(Se.length&&(ye.childNodes[1].className='jstree-anchor '+Se),ve.icon&&!0!==ve.icon&&(!1===ve.icon?ye.childNodes[1].childNodes[0].className+=' jstree-themeicon-hidden':-1===ve.icon.indexOf('/')&&-1===ve.icon.indexOf('.')?ye.childNodes[1].childNodes[0].className+=' '+ve.icon+' jstree-themeicon-custom':(ye.childNodes[1].childNodes[0].style.backgroundImage='url('+ve.icon+')',ye.childNodes[1].childNodes[0].style.backgroundPosition='center center',ye.childNodes[1].childNodes[0].style.backgroundSize='auto',ye.childNodes[1].childNodes[0].className+=' jstree-themeicon-custom')),ye.childNodes[1].innerHTML+=ve.text,ve.data&&ee.data(ye,ve.data),be&&ve.children.length&&ve.state.opened){for(De=je.createElement('UL'),De.setAttribute('role','group'),De.className='jstree-children',Ce=0,Te=ve.children.length;Te>Ce;Ce++)De.appendChild(this.redraw_node(ve.children[Ce],be,!0));ye.appendChild(De)}return ke&&ye.appendChild(ke),_e||(we||(we=this.element[0]),we.getElementsByTagName('UL').length?we=we.getElementsByTagName('UL')[0]:(Ce=je.createElement('UL'),Ce.setAttribute('role','group'),Ce.className='jstree-children',we.appendChild(Ce),we=Ce),we.childNodes.length>xe?we.insertBefore(ye,we.childNodes[xe]):we.appendChild(ye)),ye},open_node:function(ye,be,_e){var ve,we,xe,ke;if(ee.isArray(ye)){for(ye=ye.slice(),ve=0,we=ye.length;we>ve;ve++)this.open_node(ye[ve],be,_e);return!0}if(ye=this.get_node(ye),!ye||'#'===ye.id)return!1;if(_e=_e===te?this.settings.core.animation:_e,!this.is_closed(ye))return be&&be.call(this,ye,!1),!1;if(this.is_loaded(ye))xe=this.get_node(ye,!0),ke=this,xe.length&&(ye.children.length&&!this._firstChild(xe.children('ul')[0])&&(ye.state.opened=!0,this.redraw_node(ye,!0),xe=this.get_node(ye,!0)),_e?xe.children('ul').css('display','none').end().removeClass('jstree-closed').addClass('jstree-open').children('ul').stop(!0,!0).slideDown(_e,function(){this.style.display='',ke.trigger('after_open',{node:ye})}):xe[0].className=xe[0].className.replace('jstree-closed','jstree-open')),ye.state.opened=!0,be&&be.call(this,ye,!0),this.trigger('open_node',{node:ye}),_e&&xe.length||this.trigger('after_open',{node:ye});else{if(this.is_loading(ye))return setTimeout(ee.proxy(function(){this.open_node(ye,be,_e)},this),500);this.load_node(ye,function(Ce,Te){return Te?this.open_node(Ce,be,_e):!!be&&be.call(this,Ce,!1)})}},_open_to:function(ye){if(ye=this.get_node(ye),!ye||'#'===ye.id)return!1;var ve=ye.parents,be,_e;for(be=0,_e=ve.length;_e>be;be+=1)'#'!==be&&this.open_node(ve[be],!1,0);return ee(document.getElementById(ye.id))},close_node:function(ye,be){var _e,ve,we,xe;if(ee.isArray(ye)){for(ye=ye.slice(),_e=0,ve=ye.length;ve>_e;_e++)this.close_node(ye[_e],be);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(be=be===te?this.settings.core.animation:be,we=this,xe=this.get_node(ye,!0),xe.length&&(be?xe.children('ul').attr('style','display:block !important').end().removeClass('jstree-open').addClass('jstree-closed').children('ul').stop(!0,!0).slideUp(be,function(){this.style.display='',xe.children('ul').remove(),we.trigger('after_close',{node:ye})}):(xe[0].className=xe[0].className.replace('jstree-open','jstree-closed'),xe.children('ul').remove())),ye.state.opened=!1,this.trigger('close_node',{node:ye}),be&&xe.length||this.trigger('after_close',{node:ye}),te)},toggle_node:function(ye){var be,_e;if(ee.isArray(ye)){for(ye=ye.slice(),be=0,_e=ye.length;_e>be;be++)this.toggle_node(ye[be]);return!0}return this.is_closed(ye)?this.open_node(ye):this.is_open(ye)?this.close_node(ye):te},open_all:function(ye,be,_e){if(ye||(ye='#'),ye=this.get_node(ye),!ye)return!1;var ve='#'===ye.id?this.get_container_ul():this.get_node(ye,!0),we,xe,ke;if(!ve.length){for(we=0,xe=ye.children_d.length;xe>we;we++)this.is_closed(this._mode.data[ye.children_d[we]])&&(this._mode.data[ye.children_d[we]].state.opened=!0);return this.trigger('open_all',{node:ye})}_e=_e||ve,ke=this,ve=this.is_closed(ye)?ve.find('li.jstree-closed').addBack():ve.find('li.jstree-closed'),ve.each(function(){ke.open_node(this,function(Ce,Te){Te&&this.is_parent(Ce)&&this.open_all(Ce,be,_e)},be||0)}),0===_e.find('li.jstree-closed').length&&this.trigger('open_all',{node:this.get_node(_e)})},close_all:function(ye,be){if(ye||(ye='#'),ye=this.get_node(ye),!ye)return!1;var _e='#'===ye.id?this.get_container_ul():this.get_node(ye,!0),ve=this,we,xe;if(!_e.length){for(we=0,xe=ye.children_d.length;xe>we;we++)this._mode.data[ye.children_d[we]].state.opened=!1;return this.trigger('close_all',{node:ye})}_e=this.is_open(ye)?_e.find('li.jstree-open').addBack():_e.find('li.jstree-open'),_e.vakata_reverse().each(function(){ve.close_node(this,be||0)}),this.trigger('close_all',{node:ye})},is_disabled:function(ye){return ye=this.get_node(ye),ye&&ye.state&&ye.state.disabled},enable_node:function(ye){var be,_e;if(ee.isArray(ye)){for(ye=ye.slice(),be=0,_e=ye.length;_e>be;be++)this.enable_node(ye[be]);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(ye.state.disabled=!1,this.get_node(ye,!0).children('.jstree-anchor').removeClass('jstree-disabled'),this.trigger('enable_node',{node:ye}),te)},disable_node:function(ye){var be,_e;if(ee.isArray(ye)){for(ye=ye.slice(),be=0,_e=ye.length;_e>be;be++)this.disable_node(ye[be]);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(ye.state.disabled=!0,this.get_node(ye,!0).children('.jstree-anchor').addClass('jstree-disabled'),this.trigger('disable_node',{node:ye}),te)},activate_node:function(ye,be){if(this.is_disabled(ye))return!1;if(!(this.settings.core.multiple&&(be.metaKey||be.ctrlKey||be.shiftKey)&&(!be.shiftKey||this._data.core.last_clicked&&this.get_parent(ye)&&this.get_parent(ye)===this._data.core.last_clicked.parent)))this.deselect_all(!0),this.select_node(ye),this._data.core.last_clicked=this.get_node(ye);else if(be.shiftKey){var _e=this.get_node(ye).id,ve=this._data.core.last_clicked.id,we=this.get_node(this._data.core.last_clicked.parent).children,xe=!1,ke,Ce;for(ke=0,Ce=we.length;Ce>ke;ke+=1)we[ke]===_e&&(xe=!xe),we[ke]===ve&&(xe=!xe),xe||we[ke]===_e||we[ke]===ve?this.select_node(we[ke]):this.deselect_node(we[ke])}else this.is_selected(ye)?this.deselect_node(ye):this.select_node(ye);this.trigger('activate_node',{node:this.get_node(ye)})},hover_node:function(ye){return ye=this.get_node(ye,!0),ye&&ye.length&&(ye.children('.jstree-anchor').addClass('jstree-hovered'),this.trigger('hover_node',{node:this.get_node(ye)}),te)},dehover_node:function(ye){return ye=this.get_node(ye,!0),ye&&ye.length&&(ye.children('.jstree-anchor').removeClass('jstree-hovered'),this.trigger('dehover_node',{node:this.get_node(ye)}),te)},select_node:function(ye,be,_e){var ve,we,xe;if(ee.isArray(ye)){for(ye=ye.slice(),we=0,xe=ye.length;xe>we;we++)this.select_node(ye[we],be,_e);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(ve=this.get_node(ye,!0),ye.state.selected||(ye.state.selected=!0,this._data.core.selected.push(ye.id),_e||(ve=this._open_to(ye)),ve&&ve.length&&ve.children('.jstree-anchor').addClass('jstree-clicked'),this.trigger('select_node',{node:ye,selected:this._data.core.selected}),be||this.trigger('changed',{action:'select_node',node:ye,selected:this._data.core.selected})),te)},deselect_node:function(ye,be){var _e,ve,we;if(ee.isArray(ye)){for(ye=ye.slice(),_e=0,ve=ye.length;ve>_e;_e++)this.deselect_node(ye[_e],be);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(we=this.get_node(ye,!0),ye.state.selected&&(ye.state.selected=!1,this._data.core.selected=ee.vakata.array_remove_item(this._data.core.selected,ye.id),we.length&&we.children('.jstree-anchor').removeClass('jstree-clicked'),this.trigger('deselect_node',{node:ye,selected:this._data.core.selected}),be||this.trigger('changed',{action:'deselect_node',node:ye,selected:this._data.core.selected})),te)},select_all:function(ye){var be=this._data.core.selected.concat([]),_e,ve;for(this._data.core.selected=this._model.data['#'].children_d.concat(),_e=0,ve=this._data.core.selected.length;ve>_e;_e++)this._model.data[this._data.core.selected[_e]]&&(this._model.data[this._data.core.selected[_e]].state.selected=!0);this.redraw(!0),this.trigger('select_all',{selected:this._data.core.selected}),ye||this.trigger('changed',{action:'select_all',selected:this._data.core.selected,old_selection:be})},deselect_all:function(ye){var be=this._data.core.selected.concat([]),_e,ve;for(_e=0,ve=this._data.core.selected.length;ve>_e;_e++)this._model.data[this._data.core.selected[_e]]&&(this._model.data[this._data.core.selected[_e]].state.selected=!1);this._data.core.selected=[],this.element.find('.jstree-clicked').removeClass('jstree-clicked'),this.trigger('deselect_all',{selected:this._data.core.selected,node:be}),ye||this.trigger('changed',{action:'deselect_all',selected:this._data.core.selected,old_selection:be})},is_selected:function(ye){return ye=this.get_node(ye),ye&&'#'!==ye.id&&ye.state.selected},get_selected:function(ye){return ye?ee.map(this._data.core.selected,ee.proxy(function(be){return this.get_node(be)},this)):this._data.core.selected},get_state:function(){var ye={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},be;for(be in this._model.data)this._model.data.hasOwnProperty(be)&&'#'!==be&&(this._model.data[be].state.opened&&ye.core.open.push(be),this._model.data[be].state.selected&&ye.core.selected.push(be));return ye},set_state:function(ye,be){if(ye){if(ye.core){var _e,ve,we,xe;return ee.isArray(ye.core.open)?(_e=!0,ve=!1,we=this,ee.each(ye.core.open.concat([]),function(ke,Ce){ve=document.getElementById(Ce),ve&&(we.is_loaded(Ce)?(we.is_closed(Ce)&&we.open_node(Ce,!1,0),ee.vakata.array_remove_item(ye.core.open,Ce)):(we.is_loading(Ce)||we.open_node(Ce,ee.proxy(function(){this.set_state(ye)},we),0),_e=!1))}),_e&&(delete ye.core.open,this.set_state(ye,be)),!1):ye.core.scroll?(ye.core.scroll&&ye.core.scroll.left!==te&&this.element.scrollLeft(ye.core.scroll.left),ye.core.scroll&&ye.core.scroll.top!==te&&this.element.scrollTop(ye.core.scroll.top),delete ye.core.scroll,delete ye.core.open,this.set_state(ye,be),!1):ye.core.selected?(xe=this,this.deselect_all(),ee.each(ye.core.selected,function(ke,Ce){xe.select_node(Ce)}),delete ye.core.selected,this.set_state(ye,be),!1):!ee.isEmptyObject(ye)||(be&&be.call(this),this.trigger('set_state'),!1)}return!0}return!1},refresh:function(){this._data.core.state=this.get_state(),this.load_node('#',function(ye,be){be&&this.set_state(ee.extend(!0,{},this._data.core.state),function(){this.trigger('refresh')}),this._data.core.state=null})},set_id:function(ye,be){if(ye=this.get_node(ye),!ye||'#'===ye.id)return!1;var we=this._model.data,_e,ve;for(we[ye.parent].children[ee.inArray(ye.id,we[ye.parent].children)]=be,_e=0,ve=ye.parents.length;ve>_e;_e++)we[ye.parents[_e]].children_d[ee.inArray(ye.id,we[ye.parents[_e]].children_d)]=be;for(_e=0,ve=ye.children.length;ve>_e;_e++)we[ye.children[_e]].parent=be;for(_e=0,ve=ye.children_d.length;ve>_e;_e++)we[ye.children_d[_e]].parents[ee.inArray(ye.id,we[ye.children_d[_e]].parents)]=be;return _e=this.get_node(ye.id,!0),_e&&_e.attr('id',be),delete we[ye.id],ye.id=be,we[be]=ye,!0},get_text:function(ye){return ye=this.get_node(ye),ye&&'#'!==ye.id&&ye.text},set_text:function(ye,be){var _e,ve,we,xe;if(ee.isArray(ye)){for(ye=ye.slice(),_e=0,ve=ye.length;ve>_e;_e++)this.set_text(ye[_e],be);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(ye.text=be,we=this.get_node(ye,!0),we.length&&(we=we.children('.jstree-anchor:eq(0)'),xe=we.children('I').clone(),we.html(be).prepend(xe),this.trigger('set_text',{obj:ye,text:be})),!0)},get_json:function(ye,be){if(ye=this.get_node(ye||'#'),!ye)return!1;var _e={id:ye.id,text:ye.text,icon:this.get_icon(ye),li_attr:ye.li_attr,a_attr:ye.a_attr,state:{},data:be&&be.no_data?!1:this.get_node(ye,!0).length?this.get_node(ye,!0).data():ye.data,children:[]},ve,we;if(!be||!be.no_state)for(ve in ye.state)ye.state.hasOwnProperty(ve)&&(_e.state[ve]=ye.state[ve]);if(be&&be.no_id&&_e.li_attr&&_e.li_attr.id&&(delete _e.li_attr.id,delete _e.id),!be||!be.no_children)for(ve=0,we=ye.children.length;we>ve;ve++)_e.children.push(this.get_json(ye.children[ve],be));return'#'===ye.id?_e.children:_e},create_node:function(ye,be,_e,ve,we){if(ye=this.get_node(ye),!ye)return!1;if(_e=_e===te?'last':_e,!_e.match(/^(before|after)$/)&&!we&&!this.is_loaded(ye))return this.load_node(ye,function(){this.create_node(ye,be,_e,ve,!0)});be||(be={text:this.get_string('New node')}),be.text===te&&(be.text=this.get_string('New node'));var xe,ke,Ce,Te;switch('#'===ye.id&&('before'===_e&&(_e='first'),'after'===_e&&(_e='last')),_e){case'before':xe=this.get_node(ye.parent),_e=ee.inArray(ye,xe.children),ye=xe;break;case'after':xe=this.get_node(ye.parent),_e=ee.inArray(ye,xe.children),ye=xe;break;case'inside':case'first':_e=0;break;case'last':_e=ye.children.length;break;default:_e||(_e=0);}if(_e>ye.children.length&&(_e=ye.children.length),be.id||(be.id=!0),!this.check('create_node',be,ye,_e))return!1;if(!0===be.id&&delete be.id,be=this._parse_model_from_json(be,ye.id,ye.parents.concat()),!be)return!1;for(xe=this.get_node(be),ke=[],ke.push(be),ke=ke.concat(xe.children_d),this.trigger('model',{nodes:ke,parent:ye.id}),ye.children_d=ye.children_d.concat(ke),Ce=0,Te=ye.parents.length;Te>Ce;Ce++)this._model.data[ye.parents[Ce]].children_d=this._model.data[ye.parents[Ce]].children_d.concat(ke);for(be=xe,xe=[],Ce=0,Te=ye.children.length;Te>Ce;Ce++)xe[Ce>=_e?Ce+1:Ce]=ye.children[Ce];return xe[_e]=be.id,ye.children=xe,this.redraw_node(ye,!0),ve&&ve.call(this,this.get_node(be)),this.trigger('create_node',{node:this.get_node(be),parent:ye.id,position:_e}),be.id},rename_node:function(ye,be){var _e,ve,we;if(ee.isArray(ye)){for(ye=ye.slice(),_e=0,ve=ye.length;ve>_e;_e++)this.rename_node(ye[_e],be);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(we=ye.text,!!this.check('rename_node',ye,this.get_parent(ye),be)&&(this.set_text(ye,be),this.trigger('rename_node',{node:ye,text:be,old:we}),!0))},delete_node:function(ye){var be,_e,ve,we,xe,ke,Ce,Te,De,Se;if(ee.isArray(ye)){for(ye=ye.slice(),be=0,_e=ye.length;_e>be;be++)this.delete_node(ye[be]);return!0}if(ye=this.get_node(ye),!ye||'#'===ye.id)return!1;if(ve=this.get_node(ye.parent),we=ee.inArray(ye.id,ve.children),Se=!1,!this.check('delete_node',ye,ve,we))return!1;for(-1!==we&&(ve.children=ee.vakata.array_remove(ve.children,we)),xe=ye.children_d.concat([]),xe.push(ye.id),Te=0,De=xe.length;De>Te;Te++){for(ke=0,Ce=ye.parents.length;Ce>ke;ke++)we=ee.inArray(xe[Te],this._model.data[ye.parents[ke]].children_d),-1!==we&&(this._model.data[ye.parents[ke]].children_d=ee.vakata.array_remove(this._model.data[ye.parents[ke]].children_d,we));this._model.data[xe[Te]].state.selected&&(Se=!0,we=ee.inArray(xe[Te],this._data.core.selected),-1!==we&&(this._data.core.selected=ee.vakata.array_remove(this._data.core.selected,we)))}for(this.trigger('delete_node',{node:ye,parent:ve.id}),Se&&this.trigger('changed',{action:'delete_node',node:ye,selected:this._data.core.selected,parent:ve.id}),Te=0,De=xe.length;De>Te;Te++)delete this._model.data[xe[Te]];return this.redraw_node(ve,!0),!0},check:function(ye,be,_e,ve){be=be&&be.id?be:this.get_node(be),_e=_e&&_e.id?_e:this.get_node(_e);var we=ye.match(/^move_node|copy_node|create_node$/i)?_e:be,xe=this.settings.core.check_callback;return('move_node'!==ye||be.id!==_e.id&&ee.inArray(be.id,_e.children)!==ve&&-1===ee.inArray(_e.id,be.children_d))&&(we=this.get_node(we,!0),we.length&&(we=we.data('jstree')),we&&we.functions&&(!1===we.functions[ye]||!0===we.functions[ye])?we.functions[ye]:!1===xe||ee.isFunction(xe)&&!1===xe.call(this,ye,be,_e,ve)||xe&&!1===xe[ye]?!1:!0)},move_node:function(ye,be,_e,ve,we){var xe,ke,Ce,Te,De,Se,je,Ne,Pe,Ee,Oe,Ae,Ie;if(ee.isArray(ye)){for(ye=ye.reverse().slice(),xe=0,ke=ye.length;ke>xe;xe++)this.move_node(ye[xe],be,_e,ve,we);return!0}if(ye=ye&&ye.id?ye:this.get_node(ye),be=this.get_node(be),_e=_e===te?0:_e,!be||!ye||'#'===ye.id)return!1;if(!(''+_e).match(/^(before|after)$/)&&!we&&!this.is_loaded(be))return this.load_node(be,function(){this.move_node(ye,be,_e,ve,!0)});if(Ce=''+ye.parent,Te=(''+_e).match(/^(before|after)$/)&&'#'!==be.id?this.get_node(be.parent):be,De=this._model.data[ye.id]?this:ee.jstree.reference(ye.id),Se=this._id!==De._id)return!!this.copy_node(ye,be,_e,ve,we)&&(De.delete_node(ye),!0);switch('#'===Te.id&&('before'===_e&&(_e='first'),'after'===_e&&(_e='last')),_e){case'before':_e=ee.inArray(be.id,Te.children);break;case'after':_e=ee.inArray(be.id,Te.children)+1;break;case'inside':case'first':_e=0;break;case'last':_e=Te.children.length;break;default:_e||(_e=0);}if(_e>Te.children.length&&(_e=Te.children.length),!this.check('move_node',ye,Te,_e))return!1;if(ye.parent===Te.id){for(je=Te.children.concat(),Ne=ee.inArray(ye.id,je),-1!==Ne&&(je=ee.vakata.array_remove(je,Ne),_e>Ne&&_e--),Ne=[],Pe=0,Ee=je.length;Ee>Pe;Pe++)Ne[Pe>=_e?Pe+1:Pe]=je[Pe];Ne[_e]=ye.id,Te.children=Ne,this._node_changed(Te.id),this.redraw('#'===Te.id)}else{for(Ne=ye.children_d.concat(),Ne.push(ye.id),Pe=0,Ee=ye.parents.length;Ee>Pe;Pe++){for(je=[],Ie=De._model.data[ye.parents[Pe]].children_d,Oe=0,Ae=Ie.length;Ae>Oe;Oe++)-1===ee.inArray(Ie[Oe],Ne)&&je.push(Ie[Oe]);De._model.data[ye.parents[Pe]].children_d=je}for(De._model.data[Ce].children=ee.vakata.array_remove_item(De._model.data[Ce].children,ye.id),Pe=0,Ee=Te.parents.length;Ee>Pe;Pe++)this._model.data[Te.parents[Pe]].children_d=this._model.data[Te.parents[Pe]].children_d.concat(Ne);for(je=[],Pe=0,Ee=Te.children.length;Ee>Pe;Pe++)je[Pe>=_e?Pe+1:Pe]=Te.children[Pe];for(je[_e]=ye.id,Te.children=je,Te.children_d.push(ye.id),Te.children_d=Te.children_d.concat(ye.children_d),ye.parent=Te.id,Ne=Te.parents.concat(),Ne.unshift(Te.id),Ie=ye.parents.length,ye.parents=Ne,Ne=Ne.concat(),Pe=0,Ee=ye.children_d.length;Ee>Pe;Pe++)this._model.data[ye.children_d[Pe]].parents=this._model.data[ye.children_d[Pe]].parents.slice(0,-1*Ie),Array.prototype.push.apply(this._model.data[ye.children_d[Pe]].parents,Ne);this._node_changed(Ce),this._node_changed(Te.id),this.redraw('#'===Ce||'#'===Te.id)}return ve&&ve.call(this,ye,Te,_e),this.trigger('move_node',{node:ye,parent:Te.id,position:_e,old_parent:Ce,is_multi:Se,old_instance:De,new_instance:this}),!0},copy_node:function(ye,be,_e,ve,we){var xe,ke,Ce,Te,De,Se,je,Ne,Pe,Ee,Oe;if(ee.isArray(ye)){for(ye=ye.reverse().slice(),xe=0,ke=ye.length;ke>xe;xe++)this.copy_node(ye[xe],be,_e,ve,we);return!0}if(ye=ye&&ye.id?ye:this.get_node(ye),be=this.get_node(be),_e=_e===te?0:_e,!be||!ye||'#'===ye.id)return!1;if(!(''+_e).match(/^(before|after)$/)&&!we&&!this.is_loaded(be))return this.load_node(be,function(){this.copy_node(ye,be,_e,ve,!0)});switch(Ne=''+ye.parent,Pe=(''+_e).match(/^(before|after)$/)&&'#'!==be.id?this.get_node(be.parent):be,Ee=this._model.data[ye.id]?this:ee.jstree.reference(ye.id),Oe=this._id!==Ee._id,'#'===Pe.id&&('before'===_e&&(_e='first'),'after'===_e&&(_e='last')),_e){case'before':_e=ee.inArray(be.id,Pe.children);break;case'after':_e=ee.inArray(be.id,Pe.children)+1;break;case'inside':case'first':_e=0;break;case'last':_e=Pe.children.length;break;default:_e||(_e=0);}if(_e>Pe.children.length&&(_e=Pe.children.length),!this.check('copy_node',ye,Pe,_e))return!1;if(je=Ee.get_json(ye,{no_id:!0,no_data:!0,no_state:!0}),!je)return!1;if(je=this._parse_model_from_json(je,Pe.id,Pe.parents.concat()),!je)return!1;for(Te=this.get_node(je),Ce=[],Ce.push(je),Ce=Ce.concat(Te.children_d),this.trigger('model',{nodes:Ce,parent:Pe.id}),De=0,Se=Pe.parents.length;Se>De;De++)this._model.data[Pe.parents[De]].children_d=this._model.data[Pe.parents[De]].children_d.concat(Ce);for(Ce=[],De=0,Se=Pe.children.length;Se>De;De++)Ce[De>=_e?De+1:De]=Pe.children[De];return Ce[_e]=Te.id,Pe.children=Ce,Pe.children_d.push(Te.id),Pe.children_d=Pe.children_d.concat(Te.children_d),this._node_changed(Pe.id),this.redraw('#'===Pe.id),ve&&ve.call(this,Te,Pe,_e),this.trigger('copy_node',{node:Te,original:ye,parent:Pe.id,position:_e,old_parent:Ne,is_multi:Oe,old_instance:Ee,new_instance:this}),Te.id},cut:function(ye){if(ye||(ye=this._data.core.selected.concat()),ee.isArray(ye)||(ye=[ye]),!ye.length)return!1;var be=[],_e,ve,we;for(ve=0,we=ye.length;we>ve;ve++)_e=this.get_node(ye[ve]),_e&&_e.id&&'#'!==_e.id&&be.push(_e);return!!be.length&&(oe=be,se=this,ie='move_node',this.trigger('cut',{node:ye}),te)},copy:function(ye){if(ye||(ye=this._data.core.selected.concat()),ee.isArray(ye)||(ye=[ye]),!ye.length)return!1;var be=[],_e,ve,we;for(ve=0,we=ye.length;we>ve;ve++)_e=this.get_node(ye[ve]),_e&&_e.id&&'#'!==_e.id&&be.push(_e);return!!be.length&&(oe=be,se=this,ie='copy_node',this.trigger('copy',{node:ye}),te)},get_buffer:function(){return{mode:ie,node:oe,inst:se}},can_paste:function(){return!1!==ie&&!1!==oe},paste:function(ye){return ye=this.get_node(ye),ye&&ie&&ie.match(/^(copy_node|move_node)$/)&&oe&&(this[ie](oe,ye)&&this.trigger('paste',{parent:ye.id,node:oe,mode:ie}),oe=!1,ie=!1,se=!1,te)},edit:function(ye,be){if(ye=this._open_to(ye),!ye||!ye.length)return!1;var _e=this._data.core.rtl,ve=this.element.width(),we=ye.children('.jstree-anchor'),xe=ee('<span>'),ke='string'==typeof be?be:this.get_text(ye),Ce=ee('<div />',{css:{position:'absolute',top:'-200px',left:_e?'0px':'-1000px',visibility:'hidden'}}).appendTo('body'),Te=ee('<input />',{value:ke,'class':'jstree-rename-input',css:{padding:'0',border:'1px solid silver','box-sizing':'border-box',display:'inline-block',height:this._data.core.li_height+'px',lineHeight:this._data.core.li_height+'px',width:'150px'},blur:ee.proxy(function(){var Se=xe.children('.jstree-rename-input'),je=Se.val();''===je&&(je=ke),Ce.remove(),xe.replaceWith(we),xe.remove(),!1===this.rename_node(ye,je)&&this.set_text(ye,ke)},this),keydown:function(Se){var je=Se.which;27===je&&(this.value=ke),(27===je||13===je||37===je||38===je||39===je||40===je||32===je)&&Se.stopImmediatePropagation(),(27===je||13===je)&&(Se.preventDefault(),this.blur())},click:function(Se){Se.stopImmediatePropagation()},mousedown:function(Se){Se.stopImmediatePropagation()},keyup:function(Se){Te.width(Math.min(Ce.text('pW'+this.value).width(),ve))},keypress:function(Se){return 13!==Se.which&&te}}),De={fontFamily:we.css('fontFamily')||'',fontSize:we.css('fontSize')||'',fontWeight:we.css('fontWeight')||'',fontStyle:we.css('fontStyle')||'',fontStretch:we.css('fontStretch')||'',fontVariant:we.css('fontVariant')||'',letterSpacing:we.css('letterSpacing')||'',wordSpacing:we.css('wordSpacing')||''};this.set_text(ye,''),xe.attr('class',we.attr('class')).append(we.contents().clone()).append(Te),we.replaceWith(xe),Ce.css(De),Te.css(De).width(Math.min(Ce.text('pW'+Te[0].value).width(),ve))[0].select()},set_theme:function(ye,be){if(!ye)return!1;if(!0===be){var _e=this.settings.core.themes.dir;_e||(_e=ee.jstree.path+'/themes'),be=_e+'/'+ye+'/style.css'}be&&-1===ee.inArray(be,re)&&(ee('head').append('<link rel="stylesheet" href="'+be+'" type="text/css" />'),re.push(be)),this._data.core.themes.name&&this.element.removeClass('jstree-'+this._data.core.themes.name),this._data.core.themes.name=ye,this.element.addClass('jstree-'+ye),this.element[this.settings.core.themes.responsive?'addClass':'removeClass']('jstree-'+ye+'-responsive'),this.trigger('set_theme',{theme:ye})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(ye){this._data.core.themes.variant&&this.element.removeClass('jstree-'+this._data.core.themes.name+'-'+this._data.core.themes.variant),this._data.core.themes.variant=ye,ye&&this.element.addClass('jstree-'+this._data.core.themes.name+'-'+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass('jstree-striped')},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass('jstree-striped')},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass('jstree-no-dots')},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass('jstree-no-dots')},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass('jstree-no-icons')},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass('jstree-no-icons')},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(ye,be){var _e,ve,we,xe;if(ee.isArray(ye)){for(ye=ye.slice(),_e=0,ve=ye.length;ve>_e;_e++)this.set_icon(ye[_e],be);return!0}return ye=this.get_node(ye),ye&&'#'!==ye.id&&(xe=ye.icon,ye.icon=be,we=this.get_node(ye,!0).children('.jstree-anchor').children('.jstree-themeicon'),!1===be?this.hide_icon(ye):!0===be?we.removeClass('jstree-themeicon-custom '+xe).css('background','').removeAttr('rel'):-1===be.indexOf('/')&&-1===be.indexOf('.')?(we.removeClass(xe).css('background',''),we.addClass(be+' jstree-themeicon-custom').attr('rel',be)):(we.removeClass(xe).css('background',''),we.addClass('jstree-themeicon-custom').css('background','url(\''+be+'\') center center no-repeat').attr('rel',be)),!0)},get_icon:function(ye){return ye=this.get_node(ye),ye&&'#'!==ye.id&&ye.icon},hide_icon:function(ye){var be,_e;if(ee.isArray(ye)){for(ye=ye.slice(),be=0,_e=ye.length;_e>be;be++)this.hide_icon(ye[be]);return!0}return ye=this.get_node(ye),ye&&'#'!==ye&&(ye.icon=!1,this.get_node(ye,!0).children('a').children('.jstree-themeicon').addClass('jstree-themeicon-hidden'),!0)},show_icon:function(ye){var be,_e,ve;if(ee.isArray(ye)){for(ye=ye.slice(),be=0,_e=ye.length;_e>be;be++)this.show_icon(ye[be]);return!0}return ye=this.get_node(ye),ye&&'#'!==ye&&(ve=this.get_node(ye,!0),ye.icon=!ve.length||ve.children('a').children('.jstree-themeicon').attr('rel'),ye.icon||(ye.icon=!0),ve.children('a').children('.jstree-themeicon').removeClass('jstree-themeicon-hidden'),!0)}},ee.vakata={},ee.fn.vakata_reverse=[].reverse,ee.vakata.attributes=function(ye,be){ye=ee(ye)[0];var _e=be?{}:[];return ye&&ye.attributes&&ee.each(ye.attributes,function(ve,we){-1===ee.inArray(we.nodeName.toLowerCase(),['style','contenteditable','hasfocus','tabindex'])&&null!==we.nodeValue&&''!==ee.trim(we.nodeValue)&&(be?_e[we.nodeName]=we.nodeValue:_e.push(we.nodeName))}),_e},ee.vakata.array_unique=function(ye){var be=[],_e,ve,we;for(_e=0,we=ye.length;we>_e;_e++){for(ve=0;_e>=ve&&!(ye[_e]===ye[ve]);ve++);ve===_e&&be.push(ye[_e])}return be},ee.vakata.array_remove=function(ye,be,_e){var ve=ye.slice((_e||be)+1||ye.length);return ye.length=0>be?ye.length+be:be,ye.push.apply(ye,ve),ye},ee.vakata.array_remove_item=function(ye,be){var _e=ee.inArray(be,ye);return-1===_e?ye:ee.vakata.array_remove(ye,_e)},function(){var ye={},be=function(_e){_e=_e.toLowerCase();var ve=/(chrome)[ \/]([\w.]+)/.exec(_e)||/(webkit)[ \/]([\w.]+)/.exec(_e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(_e)||/(msie) ([\w.]+)/.exec(_e)||0>_e.indexOf('compatible')&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(_e)||[];return{browser:ve[1]||'',version:ve[2]||'0'}}(window.navigator.userAgent);be.browser&&(ye[be.browser]=!0,ye.version=be.version),ye.chrome?ye.webkit=!0:ye.webkit&&(ye.safari=!0),ee.vakata.browser=ye}(),ee.vakata.browser.msie&&8>ee.vakata.browser.version&&(ee.jstree.defaults.core.animation=0);var he=document.createElement('I');he.className='jstree-icon jstree-checkbox',ee.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0},ee.jstree.plugins.checkbox=function(ye,be){this.bind=function(){be.bind.call(this),this._data.checkbox.uto=!1,this.element.on('init.jstree',ee.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass('jstree-checkbox-no-clicked')},this)).on('loading.jstree',ee.proxy(function(){this[this._data.checkbox.visible?'show_checkboxes':'hide_checkboxes']()},this)),this.settings.checkbox.three_state&&this.element.on('changed.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree',ee.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(ee.proxy(this._undetermined,this),50)},this)).on('model.jstree',ee.proxy(function(_e,ve){var we=this._model.data,xe=we[ve.parent],ke=ve.nodes,Ce=[],Te,De,Se,je,Ne,Pe;if(xe.state.selected){for(De=0,Se=ke.length;Se>De;De++)we[ke[De]].state.selected=!0;this._data.core.selected=this._data.core.selected.concat(ke)}else for(De=0,Se=ke.length;Se>De;De++)if(we[ke[De]].state.selected){for(je=0,Ne=we[ke[De]].children_d.length;Ne>je;je++)we[we[ke[De]].children_d[je]].state.selected=!0;this._data.core.selected=this._data.core.selected.concat(we[ke[De]].children_d)}for(De=0,Se=xe.children_d.length;Se>De;De++)we[xe.children_d[De]].children.length||Ce.push(we[xe.children_d[De]].parent);for(Ce=ee.vakata.array_unique(Ce),je=0,Ne=Ce.length;Ne>je;je++)for(xe=we[Ce[je]];xe&&'#'!==xe.id;){for(Te=0,De=0,Se=xe.children.length;Se>De;De++)Te+=we[xe.children[De]].state.selected;if(Te!==Se)break;xe.state.selected=!0,this._data.core.selected.push(xe.id),Pe=this.get_node(xe,!0),Pe&&Pe.length&&Pe.children('.jstree-anchor').addClass('jstree-clicked'),xe=this.get_node(xe.parent)}this._data.core.selected=ee.vakata.array_unique(this._data.core.selected)},this)).on('select_node.jstree',ee.proxy(function(_e,ve){var we=ve.node,xe=this._model.data,ke=this.get_node(we.parent),Ce=this.get_node(we,!0),Te,De,Se,je;for(this._data.core.selected=ee.vakata.array_unique(this._data.core.selected.concat(we.children_d)),Te=0,De=we.children_d.length;De>Te;Te++)xe[we.children_d[Te]].state.selected=!0;for(;ke&&'#'!==ke.id;){for(Se=0,Te=0,De=ke.children.length;De>Te;Te++)Se+=xe[ke.children[Te]].state.selected;if(Se!==De)break;ke.state.selected=!0,this._data.core.selected.push(ke.id),je=this.get_node(ke,!0),je&&je.length&&je.children('.jstree-anchor').addClass('jstree-clicked'),ke=this.get_node(ke.parent)}Ce.length&&Ce.find('.jstree-anchor').addClass('jstree-clicked')},this)).on('deselect_node.jstree',ee.proxy(function(_e,ve){var we=ve.node,xe=this.get_node(we,!0),ke,Ce,Te;for(ke=0,Ce=we.children_d.length;Ce>ke;ke++)this._model.data[we.children_d[ke]].state.selected=!1;for(ke=0,Ce=we.parents.length;Ce>ke;ke++)this._model.data[we.parents[ke]].state.selected=!1,Te=this.get_node(we.parents[ke],!0),Te&&Te.length&&Te.children('.jstree-anchor').removeClass('jstree-clicked');for(Te=[],ke=0,Ce=this._data.core.selected.length;Ce>ke;ke++)-1===ee.inArray(this._data.core.selected[ke],we.children_d)&&-1===ee.inArray(this._data.core.selected[ke],we.parents)&&Te.push(this._data.core.selected[ke]);this._data.core.selected=ee.vakata.array_unique(Te),xe.length&&xe.find('.jstree-anchor').removeClass('jstree-clicked')},this)).on('delete_node.jstree',ee.proxy(function(_e,ve){for(var we=this.get_node(ve.parent),xe=this._model.data,ke,Ce,Te,De;we&&'#'!==we.id;){for(Te=0,ke=0,Ce=we.children.length;Ce>ke;ke++)Te+=xe[we.children[ke]].state.selected;if(Te!==Ce)break;we.state.selected=!0,this._data.core.selected.push(we.id),De=this.get_node(we,!0),De&&De.length&&De.children('.jstree-anchor').addClass('jstree-clicked'),we=this.get_node(we.parent)}},this)).on('move_node.jstree',ee.proxy(function(_e,ve){var we=ve.is_multi,xe=ve.old_parent,ke=this.get_node(ve.parent),Ce=this._model.data,Te,De,Se,je,Ne;if(!we)for(Te=this.get_node(xe);Te&&'#'!==Te.id;){for(De=0,Se=0,je=Te.children.length;je>Se;Se++)De+=Ce[Te.children[Se]].state.selected;if(De!==je)break;Te.state.selected=!0,this._data.core.selected.push(Te.id),Ne=this.get_node(Te,!0),Ne&&Ne.length&&Ne.children('.jstree-anchor').addClass('jstree-clicked'),Te=this.get_node(Te.parent)}for(Te=ke;Te&&'#'!==Te.id;){for(De=0,Se=0,je=Te.children.length;je>Se;Se++)De+=Ce[Te.children[Se]].state.selected;if(De===je)Te.state.selected||(Te.state.selected=!0,this._data.core.selected.push(Te.id),Ne=this.get_node(Te,!0),Ne&&Ne.length&&Ne.children('.jstree-anchor').addClass('jstree-clicked'));else{if(!Te.state.selected)break;Te.state.selected=!1,this._data.core.selected=ee.vakata.array_remove_item(this._data.core.selected,Te.id),Ne=this.get_node(Te,!0),Ne&&Ne.length&&Ne.children('.jstree-anchor').removeClass('jstree-clicked')}Te=this.get_node(Te.parent)}},this))},this._undetermined=function(){var we=this._model.data,xe=this._data.core.selected,ke=[],Ce=this,_e,ve;for(_e=0,ve=xe.length;ve>_e;_e++)we[xe[_e]]&&we[xe[_e]].parents&&(ke=ke.concat(we[xe[_e]].parents));for(this.element.find('.jstree-closed').not(':has(ul)').each(function(){var Te=Ce.get_node(this);!Te.state.loaded&&Te.original&&Te.original.state&&Te.original.state.undetermined&&!0===Te.original.state.undetermined&&(ke.push(Te.id),ke=ke.concat(Te.parents))}),ke=ee.vakata.array_unique(ke),_e=ee.inArray('#',ke),-1!==_e&&(ke=ee.vakata.array_remove(ke,_e)),this.element.find('.jstree-undetermined').removeClass('jstree-undetermined'),_e=0,ve=ke.length;ve>_e;_e++)we[ke[_e]].state.selected||(xe=this.get_node(ke[_e],!0),xe&&xe.length&&xe.children('a').children('.jstree-checkbox').addClass('jstree-undetermined'))},this.redraw_node=function(_e,ve,we){if(_e=be.redraw_node.call(this,_e,ve,we)){var xe=_e.getElementsByTagName('A')[0];xe.insertBefore(he.cloneNode(),xe.childNodes[0])}return!we&&this.settings.checkbox.three_state&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(ee.proxy(this._undetermined,this),50)),_e},this.activate_node=function(_e,ve){return(this.settings.checkbox.whole_node||ee(ve.target).hasClass('jstree-checkbox'))&&(ve.ctrlKey=!0),be.activate_node.call(this,_e,ve)},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.element.children('ul').removeClass('jstree-no-checkboxes')},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.element.children('ul').addClass('jstree-no-checkboxes')},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()}},ee.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(ye){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:'Create',action:function(be){var _e=ee.jstree.reference(be.reference),ve=_e.get_node(be.reference);_e.create_node(ve,{},'last',function(we){setTimeout(function(){_e.edit(we)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:'Rename',action:function(be){var _e=ee.jstree.reference(be.reference),ve=_e.get_node(be.reference);_e.edit(ve)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:'Delete',action:function(be){var _e=ee.jstree.reference(be.reference),ve=_e.get_node(be.reference);_e.is_selected(ve)?_e.delete_node(_e.get_selected()):_e.delete_node(ve)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:'Edit',action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:'Cut',action:function(be){var _e=ee.jstree.reference(be.reference),ve=_e.get_node(be.reference);_e.is_selected(ve)?_e.cut(_e.get_selected()):_e.cut(ve)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:'Copy',action:function(be){var _e=ee.jstree.reference(be.reference),ve=_e.get_node(be.reference);_e.is_selected(ve)?_e.copy(_e.get_selected()):_e.copy(ve)}},paste:{separator_before:!1,icon:!1,_disabled:!this.can_paste(),separator_after:!1,label:'Paste',action:function(be){var _e=ee.jstree.reference(be.reference),ve=_e.get_node(be.reference);_e.paste(ve)}}}}}}},ee.jstree.plugins.contextmenu=function(ye,be){this.bind=function(){be.bind.call(this),this.element.on('contextmenu.jstree','a',ee.proxy(function(_e){_e.preventDefault(),this.is_loading(_e.currentTarget)||this.show_contextmenu(_e.currentTarget,_e.pageX,_e.pageY)},this)).on('click.jstree','a',ee.proxy(function(_e){this._data.contextmenu.visible&&ee.vakata.context.hide()},this)),ee(document).on('context_hide.vakata',ee.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&ee.vakata.context.hide(),be.teardown.call(this)},this.show_contextmenu=function(_e,ve,we){if(_e=this.get_node(_e),!_e||'#'===_e.id)return!1;var xe=this.settings.contextmenu,ke=this.get_node(_e,!0),Ce=ke.children('.jstree-anchor'),Te=!1,De=!1;(xe.show_at_node||ve===te||we===te)&&(Te=Ce.offset(),ve=Te.left,we=Te.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(_e)&&(this.deselect_all(),this.select_node(_e)),De=xe.items,ee.isFunction(De)&&(De=De.call(this,_e)),ee(document).one('context_show.vakata',ee.proxy(function(Se,je){var Ne='jstree-contextmenu jstree-'+this.get_theme()+'-contextmenu';ee(je.element).addClass(Ne)},this)),this._data.contextmenu.visible=!0,ee.vakata.context.show(Ce,{x:ve,y:we},De),this.trigger('show_contextmenu',{node:_e,x:ve,y:we})}},function(ye){var be=!1,_e={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:'',is_visible:!1};ye.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(ve){ye(document).triggerHandler('context_'+ve+'.vakata',{reference:_e.reference,element:_e.element,position:{x:_e.position_x,y:_e.position_y}})},_execute:function(ve){return ve=_e.items[ve],ve&&!ve._disabled&&ve.action&&ve.action.call(null,{item:ve,reference:_e.reference,element:_e.element,position:{x:_e.position_x,y:_e.position_y}})},_parse:function(ve,we){if(!ve)return!1;we||(_e.html='',_e.items=[]);var xe='',ke=!1,Ce;return we&&(xe+='<ul>'),ye.each(ve,function(Te,De){return!De||(_e.items.push(De),!ke&&De.separator_before&&(xe+='<li class=\'vakata-context-separator\'><a href=\'#\' '+(ye.vakata.context.settings.icons?'':'style="margin-left:0px;"')+'>&#160;</a></li>'),ke=!1,xe+='<li class=\''+(De._class||'')+(De._disabled?' vakata-contextmenu-disabled ':'')+'\'>',xe+='<a href=\'#\' rel=\''+(_e.items.length-1)+'\'>',ye.vakata.context.settings.icons&&(xe+='<ins ',De.icon&&(xe+=-1!==De.icon.indexOf('/')||-1!==De.icon.indexOf('.')?' style=\'background:url("'+De.icon+'") center center no-repeat\' ':' class=\''+De.icon+'\' '),xe+='>&#160;</ins><span>&#160;</span>'),xe+=De.label+'</a>',De.submenu&&(Ce=ye.vakata.context._parse(De.submenu,!0),Ce&&(xe+=Ce)),xe+='</li>',De.separator_after&&(xe+='<li class=\'vakata-context-separator\'><a href=\'#\' '+(ye.vakata.context.settings.icons?'':'style="margin-left:0px;"')+'>&#160;</a></li>',ke=!0),te)}),xe=xe.replace(/<li class\='vakata-context-separator'\><\/li\>$/,''),we&&(xe+='</ul>'),we||(_e.html=xe,ye.vakata.context._trigger('parse')),!!(10<xe.length)&&xe},_show_submenu:function(ve){if(ve=ye(ve),ve.length&&ve.children('ul').length){var we=ve.children('ul'),xe=ve.offset().left+ve.outerWidth(),ke=ve.offset().top,Ce=we.width(),Te=we.height(),De=ye(window).width()+ye(window).scrollLeft(),Se=ye(window).height()+ye(window).scrollTop();be?ve[0>xe-(Ce+10+ve.outerWidth())?'addClass':'removeClass']('vakata-context-left'):ve[xe+Ce+10>De?'addClass':'removeClass']('vakata-context-right'),ke+Te+10>Se&&we.css('bottom','-1px'),we.show()}},show:function(ve,we,xe){var ke,Ce,Te,De,Se,je,Ne,Pe;switch(_e.element&&_e.element.length&&_e.element.width(''),!0){case!we&&!ve:return!1;case!!we&&!!ve:_e.reference=ve,_e.position_x=we.x,_e.position_y=we.y;break;case!we&&!!ve:_e.reference=ve,ke=ve.offset(),_e.position_x=ke.left+ve.outerHeight(),_e.position_y=ke.top;break;case!!we&&!ve:_e.position_x=we.x,_e.position_y=we.y;}ve&&!xe&&ye(ve).data('vakata_contextmenu')&&(xe=ye(ve).data('vakata_contextmenu')),ye.vakata.context._parse(xe)&&_e.element.html(_e.html),_e.items.length&&(Ce=_e.element,Te=_e.position_x,De=_e.position_y,Se=Ce.width(),je=Ce.height(),Ne=ye(window).width()+ye(window).scrollLeft(),Pe=ye(window).height()+ye(window).scrollTop(),be&&(Te-=Ce.outerWidth(),ye(window).scrollLeft()+20>Te&&(Te=ye(window).scrollLeft()+20)),Te+Se+20>Ne&&(Te=Ne-(Se+20)),De+je+20>Pe&&(De=Pe-(je+20)),_e.element.css({left:Te,top:De}).show().find('a:eq(0)').focus().parent().addClass('vakata-context-hover'),_e.is_visible=!0,ye.vakata.context._trigger('show'))},hide:function(){_e.is_visible&&(_e.element.hide().find('ul').hide().end().find(':focus').blur(),_e.is_visible=!1,ye.vakata.context._trigger('hide'))}},ye(function(){be='rtl'===ye('body').css('direction');var ve=!1;_e.element=ye('<ul class=\'vakata-context\'></ul>'),_e.element.on('mouseenter','li',function(we){we.stopImmediatePropagation(),ye.contains(this,we.relatedTarget)||(ve&&clearTimeout(ve),_e.element.find('.vakata-context-hover').removeClass('vakata-context-hover').end(),ye(this).siblings().find('ul').hide().end().end().parentsUntil('.vakata-context','li').addBack().addClass('vakata-context-hover'),ye.vakata.context._show_submenu(this))}).on('mouseleave','li',function(we){ye.contains(this,we.relatedTarget)||ye(this).find('.vakata-context-hover').addBack().removeClass('vakata-context-hover')}).on('mouseleave',function(we){ye(this).find('.vakata-context-hover').removeClass('vakata-context-hover'),ye.vakata.context.settings.hide_onmouseleave&&(ve=setTimeout(function(xe){return function(){ye.vakata.context.hide()}}(this),ye.vakata.context.settings.hide_onmouseleave))}).on('click','a',function(we){we.preventDefault()}).on('mouseup','a',function(we){ye(this).blur().parent().hasClass('vakata-context-disabled')||!1===ye.vakata.context._execute(ye(this).attr('rel'))||ye.vakata.context.hide()}).on('keydown','a',function(we){var xe=null;switch(we.which){case 13:case 32:we.type='mouseup',we.preventDefault(),ye(we.currentTarget).trigger(we);break;case 37:_e.is_visible&&(_e.element.find('.vakata-context-hover').last().parents('li:eq(0)').find('ul').hide().find('.vakata-context-hover').removeClass('vakata-context-hover').end().end().children('a').focus(),we.stopImmediatePropagation(),we.preventDefault());break;case 38:_e.is_visible&&(xe=_e.element.find('ul:visible').addBack().last().children('.vakata-context-hover').removeClass('vakata-context-hover').prevAll('li:not(.vakata-context-separator)').first(),xe.length||(xe=_e.element.find('ul:visible').addBack().last().children('li:not(.vakata-context-separator)').last()),xe.addClass('vakata-context-hover').children('a').focus(),we.stopImmediatePropagation(),we.preventDefault());break;case 39:_e.is_visible&&(_e.element.find('.vakata-context-hover').last().children('ul').show().children('li:not(.vakata-context-separator)').removeClass('vakata-context-hover').first().addClass('vakata-context-hover').children('a').focus(),we.stopImmediatePropagation(),we.preventDefault());break;case 40:_e.is_visible&&(xe=_e.element.find('ul:visible').addBack().last().children('.vakata-context-hover').removeClass('vakata-context-hover').nextAll('li:not(.vakata-context-separator)').first(),xe.length||(xe=_e.element.find('ul:visible').addBack().last().children('li:not(.vakata-context-separator)').first()),xe.addClass('vakata-context-hover').children('a').focus(),we.stopImmediatePropagation(),we.preventDefault());break;case 27:ye.vakata.context.hide(),we.preventDefault();break;default:}}).appendTo('body'),ye(document).on('mousedown',function(we){_e.is_visible&&!ye.contains(_e.element[0],we.target)&&ye.vakata.context.hide()}).on('context_show.vakata',function(we,xe){_e.element.find('li:has(ul)').children('a').addClass('vakata-context-parent'),be&&_e.element.addClass('vakata-context-rtl').css('direction','rtl'),_e.element.find('ul').hide().end()})})}(ee),ee.jstree.defaults.dnd={copy:!0,open_timeout:500},ee.jstree.plugins.dnd=function(ye,be){this.bind=function(){be.bind.call(this),this.element.on('mousedown','a',ee.proxy(function(_e){var ve=this.get_node(_e.target),we=this.is_selected(ve)?this.get_selected().length:1;return ve&&ve.id&&'#'!==ve.id&&1===_e.which?(this.element.trigger('mousedown.jstree'),ee.vakata.dnd.start(_e,{jstree:!0,origin:this,obj:this.get_node(ve,!0),nodes:1<we?this.get_selected():[ve.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+'"><i class="jstree-icon jstree-er"></i>'+(1<we?we+' '+this.get_string('nodes'):this.get_text(_e.currentTarget,!0))+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):te},this))}},ee(function(){var ye=!1,be=!1,_e=ee('<div id="jstree-marker">&#160;</div>').hide().appendTo('body');ee(document).bind('dnd_start.vakata',function(ve,we){ye=!1}).bind('dnd_move.vakata',function(ve,we){if(be&&clearTimeout(be),we.data.jstree&&(!we.event.target.id||'jstree-marker'!==we.event.target.id)){var xe=ee.jstree.reference(we.event.target),ke=!1,Ce=!1,Te=!1,De,Se,je,Ne,Pe,Ee,Oe,Ae,Ie,Le,He,Me;if(xe&&xe._data&&xe._data.dnd)if(!(_e.attr('class','jstree-'+xe.get_theme()),we.helper.children().attr('class','jstree-'+xe.get_theme()).find('.jstree-copy:eq(0)')[we.data.origin.settings.dnd.copy&&(we.event.metaKey||we.event.ctrlKey)?'show':'hide'](),we.event.target!==xe.element[0]&&we.event.target!==xe.get_container_ul()[0]||0!==xe.get_container_ul().children().length)){for(Oe=!0,Ae=0,Ie=we.data.nodes.length;Ie>Ae&&!(Oe=Oe&&xe.check(we.data.origin.settings.dnd.copy&&(we.event.metaKey||we.event.ctrlKey)?'copy_node':'move_node',we.data.nodes[Ae],'#','last'),!Oe);Ae++);if(Oe)return ye={ins:xe,par:'#',pos:'last'},_e.hide(),we.helper.find('.jstree-icon:eq(0)').removeClass('jstree-er').addClass('jstree-ok'),te}else if(ke=ee(we.event.target).closest('a'),ke&&ke.length&&ke.parent().is('.jstree-closed, .jstree-open, .jstree-leaf')&&(Ce=ke.offset(),Te=we.event.pageY-Ce.top,je=ke.height(),Ee=je/3>Te?['b','i','a']:Te>je-je/3?['a','i','b']:Te>je/2?['i','a','b']:['i','b','a'],ee.each(Ee,function(ze,We){for('b'===We?(De=Ce.left-6,Se=Ce.top-5,Ne=xe.get_parent(ke),Pe=ke.parent().index()):'i'===We?(De=Ce.left-2,Se=Ce.top-5+je/2+1,Ne=ke.parent(),Pe=0):'a'===We?(De=Ce.left-6,Se=Ce.top-5+je,Ne=xe.get_parent(ke),Pe=ke.parent().index()+1):void 0,Oe=!0,Ae=0,Ie=we.data.nodes.length;Ie>Ae&&(Le=we.data.origin.settings.dnd.copy&&(we.event.metaKey||we.event.ctrlKey)?'copy_node':'move_node',He=Pe,'move_node'===Le&&'a'===We&&we.data.origin===xe&&Ne===xe.get_parent(we.data.nodes[Ae])&&(Me=xe.get_node(Ne),He>ee.inArray(we.data.nodes[Ae],Me.children)&&(He-=1)),Oe=Oe&&xe.check(Le,we.data.nodes[Ae],Ne,He),!!Oe);Ae++);return Oe?('i'===We&&ke.parent().is('.jstree-closed')&&xe.settings.dnd.open_timeout&&(be=setTimeout(function(Re,Ye){return function(){Re.open_node(Ye)}}(xe,ke),xe.settings.dnd.open_timeout)),ye={ins:xe,par:Ne,pos:Pe},_e.css({left:De+'px',top:Se+'px'}).show(),we.helper.find('.jstree-icon:eq(0)').removeClass('jstree-er').addClass('jstree-ok'),Ee=!0,!1):te}),!0===Ee))return;ye=!1,we.helper.find('.jstree-icon').removeClass('jstree-ok').addClass('jstree-er'),_e.hide()}}).bind('dnd_scroll.vakata',function(ve,we){we.data.jstree&&(_e.hide(),ye=!1,we.helper.find('.jstree-icon:eq(0)').removeClass('jstree-ok').addClass('jstree-er'))}).bind('dnd_stop.vakata',function(ve,we){if(be&&clearTimeout(be),we.data.jstree&&(_e.hide(),ye)){var Ce=[],xe,ke;for(xe=0,ke=we.data.nodes.length;ke>xe;xe++)Ce[xe]=we.data.origin.get_node(we.data.nodes[xe]);ye.ins[we.data.origin.settings.dnd.copy&&(we.event.metaKey||we.event.ctrlKey)?'copy_node':'move_node'](Ce,ye.par,ye.pos)}}).bind('keyup keydown',function(ve,we){we=ee.vakata.dnd._get(),we.data&&we.data.jstree&&we.helper.find('.jstree-copy:eq(0)')[we.data.origin.settings.dnd.copy&&(ve.metaKey||ve.ctrlKey)?'show':'hide']()})}),function(ye){ye.fn.vakata_reverse=[].reverse;var be={element:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1};ye.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5},_trigger:function(_e,ve){var we=ye.vakata.dnd._get();we.event=ve,ye(document).triggerHandler('dnd_'+_e+'.vakata',we)},_get:function(){return{data:be.data,element:be.element,helper:be.helper}},_clean:function(){be.helper&&be.helper.remove(),be.scroll_i&&(clearInterval(be.scroll_i),be.scroll_i=!1),be={element:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1},ye(document).unbind('mousemove',ye.vakata.dnd.drag),ye(document).unbind('mouseup',ye.vakata.dnd.stop)},_scroll:function(_e){if(!be.scroll_e||!be.scroll_l&&!be.scroll_t)return be.scroll_i&&(clearInterval(be.scroll_i),be.scroll_i=!1),!1;if(!be.scroll_i)return be.scroll_i=setInterval(ye.vakata.dnd._scroll,100),!1;if(!0===_e)return!1;var ve=be.scroll_e.scrollTop(),we=be.scroll_e.scrollLeft();be.scroll_e.scrollTop(ve+be.scroll_t*ye.vakata.dnd.settings.scroll_speed),be.scroll_e.scrollLeft(we+be.scroll_l*ye.vakata.dnd.settings.scroll_speed),(ve!==be.scroll_e.scrollTop()||we!==be.scroll_e.scrollLeft())&&ye.vakata.dnd._trigger('scroll',be.scroll_e)},start:function(_e,ve,we){be.is_drag&&ye.vakata.dnd.stop({});try{_e.currentTarget.unselectable='on',_e.currentTarget.onselectstart=function(){return!1},_e.currentTarget.style&&(_e.currentTarget.style.MozUserSelect='none')}catch(xe){}return be.init_x=_e.pageX,be.init_y=_e.pageY,be.data=ve,be.is_down=!0,be.element=_e.currentTarget,!1!==we&&(be.helper=ye('<div id=\'vakata-dnd\'></div>').html(we).css({display:'block',margin:'0',padding:'0',position:'absolute',top:'-2000px',lineHeight:'16px',zIndex:'10000'})),ye(document).bind('mousemove',ye.vakata.dnd.drag),ye(document).bind('mouseup',ye.vakata.dnd.stop),!1},drag:function(_e){if(be.is_down){if(!be.is_drag){if(!(Math.abs(_e.pageX-be.init_x)>ye.vakata.dnd.settings.threshold||Math.abs(_e.pageY-be.init_y)>ye.vakata.dnd.settings.threshold))return;be.helper&&(be.helper.appendTo('body'),be.helper_w=be.helper.outerWidth()),be.is_drag=!0,ye.vakata.dnd._trigger('start',_e)}var ve=!1,we=!1,xe=!1,ke=!1,Ce=!1,Te=!1,De=!1,Se=!1,je=!1,Ne=!1;be.scroll_t=0,be.scroll_l=0,be.scroll_e=!1,ye(_e.target).parentsUntil('body').addBack().vakata_reverse().filter(function(){return /^auto|scroll$/.test(ye(this).css('overflow'))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var Pe=ye(this),Ee=Pe.offset();return this.scrollHeight>this.offsetHeight&&(Ee.top+Pe.height()-_e.pageY<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_t=1),_e.pageY-Ee.top<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(Ee.left+Pe.width()-_e.pageX<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_l=1),_e.pageX-Ee.left<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_l=-1)),be.scroll_t||be.scroll_l?(be.scroll_e=ye(this),!1):te}),be.scroll_e||(ve=ye(document),we=ye(window),xe=ve.height(),ke=we.height(),Ce=ve.width(),Te=we.width(),De=ve.scrollTop(),Se=ve.scrollLeft(),xe>ke&&_e.pageY-De<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_t=-1),xe>ke&&ke-(_e.pageY-De)<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_t=1),Ce>Te&&_e.pageX-Se<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_l=-1),Ce>Te&&Te-(_e.pageX-Se)<ye.vakata.dnd.settings.scroll_proximity&&(be.scroll_l=1),(be.scroll_t||be.scroll_l)&&(be.scroll_e=ve)),be.scroll_e&&ye.vakata.dnd._scroll(!0),be.helper&&(je=parseInt(_e.pageY+ye.vakata.dnd.settings.helper_top,10),Ne=parseInt(_e.pageX+ye.vakata.dnd.settings.helper_left,10),xe&&je+25>xe&&(je=xe-50),Ce&&Ne+be.helper_w>Ce&&(Ne=Ce-(be.helper_w+2)),be.helper.css({left:Ne+'px',top:je+'px'})),ye.vakata.dnd._trigger('move',_e)}},stop:function(_e){be.is_drag&&ye.vakata.dnd._trigger('stop',_e),ye.vakata.dnd._clean()}}}(jQuery),ee.jstree.defaults.search={ajax:!1,fuzzy:!0,case_sensitive:!1,show_only_matches:!1,close_opened_onclear:!0},ee.jstree.plugins.search=function(ye,be){this.bind=function(){be.bind.call(this),this._data.search.str='',this._data.search.dom=ee(),this._data.search.res=[],this._data.search.opn=[],this.settings.search.show_only_matches&&this.element.on('search.jstree',function(_e,ve){ve.nodes.length&&(ee(this).find('li').hide().filter('.jstree-last').filter(function(){return this.nextSibling}).removeClass('jstree-last'),ve.nodes.parentsUntil('.jstree').addBack().show().filter('ul').each(function(){ee(this).children('li:visible').eq(-1).addClass('jstree-last')}))}).on('clear_search.jstree',function(_e,ve){ve.nodes.length&&ee(this).find('li').css('display','').filter('.jstree-last').filter(function(){return this.nextSibling}).removeClass('jstree-last')})},this.search=function(_e,ve){if(!1===_e||''===ee.trim(_e))return this.clear_search();var we=this.settings.search,xe=!!we.ajax&&ee.extend({},we.ajax),ke=null,Ce=[],Te=[],De,Se;if(this._data.search.res.length&&this.clear_search(),!ve&&!1!==xe)return xe.data||(xe.data={}),xe.data.str=_e,ee.ajax(we.ajax).done(ee.proxy(function(je){this._search_load(je,_e)},this));if(this._data.search.str=_e,this._data.search.dom=ee(),this._data.search.res=[],this._data.search.opn=[],ke=new ee.vakata.search(_e,!0,{caseSensitive:we.case_sensitive,fuzzy:we.fuzzy}),ee.each(this._model.data,function(je,Ne){Ne.text&&ke.search(Ne.text).isMatch&&(Ce.push(je),Te=Te.concat(Ne.parents))}),Ce.length){for(Te=ee.vakata.array_unique(Te),this._search_open(Te),De=0,Se=Ce.length;Se>De;De++)ke=this.get_node(Ce[De],!0),ke&&(this._data.search.dom=this._data.search.dom.add(ke));this._data.search.res=Ce,this._data.search.dom.children('.jstree-anchor').addClass('jstree-search')}this.trigger('search',{nodes:this._data.search.dom,str:_e,res:this._data.search.res})},this.clear_search=function(){this._data.search.dom.children('.jstree-anchor').removeClass('jstree-search'),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn),this.trigger('clear_search',{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str='',this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=ee()},this._search_open=function(_e){var ve=this;ee.each(_e.concat([]),function(we,xe){xe=document.getElementById(xe),xe&&ve.is_closed(xe)&&(ve._data.search.opn.push(xe.id),ve.open_node(xe,function(){ve._search_open(_e)}))})},this._search_load=function(_e,ve){var we=!0,xe=this,ke=xe._model.data;ee.each(_e.concat([]),function(Ce,Te){ke[Te]&&(ke[Te].state.loaded||(xe.load_node(Te,function(){xe._search_load(_e,ve)}),we=!1))}),we&&this.search(ve,!0)}},function(ye){ye.vakata.search=function(be,_e,ve){ve=ve||{},!1!==ve.fuzzy&&(ve.fuzzy=!0),be=ve.caseSensitive?be:be.toLowerCase();var we=ve.location||0,xe=ve.distance||100,ke=ve.threshold||0.6,Ce=be.length,Te,De,Se,je;return 32<Ce&&(ve.fuzzy=!1),ve.fuzzy&&(Te=1<<Ce-1,De=function(){var Ne={},Pe=0;for(Pe=0;Ce>Pe;Pe++)Ne[be.charAt(Pe)]=0;for(Pe=0;Ce>Pe;Pe++)Ne[be.charAt(Pe)]|=1<<Ce-Pe-1;return Ne}(),Se=function(Ne,Pe){var Ee=Ne/Ce,Oe=Math.abs(we-Pe);return xe?Ee+Oe/xe:Oe?1:Ee}),je=function(Ne){if(Ne=ve.caseSensitive?Ne:Ne.toLowerCase(),be===Ne||-1!==Ne.indexOf(be))return{isMatch:!0,score:0};if(!ve.fuzzy)return{isMatch:!1,score:1};var Oe=Ne.length,Ae=ke,Ie=Ne.indexOf(be,we),Me=Ce+Oe,qe=1,Be=[],Pe,Ee,Le,He,ze,We,Re,Ye,Fe;for(-1!==Ie&&(Ae=Math.min(Se(0,Ie),Ae),Ie=Ne.lastIndexOf(be,we+Ce),-1!==Ie&&(Ae=Math.min(Se(0,Ie),Ae))),Ie=-1,Pe=0;Ce>Pe;Pe++){for(Le=0,He=Me;He>Le;)Ae>=Se(Pe,we+He)?Le=He:Me=He,He=Math.floor((Me-Le)/2+Le);for(Me=He,We=Math.max(1,we-He+1),Re=Math.min(we+He,Oe)+Ce,Ye=Array(Re+2),Ye[Re+1]=(1<<Pe)-1,Ee=Re;Ee>=We;Ee--)if(Fe=De[Ne.charAt(Ee-1)],Ye[Ee]=0===Pe?(1|Ye[Ee+1]<<1)&Fe:(1|Ye[Ee+1]<<1)&Fe|(1|(ze[Ee+1]|ze[Ee])<<1)|ze[Ee+1],Ye[Ee]&Te&&(qe=Se(Pe,Ee-1),Ae>=qe)){if(Ae=qe,Ie=Ee-1,Be.push(Ie),!(Ie>we))break;We=Math.max(1,2*we-Ie)}if(Se(Pe+1,we)>Ae)break;ze=Ye}return{isMatch:0<=Ie,score:qe}},!0===_e?{search:je}:je(_e)}}(jQuery),ee.jstree.defaults.sort=function(ye,be){return this.get_text(ye)>this.get_text(be)?1:-1},ee.jstree.plugins.sort=function(ye,be){this.bind=function(){be.bind.call(this),this.element.on('model.jstree',ee.proxy(function(_e,ve){this.sort(ve.parent,!0)},this)).on('rename_node.jstree create_node.jstree',ee.proxy(function(_e,ve){this.sort(ve.parent||ve.node.parent,!1),this.redraw_node(ve.parent||ve.node.parent,!0)},this)).on('move_node.jstree copy_node.jstree',ee.proxy(function(_e,ve){this.sort(ve.parent,!1),this.redraw_node(ve.parent,!0)},this))},this.sort=function(_e,ve){var we,xe;if(_e=this.get_node(_e),_e&&_e.children&&_e.children.length&&(_e.children.sort(ee.proxy(this.settings.sort,this)),ve))for(we=0,xe=_e.children_d.length;xe>we;we++)this.sort(_e.children_d[we],!1)}};var ge=!1;ee.jstree.defaults.state={key:'jstree',events:'changed.jstree open_node.jstree close_node.jstree',ttl:!1},ee.jstree.plugins.state=function(ye,be){this.bind=function(){be.bind.call(this),this.element.on('ready.jstree',ee.proxy(function(_e,ve){this.element.one('restore_state.jstree set_state.jstree',ee.proxy(function(){this.element.on(this.settings.state.events,ee.proxy(function(){ge&&clearTimeout(ge),ge=setTimeout(ee.proxy(function(){this.save_state()},this),100)},this))},this)),this.restore_state()},this))},this.save_state=function(){ee.vakata.storage.set(this.settings.state.key,this.get_state(),this.settings.state.ttl)},this.restore_state=function(){var _e=ee.vakata.storage.get(this.settings.state.key);_e&&this.set_state(_e),this.trigger('restore_state',{state:_e})},this.clear_state=function(){return ee.vakata.storage.del(this.settings.state.key)}},function(ye,be){var _e=function(ve){var we=/["\\\x00-\x1f\x7f-\x9f]/g,xe={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};return ve.match(we)?'"'+ve.replace(we,function(ke){var Ce=xe[ke];return'string'==typeof Ce?Ce:(Ce=ke.charCodeAt(),'\\u00'+Math.floor(Ce/16).toString(16)+(Ce%16).toString(16))})+'"':'"'+ve+'"'};ye.vakata.json={encode:JSON&&JSON.stringify?JSON.stringify:function(ve){if(null===ve)return'null';var we=[],xe;switch(typeof ve){case'undefined':return be;case'number':case'boolean':return''+ve;case'string':return _e(ve);case'object':if(ye.isFunction(ve.toJSON))return ye.vakata.json.encode(ve.toJSON());if(ve.constructor===Date)return'"'+ve.getUTCFullYear()+'-'+('0'+(ve.getUTCMonth()+1)+'').slice(-2)+'-'+('0'+ve.getUTCDate()+'').slice(-2)+'T'+('0'+ve.getUTCHours()+'').slice(-2)+':'+('0'+ve.getUTCMinutes()+'').slice(-2)+':'+('0'+ve.getUTCSeconds()+'').slice(-2)+'.'+('00'+ve.getUTCMilliseconds()+'').slice(-3)+'Z"';if(ve.constructor===Array){for(xe=0;ve.length>xe;xe++)we.push(ye.vakata.json.encode(ve[xe])||'null');return'['+we.join(',')+']'}return ye.each(ve,function(ke,Ce){return!!ye.isFunction(Ce)||(ke='number'==typeof ke?'"'+ke+'"':_e(ke),Ce=ye.vakata.json.encode(Ce),we.push(ke+':'+Ce),be)}),'{'+we.join(', ')+'}';}},decode:JSON&&JSON.parse?JSON.parse:function(ve){return ye.parseJSON(ve)}}}(jQuery),function(ye,be,_e){var ve=function(ke){return ke},we=function(ke){return decodeURIComponent(ke.replace(/\+/g,' '))},xe=ye.vakata.cookie=function(ke,Ce,Te){var De,Se,je,Ne,Pe,Ee,Oe,Ae;if(Ce!==_e)return Te=ye.extend({},xe.defaults,Te),null===Ce&&(Te.expires=-1),'number'==typeof Te.expires&&(De=Te.expires,Se=Te.expires=new Date,Se.setDate(Se.getDate()+De)),Ce=xe.json?ye.vakata.json.encode(Ce):Ce+'',Ce=[encodeURIComponent(ke),'=',xe.raw?Ce:encodeURIComponent(Ce),Te.expires?'; expires='+Te.expires.toUTCString():'',Te.path?'; path='+Te.path:'',Te.domain?'; domain='+Te.domain:'',Te.secure?'; secure':''].join(''),be.cookie=Ce,Ce;for(je=xe.raw?ve:we,Ne=be.cookie.split('; '),Pe=0,Ee=Ne.length;Ee>Pe;Pe++)if(Oe=Ne[Pe].split('='),je(Oe.shift())===ke)return Ae=je(Oe.join('=')),xe.json?ye.vakata.json.decode(Ae):Ae;return null};xe.defaults={},ye.vakata.removeCookie=function(ke,Ce){return null!==ye.vakata.cookie(ke)&&(ye.vakata.cookie(ke,null,Ce),!0)}}(jQuery,document),function(ye,be){function _e(){if(Ce.jStorage)try{ke=je(Ce.jStorage+'')}catch(Ee){Ce.jStorage='{}'}else Ce.jStorage='{}';De=Ce.jStorage?(Ce.jStorage+'').length:0}function ve(){try{Ce.jStorage=Se(ke),'userDataBehavior'===Ne&&(Te.setAttribute('jStorage',Ce.jStorage),Te.save('jStorage')),'cookie'===Ne&&ye.vakata.cookie('__vjstorage',Ce.jStorage,{expires:365}),De=Ce.jStorage?(Ce.jStorage+'').length:0}catch(Ee){}}function we(Ee){if(!Ee||'string'!=typeof Ee&&'number'!=typeof Ee)throw new TypeError('Key name must be string or numeric');if('__jstorage_meta'===Ee)throw new TypeError('Reserved key name');return!0}function xe(){var Ee=+new Date,Ie=1/0,Le=!1,Oe,Ae;if(!1!==Pe&&clearTimeout(Pe),ke.__jstorage_meta&&'object'==typeof ke.__jstorage_meta.TTL){for(Oe in Ae=ke.__jstorage_meta.TTL,Ae)Ae.hasOwnProperty(Oe)&&(Ee>=Ae[Oe]?(delete Ae[Oe],delete ke[Oe],Le=!0):Ie>Ae[Oe]&&(Ie=Ae[Oe]));1/0!==Ie&&(Pe=setTimeout(xe,Ie-Ee)),Le&&ve()}}var ke={},Ce={jStorage:'{}'},Te=null,De=0,Se=ye.vakata.json.encode,je=ye.vakata.json.decode,Ne=!1,Pe=!1;ye.vakata.storage={version:'0.3.0',set:function(Ee,Oe,Ae){return we(Ee),'object'==typeof Oe&&(Oe=je(Se(Oe))),ke[Ee]=Oe,ve(),Ae&&parseInt(Ae,10)&&ye.vakata.storage.setTTL(Ee,parseInt(Ae,10)),Oe},get:function(Ee,Oe){return we(Ee),ke.hasOwnProperty(Ee)?ke[Ee]:Oe===be?null:Oe},del:function(Ee){return we(Ee),!!ke.hasOwnProperty(Ee)&&(delete ke[Ee],ke.__jstorage_meta&&'object'==typeof ke.__jstorage_meta.TTL&&ke.__jstorage_meta.TTL.hasOwnProperty(Ee)&&delete ke.__jstorage_meta.TTL[Ee],ve(),!0)},setTTL:function(Ee,Oe){var Ae=+new Date;return we(Ee),Oe=+Oe||0,!!ke.hasOwnProperty(Ee)&&(ke.__jstorage_meta||(ke.__jstorage_meta={}),ke.__jstorage_meta.TTL||(ke.__jstorage_meta.TTL={}),0<Oe?ke.__jstorage_meta.TTL[Ee]=Ae+Oe:delete ke.__jstorage_meta.TTL[Ee],ve(),xe(),!0)},getTTL:function(Ee){var Oe=+new Date,Ae;return we(Ee),ke.hasOwnProperty(Ee)&&ke.__jstorage_meta.TTL&&ke.__jstorage_meta.TTL[Ee]?(Ae=ke.__jstorage_meta.TTL[Ee]-Oe,Ae||0):0},flush:function(){return ke={},ve(),!0},storageObj:function(){return ye.extend(!0,{},ke)},index:function(){var Ee=[];return ye.each(ke,function(Oe,Ae){'__jstorage_meta'!==Oe&&Ee.push(Oe)}),Ee},storageSize:function(){return De},currentBackend:function(){return Ne},storageAvailable:function(){return!!Ne}},function(){var Oe=!1,Ae;if(Object.prototype.hasOwnProperty.call(window,'localStorage'))try{window.localStorage.setItem('_tmptest','tmpval'),Oe=!0,window.localStorage.removeItem('_tmptest')}catch(Ie){}if(Oe)try{window.localStorage&&(Ce=window.localStorage,Ne='localStorage')}catch(Ie){}else if(Object.prototype.hasOwnProperty.call(window,'globalStorage'))try{window.globalStorage&&(Ce=window.globalStorage[window.location.hostname],Ne='globalStorage')}catch(Ie){}else{if(Te=document.createElement('link'),Te.addBehavior){Te.style.behavior='url(#default#userData)',document.getElementsByTagName('head')[0].appendChild(Te);try{Te.load('jStorage'),Ae='{}',Ae=Te.getAttribute('jStorage'),Ce.jStorage=Ae,Ne='userDataBehavior'}catch(Ie){}}if(!Ne&&(ye.vakata.cookie('__vjstorage')||ye.vakata.cookie('__vjstorage','{}',{expires:365})&&'{}'===ye.vakata.cookie('__vjstorage'))&&(Te=null,Ce.jStorage=ye.vakata.cookie('__vjstorage'),Ne='cookie'),!Ne)return Te=null,be}_e(),xe()}()}(jQuery),ee.jstree.defaults.types={'#':{},'default':{}},ee.jstree.plugins.types=function(ye,be){this.init=function(_e,ve){be.init.call(this,_e,ve),this._model.data['#'].type='#'},this.bind=function(){be.bind.call(this),this.element.on('model.jstree',ee.proxy(function(_e,ve){var we=this._model.data,xe=ve.nodes,ke=this.settings.types,De='default',Ce,Te;for(Ce=0,Te=xe.length;Te>Ce;Ce++)De='default',we[xe[Ce]].original&&we[xe[Ce]].original.type&&ke[we[xe[Ce]].original.type]&&(De=we[xe[Ce]].original.type),we[xe[Ce]].data&&we[xe[Ce]].data.jstree&&we[xe[Ce]].data.jstree.type&&ke[we[xe[Ce]].data.jstree.type]&&(De=we[xe[Ce]].data.jstree.type),we[xe[Ce]].type=De,!0===we[xe[Ce]].icon&&ke[De].icon&&(we[xe[Ce]].icon=ke[De].icon)},this))},this.get_json=function(_e,ve){var ke=this._model.data,Ce=be.get_json.call(this,_e,ve),we,xe;if(!1===Ce)return!1;if(ee.isArray(Ce))for(we=0,xe=Ce.length;xe>we;we++)Ce[we].type=Ce[we].id&&ke[Ce[we].id]&&ke[Ce[we].id].type?ke[Ce[we].id].type:'default';else Ce.type=Ce.id&&ke[Ce.id]&&ke[Ce.id].type?ke[Ce.id].type:'default';return Ce},this.check=function(_e,ve,we,xe){if(!1===be.check.call(this,_e,ve,we,xe))return!1;ve=ve&&ve.id?ve:this.get_node(ve),we=we&&we.id?we:this.get_node(we);var ke=this._model.data,Ce,Te,De,Se;switch(_e){case'create_node':case'move_node':case'copy_node':if('move_node'!==_e||-1===ee.inArray(ve.id,we.children)){if(Ce=this.get_rules(we),Ce.max_children!==te&&-1!==Ce.max_children&&Ce.max_children===we.children.length)return!1;if(Ce.valid_children!==te&&-1!==Ce.valid_children&&-1===ee.inArray(ve.type,Ce.valid_children))return!1;if(ve.children_d&&ve.parents){for(Te=0,De=0,Se=ve.children_d.length;Se>De;De++)Te=Math.max(Te,ke[ve.children_d[De]].parents.length);Te=Te-ve.parents.length+1}0>=Te&&(Te=1);do{if(Ce.max_depth!==te&&-1!==Ce.max_depth&&Te>Ce.max_depth)return!1;we=this.get_node(we.parent),Ce=this.get_rules(we),Te++}while(we)}}return!0},this.get_rules=function(_e){if(_e=this.get_node(_e),!_e)return!1;var ve=this.get_type(_e,!0);return ve.max_depth===te&&(ve.max_depth=-1),ve.max_children===te&&(ve.max_children=-1),ve.valid_children===te&&(ve.valid_children=-1),ve},this.get_type=function(_e,ve){return _e=this.get_node(_e),!!_e&&(ve?ee.extend({type:_e.type},this.settings.types[_e.type]):_e.type)},this.set_type=function(_e,ve){var we,xe,ke,Ce,Te;if(ee.isArray(_e)){for(_e=_e.slice(),xe=0,ke=_e.length;ke>xe;xe++)this.set_type(_e[xe],ve);return!0}return we=this.settings.types,_e=this.get_node(_e),we[ve]&&_e&&(Ce=_e.type,Te=this.get_icon(_e),_e.type=ve,(!0===Te||we[Ce]&&we[Ce].icon&&Te===we[Ce].icon)&&this.set_icon(_e,we[ve].icon||!0),!0)}},ee.jstree.plugins.unique=function(ye,be){this.check=function(_e,ve,we,xe){if(!1===be.check.call(this,_e,ve,we,xe))return!1;if(ve=ve&&ve.id?ve:this.get_node(ve),we=we&&we.id?we:this.get_node(we),!we||!we.children)return!0;var ke='rename_node'===_e?xe:ve.text,Ce=[],Te=this._model.data,De,Se;for(De=0,Se=we.children.length;Se>De;De++)Ce.push(Te[we.children[De]].text);return!('delete_node'!==_e)||('rename_node'===_e||'copy_node'===_e?-1===ee.inArray(ke,Ce):'move_node'!=_e||ve.parent===we.id||-1===ee.inArray(ke,Ce))}};var fe=document.createElement('DIV');fe.setAttribute('unselectable','on'),fe.className='jstree-wholerow',fe.innerHTML='&#160;',ee.jstree.plugins.wholerow=function(ye,be){this.bind=function(){be.bind.call(this),this.element.on('loading',ee.proxy(function(){fe.style.height=this._data.core.li_height+'px'},this)).on('ready.jstree set_state.jstree',ee.proxy(function(){this.hide_dots()},this)).on('ready.jstree',ee.proxy(function(){this.get_container_ul().addClass('jstree-wholerow-ul')},this)).on('deselect_all.jstree',ee.proxy(function(_e,ve){this.element.find('.jstree-wholerow-clicked').removeClass('jstree-wholerow-clicked')},this)).on('changed.jstree',ee.proxy(function(_e,ve){this.element.find('.jstree-wholerow-clicked').removeClass('jstree-wholerow-clicked');var we=!1,xe,ke;for(xe=0,ke=ve.selected.length;ke>xe;xe++)we=this.get_node(ve.selected[xe],!0),we&&we.length&&we.children('.jstree-wholerow').addClass('jstree-wholerow-clicked')},this)).on('open_node.jstree',ee.proxy(function(_e,ve){this.get_node(ve.node,!0).find('.jstree-clicked').parent().children('.jstree-wholerow').addClass('jstree-wholerow-clicked')},this)).on('hover_node.jstree dehover_node.jstree',ee.proxy(function(_e,ve){this.element.find('.jstree-wholerow-hovered').removeClass('jstree-wholerow-hovered'),'hover_node'===_e.type&&this.get_node(ve.node,!0).each(function(){ee(this).children('.jstree-wholerow').addClass('jstree-wholerow-hovered')})},this)).on('contextmenu.jstree','.jstree-wholerow',ee.proxy(function(_e){_e.preventDefault(),ee(_e.currentTarget).closest('li').children('a:eq(0)').trigger('contextmenu',_e)},this)).on('click.jstree','.jstree-wholerow',function(_e){_e.stopImmediatePropagation();var ve=ee.Event('click',{metaKey:_e.metaKey,ctrlKey:_e.ctrlKey,altKey:_e.altKey,shiftKey:_e.shiftKey});ee(_e.currentTarget).closest('li').children('a:eq(0)').trigger(ve).focus()}).on('click.jstree','.jstree-leaf > .jstree-ocl',ee.proxy(function(_e){_e.stopImmediatePropagation();var ve=ee.Event('click',{metaKey:_e.metaKey,ctrlKey:_e.ctrlKey,altKey:_e.altKey,shiftKey:_e.shiftKey});ee(_e.currentTarget).closest('li').children('a:eq(0)').trigger(ve).focus()},this)).on('mouseover.jstree','.jstree-wholerow, .jstree-icon',ee.proxy(function(_e){return _e.stopImmediatePropagation(),this.hover_node(_e.currentTarget),!1},this)).on('mouseleave.jstree','li',ee.proxy(function(_e){this.dehover_node(_e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&(this.element.find('.jstree-wholerow').remove(),be.teardown.call(this))},this.redraw_node=function(_e,ve,we){if(_e=be.redraw_node.call(this,_e,ve,we)){var xe=fe.cloneNode(!0);-1!==ee.inArray(_e.id,this._data.core.selected)&&(xe.className+=' jstree-wholerow-clicked'),_e.insertBefore(xe,_e.childNodes[0])}return _e}}}}),!function(ee){function te(ge,fe,ye){if(8==le){var be=he.width(),_e=se.debounce(function(){var ve=he.width();be!=ve&&(be=ve,ye())},ge);he.on(fe,_e)}else he.on(fe,se.debounce(ye,ge))}function ae(ge){window.console&&window.console&&window.console.log&&window.console.log('jQuery.floatThead: '+ge)}function ne(){var ge=ee('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');ee('body').append(ge);var fe=ge.innerWidth(),ye=ee('div',ge).innerWidth();return ge.remove(),fe-ye}function oe(ge){if(ge.dataTableSettings)for(var fe=0;fe<ge.dataTableSettings.length;fe++){var ye=ge.dataTableSettings[fe].nTable;if(ge[0]==ye)return!0}return!1}function ie(ge,fe,ye){var be=ye?'outerWidth':'width';if(pe&&ge.css('max-width')){var _e=0;ye&&(_e+=parseInt(ge.css('borderLeft'),10),_e+=parseInt(ge.css('borderRight'),10));for(var ve=0;ve<fe.length;ve++)_e+=fe.get(ve).offsetWidth;return _e}return ge[be]()}ee.floatThead=ee.floatThead||{},ee.floatThead.defaults={cellTag:null,headerCellSelector:'tr:visible:first>*:visible',zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(){return ee([])},getSizingRow:function(ge){return ge.find('tbody tr:visible:first>*:visible')},floatTableClass:'floatThead-table',floatWrapperClass:'floatThead-wrapper',floatContainerClass:'floatThead-container',copyTableClass:!0,enableAria:!1,autoReflow:!1,debug:!1};var se=window._,re='undefined'!=typeof MutationObserver,le=function(){for(var ge=3,fe=document.createElement('b'),ye=fe.all||[];ge=1+ge,fe.innerHTML='<!--[if gt IE '+ge+']><i><![endif]-->',ye[0];);return 4<ge?ge:document.documentMode}(),de=/Gecko\//.test(navigator.userAgent),ce=/WebKit\//.test(navigator.userAgent),pe=function(){if(ce){var ge=ee('<div style="width:0px"><table style="max-width:100%"><tr><th><div style="min-width:100px;">X</div></th></tr></table></div>');ee('body').append(ge);var fe=0==ge.find('table').width();return ge.remove(),fe}return!1},ue=!de&&!le,he=ee(window);ee.fn.floatThead=function(ge){if(ge=ge||{},!se&&(se=window._||ee.floatThead._,!se))throw new Error('jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.');if(8>le)return this;ue&&(document.createElement('fthtr'),document.createElement('fthtd'),document.createElement('fthfoot'));var fe=null;if(se.isFunction(pe)&&(pe=pe()),se.isString(ge)){var ye=ge,be=this;return this.filter('table').each(function(){var we=ee(this).data('floatThead-attached');if(we&&se.isFunction(we[ye])){var xe=we[ye]();'undefined'!=typeof xe&&(be=xe)}}),be}var _e=ee.extend({},ee.floatThead.defaults||{},ge);if(ee.each(ge,function(we){we in ee.floatThead.defaults||!_e.debug||ae('Used ['+we+'] key to init plugin, but that param is not an option for the plugin. Valid options are: '+se.keys(ee.floatThead.defaults).join(', '))}),_e.debug){var ve=ee.fn.jquery.split('.');1==parseInt(ve[0],10)&&7>=parseInt(ve[1],10)&&ae('jQuery version '+ee.fn.jquery+' detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip')}return this.filter(':not(.'+_e.floatTableClass+')').each(function(){function we(Et){return Et+'.fth-'+Le+'.floatTHead'}function xe(){var Et=0;Me.find('tr:visible').each(function(){Et+=ee(this).outerHeight(!0)}),pt.outerHeight(Et),ut.outerHeight(Et)}function ke(){var Et=ie(He,mt,!0),Ot=Ue.width()||Et,At='hidden'==Ue.css('overflow-y')?Ot:Ot-Fe.vertical;(rt.width(At),Qe)?at.css('width',100*Et/At+'%'):at.outerWidth(Et)}function Ce(){We=(se.isFunction(_e.scrollingTop)?_e.scrollingTop(He):_e.scrollingTop)||0,Re=(se.isFunction(_e.scrollingBottom)?_e.scrollingBottom(He):_e.scrollingBottom)||0}function Te(){var Et,Ot;if(it)Et=ot.find('col').length;else{var At;if(At=null==_e.cellTag&&_e.headerCellSelector?_e.headerCellSelector:'tr:first>'+_e.cellTag,se.isNumber(At))return At;Ot=Me.find(At),Et=0,Ot.each(function(){Et+=parseInt(ee(this).attr('colspan')||1,10)})}if(Et!=Be){Be=Et;for(var Lt=[],Ht=[],Mt=[],zt=0,It;Et>zt;zt++)Lt.push(_e.enableAria&&(It=Ot.eq(zt).text())?'<th scope="col" class="floatThead-col">'+It+'</th>':'<th class="floatThead-col"/>'),Ht.push('<col/>'),Mt.push('<fthtd style=\'display:table-cell;height:0;width:auto;\'/>');Ht=Ht.join(''),Lt=Lt.join(''),ue&&(Mt=Mt.join(''),st.html(Mt),mt=st.find('fthtd')),pt.html(Lt),ut=pt.find('th'),it||ot.html(Ht),ht=ot.find('col'),nt.html(Ht),gt=nt.find('col')}return Et}function De(){if(!Ye){if(Ye=!0,Ve){var Et=ie(He,mt),Ot=et.width();Et>Ot&&He.css('minWidth',Et)}He.css(bt),at.css(bt),at.append(Me),ze.before(dt),xe()}}function Se(){Ye&&(Ye=!1,Ve&&He.width(vt),dt.detach(),He.prepend(Me),He.css(_t),at.css(_t),He.css('minWidth',wt),He.css('minWidth',ie(He,mt)))}function je(Et){Ve!=Et&&(Ve=Et,rt.css({position:Ve?'absolute':'fixed'}))}function Ne(Et,Ot,At,It){return ue?At:It?_e.getSizingRow(Et,Ot,At):Ot}function Pe(){var Ot=Te(),Et;return function(){ht=ot.find('col');var At=Ne(He,ht,mt,le);if(At.length==Ot&&0<Ot){if(!it)for(Et=0;Ot>Et;Et++)ht.eq(Et).css('width','');Se();var It=[];for(Et=0;Ot>Et;Et++)It[Et]=At.get(Et).offsetWidth;for(Et=0;Ot>Et;Et++)gt.eq(Et).width(It[Et]),ht.eq(Et).width(It[Et]);De()}else at.append(Me),He.css(_t),at.css(_t),xe()}}function Ee(Et){var Ot=Ue.css('border-'+Et+'-width'),At=0;return Ot&&~Ot.indexOf('px')&&(At=parseInt(Ot,10)),At}function Oe(){var Ot=Ue.scrollTop(),At=0,It=Ge?Ke.outerHeight(!0):0,Lt=Xe?It:-It,Ht=rt.height(),Mt=He.offset(),zt=0,Et;if(Qe){var Wt=Ue.offset();At=Mt.top-Wt.top+Ot,Ge&&Xe&&(At+=It),At-=Ee('top'),zt=Ee('left')}else Et=Mt.top-We-Ht+Re+Fe.horizontal;var Rt=he.scrollTop(),$t=he.scrollLeft(),Yt=Ue.scrollLeft();return Ot=Ue.scrollTop(),function(Ft){var qt=0>=He[0].offsetWidth&&0>=He[0].offsetHeight;if(!qt&&lt)return lt=!1,setTimeout(function(){He.trigger('reflow')},1),null;if(qt&&(lt=!0,!Ve))return null;if('windowScroll'==Ft?(Rt=he.scrollTop(),$t=he.scrollLeft()):'containerScroll'==Ft?(Ot=Ue.scrollTop(),Yt=Ue.scrollLeft()):'init'!=Ft&&(Rt=he.scrollTop(),$t=he.scrollLeft(),Ot=Ue.scrollTop(),Yt=Ue.scrollLeft()),!ce||!(0>Rt||0>$t)){if(tt)je('windowScrollDone'==Ft);else if('windowScrollDone'==Ft)return null;Mt=He.offset(),Ge&&Xe&&(Mt.top+=It);var Vt=He.outerHeight(),Bt,Ut;if(Qe&&Ve){if(At>=Ot){var Kt=At-Ot;Bt=0<Kt?Kt:0}else Bt=Ze?0:Ot;Ut=zt}else!Qe&&Ve?(Rt>Et+Vt+Lt?Bt=Vt-Ht+Lt:Mt.top>Rt+We?(Bt=0,Se()):(Bt=We+Rt-Mt.top+At+(Xe?It:0),De()),Ut=0):Qe&&!Ve?(At>Ot||Ot-At>Vt?(Bt=Mt.top-Rt,Se()):(Bt=Mt.top+Ot-Rt-At,De()),Ut=Mt.left+Yt-$t):Qe||Ve||(Rt>Et+Vt+Lt?Bt=Vt+We-Rt+Et+Lt:Mt.top>Rt+We?(Bt=Mt.top-Rt,De()):Bt=We,Ut=Mt.left-$t);return{top:Bt,left:Ut}}}}function Ae(){var Et=null,Ot=null,At=null;return function(It,Lt,Ht){null==It||Et==It.top&&Ot==It.left||(rt.css({top:It.top,left:It.left}),Et=It.top,Ot=It.left),Lt&&ke(),Ht&&xe();var Mt=Ue.scrollLeft();Ve&&At==Mt||(rt.scrollLeft(Mt),At=Mt)}}function Ie(){if(Ue.length)if(Ue.data().perfectScrollbar)Fe={horizontal:0,vertical:0};else{var Et=Ue.width(),Ot=Ue.height(),At=He.height(),It=ie(He,mt),Lt=It>Et?qe:0,Ht=At>Ot?qe:0;Fe.horizontal=It>Et-Ht?qe:0,Fe.vertical=At>Ot-Lt?qe:0}}var Le=se.uniqueId(),He=ee(this);if(He.data('floatThead-attached'))return!0;if(!He.is('table'))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');re=_e.autoReflow&&re;var Me=He.find('thead:first'),ze=He.find('tbody:first');if(0==Me.length)throw new Error('jQuery.floatThead must be run on a table that contains a <thead> element');var Ye=!1,Fe={vertical:0,horizontal:0},qe=ne(),Be=0,Ue=_e.scrollContainer(He)||ee([]),Ve=_e.useAbsolutePositioning,We,Re;null==Ve&&(Ve=_e.scrollContainer(He).length),Ve||(Ye=!0);var Ke=He.find('caption'),Ge=1==Ke.length;if(Ge)var Xe='top'===(Ke.css('caption-side')||Ke.attr('align')||'top');var Je=ee('<fthfoot style="display:table-footer-group;border-spacing:0;height:0;border-collapse:collapse;"/>'),Qe=0<Ue.length,Ze=!1,et=ee([]),tt=9>=le&&!Qe&&Ve,at=ee('<table/>'),nt=ee('<colgroup/>'),ot=He.find('colgroup:first'),it=!0;0==ot.length&&(ot=ee('<colgroup/>'),it=!1);var st=ee('<fthrow style="display:table-row;border-spacing:0;height:0;border-collapse:collapse"/>'),rt=ee('<div style="overflow: hidden;" aria-hidden="true" class="floatThead-floatContainer"></div>'),lt=!1,dt=ee('<thead/>'),pt=ee('<tr class="size-row"/>'),ut=ee([]),ht=ee([]),gt=ee([]),mt=ee([]);dt.append(pt),He.prepend(ot),ue&&(Je.append(st),He.append(Je)),at.append(nt),rt.append(at),_e.copyTableClass&&at.attr('class',He.attr('class')),at.attr({cellpadding:He.attr('cellpadding'),cellspacing:He.attr('cellspacing'),border:He.attr('border')});var ft=He.css('display');if(at.css({borderCollapse:He.css('borderCollapse'),border:He.css('border'),display:ft}),'none'==ft&&(lt=!0),at.addClass(_e.floatTableClass).css('margin',0),Ve){var yt=function(Et,Ot){var At=Et.css('position');if('relative'!=At&&'absolute'!=At||Ot){var It={paddingLeft:Et.css('paddingLeft'),paddingRight:Et.css('paddingRight')};rt.css(It),Et=Et.wrap('<div class=\''+_e.floatWrapperClass+'\' style=\'position: relative; clear:both;\'></div>').parent(),Ze=!0}return Et};Qe?(et=yt(Ue,!0),et.append(rt)):(et=yt(He),He.after(rt))}else He.after(rt);rt.css({position:Ve?'absolute':'fixed',marginTop:0,top:Ve?0:'auto',zIndex:_e.zIndex}),rt.addClass(_e.floatContainerClass),Ce();var bt={'table-layout':'fixed'},_t={'table-layout':He.css('tableLayout')||'auto'},vt=He[0].style.width||'',wt=He.css('minWidth')||'';Ie();var kt=function(){(xt=Pe())()},xt;kt();var Ct=Oe(),Tt=Ae();Tt(Ct('init'),!0);var Dt=se.debounce(function(){Tt(Ct('windowScrollDone'),!1)},300),St=function(){Tt(Ct('windowScroll'),!1),Dt()},jt=function(){Tt(Ct('containerScroll'),!1)},Nt=se.debounce(function(){Ie(),Ce(),kt(),Ct=Oe(),Tt(Ct('reflow'),!0)},1);if(Qe?Ve?Ue.on(we('scroll'),jt):(Ue.on(we('scroll'),jt),he.on(we('scroll'),St)):he.on(we('scroll'),St),he.on(we('load'),Nt),te(_e.debounceResizeMs,we('resize'),function(){Ce(),Ie(),kt(),Ct=Oe(),(Tt=Ae())(Ct('resize'),!0,!0)}),He.on('reflow',Nt),oe(He)&&He.on('filter',Nt).on('sort',Nt).on('page',Nt),re){var Pt=Ue.length?Ue[0]:He[0];fe=new MutationObserver(function(Et){for(var Ot=function(It){return It&&It[0]&&'THEAD'==It[0].nodeName},At=0;At<Et.length;At++)if(!Ot(Et[At].addedNodes)&&!Ot(Et[At].removedNodes)){Nt();break}}),fe.observe(Pt,{childList:!0,subtree:!0})}He.data('floatThead-attached',{destroy:function(){var Et='.fth-'+Le;Se(),He.css(_t),ot.remove(),ue&&Je.remove(),dt.parent().length&&dt.replaceWith(Me),re&&(fe.disconnect(),fe=null),He.off('reflow'),Ue.off(Et),Ze&&(Ue.length?Ue.unwrap():He.unwrap()),He.css('minWidth',wt),rt.remove(),He.data('floatThead-attached',!1),he.off(Et)},reflow:function(){Nt()},setHeaderHeight:function(){xe()},getFloatContainer:function(){return rt},getRowGroups:function(){return Ye?rt.find('thead').add(He.find('tbody,tfoot')):He.find('thead,tbody,tfoot')}})}),this}}(jQuery),function(ee){ee.floatThead=ee.floatThead||{},ee.floatThead._=window._||function(){var te={},ae=Object.prototype.hasOwnProperty;te.has=function(oe,ie){return ae.call(oe,ie)},te.keys=function(oe){if(oe!==Object(oe))throw new TypeError('Invalid object');var ie=[];for(var se in oe)te.has(oe,se)&&ie.push(se);return ie};var ne=0;return te.uniqueId=function(oe){var ie=++ne+'';return oe?oe+ie:ie},ee.each(['Arguments','Function','String','Number','Date','RegExp'],function(){var oe=this;te['is'+oe]=function(ie){return Object.prototype.toString.call(ie)=='[object '+oe+']'}}),te.debounce=function(oe,ie,se){var re,le,de,ce,pe;return function(){de=this,le=arguments,ce=new Date;var ue=function(){var ge=new Date-ce;ie>ge?re=setTimeout(ue,ie-ge):(re=null,se||(pe=oe.apply(de,le)))},he=se&&!re;return re||(re=setTimeout(ue,ie)),he&&(pe=oe.apply(de,le)),pe}},te}()}(jQuery);
(function(l){$type=String,$type.__typeName='String',$type.__class=!0,$prototype=$type.prototype,$prototype.endsWith=function(m){/// <summary>Determines whether the end of this instance matches the specified string.</summary>
/// <param name="suffix" type="String">A string to compare to.</param>
/// <returns type="Boolean">true if suffix matches the end of this instance; otherwise, false.</returns>
return this.substr(this.length-m.length)===m},$prototype.startsWith=function(m){/// <summary >Determines whether the beginning of this instance matches the specified string.</summary>
/// <param name="prefix" type="String">The String to compare.</param>
/// <returns type="Boolean">true if prefix matches the beginning of this string; otherwise, false.</returns>
return this.substr(0,m.length)===m},$prototype.trim=function(){/// <summary >Removes all leading and trailing white-space characters from the current String object.</summary>
/// <returns type="String">The string that remains after all white-space characters are removed from the start and end of the current String object.</returns>
return this.replace(/^\s+|\s+$/g,'')},$prototype.trimEnd=function(){/// <summary >Removes all trailing white spaces from the current String object.</summary>
/// <returns type="String">The string that remains after all white-space characters are removed from the end of the current String object.</returns>
return this.replace(/\s+$/,'')},$prototype.trimStart=function(){/// <summary >Removes all leading white spaces from the current String object.</summary>
/// <returns type="String">The string that remains after all white-space characters are removed from the start of the current String object.</returns>
return this.replace(/^\s+/,'')},$type.format=function(m,b){/// <summary>Replaces the format items in a specified String with the text equivalents of the values of   corresponding object instances. The invariant culture will be used to format dates and numbers.</summary>
/// <param name="format" type="String">A format string.</param>
/// <param name="args" parameterArray="true" mayBeNull="true">The objects to format.</param>
/// <returns type="String">A copy of format in which the format items have been replaced by the   string equivalent of the corresponding instances of object arguments.</returns>
return String._toFormattedString(!1,arguments)},$type._toFormattedString=function(m,b){var h='',f=b[0];for(var g=0;;){// Find the next opening or closing brace
var y=f.indexOf('{',g),w=f.indexOf('}',g);if(0>y&&0>w){h+=f.slice(g);break}if(0<w&&(w<y||0>y)){if('}'!==f.charAt(w+1))throw new Error('format stringFormatBraceMismatch');h+=f.slice(g,w+1),g=w+2;continue}// Copy the string before the brace
// Check for double braces (which display as one and are not arguments)
if(h+=f.slice(g,y),g=y+1,'{'===f.charAt(g)){h+='{',g++;continue}if(0>w)throw new Error('format stringFormatBraceMismatch');// Find the closing brace
// Get the string between the braces, and split it around the ':' (if any)
var k=f.substring(g,w),C=k.indexOf(':'),S=parseInt(0>C?k:k.substring(0,C),10)+1;if(isNaN(S))throw new Error('format stringFormatInvalid');var D=0>C?'':k.substring(C+1),O=b[S];('undefined'==typeof O||null===O)&&(O=''),h+=O.toFormattedString?O.toFormattedString(D):m&&O.localeFormat?O.localeFormat(D):O.format?O.format(D):O.toString(),g=w+1}return h}})(window);/// <reference path="toastr.js" />
/// <reference path="_ko.kendo.js" />
/// <reference path="../kendo/js/kendo.pager.js" />
/// <reference path="../kendo/js/kendo.all.js" />
var bespoke=bespoke||{};bespoke.utils={},bespoke.utils.ServerPager=function(l){l=l||{};var u=l.element,m=l.count||0,b=l.sizes||[10,20,50],h=l.defaultSize||20,f=l.changed||function(){console.log('no change event')},g=this,y=_.range(m),w=new kendo.data.DataSource({data:y,pageSize:h});if(l.hidden)return g;var k=u.kendoPager({dataSource:w,pageSizes:b}).data('kendoPager');k.page(1),k.bind('change',function(){f&&f(k.page(),k.pageSize())}),g.update=function(S){y=[];for(var D=0;D<S;D++)y[D]=D;setTimeout(function(){w.data(y)},500)},g.destroy=function(){k.destroy(),u.empty()},g.pageSize=function(S){return S&&k.pageSize(S),k.pageSize()},g.page=function(S){return S&&k.page(S),k.page()};var C=$(u).find('select').data('kendoDropDownList');return C.bind('change',function(){try{f(1,parseInt(this.value()))}catch(S){}}),g},ko.bindingHandlers.workflowFormPathIntellisense={init:function(l,u,m){var b=u(),h=ko.unwrap(b.schema),f=m();(function(){var g=$(l),y=$('<div></div>').css({height:'28px'});g.hide().before(y);var w=completely(y[0],{fontSize:'12px',color:'#555;',fontFamily:'"Open Sans", Arial, Helvetica, sans-serif'});for(var k in w.setText(ko.unwrap(f.value)),h)if(h.hasOwnProperty(k)){if('$type'===k)continue;if('addChildItem'===k)continue;if('removeChildItem'===k)continue;if('Empty'===k)continue;if('WebId'===k)continue;w.options.push(''+k)}w.options.sort();var C=h;w.onChange=function(S){if(S.lastIndexOf('.')===S.length-1){w.options=[];var D=S.split('.');for(var O in C=h,_(D).each(function(M){''===M||(C=C[M])}),console.log('currentObject',C),C)if(C.hasOwnProperty(O)){if('$type'===O)continue;if('addChildItem'===O)continue;if('removeChildItem'===O)continue;if('Empty'===O)continue;if('WebId'===O)continue;w.options.push(''+O)}w.options.sort(),w.startFrom=S.lastIndexOf('.')+1}w.repaint()},w.repaint(),$(w.input).attr('autocomplete','off').blur(function(){f.value($(this).val())}).parent().find('input').css({padding:'6px 12px',height:'28px'}),$(l).prop('required')&&$(w.input).prop('required',!0)})()}},ko.bindingHandlers.activityClass={init:function(l,u){var m=$(l),b=ko.unwrap(u()),h='function'==typeof b.$type?b.$type():b.$type,f=/Bespoke\.Sph\.Domain\.(.*?),/.exec(h)[1];m.addClass('activity32').addClass('activity32-'+f)}},ko.bindingHandlers.checkedItems={init:function(l,u){var m=ko.dataFor(l),b=u();$(l).change(function(){var h=$(this).is(':checked');h?b.push(m):b.remove(m)})}},ko.bindingHandlers.typeahead={init:function(l,u,m){var b=ko.unwrap(u()),h=m();if('undefined'!=typeof b){var f=new Bloodhound({datumTokenizer:function(g){return Bloodhound.tokenizers.whitespace(g.Path)},queryTokenizer:Bloodhound.tokenizers.nonword,prefetch:'/api/workflow-definitions/'+b+'/variable-path'});f.initialize(),$(l).typeahead({highlight:!0},{name:'schema_paths'+b,displayKey:'Path',source:f.ttAdapter()}).on('typeahead:closed',function(){h.value($(this).val())})}}},ko.bindingHandlers.typeaheadExceptions={init:function(l,u,m){var b=m(),h=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:'/api/assemblies/types/exceptions'});$(l).typeahead(null,{name:'exceptions',source:h}).on('typeahead:closed',function(){b.value($(this).val())})}},ko.bindingHandlers.activityPopover={init:function(l,u){var m=$(l),b=ko.unwrap(u()),h='function'==typeof b.$type?b.$type():b.$type,f=/Bespoke\.Sph\.Domain\.(.*?),/.exec(h)[1],g=ko.dataFor(m.parent()[0]).wd(),y=m.popover({title:f+' : '+b.Name(),html:!0,content:function(){return $('a.edit-activity').popover('hide'),m.find('a.edit-activity').addClass(b.WebId()),m.find('a.delete-activity').addClass(b.WebId()),m.find('a.start-activity').addClass(b.WebId()),m.find('div.context-menu').html()}});// just display it for 5 seconds
y.on('shown.bs.popover',function(){setTimeout(function(){y.popover('hide')},5000)}),$(document).on('click','a.'+b.WebId(),function(w){w.preventDefault();var k=require(objectbuilders.app),C=$(this);C.hasClass('delete-activity')&&k.showMessage('Are you sure you want to remove this Activity','Remove activity',['Yes','No']).done(function(S){'Yes'===S&&g.removeActivity(b)()}),C.hasClass('edit-activity')&&g.editActivity(b)(),C.hasClass('start-activity')&&g.setStartActivity(b)()})}},ko.bindingHandlers.comboBoxLookupOptions={init:function(l,u){var m=$(l),b=ko.unwrap(u()),h=b.value,f=b.caption,g=require('services/datacontext'),y=ko.unwrap(b.displayPath),w=ko.unwrap(b.valuePath),k=function(C){//getListAsync
var S=ko.unwrap(b.valuePath)===ko.unwrap(b.displayPath)?g.getListAsync(ko.unwrap(b.entity),C,ko.unwrap(b.valuePath)):g.getTuplesAsync({entity:ko.unwrap(b.entity),query:C,field:w,field2:y});S.done(function(D){l.options.length=0,f&&l.add(new Option(f,'')),_(D).each(function(O){return'string'==typeof O?void l.add(new Option(O,O)):'string'==typeof O.Item1&&'string'==typeof O.Item2?void l.add(new Option(O.Item2,O.Item1)):void('string'==typeof O[w]&&'string'==typeof O[y]&&l.add(new Option(O[w],O[y])))}),m.val(ko.unwrap(h)).on('change',function(){h(m.val())})})};k(ko.unwrap(b.query)),'function'==typeof b.query&&'function'==typeof b.query.subscribe&&b.query.subscribe(function(C){k(ko.unwrap(C))})},update:function(l,u){var m=ko.unwrap(u()),b=m.value;$(l).val(ko.unwrap(b))}},ko.bindingHandlers.tree={init:function(l,u){var m=require(objectbuilders.system),b=u(),h=ko.unwrap(b.entity),f=ko.unwrap(b.searchbox),g=b.selected,y={text:h.Name(),state:{opened:!0,selected:!0}},w=function(M){var T=ko.unwrap(M.TypeName)||ko.unwrap(M.$type);return 0>T.indexOf(',')&&(T=ko.unwrap(M.$type)),T},k=null,C=null,S=function(M){M.children=_(M.data.MemberCollection()).map(function(T){const H=w(T);return{text:T.Name(),state:'open',type:H,data:T}}),_(M.children).each(S)},D=function(M,T){ko.isObservable(T.childOfValueMember)||(T.childOfValueMember=ko.observable(!0));var H=$(l).jstree(!0),A=_(M.parents).map(function(I){return H.get_node(I)}),Y=_(A).find(function(I){return'Bespoke.Sph.Domain.ValueObjectMember, domain.sph'===I.type});T.childOfValueMember(Y||!1)};(function(){y.children=_(h.MemberCollection()).map(function(M){return{text:ko.unwrap(M.Name),state:'open',type:w(M),data:M}}),_(y.children).each(S),$(l).on('select_node.jstree',function(M,T){if('function'==typeof g){k&&(k.dispose(),k=null),C&&(C.dispose(),C=null);var H=T.node.data;if(H){if('default'===T.node.type)return;ko.isObservable(H.childOfValueMember)||(H.childOfValueMember=ko.observable(!0)),ko.isObservable(H.allowFilter)||(H.allowFilter=ko.observable(!0));var A=$(l).jstree(!0),Y=_(T.node.parents).map(function(N){return A.get_node(N)}),I=_(Y).find(function(N){return'Bespoke.Sph.Domain.ValueObjectMember, domain.sph'===N.type});// we also need to disable for collection member
if(H.childOfValueMember(I||!1),!I){var P=_(Y).find(function(N){var z=N.data;return'Bespoke.Sph.Domain.ComplexMember, domain.sph'===N.type&&ko.unwrap(z.AllowMultiple)});P&&H.allowFilter(!1)}H.childOfValueMember()||A.edit(T.node),g(H),k=g().Name.subscribe(function(N){$(l).jstree(!0).rename_node(T.node,N),console.log('rename '+N)}),'function'==typeof g().TypeName&&(C=g().TypeName.subscribe(function(N){$(l).jstree(!0).set_type(T.node,N)}))}}}).on('create_node.jstree',function(M,T){console.log(T,'node')}).on('move_node.jstree',function(M,T){var H=$(l).jstree(!0),A=T.node.data,Y=H.get_node(T.old_parent),I=Y.data.MemberCollection||h.MemberCollection,P=H.get_node(T.parent),N=P.data.MemberCollection||h.MemberCollection;I.remove(function(z){return ko.unwrap(A.WebId)===ko.unwrap(z.WebId)}),N.splice(T.position,0,A)}).on('rename_node.jstree',function(M,T){var H=T.node.data;H.Name(T.text)}).jstree({core:{animation:0,check_callback:function(M,T,H,A,Y){if('move_node'===M){var I=T.data,P=$(l).jstree(!0),N=P.get_node(H);return!!I&&!!N&&(ko.isObservable(I.childOfValueMember)||D(T,I),!ko.unwrap(I.childOfValueMember)&&'Bespoke.Sph.Domain.ValueObjectMember, domain.sph'!==N.type)}return!0},themes:{stripes:!0},data:y},dnd:{is_draggable:function(M){var T=M.data;return T&&ko.unwrap(T.childOfValueMember)?!1:!0}},contextmenu:{items:function(M){var T=$(l).jstree(!0),H=_(M.parents).map(function(E){return T.get_node(E)}),A=_(H).find(function(E){return'Bespoke.Sph.Domain.ValueObjectMember, domain.sph'===E.type}),Y=T.get_selected();if(A)return[];var I={label:'Add Simple Child',action:function(){const E=new bespoke.sph.domain.SimpleMember({WebId:m.guid(),TypeName:'System.String, mscorlib',Name:'Member_Name'}),B=$(l).jstree('get_selected',!0),F=B[0].data;return!!Y.length&&(Y=Y[0],Y=T.create_node(Y,{state:'open',type:'System.String, mscorlib',text:'Member_Name',data:E}),!!Y&&(T.edit(Y),F&&F.MemberCollection?F.MemberCollection.push(E):h.MemberCollection.push(E),!0))}},P={label:'Add Value Object Child',action:function(){var E=new bespoke.sph.domain.ValueObjectMember({WebId:m.guid(),TypeName:'Bespoke.Sph.Domain.ValueObjectDefinition, domain.sph',Name:'Member_Name'}),B=$(l).jstree('get_selected',!0),F=B[0].data;return!!Y.length&&(Y=Y[0],Y=T.create_node(Y,{state:'open',type:'Bespoke.Sph.Domain.ValueObjectMember, domain.sph',text:'Member_Name',data:E}),!!Y&&(T.edit(Y),F&&F.MemberCollection?F.MemberCollection.push(E):h.MemberCollection.push(E),E.TypeName.subscribe(function(){// TODO : clear the node children and populate the node according to the value object definition members
}),!0))}},N={label:'Add Complex Child',action:function(){var E=new bespoke.sph.domain.ComplexMember({WebId:m.guid(),Name:'Member_Name'}),B=$(l).jstree('get_selected',!0),F=B[0].data;return!!Y.length&&(Y=Y[0],Y=T.create_node(Y,{state:'open',type:'Bespoke.Sph.Domain.ComplexMember, domain.sph',text:'Member_Name',data:E}),!!Y&&(T.edit(Y),F&&F.MemberCollection?F.MemberCollection.push(E):h.MemberCollection.push(E),!0))}},z={label:'Remove',action:function(){// now delete the member
var E=T.get_selected(!0)[0],B=T.get_node($('#'+E.parent)),F=B.data;if(F&&'function'==typeof F.MemberCollection){var W=_(F.MemberCollection()).find(function(L){return L.WebId()===E.data.WebId()});F.MemberCollection.remove(W)}else{var R=_(h.MemberCollection()).find(function(L){return L.WebId()===E.data.WebId()});h.MemberCollection.remove(R)}return!!Y.length&&(T.delete_node(Y),!0)}},V=[];return('default'===M.type||'Bespoke.Sph.Domain.ComplexMember, domain.sph'===M.type)&&(V.push(I),V.push(P),V.push(N)),console.log(M),'default'!==M.type&&V.push(z),V}},types:{'default':{icon:'fa fa-clipboard'},'System.String, mscorlib':{icon:'glyphicon glyphicon-bold',valid_children:[]},'System.DateTime, mscorlib':{icon:'glyphicon glyphicon-calendar',valid_children:[]},'System.Int32, mscorlib':{icon:'fa fa-sort-numeric-asc',valid_children:[]},'System.Decimal, mscorlib':{icon:'glyphicon glyphicon-usd',valid_children:[]},'System.Boolean, mscorlib':{icon:'glyphicon glyphicon-ok',valid_children:[]},'Bespoke.Sph.Domain.ValueObjectMember, domain.sph':{icon:'fa fa-object-ungroup'},'Bespoke.Sph.Domain.ComplexMember, domain.sph':{icon:'fa fa-object-group'}},plugins:['contextmenu','dnd','types','search']})})();var O=!1;$(f).keyup(function(){O&&clearTimeout(O),O=setTimeout(function(){var M=$(f).val();$(l).jstree(!0).search(M)},250)})}},ko.bindingHandlers.help={init:function(l,u){var m=$(l),b=ko.unwrap(u());m.click(function(h){h.preventDefault(),window.open('/docs/#'+b)})}};var substringMatcher=function(l){return function(m,b){var h,f;// an array that will be populated with substring matches
h=[],f=new RegExp(m,'i'),$.each(l,function(g,y){f.test(y)&&h.push({value:y})}),b(h)}};ko.bindingHandlers.typeaheadUrl={init:function(l,u){var m=ko.unwrap(u()),b=String.format('/list?table={0}&column={1}',m[0],'Route'),h=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace('name'),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:b,tt1:300000,filter:function(f){return _(f).map(function(g){return{name:g}})}}});h.initialize(),$(l).typeahead(null,{name:'EntityView_'+$(l).prop('id'),displayKey:'name',source:h.ttAdapter()})}},ko.bindingHandlers.entityTypeaheadPath={init:function(l,u,m){var b=u(),h=require(objectbuilders.datacontext),f=require(objectbuilders.config),g=m(),y=ko.unwrap(u())||window.typeaheadEntity,w=function(k){String.prototype.toCamelCase=function(){return this.replace(/^([A-Z])|\s(\w)/g,function(I,P,N,z){return N?N.toUpperCase():P.toLowerCase()})};var C=k.name||k,S=k.id||k,D=C.toCamelCase(),O=ko.toJS(bespoke[f.applicationName+'_'+D].domain[C]()),M=$(l),T=$('<div></div>').css({height:'28px'});M.hide().before(T);var H=completely(T[0],{fontSize:'12px',color:'#555;',fontFamily:'"Open Sans", Arial, Helvetica, sans-serif'});for(var A in H.setText(ko.unwrap(g.value)),O)if(O.hasOwnProperty(A)){if('$type'===A)continue;if('addChildItem'===A)continue;if('removeChildItem'===A)continue;if('Empty'===A)continue;if('WebId'===A)continue;H.options.push(''+A)}H.options.sort();var Y=O;H.onChange=function(I){if(I.lastIndexOf('.')===I.length-1){H.options=[];var P=I.split('.');for(var N in Y=O,_(P).each(function(z){''===z||(Y=Y[z])}),console.log('currentObject',Y),Y)if(Y.hasOwnProperty(N)){if('$type'===N)continue;if('addChildItem'===N)continue;if('removeChildItem'===N)continue;if('Empty'===N)continue;if('WebId'===N)continue;H.options.push(''+N)}H.options.sort(),H.startFrom=I.lastIndexOf('.')+1}H.repaint()},H.repaint(),$(H.input).attr('autocomplete','off').blur(function(){g.value($(this).val())}).parent().find('input').css({padding:'6px 12px',height:'28px'}),$(l).prop('required')&&$(H.input).prop('required',!0),H.hideDropDown()};y&&h.loadOneAsync('EntityDefinition','Name eq \''+y+'\' OR id eq \''+y+'\'','Id').done(function(k){w({name:k.Name(),id:k.Id()})}),'function'==typeof b&&'function'==typeof b.subscribe&&b.subscribe(function(k){$(l).typeahead('destroy'),w(k)})}},ko.bindingHandlers.cssTypeahead={init:function(l,u,m){var b=m(),h=function(y){var w=/([^,]+)$/.exec(y);return w&&w[1]?w[1].trim():''},f=_(['fa','fa-user','fa-user-o']).map(function(y){return{path:y}}),g=new Bloodhound({datumTokenizer:function(y){return y.path.split(/s+/)},queryTokenizer:function(y){return y.split(/\./)},local:f});g.initialize(),$(l).typeahead({minLength:0,highlight:!0,updater:function(){return this.$element.val().replace(/[^,]*$/,'')+item+','},matcher:function(y){var w=h(this.query);return!!w&&~y.toLowerCase().indexOf(w.toLowerCase())}},{name:'css-class',displayKey:'path',source:g.ttAdapter()}).on('typeahead:closed',function(){b.value($(this).val())})}},ko.bindingHandlers.chart={init:function(l,u){var m=ko.unwrap(u()),b=require('services/datacontext'),h=m.Entity(),f=JSON.parse(m.Query()),g=m.Type(),y=new $.Deferred,w=m.Name();return b.searchAsync(h,f).done(function(k){var C=k.aggregations.category.buckets||k.aggregations.category,S=_(C).map(function(M){return{category:M.key_as_string||M.key.toString(),value:M.doc_count}}),D=_(C).map(function(M){return M.key_as_string||M.key.toString()}),O=$(l).kendoChart({theme:'metro',chartArea:{background:''},title:{text:w},legend:{position:'bottom'},seriesDefaults:{labels:{visible:!0,format:'{0}',background:'transparent',template:'#= category #: #= value#'}},series:[{type:g,data:S}],categoryAxis:{categories:D,majorGridLines:{visible:!1}},tooltip:{visible:!0,format:'{0}',template:'#= category #: #= value #'}}).data('kendoChart');y.resolve(!0),b.getScalarAsync('EntityView','Id eq \''+m.EntityViewId()+'\'','Name').done(function(M){O.options.title.text=w+' ('+M+')',O.refresh()})}),y.promise()}},ko.bindingHandlers.iconPicker={init:function(l,u){var m=$(l),b=u(),h=$('<a href="#" class="btn btn-link">Pick Icon</a>');m.parent().append(h),h.click(function(f){f.preventDefault(),require(['viewmodels/icon.picker','durandal/app'],function(g,y){y.showDialog(g).done(function(w){'OK'===w&&(b(g.icon()),m.val(g.icon()))})})})}};var bespoke=bespoke||{};bespoke.observableArray=bespoke.observableArray||{},bespoke.getSingletonObservableArray=function(l){return bespoke.observableArray[l]?bespoke.observableArray[l]:(bespoke.observableArray[l]=ko.observableArray(),bespoke.observableArray[l])},ko.bindingHandlers.lookup={init:function(l,u){var m=$(l),b=u(),h=ko.unwrap(b.member);m.click(function(f){f.preventDefault(),f.stopPropagation(),require(['viewmodels/entity.lookup.dialog','durandal/app'],function(g,y){g.options(b),y.showDialog(g).done(function(w){if(w&&'OK'===w){var k=g.selected();b.value(k[h])}})})})}},ko.virtualElements.allowedBindings.lookupText=!0,bespoke.lookupText=function(l,u){var m=u(),b=ko.unwrap(m.entity),h=ko.unwrap(m.displayPath),f=ko.unwrap(m.valuePath),g=ko.unwrap(m.value),y=require('services/datacontext'),w=function(k,C){var S=ko.utils.unwrapObservable(C);(null===S||S===void 0)&&(S='');var D=ko.virtualElements.firstChild(k);!D||3!==D.nodeType||ko.virtualElements.nextSibling(D)?ko.virtualElements.setDomNodeChildren(k,[k.ownerDocument.createTextNode(S)]):D.data=S};y.getScalarAsync(b,f+' eq \''+g+'\'',h).done(function(k){w(l,k),console.log(k)})},ko.bindingHandlers.lookupText={init:bespoke.lookupText,update:bespoke.lookupText},ko.bindingHandlers.readonly={init:function(l,u){var m=$(l),b=ko.unwrap(u());b?m.prop('readonly',!0):m.prop('readonly',!1)},update:function(l,u){var m=$(l),b=ko.unwrap(u());b?m.prop('readonly',!0):m.prop('readonly',!1)}},ko.bindingHandlers.kendoEditor={init:function(l,u){var m=$(l),b=u(),h=!1;setTimeout(function(){var f=m.kendoEditor({change:function(){h||(h=!0,b(this.value()),setTimeout(function(){h=!1},500))}}).data('kendoEditor');f.value(b()),b.subscribe(function(g){h||(h=!0,f.value(g),setTimeout(function(){h=!1},500))})},500)},update2:function(l,u){var m=$(l),b=u(),h=m.data('kendoEditor');m.data('updating')||h.value(b())}},ko.bindingHandlers.kendoDropDownListValue={init:function(l,u){var m=u(),b=ko.utils.unwrapObservable(m),h=$(l).data('kendoDropDownList');h.value(b),h.bind('change',function(){var f=h.value();m(f)})},update:function(l,u){//update value based on a model change
var m=u(),b=ko.utils.unwrapObservable(m);b&&$(l).data('kendoDropDownList').value(b)}},ko.bindingHandlers.source={},ko.bindingHandlers.kendoComboBox={init:function(l,u,m){var b=u(),h=m(),f=ko.utils.unwrapObservable(b),g=$(l).data('kendoComboBox')||$(l).kendoComboBox({dataSource:h.source()}).data('kendoComboBox');g.value(f),h.source.subscribe(function(y){g.dataSource.data(y)}),g.bind('change',function(){var y=g.value();b(y)})},update:function(l,u){//update value based on a model change
var m=u(),b=ko.utils.unwrapObservable(m);b&&$(l).data('kendoComboBox').value(b)}},ko.bindingHandlers.decimal={},ko.bindingHandlers.money={init:function(l,u,m){var b=u(),h=m(),f=$(l),g=parseFloat(ko.unwrap(b)||'0'),y=g.toFixed(function(){return'undefined'==typeof h.decimal?2:parseInt(h.decimal)}()).replace(/./g,function(w,k,C){return k&&'.'!==w&&!((C.length-k)%3)?','+w:w});return'span'===l.tagName.toLowerCase()?void f.text(y):void(f.val(y),f.on('blur',function(){var w=$(this).val().replace(/,/g,'');console.log(w),b(parseFloat(w))}))},update:function(l,u,m){var b=u(),h=m(),f=$(l),g=parseFloat(ko.unwrap(b)||'0'),y=g.toFixed(function(){return'undefined'==typeof h.decimal?2:parseInt(h.decimal)}()).replace(/./g,function(w,k,C){return k&&'.'!==w&&!((C.length-k)%3)?','+w:w});f.val(y)}},ko.bindingHandlers.date={init:function(l,u){var m=ko.utils.unwrapObservable(u());if(!m)return $(l).text(''),void $(l).val('');var b=ko.unwrap(m.value),h=-1<(b||'').indexOf('T')?'YYYY-MM-DDTHH:mm:ss':'YYYY-MM-DD',f=ko.unwrap(m.inputFormat)||h,g=moment(b,f),y=ko.unwrap(m.invalid)||'invalid date',w=ko.unwrap(m.format)||'DD/MM/YYYY';if(m.format||'string'!=typeof ko.unwrap(m)||(b=ko.unwrap(m),g=moment(b)),$(l).on('change',function(){var C=$(this).val();m.value(C)}),!b)return $(l).text(y),void $(l).val(y);if(!g)return $(l).text(''),void $(l).val('');if(1===g.year())return $(l).text(''),void $(l).val('');var k=g.format(w).toString();0>k.indexOf('NaN')&&($(l).text(k),$(l).val(k))},update:function(l,u){var m=ko.utils.unwrapObservable(u());if(!m)return $(l).text(''),void $(l).val('');var b=ko.unwrap(m.value),h=-1<(b||'').indexOf('T')?'YYYY-MM-DDTHH:mm:ss':'YYYY-MM-DD',f=ko.unwrap(m.inputFormat)||h,g=moment(b,f),y=ko.unwrap(m.invalid)||'invalid date',w=ko.unwrap(m.format)||'DD/MM/YYYY';if(m.format||'string'!=typeof ko.unwrap(m)||(b=ko.unwrap(m),g=moment(b)),$(l).on('change',function(){var C=$(this).val();m.value(C)}),!b)return $(l).text(y),void $(l).val(y);if(!g)return $(l).text(''),void $(l).val('');if(1===g.year())return $(l).text(''),void $(l).val('');var k=g.format(w).toString();0>k.indexOf('NaN')&&($(l).text(k),$(l).val(k))}},ko.bindingHandlers.kendoUpload={init:function(l,u){var m=require(objectbuilders.datacontext),b=require(objectbuilders.logger),h=u(),f=u(),g=[];f&&'object'==typeof f&&(h=f.value,g=f.extensions),$(l).attr('name','files').kendoUpload({async:{saveUrl:'/BinaryStore/Upload',removeUrl:'/BinaryStore/Remove',autoUpload:!0},multiple:!1,error:function(y){b.logError(y,y,this,!0)},select:function(y){0===g.length||_(y.files).each(function(w){0>g.indexOf(w.extension)&&(b.error('Only '+g.join(',')+' files can be uploaded'),y.preventDefault())})},success:function(y){b.info('Your file has been '+y.operation);var w=y.response.storeId,k='upload'===y.operation,C='upload'!==y.operation,S=h();k&&(h(w),S&&m.post(JSON.stringify({id:S}),'/BinaryStore/Remove/')),C&&h('')},remove:function(){var y=new $.Deferred,w=JSON.stringify({id:h()});return m.post(w,'/BinaryStore/Remove/').then(function(k){y.resolve(k)}),y.promise()}})}},ko.bindingHandlers.kendoDate={init:function(l,u,m){var b=u(),h=$(l),f=m(),g=ko.unwrap(b),y=moment(g,'DD/MM/YYYY'),w=h.kendoDatePicker({format:'dd/MM/yyyy',change:function(k){console.log(k);var C=this.value();y='string'==typeof C?moment(C,'DD/MM/YYYY'):moment(C),h.data('stop','true'),b(y.format('YYYY-MM-DD')),h.data('stop','false')}}).data('kendoDatePicker');return'boolean'!=typeof f.enable||f.enable||w.enable(!1),'function'==typeof f.enable&&'function'==typeof f.enable.subscribe&&f.enable.subscribe(function(k){w.enable(k)}),y?1===y.year()?void w.value(null):void(w.value(y.toDate()),'undefined'==typeof g&&'function'==typeof b&&b(y.format('YYYY-MM-DD'))):void w.value(null)},update:function(l,u,m){var b=$(l),h=m();if('true'!==b.data('stop')){var f=u(),g=ko.utils.unwrapObservable(f),y=moment(g),w=b.data('kendoDatePicker');if(!y)return void w.value(null);if(1===y.year())return void w.value(null);'boolean'!=typeof h.enable||h.enable||w.enable(!1),'function'==typeof h.enable&&'function'==typeof h.enable.subscribe&&h.enable.subscribe(function(D){w.enable(D)}),w.value(y.toDate())}}},ko.bindingHandlers.kendoDateTime={init:function(l,u){var m=u(),b=$(l),h=ko.utils.unwrapObservable(m),f=moment(h,'DD/MM/YYYY '),g=b.kendoDateTimePicker({format:'dd/MM/yyyy HH:mm',change:function(y){console.log(y);var w=this.value();f='string'==typeof w?moment(w,'DD/MM/YYYY hh:mm'):moment(w),b.data('stop','true'),m(f.format()),b.data('stop','false')}}).data('kendoDateTimePicker');return f?1===f.year()?void g.value(null):void g.value(f.toDate()):void g.value(null)},update:function(l,u){var m=$(l);if('true'!==m.data('stop')){var b=u(),h=ko.utils.unwrapObservable(b),f=moment(h),g=m.data('kendoDateTimePicker');if(!f)return void g.value(null);if(1===f.year())return void g.value(null);g.value(f.toDate())}}},ko.bindingHandlers.slideVisible={init:function(l,u){// Initially set the element to be instantly visible/hidden depending on the value
var m=u();$(l).toggle(ko.utils.unwrapObservable(m))},update:function(l,u){var m=u();ko.utils.unwrapObservable(m)?$(l).slideDown():$(l).slideUp()}},ko.bindingHandlers.kendoEnable={init:function(l,u){var m=u(),b=ko.utils.unwrapObservable(m);b?$(l).removeClass('k-state-disabled'):$(l).addClass('k-state-disabled')},update:function(l,u){var m=u(),b=ko.utils.unwrapObservable(m);b?($(l).removeClass('k-state-disabled'),$(l).removeAttr('disabled')):($(l).addClass('k-state-disabled'),$(l).attr('disabled','disabled'))}},ko.bindingHandlers.command={init:function(l,u,m,b){var h=u(),f=$(l),g=m(),y=f.val(),w=require('services/logger');if(g.isvisible){var k='function'==typeof g.isvisible?g.isvisible():g.isvisible;k?f.show():f.hide(),'function'==typeof g.isvisible&&g.isvisible.subscribe(function(D){D?f.show():f.hide()})}var C=$('<i class=\'fa fa-spin fa-circle-o-notch\'></i>').hide(),S=$('<i class=\'fa fa-warning\' style=\'color:red\'></i>').hide();f.append(C),f.append(S),f.click(function(D){D.preventDefault();this.form&&!this.form.checkValidity()||(C.show(),S.hide(),h(b,D).fail(function(O,M,T){if(f.button('complete').prop('disabled',!1).val(y).removeClass('btn-disabled'),C.hide(),S.show(),404===O.status)return w.error(T),void w.error(O.statusText);if(O.responseJSON){const H=O.responseJSON.Message||'',A=O.responseJSON.Details||JSON.stringify(O.responseJSON);w.error(H),console.error(H,A)}else O.responseText&&(w.error(O.responseText),console.error(O.responseText))}).done(function(){f.button('complete').prop('disabled',!1).val(y).removeClass('btn-disabled'),C.hide()}),f.data('loading-text')&&f.button('loading'),f.addClass('btn-disabled').prop('disabled',!0))})}},ko.bindingHandlers.field={init:function(){}},ko.bindingHandlers.unwrapClick={init:function(l,u,m){var b=u(),h=$(l),f=m();h.click(function(g){g.preventDefault();var y=f.property,w=f.accessor,k=f.field,C=f.entity;/* if we can't get to the function , i.e. it's still object not ko.observable
            
            */y?('undefined'==typeof w[y]&&console.log('Can\'t figure out the accessor.prop'),'object'==typeof w[y]&&(w[y]=ko.observable(w[y])),'function'==typeof w[y]&&b(w[y],k,C)):b(w,k,C)})}},ko.bindingHandlers.fieldImage={init:function(l,u){var m=u(),b=$(l),h='function'==typeof m?m():m;b.attr('src','/image/index/'+h)}},ko.bindingHandlers.stringArrayAutoComplete={init:function(l,u,m){var b=u(),h=m(),f=h.data();$(l).data('kendoAutoComplete')||$(l).kendoAutoComplete({dataSource:f,change:function(){var g=_(this.value().split(',')).filter(function(y){return y});b(g)},filter:'startswith',placeholder:'....',separator:','}).val(b())},update:function(l,u){var m=u();$(l).data('kendoAutoComplete').value(m())}},ko.bindingHandlers.pathAutoComplete={init:function(l,u){var m=u(),b=m.value,h=m.type;h()&&$.get('/App/TriggerPathPickerJson/'+h()).done(function(f){var g=JSON.parse(f),y=_.chain(g).map(function(C){return''===C.parent?C.name:void 0}).filter(function(C){return'undefined'!=typeof C}).value();console.log(y);var w=new kendo.data.DataSource({data:y}),k=$(l).data('kendoAutoComplete')||$(l).kendoAutoComplete({dataSource:g,dataTextField:'path',change:function(){var C=this.value();console.log('selected path ',C)},filter:'startswith',placeholder:'Select path...',separator:''}).data('kendoAutoComplete');$(l).change(function(){b($(this).val()),console.log('new value',b())}).val(b()).on('keydown3',function(C){if(110===C.which||190===C.which){var S=$(this).val()+'.';console.log('show the auto complete',S);var D=_.chain(g).filter(function(O){return O.parent===S}).map(function(O){return O.name}).value();console.log(D),w.data(D),k.refresh()}})})}},ko.bindingHandlers.commandWithParameter={init:function(l,u){var m=u(),b=m.command,h=m.parameter||m.commandParameter,f=$(l),g=f.val(),y=$('<i class=\'fa fa-spin fa-circle-o-notch\'></i>').hide(),w=$('<i class=\'fa fa-warning\' style=\'color:red\'></i>').hide();f.append(y),f.append(w),f.click(function(k){k.preventDefault();this.form&&!this.form.checkValidity()||(y.show(),w.hide(),b(h).fail(function(C,S,D){return f.button('complete').prop('disabled',!1).val(g).removeClass('btn-disabled'),y.hide(),w.show(),404===C.status?(logger.error(D),void logger.error(C.statusText)):void(C.responseText&&(logger.error(C.responseText),console.error(C.responseText)),C.responseJSON&&(logger.error(JSON.stringify(C.responseJSON)),console.error(C.responseJson)))}).done(function(){f.button('complete').prop('disabled',!1).val(g).removeClass('btn-disabled'),y.hide()}),f.data('loading-text')&&f.button('loading'),f.addClass('btn-disabled').prop('disabled',!0))})}},ko.bindingHandlers.filter={init:function(l,u,m){var b=u(),h=m(),f=b.path,g=b.tooltip||'Type to filter current page or type and [ENTER] to search the whole view',y=$(l),w=$('<input data-toggle="tooltip" title="'+g+'" type="search" class="search-query input-medium form-control" placeholder="Filter.. ">'),k=$('<a href=\'/#\' title=\'Carian server\'><i class=\'add-on icon-search\'></i><a>'),C=$('<form class=\'form-search row\'> <div class=\'input-group pull-right\' style=\'width:300px\'><span class=\'input-group-addon\'> <span class=\'glyphicon glyphicon-remove\'></span></span> </div> </form>'),S=h.searchPaging;C.find('span.input-group-addon').before(w),S&&C.find('span.glyphicon-remove').after(k),y.before(C),C.submit(function(M){M.preventDefault();var T=w.val().toLowerCase(),H=new $.Deferred;return T?S&&'undefined'!=typeof S.query&&'function'==typeof S.query.filterAndSearch?S.query.filterAndSearch(T):H.promise():H.promise()});var D=function(){var M=y.find(f),T=w.val().toLowerCase();M.each(function(){var H=$(this),A=H.text().toLowerCase().trim();A||($('input',H).each(function(Y,I){A+=' '+$(I).val()}),A=A.toLowerCase().trim()),-1<A.indexOf(T)?H.show():H.hide()})},O=_.throttle(D,800);w.on('keyup',O).siblings('span.input-group-addon').click(function(){w.val(''),D()}),w.val()&&D(),w.tooltip()}},ko.bindingHandlers.serverPaging={init:function(l,u,m,b){var h=u(),f=h.entity,g=h.enableReload,y=ko.isObservable((b.toolbar||{}).commands),w=h.query,k=h.list,C=h.map,S=h.pagerHidden||!1,D=$(l),O=require('services/datacontext'),M=$('<div></div>'),T=$('<img src="/Images/spinner-md.gif" alt="loading" class="absolute-center" />'),H=function(){T.show(),D.fadeTo('fast',0.33)},A=function(){T.hide(),D.fadeTo('fast',1)},Y=function(N){C&&(N=_(N).map(C)),'string'==typeof k&&b[k](N),'function'==typeof k&&k(N)},I=function(N,z){return H(),O.loadAsync({entity:f,page:N,size:z,includeTotal:!0},w).then(function(V){Y(V.itemCollection),A()})};if(g&&y){const N='server-paging-reload',z=b.toolbar.commands().find(V=>V.id===N);z||b.toolbar.commands.push({command:function(){return I(1,20)},caption:'Reload',icon:'bowtie-icon bowtie-navigate-refresh',id:N})}g&&!y&&console.error('Please provide a toolbar with commands : ko.observableArray(), in your viewModel'),D.after(M).after(T).fadeTo('slow',0.33);var P=new $.Deferred;return O.loadAsync({entity:f,page:1,size:20,includeTotal:!0},w).then(function(N){var z={element:M,count:N.rows,changed:I,hidden:S},V=new bespoke.utils.ServerPager(z);console.log(V),setTimeout(function(){Y(N.itemCollection),P.resolve(!0),A()},500)}),P.promise()}},ko.bindingHandlers.searchPaging={init:function(l,u,m,b){var h=u(),f=h.entity,g=h.query,y=h.query||h.initialQuery||{},w=h.list,k=h.map,C=h.pagerHidden||!1,S=h.searchButton,D=$(l),O=require('services/datacontext'),M=require('services/logger'),T=require(objectbuilders.cultures),H=$('<div></div>'),A=$('<img src="/Images/spinner-md.gif" alt="loading" class="absolute-center" />'),Y=function(){A.show(),D.fadeTo('fast',0.33)},I=function(){A.hide(),D.fadeTo('fast',1)},P=null,N=function(B){C||_(B).each(function(F){F.pager={page:P.page(),size:P.pageSize()}}),k&&(B=_(B).map(k)),'string'==typeof w&&b[w](B),'function'==typeof w&&w(B)},z=function(B,F){Y(),O.searchAsync({entity:f,page:B,size:F},y).then(function(W){N(W.itemCollection),I()})},V=function(B,F,W){y=B;var R=new $.Deferred;return Y(),O.searchAsync({entity:f,page:F||1,size:W||20},B).then(function(L){if(P)P.update(L.rows);else{var U={element:H,count:L.rows,changed:z,hidden:C};P=new bespoke.utils.ServerPager(U)}setTimeout(function(){N(L.itemCollection),R.resolve(L),I()},500)}),R.promise()},E=function(B){var F=JSON.parse(ko.toJSON(h.query||h.initialQuery)),W={from:0,size:20,query:{}};F.query=F.query||{},F.query.filtered=F.query.filtered||{},W.query.filtered=F.query.filtered,W.query.filtered.query={query_string:{default_field:'_all',query:B}},F.query.bool&&(W.filter=W.filter||{},W.filter.bool=F.query.bool),W.sort=F.sort,P.destroy(),P=null,V(W)};return'function'==typeof g.subscribe&&g.subscribe(function(B){V(B,1,20)}),g.search=V,g.filterAndSearch=E,D.after(H).after(A).fadeTo('slow',0.33),S&&$(document).on('click',S,function(B){return B.preventDefault(),$(this).parents('form')[0].checkValidity()?void V(ko.toJS(g),1,P.pageSize()):void M.error(T.messages.FORM_IS_NOT_VALID)}),V(ko.toJS(y)),{search:V,filterAndSearch:E}}},ko.bindingHandlers.bootstrapDropDown={init:function(l,u){var m=ko.unwrap(u())||'[Select your value]',b=$(l),h=!1;b.click(function(f){f.preventDefault(),f.stopPropagation();var g=$(this);h?(g.parent().removeClass('open'),h=!1):(g.parent().addClass('open'),h=!0,$(document).one('click',function(){g.parent().removeClass('open'),h=!1}))}),b.html()||('[object Object]'===m.toString()&&(m='[Select you value]'),b.html(m+' <i class="fa fa-caret-down"></i>'))}},ko.bindingHandlers.tooltip={init:function(l,u){var m=ko.unwrap(u()),b=m.tooltipPlacement||m.placement||'top',h=m.text||m.tooltip||m;'string'!=typeof h&&(h=(m.text||{}).tooltip),'string'==typeof h&&$(l).tooltip({title:h,placement:b})}},ko.bindingHandlers.bootstrapPopover={init:function(l,u){var m=ko.unwrap(u()).replace(/</g,'&lt;').replace(/>/g,'&gt;');$(l).popover({content:'<pre>'+m+'</pre>',html:!0,placement:'bottom'})}},ko.bindingHandlers.popover={init:function(l,u){var m=ko.unwrap(u());$(l).popover({content:'<pre>'+m+'</pre>',html:!0})}},ko.bindingHandlers.bootstrapTooltip={init:function(l,u){var m=ko.unwrap(u());$(l).tooltip({title:m})}},ko.bindingHandlers.cssAutoComplete={init:function(l,u){var m=u(),b=_(document.styleSheets).find(function(f){// TODO : what happend if were to combine the css with Bundle
return!!f&&!!f.href&&-1<f.href.indexOf('bootstrap')}),h=['btn','btn-warning','btn-success','btn-link'];b&&(h=_.chain(b.rules).filter(function(f){return /^\./g.test(f.selectorText)&&!/:/g.test(f.selectorText)&&!/\s/g.test(f.selectorText)&&!/\+/g.test(f.selectorText)&&!/>/g.test(f.selectorText)&&!/\[/g.test(f.selectorText)}).map(function(f){return f.selectorText.replace(/\./g,'')}).value()),$(l).typeahead({name:'css_class',limit:10,local:h}).on('typeahead:closed',function(){m($(this).val())})}},ko.bindingHandlers.autocomplete={init:function(l,u,m){var b=ko.unwrap(u()),h=ko.unwrap(b.entity),f=ko.unwrap(b.field),g=ko.unwrap(b.query),y=b.ttl||300000,w=m(),k=String.format('/list?table={0}&column={1}&filter={2}',h,f,g),C=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace('name'),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:k,tt1:y,filter:function(S){return _(S).map(function(D){return{name:D}})}}});C.initialize(),$(l).typeahead(null,{name:'autocomplete_'+$(l).prop('id'),displayKey:'name',source:C.ttAdapter()}).on('typeahead:closed',function(){w.value($(this).val())})}},ko.bindingHandlers.scroll={init:function(l,u){var m=ko.unwrap(u());// wait for attached
//setTimeout(function () {
//    // TODO : just do it this once rows is more than certail values
//    $(element).tableScroll({ height: height });
//    done = true;
//}, 500);
}},function(){Function.prototype.partial=function(){var l=this,u=Array.prototype.slice.call(arguments);return function(){var m=0;for(var b=0;b<u.length&&m<arguments.length;b++)void 0===u[b]&&(u[b]=arguments[m++]);return l.apply(this,u)}}}(),function(l){l.bespoke=l.bespoke||{},l.bespoke.ServerOperationStatus={OK:'OK',ERROR:'ERROR'},l.bespoke.messagesText={SAVE_SUCCESS:'Your item has been saved'}}(window);/// <reference path="bootstrap.js" />
/// <reference path="google-maps-3-vs-1-0-vsdoc.js" />
/// <reference path="bootstrap-datepicker.js" />
/// <reference path="jquery.validate-vsdoc.js" />
/// <reference path="jquery-1.9.1.intellisense.js" />
/// <reference path="moment.js" />
/// <reference path="underscore.js" />
/// <reference path="modernizr-2.6.2.js" />
var _uiready=function(){return{init:function(l){}}}();(function(l,u){l.bespoke=l.bespoke||{},bespoke.utils=bespoke.utils||{},bespoke.utils.form=bespoke.utils.form||{},bespoke.utils.form.checkValidity=function(m){if(m.form)return m.form.checkValidity();var b=u(m).attr('form');if(b)return document.getElementById(b).checkValidity();throw'cannot find the form for the button'},l.console=l.console||{},l.console.dir=l.console.dir||function(){}})(window,jQuery),function(l,u){l.Task=l.Task||{},l.Task.fromResult=function(m,b){var h=new u.Deferred;return setTimeout(function(){h.resolve(m)},b||100),h.promise()}}(window,jQuery),ko.bindingHandlers.theme={init:function(l,u,m,b,h){// First get the latest data that we're bound to
var f=u(),g=m(),y=ko.unwrap(f);if(bespoke.sph.Theme){var w=new bespoke.sph.Theme;w[y]&&w[y](l,b,g,h)}}};
/// <reference path="~/scripts/knockout-3.4.0.debug.js" />
/// <reference path="~/Scripts/underscore.js" />
/// <reference path="~/Scripts/moment.js" />
/// <reference path="~/Scripts/require.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.FormDesign=function(e){var a={$type:"Bespoke.Sph.Domain.FormDesign, domain.sph",Name:ko.observable(""),Description:ko.observable(""),ConfirmationText:ko.observable(""),ImageStoreId:ko.observable(""),FormElementCollection:ko.observableArray([]),LabelColLg:ko.observable(),LabelColMd:ko.observable(),LabelColSm:ko.observable(),LabelColXs:ko.observable(),InputColLg:ko.observable(),InputColMd:ko.observable(),InputColSm:ko.observable(),InputColXs:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FormDesignPartial?_(a).extend(new bespoke.sph.domain.FormDesignPartial(a,e)):a},bespoke.sph.domain.TextBox=function(e){var a=new bespoke.sph.domain.FormElement(e);a.DefaultValue=ko.observable(""),a.AutoCompletionEntity=ko.observable(""),a.AutoCompletionField=ko.observable(""),a.AutoCompletionQuery=ko.observable(""),a.$type="Bespoke.Sph.Domain.TextBox, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TextBoxPartial?_(a).extend(new bespoke.sph.domain.TextBoxPartial(a,e)):a},bespoke.sph.domain.CheckBox=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.CheckBox, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CheckBoxPartial?_(a).extend(new bespoke.sph.domain.CheckBoxPartial(a,e)):a},bespoke.sph.domain.DatePicker=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.DatePicker, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DatePickerPartial?_(a).extend(new bespoke.sph.domain.DatePickerPartial(a,e)):a},bespoke.sph.domain.DateTimePicker=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.DateTimePicker, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DateTimePickerPartial?_(a).extend(new bespoke.sph.domain.DateTimePickerPartial(a,e)):a},bespoke.sph.domain.ComboBox=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.ComboBox, domain.sph",a.ComboBoxItemCollection=ko.observableArray([]),a.ComboBoxLookup=ko.observable(new bespoke.sph.domain.ComboBoxLookup);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ComboBoxPartial?_(a).extend(new bespoke.sph.domain.ComboBoxPartial(a,e)):a},bespoke.sph.domain.TextAreaElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Rows=ko.observable(""),a.IsHtml=ko.observable(!1),a.$type="Bespoke.Sph.Domain.TextAreaElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TextAreaElementPartial?_(a).extend(new bespoke.sph.domain.TextAreaElementPartial(a,e)):a},bespoke.sph.domain.WebsiteFormElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.WebsiteFormElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WebsiteFormElementPartial?_(a).extend(new bespoke.sph.domain.WebsiteFormElementPartial(a,e)):a},bespoke.sph.domain.EmailFormElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.EmailFormElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EmailFormElementPartial?_(a).extend(new bespoke.sph.domain.EmailFormElementPartial(a,e)):a},bespoke.sph.domain.NumberTextBox=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Step=ko.observable(0),a.$type="Bespoke.Sph.Domain.NumberTextBox, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.NumberTextBoxPartial?_(a).extend(new bespoke.sph.domain.NumberTextBoxPartial(a,e)):a},bespoke.sph.domain.MapElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Icon=ko.observable(""),a.$type="Bespoke.Sph.Domain.MapElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MapElementPartial?_(a).extend(new bespoke.sph.domain.MapElementPartial(a,e)):a},bespoke.sph.domain.SectionFormElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.SectionFormElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SectionFormElementPartial?_(a).extend(new bespoke.sph.domain.SectionFormElementPartial(a,e)):a},bespoke.sph.domain.ComboBoxItem=function(e){var a={$type:"Bespoke.Sph.Domain.ComboBoxItem, domain.sph",Caption:ko.observable(""),Value:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ComboBoxItemPartial?_(a).extend(new bespoke.sph.domain.ComboBoxItemPartial(a,e)):a},bespoke.sph.domain.AddressElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.IsUnitNoVisible=ko.observable(!1),a.IsFloorVisible=ko.observable(!1),a.IsBlockVisible=ko.observable(!1),a.BlockOptionsPath=ko.observable(""),a.FloorOptionsPath=ko.observable(""),a.$type="Bespoke.Sph.Domain.AddressElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.AddressElementPartial?_(a).extend(new bespoke.sph.domain.AddressElementPartial(a,e)):a},bespoke.sph.domain.HtmlElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.$type="Bespoke.Sph.Domain.HtmlElement, domain.sph",a.Text=ko.observable();//type but not nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.HtmlElementPartial?_(a).extend(new bespoke.sph.domain.HtmlElementPartial(a,e)):a},bespoke.sph.domain.DefaultValue=function(e){var a={$type:"Bespoke.Sph.Domain.DefaultValue, domain.sph",PropertyName:ko.observable(""),TypeName:ko.observable(""),IsNullable:ko.observable(!1),Value:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DefaultValuePartial?_(a).extend(new bespoke.sph.domain.DefaultValuePartial(a,e)):a},bespoke.sph.domain.FieldValidation=function(e){var a={$type:"Bespoke.Sph.Domain.FieldValidation, domain.sph",IsRequired:ko.observable(!1),Pattern:ko.observable(""),Mode:ko.observable(""),Message:ko.observable(""),Min:ko.observable(),Max:ko.observable(),MinLength:ko.observable(),MaxLength:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FieldValidationPartial?_(a).extend(new bespoke.sph.domain.FieldValidationPartial(a,e)):a},bespoke.sph.domain.BusinessRule=function(e){var a={$type:"Bespoke.Sph.Domain.BusinessRule, domain.sph",Description:ko.observable(""),Name:ko.observable(""),ErrorLocation:ko.observable(""),ErrorMessage:ko.observable(""),RuleCollection:ko.observableArray([]),FilterCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.BusinessRulePartial?_(a).extend(new bespoke.sph.domain.BusinessRulePartial(a,e)):a},bespoke.sph.domain.FileUploadElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.AllowedExtensions=ko.observable(""),a.$type="Bespoke.Sph.Domain.FileUploadElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FileUploadElementPartial?_(a).extend(new bespoke.sph.domain.FileUploadElementPartial(a,e)):a},bespoke.sph.domain.ComboBoxLookup=function(e){var a={$type:"Bespoke.Sph.Domain.ComboBoxLookup, domain.sph",Entity:ko.observable(""),ValuePath:ko.observable(""),DisplayPath:ko.observable(""),Query:ko.observable(""),IsComputedQuery:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ComboBoxLookupPartial?_(a).extend(new bespoke.sph.domain.ComboBoxLookupPartial(a,e)):a},bespoke.sph.domain.ChildEntityListView=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Entity=ko.observable(""),a.Query=ko.observable(""),a.IsAllowAddItem=ko.observable(!1),a.NewItemFormRoute=ko.observable(""),a.NewItemMappingSource=ko.observable(""),a.NewItemMappingDestination=ko.observable(""),a.$type="Bespoke.Sph.Domain.ChildEntityListView, domain.sph",a.ViewColumnCollection=ko.observableArray([]),a.SortCollection=ko.observableArray([]),a.ConditionalFormattingCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ChildEntityListViewPartial?_(a).extend(new bespoke.sph.domain.ChildEntityListViewPartial(a,e)):a},bespoke.sph.domain.ListView=function(e){var a=new bespoke.sph.domain.FormElement(e);a.ChildItemType=ko.observable(""),a.IsChildItemFunction=ko.observable(!1),a.$type="Bespoke.Sph.Domain.ListView, domain.sph",a.ListViewColumnCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ListViewPartial?_(a).extend(new bespoke.sph.domain.ListViewPartial(a,e)):a},bespoke.sph.domain.ListViewColumn=function(e){var a={$type:"Bespoke.Sph.Domain.ListViewColumn, domain.sph",Label:ko.observable(""),Path:ko.observable(""),Input:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ListViewColumnPartial?_(a).extend(new bespoke.sph.domain.ListViewColumnPartial(a,e)):a},bespoke.sph.domain.Button=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Command=ko.observable(""),a.UseClick=ko.observable(!1),a.CommandName=ko.observable(""),a.LoadingText=ko.observable(""),a.CompleteText=ko.observable(""),a.IconClass=ko.observable(""),a.IsToolbarItem=ko.observable(!1),a.DeleteOperationSuccessNavigateUrl=ko.observable(""),a.DeleteOperationSuccessMesage=ko.observable(""),a.DeleteOperation=ko.observable(""),a.OperationMethod=ko.observable(""),a.OperationFailureCallback=ko.observable(""),a.OperationSuccessCallback=ko.observable(""),a.OperationSuccessNavigateUrl=ko.observable(""),a.OperationSuccessMesage=ko.observable(""),a.Operation=ko.observable(""),a.$type="Bespoke.Sph.Domain.Button, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ButtonPartial?_(a).extend(new bespoke.sph.domain.ButtonPartial(a,e)):a},bespoke.sph.domain.EntityDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.EntityDefinition, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Plural:ko.observable(""),IconClass:ko.observable(""),RecordName:ko.observable(""),IsPublished:ko.observable(!1),TreatDataAsSource:ko.observable(!1),Transient:ko.observable(!1),MemberCollection:ko.observableArray([]),BusinessRuleCollection:ko.observableArray([]),StoreInDatabase:ko.observable(),StoreInElasticsearch:ko.observable(),ServiceContract:ko.observable(new bespoke.sph.domain.ServiceContract),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityDefinitionPartial?_(a).extend(new bespoke.sph.domain.EntityDefinitionPartial(a,e)):a},bespoke.sph.domain.ValueObjectDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.ValueObjectDefinition, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),MemberCollection:ko.observableArray([]),BusinessRuleCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ValueObjectDefinitionPartial?_(a).extend(new bespoke.sph.domain.ValueObjectDefinitionPartial(a,e)):a},bespoke.sph.domain.SimpleMember=function(e){var a=new bespoke.sph.domain.Member(e);a.TypeName=ko.observable(""),a.IsNullable=ko.observable(!1),a.IsNotIndexed=ko.observable(!1),a.IsAnalyzed=ko.observable(!1),a.IsFilterable=ko.observable(!1),a.IsExcludeInAll=ko.observable(!1),a.Boost=ko.observable(0),a.$type="Bespoke.Sph.Domain.SimpleMember, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SimpleMemberPartial?_(a).extend(new bespoke.sph.domain.SimpleMemberPartial(a,e)):a},bespoke.sph.domain.ComplexMember=function(e){var a=new bespoke.sph.domain.Member(e);a.EmptyField=ko.observable(""),a.TypeName=ko.observable(""),a.$type="Bespoke.Sph.Domain.ComplexMember, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ComplexMemberPartial?_(a).extend(new bespoke.sph.domain.ComplexMemberPartial(a,e)):a},bespoke.sph.domain.ValueObjectMember=function(e){var a=new bespoke.sph.domain.Member(e);a.ValueObjectName=ko.observable(""),a.$type="Bespoke.Sph.Domain.ValueObjectMember, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ValueObjectMemberPartial?_(a).extend(new bespoke.sph.domain.ValueObjectMemberPartial(a,e)):a},bespoke.sph.domain.EntityForm=function(e){var a={$type:"Bespoke.Sph.Domain.EntityForm, domain.sph",Id:ko.observable("0"),EntityDefinitionId:ko.observable(""),Name:ko.observable(""),Route:ko.observable(""),Note:ko.observable(""),IsAllowedNewItem:ko.observable(!1),IconClass:ko.observable(""),IconStoreId:ko.observable(""),IsPublished:ko.observable(!1),IsDefault:ko.observable(!1),IsWatchAvailable:ko.observable(!1),IsEmailAvailable:ko.observable(!1),IsPrintAvailable:ko.observable(!1),IsAuditTrailAvailable:ko.observable(!1),IsRemoveAvailable:ko.observable(!1),IsImportAvailable:ko.observable(!1),IsExportAvailable:ko.observable(!1),Operation:ko.observable(""),Entity:ko.observable(""),Partial:ko.observable(""),Caption:ko.observable(""),Layout:ko.observable(""),OperationSuccessMesage:ko.observable(""),OperationSuccessNavigateUrl:ko.observable(""),OperationSuccessCallback:ko.observable(""),OperationFailureCallback:ko.observable(""),OperationMethod:ko.observable(""),DeleteOperation:ko.observable(""),DeleteOperationSuccessMesage:ko.observable(""),DeleteOperationSuccessNavigateUrl:ko.observable(""),FormDesign:ko.observable(new bespoke.sph.domain.FormDesign),Rules:ko.observableArray([]),RouteParameterCollection:ko.observableArray([]),FormLayoutCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityFormPartial?_(a).extend(new bespoke.sph.domain.EntityFormPartial(a,e)):a},bespoke.sph.domain.WorkflowForm=function(e){var a={$type:"Bespoke.Sph.Domain.WorkflowForm, domain.sph",Id:ko.observable("0"),WorkflowDefinitionId:ko.observable(""),Name:ko.observable(""),Route:ko.observable(""),Note:ko.observable(""),IsAllowedNewItem:ko.observable(!1),IconClass:ko.observable(""),IconStoreId:ko.observable(""),Operation:ko.observable(""),Variable:ko.observable(""),Partial:ko.observable(""),Caption:ko.observable(""),Layout:ko.observable(""),OperationSuccessMesage:ko.observable(""),OperationSuccessNavigateUrl:ko.observable(""),OperationSuccessCallback:ko.observable(""),OperationFailureCallback:ko.observable(""),OperationMethod:ko.observable(""),IsPublished:ko.observable(!1),FormDesign:ko.observable(new bespoke.sph.domain.FormDesign),Rules:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WorkflowFormPartial?_(a).extend(new bespoke.sph.domain.WorkflowFormPartial(a,e)):a},bespoke.sph.domain.FormLayout=function(e){var a={$type:"Bespoke.Sph.Domain.FormLayout, domain.sph",Name:ko.observable(""),Position:ko.observable(""),IsForm:ko.observable(!1),IsAuditTrail:ko.observable(!1),Content:ko.observable(),XsmallCol:ko.observable(),MediumCol:ko.observable(),SmallCol:ko.observable(),LargeCol:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FormLayoutPartial?_(a).extend(new bespoke.sph.domain.FormLayoutPartial(a,e)):a},bespoke.sph.domain.EntityView=function(e){var a={$type:"Bespoke.Sph.Domain.EntityView, domain.sph",Id:ko.observable("0"),IconClass:ko.observable(""),IconStoreId:ko.observable(""),EntityDefinitionId:ko.observable(""),Name:ko.observable(""),Route:ko.observable(""),Note:ko.observable(""),IsPublished:ko.observable(!1),Visibilty:ko.observable(""),TileColour:ko.observable(""),CountMessage:ko.observable(""),Entity:ko.observable(""),Partial:ko.observable(""),Template:ko.observable(""),DisplayOnDashboard:ko.observable(!1),Endpoint:ko.observable(""),ViewColumnCollection:ko.observableArray([]),ConditionalFormattingCollection:ko.observableArray([]),Performer:ko.observable(new bespoke.sph.domain.Performer),RouteParameterCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityViewPartial?_(a).extend(new bespoke.sph.domain.EntityViewPartial(a,e)):a},bespoke.sph.domain.Filter=function(e){var a={$type:"Bespoke.Sph.Domain.Filter, domain.sph",Term:ko.observable(""),Operator:ko.observable("Operator"),Field:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FilterPartial?_(a).extend(new bespoke.sph.domain.FilterPartial(a,e)):a},bespoke.sph.domain.ViewColumn=function(e){var a={$type:"Bespoke.Sph.Domain.ViewColumn, domain.sph",Path:ko.observable(""),Header:ko.observable(""),Sort:ko.observable(""),IsLinkColumn:ko.observable(!1),FormRoute:ko.observable(""),IconCssClass:ko.observable(""),IconStoreId:ko.observable(""),Format:ko.observable(""),RouteValueField:ko.observable(""),ConditionalFormattingCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ViewColumnPartial?_(a).extend(new bespoke.sph.domain.ViewColumnPartial(a,e)):a},bespoke.sph.domain.Sort=function(e){var a={$type:"Bespoke.Sph.Domain.Sort, domain.sph",Path:ko.observable(""),Direction:ko.observable("SortDirection"),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SortPartial?_(a).extend(new bespoke.sph.domain.SortPartial(a,e)):a},bespoke.sph.domain.ImageElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.IsThumbnail=ko.observable(!1),a.$type="Bespoke.Sph.Domain.ImageElement, domain.sph",a.Width=ko.observable(),a.Height=ko.observable();//nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ImageElementPartial?_(a).extend(new bespoke.sph.domain.ImageElementPartial(a,e)):a},bespoke.sph.domain.DownloadLink=function(e){var a=new bespoke.sph.domain.FormElement(e);a.IsTransformTemplate=ko.observable(!1),a.TemplateId=ko.observable(0),a.Entity=ko.observable(""),a.IconClass=ko.observable(""),a.$type="Bespoke.Sph.Domain.DownloadLink, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DownloadLinkPartial?_(a).extend(new bespoke.sph.domain.DownloadLinkPartial(a,e)):a},bespoke.sph.domain.FieldPermission=function(e){var a={$type:"Bespoke.Sph.Domain.FieldPermission, domain.sph",Role:ko.observable(""),IsHidden:ko.observable(!1),IsReadOnly:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FieldPermissionPartial?_(a).extend(new bespoke.sph.domain.FieldPermissionPartial(a,e)):a},bespoke.sph.domain.EntityPermission=function(e){var a={$type:"Bespoke.Sph.Domain.EntityPermission, domain.sph",Role:ko.observable(""),IsHidden:ko.observable(!1),IsReadOnly:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityPermissionPartial?_(a).extend(new bespoke.sph.domain.EntityPermissionPartial(a,e)):a},bespoke.sph.domain.OperationEndpoint=function(e){var a={$type:"Bespoke.Sph.Domain.OperationEndpoint, domain.sph",Name:ko.observable(""),Route:ko.observable(""),IsHttpPut:ko.observable(!1),IsHttpPatch:ko.observable(!1),IsHttpPost:ko.observable(!1),IsHttpDelete:ko.observable(!1),Note:ko.observable(""),Entity:ko.observable(""),Resource:ko.observable(""),IsPublished:ko.observable(!1),IsConflictDetectionEnabled:ko.observable(!1),EntityPermissionCollection:ko.observableArray([]),Rules:ko.observableArray([]),SetterActionChildCollection:ko.observableArray([]),PatchPathCollection:ko.observableArray([]),ReferencedAssemblyCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.OperationEndpointPartial?_(a).extend(new bespoke.sph.domain.OperationEndpointPartial(a,e)):a},bespoke.sph.domain.EntityChart=function(e){var a={$type:"Bespoke.Sph.Domain.EntityChart, domain.sph",Id:ko.observable("0"),EntityDefinitionId:ko.observable(""),Entity:ko.observable(""),Name:ko.observable(""),Type:ko.observable(""),EntityViewId:ko.observable(""),Query:ko.observable(""),Aggregate:ko.observable(""),Field:ko.observable(""),DateInterval:ko.observable(""),IsDashboardItem:ko.observable(!1),DasboardItemPosition:ko.observable(0),HistogramInterval:ko.observable(),SeriesCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityChartPartial?_(a).extend(new bespoke.sph.domain.EntityChartPartial(a,e)):a},bespoke.sph.domain.Series=function(e){var a={$type:"Bespoke.Sph.Domain.Series, domain.sph",Name:ko.observable(""),Entity:ko.observable(""),Color:ko.observable(""),Query:ko.observable(""),Aggregate:ko.observable(""),Field:ko.observable(""),DateInterval:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SeriesPartial?_(a).extend(new bespoke.sph.domain.SeriesPartial(a,e)):a},bespoke.sph.domain.ConditionalFormatting=function(e){var a={$type:"Bespoke.Sph.Domain.ConditionalFormatting, domain.sph",CssClass:ko.observable(""),Condition:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ConditionalFormattingPartial?_(a).extend(new bespoke.sph.domain.ConditionalFormattingPartial(a,e)):a},bespoke.sph.domain.EntityLookupElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Entity=ko.observable(""),a.DisplayMemberPath=ko.observable(""),a.ValueMemberPath=ko.observable(""),a.DisplayTemplate=ko.observable(""),a.$type="Bespoke.Sph.Domain.EntityLookupElement, domain.sph",a.LookupColumnCollection=ko.observableArray([]),a.FilterCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityLookupElementPartial?_(a).extend(new bespoke.sph.domain.EntityLookupElementPartial(a,e)):a},bespoke.sph.domain.CurrencyElement=function(e){var a=new bespoke.sph.domain.FormElement(e);a.Currency=ko.observable(""),a.$type="Bespoke.Sph.Domain.CurrencyElement, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CurrencyElementPartial?_(a).extend(new bespoke.sph.domain.CurrencyElementPartial(a,e)):a},bespoke.sph.domain.RouteParameter=function(e){var a={$type:"Bespoke.Sph.Domain.RouteParameter, domain.sph",Name:ko.observable(""),Type:ko.observable(""),DefaultValue:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.RouteParameterPartial?_(a).extend(new bespoke.sph.domain.RouteParameterPartial(a,e)):a},bespoke.sph.domain.PartialJs=function(e){var a={$type:"Bespoke.Sph.Domain.PartialJs, domain.sph",Path:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PartialJsPartial?_(a).extend(new bespoke.sph.domain.PartialJsPartial(a,e)):a},bespoke.sph.domain.ViewTemplate=function(e){var a={$type:"Bespoke.Sph.Domain.ViewTemplate, domain.sph",Name:ko.observable(""),Note:ko.observable(""),ViewModelType:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ViewTemplatePartial?_(a).extend(new bespoke.sph.domain.ViewTemplatePartial(a,e)):a},bespoke.sph.domain.PatchSetter=function(e){var a={$type:"Bespoke.Sph.Domain.PatchSetter, domain.sph",Path:ko.observable(""),IsRequired:ko.observable(!1),DefaultValue:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PatchSetterPartial?_(a).extend(new bespoke.sph.domain.PatchSetterPartial(a,e)):a},bespoke.sph.domain.FormDialog=function(e){var a={$type:"Bespoke.Sph.Domain.FormDialog, domain.sph",Id:ko.observable("0"),Title:ko.observable(""),IsAllowCancel:ko.observable(!1),Entity:ko.observable(""),MemberPath:ko.observable(""),Route:ko.observable(""),IsPublished:ko.observable(!1),Note:ko.observable(""),FormDesign:ko.observable(new bespoke.sph.domain.FormDesign),DialogButtonCollection:ko.observableArray([]),Rules:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FormDialogPartial?_(a).extend(new bespoke.sph.domain.FormDialogPartial(a,e)):a},bespoke.sph.domain.DialogButton=function(e){var a={$type:"Bespoke.Sph.Domain.DialogButton, domain.sph",Text:ko.observable(""),IsDefault:ko.observable(!1),IsCancel:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DialogButtonPartial?_(a).extend(new bespoke.sph.domain.DialogButtonPartial(a,e)):a},bespoke.sph.domain.PartialView=function(e){var a={$type:"Bespoke.Sph.Domain.PartialView, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Route:ko.observable(""),Entity:ko.observable(""),MemberPath:ko.observable(""),IsPublished:ko.observable(!1),Note:ko.observable(""),FormDesign:ko.observable(new bespoke.sph.domain.FormDesign),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PartialViewPartial?_(a).extend(new bespoke.sph.domain.PartialViewPartial(a,e)):a},bespoke.sph.domain.ChildView=function(e){var a={$type:"Bespoke.Sph.Domain.ChildView, domain.sph",PartialView:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ChildViewPartial?_(a).extend(new bespoke.sph.domain.ChildViewPartial(a,e)):a},bespoke.sph.domain.TabControl=function(e){var a={$type:"Bespoke.Sph.Domain.TabControl, domain.sph",PartialView:ko.observable(""),TabPanelCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TabControlPartial?_(a).extend(new bespoke.sph.domain.TabControlPartial(a,e)):a},bespoke.sph.domain.TabPanel=function(e){var a={$type:"Bespoke.Sph.Domain.TabPanel, domain.sph",Header:ko.observable(""),PartialView:ko.observable(""),Path:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TabPanelPartial?_(a).extend(new bespoke.sph.domain.TabPanelPartial(a,e)):a},bespoke.sph.domain.QueryEndpoint=function(e){var a={$type:"Bespoke.Sph.Domain.QueryEndpoint, domain.sph",Id:ko.observable("0"),CacheProfile:ko.observable(""),Name:ko.observable(""),Route:ko.observable(""),IsReturnSource:ko.observable(""),Entity:ko.observable(""),Note:ko.observable(""),IsPublished:ko.observable(!1),Resource:ko.observable(""),FilterCollection:ko.observableArray([]),SortCollection:ko.observableArray([]),MemberCollection:ko.observableArray([]),CacheFilter:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.QueryEndpointPartial?_(a).extend(new bespoke.sph.domain.QueryEndpointPartial(a,e)):a},bespoke.sph.domain.ServiceContract=function(e){var a={$type:"Bespoke.Sph.Domain.ServiceContract, domain.sph",FullSearchEndpoint:ko.observable(new bespoke.sph.domain.FullSearchEndpoint),OdataEndpoint:ko.observable(new bespoke.sph.domain.OdataEndpoint),EntityResourceEndpoint:ko.observable(new bespoke.sph.domain.EntityResourceEndpoint),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ServiceContractPartial?_(a).extend(new bespoke.sph.domain.ServiceContractPartial(a,e)):a},bespoke.sph.domain.QueryEndpointSetting=function(e){var a={$type:"Bespoke.Sph.Domain.QueryEndpointSetting, domain.sph",CacheProfile:ko.observable(""),Note:ko.observable(""),Resource:ko.observable(""),Performer:ko.observable(new bespoke.sph.domain.Performer),CacheFilter:ko.observable(),CachingSetting:ko.observable(new bespoke.sph.domain.CachingSetting),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.QueryEndpointSettingPartial?_(a).extend(new bespoke.sph.domain.QueryEndpointSettingPartial(a,e)):a},bespoke.sph.domain.EntityResourceEndpoint=function(e){var a={$type:"Bespoke.Sph.Domain.EntityResourceEndpoint, domain.sph",IsAllowed:ko.observable(!1),FilterExpression:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityResourceEndpointPartial?_(a).extend(new bespoke.sph.domain.EntityResourceEndpointPartial(a,e)):a},bespoke.sph.domain.FullSearchEndpoint=function(e){var a={$type:"Bespoke.Sph.Domain.FullSearchEndpoint, domain.sph",IsAllowed:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FullSearchEndpointPartial?_(a).extend(new bespoke.sph.domain.FullSearchEndpointPartial(a,e)):a},bespoke.sph.domain.OdataEndpoint=function(e){var a={$type:"Bespoke.Sph.Domain.OdataEndpoint, domain.sph",IsAllowed:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.OdataEndpointPartial?_(a).extend(new bespoke.sph.domain.OdataEndpointPartial(a,e)):a},bespoke.sph.domain.BusinessRuleEndpoint=function(e){var a={$type:"Bespoke.Sph.Domain.BusinessRuleEndpoint, domain.sph",IsAllowed:ko.observable(!1),Performer:ko.observable(new bespoke.sph.domain.Performer),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.BusinessRuleEndpointPartial?_(a).extend(new bespoke.sph.domain.BusinessRuleEndpointPartial(a,e)):a},bespoke.sph.domain.ServiceContractSetting=function(e){var a={$type:"Bespoke.Sph.Domain.ServiceContractSetting, domain.sph",ResourceEndpointSetting:ko.observable(new bespoke.sph.domain.ResourceEndpointSetting),OdataEndpoint:ko.observable(new bespoke.sph.domain.OdataEndpoint),SearchEndpointSetting:ko.observable(new bespoke.sph.domain.SearchEndpointSetting),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ServiceContractSettingPartial?_(a).extend(new bespoke.sph.domain.ServiceContractSettingPartial(a,e)):a},bespoke.sph.domain.ResourceEndpointSetting=function(e){var a={$type:"Bespoke.Sph.Domain.ResourceEndpointSetting, domain.sph",CachingSetting:ko.observable(new bespoke.sph.domain.CachingSetting),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ResourceEndpointSettingPartial?_(a).extend(new bespoke.sph.domain.ResourceEndpointSettingPartial(a,e)):a},bespoke.sph.domain.SearchEndpointSetting=function(e){var a={$type:"Bespoke.Sph.Domain.SearchEndpointSetting, domain.sph",CachingSetting:ko.observable(new bespoke.sph.domain.CachingSetting),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SearchEndpointSettingPartial?_(a).extend(new bespoke.sph.domain.SearchEndpointSettingPartial(a,e)):a},bespoke.sph.domain.OdataEndpointSetting=function(e){var a={$type:"Bespoke.Sph.Domain.OdataEndpointSetting, domain.sph",CachingSetting:ko.observable(new bespoke.sph.domain.CachingSetting),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.OdataEndpointSettingPartial?_(a).extend(new bespoke.sph.domain.OdataEndpointSettingPartial(a,e)):a},bespoke.sph.domain.CachingSetting=function(e){var a={$type:"Bespoke.Sph.Domain.CachingSetting, domain.sph",CacheControl:ko.observable(""),NoStore:ko.observable(!1),Expires:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CachingSettingPartial?_(a).extend(new bespoke.sph.domain.CachingSettingPartial(a,e)):a},bespoke.sph.domain.ReceivePort=function(e){var a={$type:"Bespoke.Sph.Domain.ReceivePort, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Entity:ko.observable(""),EntityId:ko.observable(""),Formatter:ko.observable(""),ReferencedAssemblyCollection:ko.observableArray([]),TextFormatter:ko.observable(),FieldMappingCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReceivePortPartial?_(a).extend(new bespoke.sph.domain.ReceivePortPartial(a,e)):a},bespoke.sph.domain.FolderReceiveLocation=function(e){var a=new bespoke.sph.domain.ReceiveLocation(e);a.Path=ko.observable(""),a.CredentialUserName=ko.observable(""),a.ChangeExtension=ko.observable(!1),a.CredentialPassword=ko.observable(""),a.Filter=ko.observable(""),a.ArchiveLocation=ko.observable(""),a.$type="Bespoke.Sph.Domain.FolderReceiveLocation, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FolderReceiveLocationPartial?_(a).extend(new bespoke.sph.domain.FolderReceiveLocationPartial(a,e)):a},bespoke.sph.domain.FixedLengthTextFormatter=function(e){var a=new bespoke.sph.domain.TextFormatter(e);a.RecordTag=ko.observable(""),a.HasTagIdentifier=ko.observable(!1),a.HasLabel=ko.observable(!1),a.$type="Bespoke.Sph.Domain.FixedLengthTextFormatter, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FixedLengthTextFormatterPartial?_(a).extend(new bespoke.sph.domain.FixedLengthTextFormatterPartial(a,e)):a},bespoke.sph.domain.DelimitedTextFormatter=function(e){var a=new bespoke.sph.domain.TextFormatter(e);a.Delimiter=ko.observable(""),a.HasTagIdentifier=ko.observable(!1),a.RecordTag=ko.observable(""),a.EscapeCharacter=ko.observable(""),a.HasLabel=ko.observable(!1),a.$type="Bespoke.Sph.Domain.DelimitedTextFormatter, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DelimitedTextFormatterPartial?_(a).extend(new bespoke.sph.domain.DelimitedTextFormatterPartial(a,e)):a},bespoke.sph.domain.SqlServerRecordSetFormatter=function(e){var a=new bespoke.sph.domain.TextFormatter(e);a.RecordReaderIndex=ko.observable(0),a.Server=ko.observable(""),a.Database=ko.observable(""),a.Trusted=ko.observable(!1),a.UserId=ko.observable(""),a.Password=ko.observable(""),a.Query=ko.observable(""),a.$type="Bespoke.Sph.Domain.SqlServerRecordSetFormatter, domain.sph",a.SqlServerRecordSetCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SqlServerRecordSetFormatterPartial?_(a).extend(new bespoke.sph.domain.SqlServerRecordSetFormatterPartial(a,e)):a},bespoke.sph.domain.JsonTextFormatter=function(e){var a=new bespoke.sph.domain.TextFormatter(e);a.SchemaStoreId=ko.observable(""),a.$type="Bespoke.Sph.Domain.JsonTextFormatter, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.JsonTextFormatterPartial?_(a).extend(new bespoke.sph.domain.JsonTextFormatterPartial(a,e)):a},bespoke.sph.domain.XmlTextFormatter=function(e){var a=new bespoke.sph.domain.TextFormatter(e);a.Namespace=ko.observable(""),a.XmlSchemaStoreId=ko.observable(""),a.$type="Bespoke.Sph.Domain.XmlTextFormatter, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.XmlTextFormatterPartial?_(a).extend(new bespoke.sph.domain.XmlTextFormatterPartial(a,e)):a},bespoke.sph.domain.DelimitedTextFieldMapping=function(e){var a=new bespoke.sph.domain.TextFieldMapping(e);a.Column=ko.observable(0),a.AllowMissing=ko.observable(!1),a.$type="Bespoke.Sph.Domain.DelimitedTextFieldMapping, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DelimitedTextFieldMappingPartial?_(a).extend(new bespoke.sph.domain.DelimitedTextFieldMappingPartial(a,e)):a},bespoke.sph.domain.FixedLengthTextFieldMapping=function(e){var a=new bespoke.sph.domain.TextFieldMapping(e);a.Column=ko.observable(0),a.AllowMissing=ko.observable(!1),a.Start=ko.observable(0),a.Length=ko.observable(0),a.Trim=ko.observable(!1),a.$type="Bespoke.Sph.Domain.FixedLengthTextFieldMapping, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FixedLengthTextFieldMappingPartial?_(a).extend(new bespoke.sph.domain.FixedLengthTextFieldMappingPartial(a,e)):a},bespoke.sph.domain.FlatFileDetailTag=function(e){var a={$type:"Bespoke.Sph.Domain.FlatFileDetailTag, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),Parent:ko.observable(""),RowTag:ko.observable(""),DetailRowCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FlatFileDetailTagPartial?_(a).extend(new bespoke.sph.domain.FlatFileDetailTagPartial(a,e)):a},bespoke.sph.domain.HeaderFieldMapping=function(e){var a=new bespoke.sph.domain.TextFieldMapping(e);a.Header=ko.observable(""),a.Pattern=ko.observable(""),a.$type="Bespoke.Sph.Domain.HeaderFieldMapping, domain.sph",a.StartPosition=ko.observable(),a.Length=ko.observable();//nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.HeaderFieldMappingPartial?_(a).extend(new bespoke.sph.domain.HeaderFieldMappingPartial(a,e)):a},bespoke.sph.domain.UriFieldMapping=function(e){var a=new bespoke.sph.domain.TextFieldMapping(e);a.Uri=ko.observable(""),a.Pattern=ko.observable(""),a.$type="Bespoke.Sph.Domain.UriFieldMapping, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.UriFieldMappingPartial?_(a).extend(new bespoke.sph.domain.UriFieldMappingPartial(a,e)):a},bespoke.sph.domain.SqlServerRecordSet=function(e){var a={$type:"Bespoke.Sph.Domain.SqlServerRecordSet, domain.sph",FieldName:ko.observable(""),SqlServerDataType:ko.observable(""),TypeName:ko.observable(""),SampleValue:ko.observable(""),IsNullable:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SqlServerRecordSetPartial?_(a).extend(new bespoke.sph.domain.SqlServerRecordSetPartial(a,e)):a},bespoke.sph.domain.FormElement=function(e){var a={$type:"Bespoke.Sph.Domain.FormElement, domain.sph",Name:ko.observable(""),Label:ko.observable(""),Tooltip:ko.observable(""),Path:ko.observable(""),IsRequired:ko.observable(!1),Size:ko.observable(""),CssClass:ko.observable(""),Visible:ko.observable(""),Enable:ko.observable(""),ElementId:ko.observable(""),HelpText:ko.observable(""),UseDisplayTemplate:ko.observable(!1),ToolboxIconClass:ko.observable(""),IsUniqueName:ko.observable(!1),FieldValidation:ko.observable(new bespoke.sph.domain.FieldValidation),LabelColLg:ko.observable(),LabelColMd:ko.observable(),LabelColSm:ko.observable(),LabelColXs:ko.observable(),InputColLg:ko.observable(),InputColMd:ko.observable(),InputColSm:ko.observable(),InputColXs:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FormElementPartial?_(a).extend(new bespoke.sph.domain.FormElementPartial(a,e)):a},bespoke.sph.domain.Member=function(e){var a={$type:"Bespoke.Sph.Domain.Member, domain.sph",Name:ko.observable(""),AllowMultiple:ko.observable(!1),MemberCollection:ko.observableArray([]),FieldPermissionCollection:ko.observableArray([]),DefaultValue:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MemberPartial?_(a).extend(new bespoke.sph.domain.MemberPartial(a,e)):a},bespoke.sph.domain.Field=function(e){var a={$type:"Bespoke.Sph.Domain.Field, domain.sph",isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FieldPartial?_(a).extend(new bespoke.sph.domain.FieldPartial(a,e)):a},bespoke.sph.domain.ReceiveLocation=function(e){var a={$type:"Bespoke.Sph.Domain.ReceiveLocation, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),IsActive:ko.observable(!1),ValidationEndpoint:ko.observable(""),ValidationMethod:ko.observable(""),SubmitEndpoint:ko.observable(""),SubmitMethod:ko.observable(""),InvalidEndpoint:ko.observable(""),InvalidMethod:ko.observable(""),ErrorEndpoint:ko.observable(""),ErrorMethod:ko.observable(""),JwtToken:ko.observable(""),ReceivePort:ko.observable(""),ReferencedAssemblyCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReceiveLocationPartial?_(a).extend(new bespoke.sph.domain.ReceiveLocationPartial(a,e)):a},bespoke.sph.domain.TextFormatter=function(e){var a={$type:"Bespoke.Sph.Domain.TextFormatter, domain.sph",Name:ko.observable(""),SampleStoreId:ko.observable(""),DetailRowCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TextFormatterPartial?_(a).extend(new bespoke.sph.domain.TextFormatterPartial(a,e)):a},bespoke.sph.domain.TextFieldMapping=function(e){var a={$type:"Bespoke.Sph.Domain.TextFieldMapping, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),IsNullable:ko.observable(!1),Converter:ko.observable(""),SampleValue:ko.observable(""),IsComplex:ko.observable(!1),AllowMultiple:ko.observable(!1),NullPlaceholder:ko.observable(""),Ignore:ko.observable(!1),Comment:ko.observable(""),FieldMappingCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TextFieldMappingPartial?_(a).extend(new bespoke.sph.domain.TextFieldMappingPartial(a,e)):a},bespoke.sph.domain.SortDirection=function(){return{ASC:"Asc",DESC:"Desc",DO_NOT_SELECT:"DONTDOTHIS"}}(),bespoke.sph.domain.OwnerType=function(){return{USER:"User",EVERYONE:"Everyone",ROLE:"Role",DESIGNATION:"Designation",DEPARTMENT:"Department",DO_NOT_SELECT:"DONTDOTHIS"}}();/// <reference path="~/Scripts/knockout-3.4.0.debug.js" />
/// <reference path="~/Scripts/underscore.js" />
/// <reference path="~/Scripts/moment.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.ReportDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.ReportDefinition, domain.sph",Id:ko.observable("0"),Title:ko.observable(""),Category:ko.observable(""),IsActive:ko.observable(!1),IsPrivate:ko.observable(!1),IsExportAllowed:ko.observable(!1),Description:ko.observable(""),ReportLayoutCollection:ko.observableArray([]),DataSource:ko.observable(new bespoke.sph.domain.DataSource),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportDefinitionPartial?_(a).extend(new bespoke.sph.domain.ReportDefinitionPartial(a)):a},bespoke.sph.domain.ReportLayout=function(e){var a={$type:"Bespoke.Sph.Domain.ReportLayout, domain.sph",Name:ko.observable(""),Row:ko.observable(0),Column:ko.observable(0),ColumnSpan:ko.observable(0),ReportItemCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportLayoutPartial?_(a).extend(new bespoke.sph.domain.ReportLayoutPartial(a)):a},bespoke.sph.domain.BarChartItem=function(e){var a=new bespoke.sph.domain.ReportItem(e);if(a.ValueLabelFormat=ko.observable(""),a.HorizontalAxisField=ko.observable(""),a.Title=ko.observable(""),a.$type="Bespoke.Sph.Domain.BarChartItem, domain.sph",a.ChartSeriesCollection=ko.observableArray([]),e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.BarChartItemPartial?_(a).extend(new bespoke.sph.domain.BarChartItemPartial(a)):a},bespoke.sph.domain.LineChartItem=function(e){var a=new bespoke.sph.domain.ReportItem(e);if(a.ValueLabelFormat=ko.observable(""),a.HorizontalAxisField=ko.observable(""),a.Title=ko.observable(""),a.$type="Bespoke.Sph.Domain.LineChartItem, domain.sph",a.ChartSeriesCollection=ko.observableArray([]),e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.LineChartItemPartial?_(a).extend(new bespoke.sph.domain.LineChartItemPartial(a)):a},bespoke.sph.domain.PieChartItem=function(e){var a=new bespoke.sph.domain.ReportItem(e);if(a.CategoryField=ko.observable(""),a.ValueField=ko.observable(""),a.Title=ko.observable(""),a.TitlePlacement=ko.observable(""),a.$type="Bespoke.Sph.Domain.PieChartItem, domain.sph",e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PieChartItemPartial?_(a).extend(new bespoke.sph.domain.PieChartItemPartial(a)):a},bespoke.sph.domain.DataGridItem=function(e){var a=new bespoke.sph.domain.ReportItem(e);if(a.$type="Bespoke.Sph.Domain.DataGridItem, domain.sph",a.ReportRowCollection=ko.observableArray([]),a.DataGridColumnCollection=ko.observableArray([]),a.DataGridGroupDefinitionCollection=ko.observableArray([]),e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DataGridItemPartial?_(a).extend(new bespoke.sph.domain.DataGridItemPartial(a)):a},bespoke.sph.domain.LabelItem=function(e){var a=new bespoke.sph.domain.ReportItem(e);//type but not nillable
if(a.$type="Bespoke.Sph.Domain.LabelItem, domain.sph",a.Html=ko.observable(),e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.LabelItemPartial?_(a).extend(new bespoke.sph.domain.LabelItemPartial(a)):a},bespoke.sph.domain.LineItem=function(e){var a=new bespoke.sph.domain.ReportItem(e);if(a.$type="Bespoke.Sph.Domain.LineItem, domain.sph",e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.LineItemPartial?_(a).extend(new bespoke.sph.domain.LineItemPartial(a)):a},bespoke.sph.domain.DataSource=function(e){var a={$type:"Bespoke.Sph.Domain.DataSource, domain.sph",EntityName:ko.observable(""),Query:ko.observable(""),ParameterCollection:ko.observableArray([]),ReportFilterCollection:ko.observableArray([]),EntityFieldCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DataSourcePartial?_(a).extend(new bespoke.sph.domain.DataSourcePartial(a)):a},bespoke.sph.domain.Parameter=function(e){var a={$type:"Bespoke.Sph.Domain.Parameter, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),AvailableValues:ko.observable(""),Label:ko.observable(""),IsNullable:ko.observable(!1),Value:ko.observable(),DefaultValue:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParameterPartial?_(a).extend(new bespoke.sph.domain.ParameterPartial(a)):a},bespoke.sph.domain.ReportFilter=function(e){var a={$type:"Bespoke.Sph.Domain.ReportFilter, domain.sph",FieldName:ko.observable(""),Operator:ko.observable(""),Value:ko.observable(""),TypeName:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportFilterPartial?_(a).extend(new bespoke.sph.domain.ReportFilterPartial(a)):a},bespoke.sph.domain.EntityField=function(e){var a={$type:"Bespoke.Sph.Domain.EntityField, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),IsNullable:ko.observable(!1),Aggregate:ko.observable(""),Order:ko.observable(""),OrderPosition:ko.observable(0),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EntityFieldPartial?_(a).extend(new bespoke.sph.domain.EntityFieldPartial(a)):a},bespoke.sph.domain.DataGridColumn=function(e){var a={$type:"Bespoke.Sph.Domain.DataGridColumn, domain.sph",Header:ko.observable(""),Width:ko.observable(""),Expression:ko.observable(""),Format:ko.observable(""),Action:ko.observable(""),FooterExpression:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DataGridColumnPartial?_(a).extend(new bespoke.sph.domain.DataGridColumnPartial(a)):a},bespoke.sph.domain.ReportColumn=function(e){var a={$type:"Bespoke.Sph.Domain.ReportColumn, domain.sph",Name:ko.observable(""),Header:ko.observable(""),Width:ko.observable(""),IsSelected:ko.observable(!1),TypeName:ko.observable(""),IsFilterable:ko.observable(!1),IsCustomField:ko.observable(!1),IsNullable:ko.observable(!1),Value:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportColumnPartial?_(a).extend(new bespoke.sph.domain.ReportColumnPartial(a)):a},bespoke.sph.domain.ReportRow=function(e){var a={$type:"Bespoke.Sph.Domain.ReportRow, domain.sph",ReportColumnCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportRowPartial?_(a).extend(new bespoke.sph.domain.ReportRowPartial(a)):a},bespoke.sph.domain.DailySchedule=function(e){var a=new bespoke.sph.domain.IntervalSchedule(e);if(a.Recur=ko.observable(0),a.$type="Bespoke.Sph.Domain.DailySchedule, domain.sph",e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DailySchedulePartial?_(a).extend(new bespoke.sph.domain.DailySchedulePartial(a)):a},bespoke.sph.domain.WeeklySchedule=function(e){var a=new bespoke.sph.domain.IntervalSchedule(e);if(a.Hour=ko.observable(0),a.Minute=ko.observable(0),a.IsSunday=ko.observable(!1),a.IsMonday=ko.observable(!1),a.IsTuesday=ko.observable(!1),a.IsWednesday=ko.observable(!1),a.IsThursday=ko.observable(!1),a.IsFriday=ko.observable(!1),a.IsSaturday=ko.observable(!1),a.Recur=ko.observable(0),a.$type="Bespoke.Sph.Domain.WeeklySchedule, domain.sph",e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WeeklySchedulePartial?_(a).extend(new bespoke.sph.domain.WeeklySchedulePartial(a)):a},bespoke.sph.domain.MonthlySchedule=function(e){var a=new bespoke.sph.domain.IntervalSchedule(e);if(a.Day=ko.observable(0),a.Hour=ko.observable(0),a.Minute=ko.observable(0),a.IsJanuary=ko.observable(!1),a.IsFebruary=ko.observable(!1),a.IsMarch=ko.observable(!1),a.IsApril=ko.observable(!1),a.IsMay=ko.observable(!1),a.IsJune=ko.observable(!1),a.IsJuly=ko.observable(!1),a.IsAugust=ko.observable(!1),a.IsSeptember=ko.observable(!1),a.IsOctober=ko.observable(!1),a.IsNovember=ko.observable(!1),a.IsDecember=ko.observable(!1),a.IsLastDay=ko.observable(!1),a.$type="Bespoke.Sph.Domain.MonthlySchedule, domain.sph",a.Days=ko.observableArray([]),e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MonthlySchedulePartial?_(a).extend(new bespoke.sph.domain.MonthlySchedulePartial(a)):a},bespoke.sph.domain.ReportDelivery=function(e){var a={$type:"Bespoke.Sph.Domain.ReportDelivery, domain.sph",Id:ko.observable("0"),IsActive:ko.observable(!1),Title:ko.observable(""),Description:ko.observable(""),ReportDefinitionId:ko.observable(""),IntervalScheduleCollection:ko.observableArray([]),Users:ko.observableArray([]),Departments:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportDeliveryPartial?_(a).extend(new bespoke.sph.domain.ReportDeliveryPartial(a)):a},bespoke.sph.domain.ReportContent=function(e){var a={$type:"Bespoke.Sph.Domain.ReportContent, domain.sph",ReportDefinitionId:ko.observable(""),ReportDeliveryId:ko.observable(""),HtmlOutput:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportContentPartial?_(a).extend(new bespoke.sph.domain.ReportContentPartial(a)):a},bespoke.sph.domain.ChartSeries=function(e){var a={$type:"Bespoke.Sph.Domain.ChartSeries, domain.sph",Header:ko.observable(""),Column:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ChartSeriesPartial?_(a).extend(new bespoke.sph.domain.ChartSeriesPartial(a)):a},bespoke.sph.domain.DataGridGroupDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.DataGridGroupDefinition, domain.sph",Column:ko.observable(""),Expression:ko.observable(""),Style:ko.observable(""),FooterExpression:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DataGridGroupDefinitionPartial?_(a).extend(new bespoke.sph.domain.DataGridGroupDefinitionPartial(a)):a},bespoke.sph.domain.DataGridGroup=function(e){var a={$type:"Bespoke.Sph.Domain.DataGridGroup, domain.sph",Column:ko.observable(""),Text:ko.observable(""),ReportRowCollection:ko.observableArray([]),DataGridGroupCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DataGridGroupPartial?_(a).extend(new bespoke.sph.domain.DataGridGroupPartial(a)):a},bespoke.sph.domain.ReportItem=function(e){var a={$type:"Bespoke.Sph.Domain.ReportItem, domain.sph",Name:ko.observable(""),CssClass:ko.observable(""),Visible:ko.observable(""),Tooltip:ko.observable(""),Icon:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReportItemPartial?_(a).extend(new bespoke.sph.domain.ReportItemPartial(a)):a},bespoke.sph.domain.IntervalSchedule=function(e){var a={$type:"Bespoke.Sph.Domain.IntervalSchedule, domain.sph",IsEnabled:ko.observable(!1),Start:ko.observable(moment().format("DD/MM/YYYY")),Expire:ko.observable(),Delay:ko.observable(),Repeat:ko.observable(),Duration:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.IntervalSchedulePartial?_(a).extend(new bespoke.sph.domain.IntervalSchedulePartial(a)):a};/// <reference path="~/scripts/knockout-3.4.0.debug.js" />
/// <reference path="~/Scripts/underscore.js" />
/// <reference path="~/Scripts/moment.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.LatLng=function(e){var a={$type:"Bespoke.Sph.Domain.LatLng, domain.sph",Lat:ko.observable(0),Lng:ko.observable(0),Elevation:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.LatLngPartial?_(a).extend(new bespoke.sph.domain.LatLngPartial(a)):a},bespoke.sph.domain.Document=function(e){var a={$type:"Bespoke.Sph.Domain.Document, domain.sph",Title:ko.observable(""),Extension:ko.observable(""),DocumentVersionCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DocumentPartial?_(a).extend(new bespoke.sph.domain.DocumentPartial(a)):a},bespoke.sph.domain.DocumentVersion=function(e){var a={$type:"Bespoke.Sph.Domain.DocumentVersion, domain.sph",StoreId:ko.observable(""),Date:ko.observable(moment().format("DD/MM/YYYY'")),CommitedBy:ko.observable(""),No:ko.observable(""),Note:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DocumentVersionPartial?_(a).extend(new bespoke.sph.domain.DocumentVersionPartial(a)):a},bespoke.sph.domain.Owner=function(e){var a={$type:"Bespoke.Sph.Domain.Owner, domain.sph",Name:ko.observable(""),TelephoneNo:ko.observable(""),FaxNo:ko.observable(""),Email:ko.observable(""),Address:ko.observable(new bespoke.sph.domain.Address),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.OwnerPartial?_(a).extend(new bespoke.sph.domain.OwnerPartial(a)):a},bespoke.sph.domain.AuditTrail=function(e){var a={$type:"Bespoke.Sph.Domain.AuditTrail, domain.sph",Id:ko.observable("0"),User:ko.observable(""),DateTime:ko.observable(moment().format("DD/MM/YYYY'")),Operation:ko.observable(""),Type:ko.observable(""),EntityId:ko.observable(""),ChangeCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.AuditTrailPartial?_(a).extend(new bespoke.sph.domain.AuditTrailPartial(a)):a},bespoke.sph.domain.Change=function(e){var a={$type:"Bespoke.Sph.Domain.Change, domain.sph",PropertyName:ko.observable(""),OldValue:ko.observable(""),NewValue:ko.observable(""),Action:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ChangePartial?_(a).extend(new bespoke.sph.domain.ChangePartial(a)):a},bespoke.sph.domain.Organization=function(e){var a={$type:"Bespoke.Sph.Domain.Organization, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),RegistrationNo:ko.observable(""),Email:ko.observable(""),OfficeNo:ko.observable(""),FaxNo:ko.observable(""),Address:ko.observable(new bespoke.sph.domain.Address),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.OrganizationPartial?_(a).extend(new bespoke.sph.domain.OrganizationPartial(a)):a},bespoke.sph.domain.UserProfile=function(e){var a={$type:"Bespoke.Sph.Domain.UserProfile, domain.sph",Id:ko.observable("0"),UserName:ko.observable(""),FullName:ko.observable(""),Designation:ko.observable(""),Telephone:ko.observable(""),Mobile:ko.observable(""),RoleTypes:ko.observable(""),StartModule:ko.observable(""),Email:ko.observable(""),Department:ko.observable(""),HasChangedDefaultPassword:ko.observable(!1),Language:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.UserProfilePartial?_(a).extend(new bespoke.sph.domain.UserProfilePartial(a)):a},bespoke.sph.domain.Setting=function(e){var a={$type:"Bespoke.Sph.Domain.Setting, domain.sph",Id:ko.observable("0"),UserName:ko.observable(""),Key:ko.observable(),Value:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SettingPartial?_(a).extend(new bespoke.sph.domain.SettingPartial(a)):a},bespoke.sph.domain.Designation=function(e){var a={$type:"Bespoke.Sph.Domain.Designation, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Description:ko.observable(""),IsActive:ko.observable(!1),StartModule:ko.observable(""),EnforceStartModule:ko.observable(!1),IsSearchVisible:ko.observable(!1),IsMessageVisible:ko.observable(!1),IsHelpVisible:ko.observable(!1),HelpUri:ko.observable(""),Title:ko.observable(""),Option:ko.observable(0),RoleCollection:ko.observableArray([]),Owner:ko.observable(new bespoke.sph.domain.Owner),SearchableEntityCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DesignationPartial?_(a).extend(new bespoke.sph.domain.DesignationPartial(a)):a},bespoke.sph.domain.Watcher=function(e){var a={$type:"Bespoke.Sph.Domain.Watcher, domain.sph",Id:ko.observable("0"),EntityName:ko.observable(""),EntityId:ko.observable(""),User:ko.observable(""),IsActive:ko.observable(!1),DateTime:ko.observable(moment().format("DD/MM/YYYY'")),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WatcherPartial?_(a).extend(new bespoke.sph.domain.WatcherPartial(a)):a},bespoke.sph.domain.Profile=function(e){var a={$type:"Bespoke.Sph.Domain.Profile, domain.sph",FullName:ko.observable(""),UserName:ko.observable(""),Email:ko.observable(""),Password:ko.observable(""),ConfirmPassword:ko.observable(""),Status:ko.observable(""),Designation:ko.observable(""),Telephone:ko.observable(""),Mobile:ko.observable(""),IsNew:ko.observable(!1),Department:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ProfilePartial?_(a).extend(new bespoke.sph.domain.ProfilePartial(a)):a},bespoke.sph.domain.Message=function(e){var a={$type:"Bespoke.Sph.Domain.Message, domain.sph",Id:ko.observable("0"),Subject:ko.observable(""),IsRead:ko.observable(!1),Body:ko.observable(""),UserName:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MessagePartial?_(a).extend(new bespoke.sph.domain.MessagePartial(a)):a},bespoke.sph.domain.Photo=function(e){var a={$type:"Bespoke.Sph.Domain.Photo, domain.sph",Title:ko.observable(""),Description:ko.observable(""),StoreId:ko.observable(""),ThumbnailStoreId:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PhotoPartial?_(a).extend(new bespoke.sph.domain.PhotoPartial(a)):a},bespoke.sph.domain.Address=function(e){var a={$type:"Bespoke.Sph.Domain.Address, domain.sph",UnitNo:ko.observable(""),Floor:ko.observable(""),Block:ko.observable(""),Street:ko.observable(""),City:ko.observable(""),Postcode:ko.observable(""),State:ko.observable(""),Country:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.AddressPartial?_(a).extend(new bespoke.sph.domain.AddressPartial(a)):a},bespoke.sph.domain.EmailTemplate=function(e){var a={$type:"Bespoke.Sph.Domain.EmailTemplate, domain.sph",Id:ko.observable("0"),Entity:ko.observable(""),Name:ko.observable(""),Note:ko.observable(""),SubjectTemplate:ko.observable(""),BodyTemplate:ko.observable(""),IsPublished:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EmailTemplatePartial?_(a).extend(new bespoke.sph.domain.EmailTemplatePartial(a)):a},bespoke.sph.domain.DocumentTemplate=function(e){var a={$type:"Bespoke.Sph.Domain.DocumentTemplate, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Note:ko.observable(""),WordTemplateStoreId:ko.observable(""),IsPublished:ko.observable(!1),Entity:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DocumentTemplatePartial?_(a).extend(new bespoke.sph.domain.DocumentTemplatePartial(a)):a},bespoke.sph.domain.QuotaPolicy=function(e){var a={$type:"Bespoke.Sph.Domain.QuotaPolicy, domain.sph",Name:ko.observable(""),RateLimit:ko.observable(new bespoke.sph.domain.RateLimit),QuotaLimit:ko.observable(new bespoke.sph.domain.QuotaLimit),BandwidthLimit:ko.observable(new bespoke.sph.domain.BandwidthLimit),EndpointLimitCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.QuotaPolicyPartial?_(a).extend(new bespoke.sph.domain.QuotaPolicyPartial(a)):a},bespoke.sph.domain.RateLimit=function(e){var a={$type:"Bespoke.Sph.Domain.RateLimit, domain.sph",IsUnlimited:ko.observable(!1),Calls:ko.observable(),RenewalPeriod:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.RateLimitPartial?_(a).extend(new bespoke.sph.domain.RateLimitPartial(a)):a},bespoke.sph.domain.QuotaLimit=function(e){var a={$type:"Bespoke.Sph.Domain.QuotaLimit, domain.sph",IsUnlimited:ko.observable(!1),Calls:ko.observable(),RenewalPeriod:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.QuotaLimitPartial?_(a).extend(new bespoke.sph.domain.QuotaLimitPartial(a)):a},bespoke.sph.domain.BandwidthLimit=function(e){var a={$type:"Bespoke.Sph.Domain.BandwidthLimit, domain.sph",IsUnlimited:ko.observable(!1),Size:ko.observable(),RenewalPeriod:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.BandwidthLimitPartial?_(a).extend(new bespoke.sph.domain.BandwidthLimitPartial(a)):a},bespoke.sph.domain.EndpointLimit=function(e){var a={$type:"Bespoke.Sph.Domain.EndpointLimit, domain.sph",Controller:ko.observable(""),Action:ko.observable(""),Parent:ko.observable(""),Note:ko.observable(""),Calls:ko.observable(),RenewalPeriod:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EndpointLimitPartial?_(a).extend(new bespoke.sph.domain.EndpointLimitPartial(a)):a},bespoke.sph.domain.TimePeriod=function(e){var a={$type:"Bespoke.Sph.Domain.TimePeriod, domain.sph",Count:ko.observable(0),Unit:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TimePeriodPartial?_(a).extend(new bespoke.sph.domain.TimePeriodPartial(a)):a};/// <reference path="~/scripts/knockout-3.4.0.debug.js" />
/// <reference path="~/Scripts/underscore.js" />
/// <reference path="~/Scripts/moment.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.api=bespoke.sph.domain.api||{},bespoke.sph.domain.api.TableDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.Api.TableDefinition, domain.sph",Name:ko.observable(""),IsSelected:ko.observable(!1),AllowRead:ko.observable(!1),AllowInsert:ko.observable(!1),AllowUpdate:ko.observable(!1),AllowDelete:ko.observable(!1),Schema:ko.observable(""),VersionColumn:ko.observable(""),ModifiedDateColumn:ko.observable(""),ColumnCollection:ko.observableArray([]),ChildRelationCollection:ko.observableArray([]),ParentRelationCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.TableDefinitionPartial?_(a).extend(new bespoke.sph.domain.api.TableDefinitionPartial(a)):a},bespoke.sph.domain.api.Column=function(e){var a=new bespoke.sph.domain.api.Member(e);if(a.IsPrimaryKey=ko.observable(!1),a.IsVersion=ko.observable(!1),a.IsModifiedDate=ko.observable(!1),a.IsComputed=ko.observable(!1),a.IsIdentity=ko.observable(!1),a.$type="Bespoke.Sph.Domain.Api.Column, domain.sph",e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.ColumnPartial?_(a).extend(new bespoke.sph.domain.api.ColumnPartial(a)):a},bespoke.sph.domain.api.ColumnMetadata=function(e){var a={$type:"Bespoke.Sph.Domain.Api.ColumnMetadata, domain.sph",isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.ColumnMetadataPartial?_(a).extend(new bespoke.sph.domain.api.ColumnMetadataPartial(a)):a},bespoke.sph.domain.api.OperationDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.Api.OperationDefinition, domain.sph",Name:ko.observable(""),MethodName:ko.observable(""),IsOneWay:ko.observable(!1),IsSelected:ko.observable(!1),Schema:ko.observable(""),ParameterDefinition:ko.observable(new bespoke.sph.domain.api.ParameterDefinition),RequestMemberCollection:ko.observableArray([]),ResponseMemberCollection:ko.observableArray([]),ErrorRetry:ko.observable(new bespoke.sph.domain.api.ErrorRetry),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.OperationDefinitionPartial?_(a).extend(new bespoke.sph.domain.api.OperationDefinitionPartial(a)):a},bespoke.sph.domain.api.ErrorRetry=function(e){var a={$type:"Bespoke.Sph.Domain.Api.ErrorRetry, domain.sph",Attempt:ko.observable(0),IsEnabled:ko.observable(!1),Wait:ko.observable(0),Algorithm:ko.observable("WaitAlgorithm"),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.ErrorRetryPartial?_(a).extend(new bespoke.sph.domain.api.ErrorRetryPartial(a)):a},bespoke.sph.domain.api.ParameterDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.Api.ParameterDefinition, domain.sph",Name:ko.observable(""),IsRequest:ko.observable(!1),IsResponse:ko.observable(!1),CodeNamespace:ko.observable(""),MemberCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.ParameterDefinitionPartial?_(a).extend(new bespoke.sph.domain.api.ParameterDefinitionPartial(a)):a},bespoke.sph.domain.api.TableRelation=function(e){var a={$type:"Bespoke.Sph.Domain.Api.TableRelation, domain.sph",Table:ko.observable(""),Constraint:ko.observable(""),Column:ko.observable(""),ForeignColumn:ko.observable(""),IsSelected:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.TableRelationPartial?_(a).extend(new bespoke.sph.domain.api.TableRelationPartial(a)):a},bespoke.sph.domain.api.Adapter=function(e){var a={$type:"Bespoke.Sph.Domain.Api.Adapter, domain.sph",Name:ko.observable(""),Description:ko.observable(""),TableDefinitionCollection:ko.observableArray([]),OperationDefinitionCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.AdapterPartial?_(a).extend(new bespoke.sph.domain.api.AdapterPartial(a)):a},bespoke.sph.domain.api.Member=function(e){var a={$type:"Bespoke.Sph.Domain.Api.Member, domain.sph",isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.MemberPartial?_(a).extend(new bespoke.sph.domain.api.MemberPartial(a)):a},bespoke.sph.domain.api.Member=function(e){var a={$type:"Bespoke.Sph.Domain.Api.Member, domain.sph",isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.api.MemberPartial?_(a).extend(new bespoke.sph.domain.api.MemberPartial(a)):a},bespoke.sph.domain.api.WaitAlgorithm=function(){return{CONSTANT:"Constant",LINEAR:"Linear",EXPONENTIAL:"Exponential",DO_NOT_SELECT:"DONTDOTHIS"}}();/// <reference path="~/scripts/knockout-3.4.0.debug.js" />
/// <reference path="~/Scripts/underscore.js" />
/// <reference path="~/Scripts/moment.js" />
/// <reference path="~/Scripts/require.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.Trigger=function(e){var a={$type:"Bespoke.Sph.Domain.Trigger, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Entity:ko.observable(""),TypeOf:ko.observable(""),Note:ko.observable(""),IsActive:ko.observable(!1),IsFiredOnAdded:ko.observable(!1),IsFiredOnDeleted:ko.observable(!1),IsFiredOnChanged:ko.observable(!1),FiredOnOperations:ko.observable(""),RuleCollection:ko.observableArray([]),ActionCollection:ko.observableArray([]),ReferencedAssemblyCollection:ko.observableArray([]),RequeueFilterCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TriggerPartial?_(a).extend(new bespoke.sph.domain.TriggerPartial(a,e)):a},bespoke.sph.domain.AssemblyField=function(e){var a=new bespoke.sph.domain.Field(e);a.Location=ko.observable(""),a.TypeName=ko.observable(""),a.Method=ko.observable(""),a.IsAsync=ko.observable(!1),a.AsyncTimeout=ko.observable(0),a.LoadInCurrentAppDomain=ko.observable(!1),a.$type="Bespoke.Sph.Domain.AssemblyField, domain.sph",a.MethodArgCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.AssemblyFieldPartial?_(a).extend(new bespoke.sph.domain.AssemblyFieldPartial(a,e)):a},bespoke.sph.domain.JavascriptExpressionField=function(e){var a=new bespoke.sph.domain.Field(e);a.Expression=ko.observable(""),a.$type="Bespoke.Sph.Domain.JavascriptExpressionField, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.JavascriptExpressionFieldPartial?_(a).extend(new bespoke.sph.domain.JavascriptExpressionFieldPartial(a,e)):a},bespoke.sph.domain.RouteParameterField=function(e){var a=new bespoke.sph.domain.Field(e);a.TypeName=ko.observable(""),a.DefaultValue=ko.observable(""),a.IsOptional=ko.observable(!1),a.Constraints=ko.observable(""),a.$type="Bespoke.Sph.Domain.RouteParameterField, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.RouteParameterFieldPartial?_(a).extend(new bespoke.sph.domain.RouteParameterFieldPartial(a,e)):a},bespoke.sph.domain.FunctionField=function(e){var a=new bespoke.sph.domain.Field(e);a.Script=ko.observable(""),a.$type="Bespoke.Sph.Domain.FunctionField, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FunctionFieldPartial?_(a).extend(new bespoke.sph.domain.FunctionFieldPartial(a,e)):a},bespoke.sph.domain.ConstantField=function(e){var a=new bespoke.sph.domain.Field(e);a.TypeName=ko.observable(""),a.$type="Bespoke.Sph.Domain.ConstantField, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ConstantFieldPartial?_(a).extend(new bespoke.sph.domain.ConstantFieldPartial(a,e)):a},bespoke.sph.domain.DocumentField=function(e){var a=new bespoke.sph.domain.Field(e);a.XPath=ko.observable(""),a.NamespacePrefix=ko.observable(""),a.TypeName=ko.observable(""),a.Path=ko.observable(""),a.$type="Bespoke.Sph.Domain.DocumentField, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DocumentFieldPartial?_(a).extend(new bespoke.sph.domain.DocumentFieldPartial(a,e)):a},bespoke.sph.domain.PropertyChangedField=function(e){var a=new bespoke.sph.domain.Field(e);a.Path=ko.observable(""),a.TypeName=ko.observable(""),a.OldValue=ko.observable(""),a.NewValue=ko.observable(""),a.$type="Bespoke.Sph.Domain.PropertyChangedField, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PropertyChangedFieldPartial?_(a).extend(new bespoke.sph.domain.PropertyChangedFieldPartial(a,e)):a},bespoke.sph.domain.Rule=function(e){var a={$type:"Bespoke.Sph.Domain.Rule, domain.sph",Left:ko.observable(),Right:ko.observable(),Operator:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.RulePartial?_(a).extend(new bespoke.sph.domain.RulePartial(a,e)):a},bespoke.sph.domain.EmailAction=function(e){var a=new bespoke.sph.domain.CustomAction(e);a.From=ko.observable(""),a.To=ko.observable(""),a.SubjectTemplate=ko.observable(""),a.BodyTemplate=ko.observable(""),a.Bcc=ko.observable(""),a.Cc=ko.observable(""),a.$type="Bespoke.Sph.Domain.EmailAction, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EmailActionPartial?_(a).extend(new bespoke.sph.domain.EmailActionPartial(a,e)):a},bespoke.sph.domain.SetterAction=function(e){var a=new bespoke.sph.domain.CustomAction(e);a.$type="Bespoke.Sph.Domain.SetterAction, domain.sph",a.SetterActionChildCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SetterActionPartial?_(a).extend(new bespoke.sph.domain.SetterActionPartial(a,e)):a},bespoke.sph.domain.SetterActionChild=function(e){var a={$type:"Bespoke.Sph.Domain.SetterActionChild, domain.sph",Path:ko.observable(""),Field:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SetterActionChildPartial?_(a).extend(new bespoke.sph.domain.SetterActionChildPartial(a,e)):a},bespoke.sph.domain.MethodArg=function(e){var a={$type:"Bespoke.Sph.Domain.MethodArg, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),ValueProvider:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MethodArgPartial?_(a).extend(new bespoke.sph.domain.MethodArgPartial(a,e)):a},bespoke.sph.domain.StartWorkflowAction=function(e){var a=new bespoke.sph.domain.CustomAction(e);a.WorkflowDefinitionId=ko.observable(""),a.Name=ko.observable(""),a.Version=ko.observable(0),a.$type="Bespoke.Sph.Domain.StartWorkflowAction, domain.sph",a.WorkflowTriggerMapCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.StartWorkflowActionPartial?_(a).extend(new bespoke.sph.domain.StartWorkflowActionPartial(a,e)):a},bespoke.sph.domain.WorkflowTriggerMap=function(e){var a={$type:"Bespoke.Sph.Domain.WorkflowTriggerMap, domain.sph",VariablePath:ko.observable(""),Field:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WorkflowTriggerMapPartial?_(a).extend(new bespoke.sph.domain.WorkflowTriggerMapPartial(a,e)):a},bespoke.sph.domain.AssemblyAction=function(e){var a=new bespoke.sph.domain.CustomAction(e);a.IsAsyncMethod=ko.observable(!1),a.Assembly=ko.observable(""),a.TypeName=ko.observable(""),a.Method=ko.observable(""),a.ReturnType=ko.observable(""),a.IsVoid=ko.observable(!1),a.IsStatic=ko.observable(!1),a.$type="Bespoke.Sph.Domain.AssemblyAction, domain.sph",a.MethodArgCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.AssemblyActionPartial?_(a).extend(new bespoke.sph.domain.AssemblyActionPartial(a,e)):a},bespoke.sph.domain.WorkflowDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.WorkflowDefinition, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Note:ko.observable(""),IsActive:ko.observable(!1),SchemaStoreId:ko.observable(""),Version:ko.observable(0),ActivityCollection:ko.observableArray([]),VariableDefinitionCollection:ko.observableArray([]),ReferencedAssemblyCollection:ko.observableArray([]),CorrelationSetCollection:ko.observableArray([]),CorrelationTypeCollection:ko.observableArray([]),TryScopeCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WorkflowDefinitionPartial?_(a).extend(new bespoke.sph.domain.WorkflowDefinitionPartial(a,e)):a},bespoke.sph.domain.Workflow=function(e){var a={$type:"Bespoke.Sph.Domain.Workflow, domain.sph",Id:ko.observable("0"),WorkflowDefinitionId:ko.observable(""),Name:ko.observable(""),State:ko.observable(""),IsActive:ko.observable(!1),Version:ko.observable(0),VariableValueCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WorkflowPartial?_(a).extend(new bespoke.sph.domain.WorkflowPartial(a,e)):a},bespoke.sph.domain.DecisionActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.$type="Bespoke.Sph.Domain.DecisionActivity, domain.sph",a.DecisionBranchCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DecisionActivityPartial?_(a).extend(new bespoke.sph.domain.DecisionActivityPartial(a,e)):a},bespoke.sph.domain.DecisionBranch=function(e){var a=new bespoke.sph.domain.Activity(e);a.IsDefault=ko.observable(!1),a.$type="Bespoke.Sph.Domain.DecisionBranch, domain.sph",a.Expression=ko.observable();//type but not nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DecisionBranchPartial?_(a).extend(new bespoke.sph.domain.DecisionBranchPartial(a,e)):a},bespoke.sph.domain.NotificationActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.From=ko.observable(""),a.Subject=ko.observable(""),a.Body=ko.observable(""),a.To=ko.observable(""),a.UserName=ko.observable(""),a.Cc=ko.observable(""),a.Bcc=ko.observable(""),a.IsHtmlEmail=ko.observable(!1),a.IsMessageSuppressed=ko.observable(!1),a.$type="Bespoke.Sph.Domain.NotificationActivity, domain.sph",a.Retry=ko.observable(),a.RetryInterval=ko.observable();//nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.NotificationActivityPartial?_(a).extend(new bespoke.sph.domain.NotificationActivityPartial(a,e)):a},bespoke.sph.domain.SimpleVariable=function(e){var a=new bespoke.sph.domain.Variable(e);a.$type="Bespoke.Sph.Domain.SimpleVariable, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SimpleVariablePartial?_(a).extend(new bespoke.sph.domain.SimpleVariablePartial(a,e)):a},bespoke.sph.domain.ComplexVariable=function(e){var a=new bespoke.sph.domain.Variable(e);a.$type="Bespoke.Sph.Domain.ComplexVariable, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ComplexVariablePartial?_(a).extend(new bespoke.sph.domain.ComplexVariablePartial(a,e)):a},bespoke.sph.domain.VariableValue=function(e){var a={$type:"Bespoke.Sph.Domain.VariableValue, domain.sph",Name:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.VariableValuePartial?_(a).extend(new bespoke.sph.domain.VariableValuePartial(a,e)):a},bespoke.sph.domain.EndActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.IsTerminating=ko.observable(!1),a.$type="Bespoke.Sph.Domain.EndActivity, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.EndActivityPartial?_(a).extend(new bespoke.sph.domain.EndActivityPartial(a,e)):a},bespoke.sph.domain.Performer=function(e){var a={$type:"Bespoke.Sph.Domain.Performer, domain.sph",UserProperty:ko.observable(""),Value:ko.observable(""),IsPublic:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PerformerPartial?_(a).extend(new bespoke.sph.domain.PerformerPartial(a,e)):a},bespoke.sph.domain.WorkflowDesigner=function(e){var a={$type:"Bespoke.Sph.Domain.WorkflowDesigner, domain.sph",X:ko.observable(0),Y:ko.observable(0),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.WorkflowDesignerPartial?_(a).extend(new bespoke.sph.domain.WorkflowDesignerPartial(a,e)):a},bespoke.sph.domain.SimpleMapping=function(e){var a=new bespoke.sph.domain.PropertyMapping(e);a.$type="Bespoke.Sph.Domain.SimpleMapping, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SimpleMappingPartial?_(a).extend(new bespoke.sph.domain.SimpleMappingPartial(a,e)):a},bespoke.sph.domain.FunctoidMapping=function(e){var a=new bespoke.sph.domain.PropertyMapping(e);a.$type="Bespoke.Sph.Domain.FunctoidMapping, domain.sph",a.Functoid=ko.observable();//type but not nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FunctoidMappingPartial?_(a).extend(new bespoke.sph.domain.FunctoidMappingPartial(a,e)):a},bespoke.sph.domain.CreateEntityActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.EntityType=ko.observable(""),a.ReturnValuePath=ko.observable(""),a.$type="Bespoke.Sph.Domain.CreateEntityActivity, domain.sph",a.PropertyMappingCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CreateEntityActivityPartial?_(a).extend(new bespoke.sph.domain.CreateEntityActivityPartial(a,e)):a},bespoke.sph.domain.ExpressionActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.$type="Bespoke.Sph.Domain.ExpressionActivity, domain.sph",a.Expression=ko.observable();//type but not nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ExpressionActivityPartial?_(a).extend(new bespoke.sph.domain.ExpressionActivityPartial(a,e)):a},bespoke.sph.domain.DeleteEntityActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.EntityType=ko.observable(""),a.EntityIdPath=ko.observable(""),a.$type="Bespoke.Sph.Domain.DeleteEntityActivity, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DeleteEntityActivityPartial?_(a).extend(new bespoke.sph.domain.DeleteEntityActivityPartial(a,e)):a},bespoke.sph.domain.UpdateEntityActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.Entity=ko.observable(""),a.EntityIdPath=ko.observable(""),a.UseVariable=ko.observable(""),a.IsUsingVariable=ko.observable(!1),a.$type="Bespoke.Sph.Domain.UpdateEntityActivity, domain.sph",a.PropertyMappingCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.UpdateEntityActivityPartial?_(a).extend(new bespoke.sph.domain.UpdateEntityActivityPartial(a,e)):a},bespoke.sph.domain.ScriptFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Expression=ko.observable(""),a.$type="Bespoke.Sph.Domain.ScriptFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ScriptFunctoidPartial?_(a).extend(new bespoke.sph.domain.ScriptFunctoidPartial(a,e)):a},bespoke.sph.domain.ConfirmationOptions=function(e){var a={$type:"Bespoke.Sph.Domain.ConfirmationOptions, domain.sph",Type:ko.observable(""),Value:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ConfirmationOptionsPartial?_(a).extend(new bespoke.sph.domain.ConfirmationOptionsPartial(a,e)):a},bespoke.sph.domain.ReceiveActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.PortType=ko.observable(""),a.Operation=ko.observable(""),a.MessagePath=ko.observable(""),a.CancelMessageBody=ko.observable(""),a.CancelMessageSubject=ko.observable(""),a.$type="Bespoke.Sph.Domain.ReceiveActivity, domain.sph",a.InitializingCorrelationSetCollection=ko.observableArray([]),a.FollowingCorrelationSetCollection=ko.observableArray([]),a.CorrelationPropertyCollection=ko.observableArray([]),a.Performer=ko.observable(new bespoke.sph.domain.Performer);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReceiveActivityPartial?_(a).extend(new bespoke.sph.domain.ReceiveActivityPartial(a,e)):a},bespoke.sph.domain.SendActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.PortType=ko.observable(""),a.Adapter=ko.observable(""),a.Method=ko.observable(""),a.AdapterAssembly=ko.observable(""),a.IsSynchronous=ko.observable(!1),a.ArgumentPath=ko.observable(""),a.ReturnValuePath=ko.observable(""),a.$type="Bespoke.Sph.Domain.SendActivity, domain.sph",a.ExceptionFilterCollection=ko.observableArray([]),a.InitializingCorrelationSetCollection=ko.observableArray([]),a.FollowingCorrelationSetCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SendActivityPartial?_(a).extend(new bespoke.sph.domain.SendActivityPartial(a,e)):a},bespoke.sph.domain.ListenActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.$type="Bespoke.Sph.Domain.ListenActivity, domain.sph",a.ListenBranchCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ListenActivityPartial?_(a).extend(new bespoke.sph.domain.ListenActivityPartial(a,e)):a},bespoke.sph.domain.ParallelActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.$type="Bespoke.Sph.Domain.ParallelActivity, domain.sph",a.ParallelBranchCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParallelActivityPartial?_(a).extend(new bespoke.sph.domain.ParallelActivityPartial(a,e)):a},bespoke.sph.domain.JoinActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.Placeholder=ko.observable(""),a.$type="Bespoke.Sph.Domain.JoinActivity, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.JoinActivityPartial?_(a).extend(new bespoke.sph.domain.JoinActivityPartial(a,e)):a},bespoke.sph.domain.DelayActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.Expression=ko.observable(""),a.$type="Bespoke.Sph.Domain.DelayActivity, domain.sph",a.Miliseconds=ko.observable(),a.Seconds=ko.observable(),a.Hour=ko.observable(),a.Days=ko.observable();//type but not nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DelayActivityPartial?_(a).extend(new bespoke.sph.domain.DelayActivityPartial(a,e)):a},bespoke.sph.domain.ThrowActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.Message=ko.observable(""),a.$type="Bespoke.Sph.Domain.ThrowActivity, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ThrowActivityPartial?_(a).extend(new bespoke.sph.domain.ThrowActivityPartial(a,e)):a},bespoke.sph.domain.ParallelBranch=function(e){var a=new bespoke.sph.domain.Activity(e);a.$type="Bespoke.Sph.Domain.ParallelBranch, domain.sph",a.ActivityCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParallelBranchPartial?_(a).extend(new bespoke.sph.domain.ParallelBranchPartial(a,e)):a},bespoke.sph.domain.ListenBranch=function(e){var a=new bespoke.sph.domain.Activity(e);a.IsWaitingAsync=ko.observable(!1),a.IsDestroyed=ko.observable(!1),a.$type="Bespoke.Sph.Domain.ListenBranch, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ListenBranchPartial?_(a).extend(new bespoke.sph.domain.ListenBranchPartial(a,e)):a},bespoke.sph.domain.ValueObjectVariable=function(e){var a=new bespoke.sph.domain.Variable(e);a.ValueObjectDefinition=ko.observable(""),a.$type="Bespoke.Sph.Domain.ValueObjectVariable, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ValueObjectVariablePartial?_(a).extend(new bespoke.sph.domain.ValueObjectVariablePartial(a,e)):a},bespoke.sph.domain.ClrTypeVariable=function(e){var a=new bespoke.sph.domain.Variable(e);a.Assembly=ko.observable(""),a.CanInitiateWithDefaultConstructor=ko.observable(!1),a.$type="Bespoke.Sph.Domain.ClrTypeVariable, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ClrTypeVariablePartial?_(a).extend(new bespoke.sph.domain.ClrTypeVariablePartial(a,e)):a},bespoke.sph.domain.ScheduledTriggerActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.$type="Bespoke.Sph.Domain.ScheduledTriggerActivity, domain.sph",a.IntervalScheduleCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ScheduledTriggerActivityPartial?_(a).extend(new bespoke.sph.domain.ScheduledTriggerActivityPartial(a,e)):a},bespoke.sph.domain.Tracker=function(e){var a={$type:"Bespoke.Sph.Domain.Tracker, domain.sph",Id:ko.observable("0"),WorkflowId:ko.observable(""),WorkflowDefinitionId:ko.observable(""),ForbiddenActivities:ko.observableArray([]),ExecutedActivityCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TrackerPartial?_(a).extend(new bespoke.sph.domain.TrackerPartial(a,e)):a},bespoke.sph.domain.ExecutedActivity=function(e){var a={$type:"Bespoke.Sph.Domain.ExecutedActivity, domain.sph",InstanceId:ko.observable(""),ActivityWebId:ko.observable(""),WorkflowDefinitionId:ko.observable(""),User:ko.observable(""),Name:ko.observable(""),Type:ko.observable(""),IsCancelled:ko.observable(!1),Initiated:ko.observable(),Run:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ExecutedActivityPartial?_(a).extend(new bespoke.sph.domain.ExecutedActivityPartial(a,e)):a},bespoke.sph.domain.Breakpoint=function(e){var a={$type:"Bespoke.Sph.Domain.Breakpoint, domain.sph",IsEnabled:ko.observable(!1),ActivityWebId:ko.observable(""),WorkflowDefinitionId:ko.observable(""),ConditionExpression:ko.observable(""),HitCount:ko.observable(0),Label:ko.observable(""),WhenHitPrintMessage:ko.observable(!1),WhenHitContinueExecution:ko.observable(!1),MessageExpression:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.BreakpointPartial?_(a).extend(new bespoke.sph.domain.BreakpointPartial(a,e)):a},bespoke.sph.domain.ReferencedAssembly=function(e){var a={$type:"Bespoke.Sph.Domain.ReferencedAssembly, domain.sph",Name:ko.observable(""),FullName:ko.observable(""),Version:ko.observable(""),Location:ko.observable(""),IsGac:ko.observable(!1),IsStrongName:ko.observable(!1),RuntimeVersion:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ReferencedAssemblyPartial?_(a).extend(new bespoke.sph.domain.ReferencedAssemblyPartial(a,e)):a},bespoke.sph.domain.MappingActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.MappingDefinition=ko.observable(""),a.DestinationType=ko.observable(""),a.OutputPath=ko.observable(""),a.$type="Bespoke.Sph.Domain.MappingActivity, domain.sph",a.MappingSourceCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MappingActivityPartial?_(a).extend(new bespoke.sph.domain.MappingActivityPartial(a,e)):a},bespoke.sph.domain.MappingSource=function(e){var a={$type:"Bespoke.Sph.Domain.MappingSource, domain.sph",TypeName:ko.observable(""),Variable:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MappingSourcePartial?_(a).extend(new bespoke.sph.domain.MappingSourcePartial(a,e)):a},bespoke.sph.domain.TransformDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.TransformDefinition, domain.sph",Id:ko.observable("0"),Name:ko.observable(""),Description:ko.observable(""),InputTypeName:ko.observable(""),OutputTypeName:ko.observable(""),IsPublished:ko.observable(!1),MapCollection:ko.observableArray([]),FunctoidCollection:ko.observableArray([]),InputCollection:ko.observableArray([]),ReferencedAssemblyCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TransformDefinitionPartial?_(a).extend(new bespoke.sph.domain.TransformDefinitionPartial(a,e)):a},bespoke.sph.domain.DirectMap=function(e){var a=new bespoke.sph.domain.Map(e);a.Source=ko.observable(""),a.TypeName=ko.observable(""),a.$type="Bespoke.Sph.Domain.DirectMap, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DirectMapPartial?_(a).extend(new bespoke.sph.domain.DirectMapPartial(a,e)):a},bespoke.sph.domain.FunctoidMap=function(e){var a=new bespoke.sph.domain.Map(e);a.__uuid=ko.observable(""),a.Functoid=ko.observable(""),a.$type="Bespoke.Sph.Domain.FunctoidMap, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FunctoidMapPartial?_(a).extend(new bespoke.sph.domain.FunctoidMapPartial(a,e)):a},bespoke.sph.domain.StringConcateFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.$type="Bespoke.Sph.Domain.StringConcateFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.StringConcateFunctoidPartial?_(a).extend(new bespoke.sph.domain.StringConcateFunctoidPartial(a,e)):a},bespoke.sph.domain.ParseBooleanFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Format=ko.observable(""),a.SourceField=ko.observable(""),a.$type="Bespoke.Sph.Domain.ParseBooleanFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParseBooleanFunctoidPartial?_(a).extend(new bespoke.sph.domain.ParseBooleanFunctoidPartial(a,e)):a},bespoke.sph.domain.ParseDoubleFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Styles=ko.observable(""),a.$type="Bespoke.Sph.Domain.ParseDoubleFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParseDoubleFunctoidPartial?_(a).extend(new bespoke.sph.domain.ParseDoubleFunctoidPartial(a,e)):a},bespoke.sph.domain.ParseDecimalFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Styles=ko.observable(""),a.$type="Bespoke.Sph.Domain.ParseDecimalFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParseDecimalFunctoidPartial?_(a).extend(new bespoke.sph.domain.ParseDecimalFunctoidPartial(a,e)):a},bespoke.sph.domain.ParseInt32Functoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Styles=ko.observable(""),a.$type="Bespoke.Sph.Domain.ParseInt32Functoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParseInt32FunctoidPartial?_(a).extend(new bespoke.sph.domain.ParseInt32FunctoidPartial(a,e)):a},bespoke.sph.domain.ParseDateTimeFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Format=ko.observable(""),a.Styles=ko.observable(""),a.Culture=ko.observable(""),a.$type="Bespoke.Sph.Domain.ParseDateTimeFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ParseDateTimeFunctoidPartial?_(a).extend(new bespoke.sph.domain.ParseDateTimeFunctoidPartial(a,e)):a},bespoke.sph.domain.FormattingFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Format=ko.observable(""),a.$type="Bespoke.Sph.Domain.FormattingFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FormattingFunctoidPartial?_(a).extend(new bespoke.sph.domain.FormattingFunctoidPartial(a,e)):a},bespoke.sph.domain.FunctoidArg=function(e){var a={$type:"Bespoke.Sph.Domain.FunctoidArg, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),Description:ko.observable(""),Label:ko.observable(""),Comment:ko.observable(""),IsOptional:ko.observable(!1),Functoid:ko.observable(""),Constant:ko.observable(""),Default:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FunctoidArgPartial?_(a).extend(new bespoke.sph.domain.FunctoidArgPartial(a,e)):a},bespoke.sph.domain.ConstantFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.TypeName=ko.observable(""),a.$type="Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",a.Value=ko.observable();//type but not nillable
var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ConstantFunctoidPartial?_(a).extend(new bespoke.sph.domain.ConstantFunctoidPartial(a,e)):a},bespoke.sph.domain.SourceFunctoid=function(e){var a=new bespoke.sph.domain.Functoid(e);a.Field=ko.observable(""),a.$type="Bespoke.Sph.Domain.SourceFunctoid, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SourceFunctoidPartial?_(a).extend(new bespoke.sph.domain.SourceFunctoidPartial(a,e)):a},bespoke.sph.domain.ExceptionFilter=function(e){var a={$type:"Bespoke.Sph.Domain.ExceptionFilter, domain.sph",TypeName:ko.observable(""),Filter:ko.observable(""),Interval:ko.observable(),IntervalPeriod:ko.observable(),MaxRequeue:ko.observable(),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ExceptionFilterPartial?_(a).extend(new bespoke.sph.domain.ExceptionFilterPartial(a,e)):a},bespoke.sph.domain.CorrelationType=function(e){var a={$type:"Bespoke.Sph.Domain.CorrelationType, domain.sph",Name:ko.observable(""),CorrelationPropertyCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CorrelationTypePartial?_(a).extend(new bespoke.sph.domain.CorrelationTypePartial(a,e)):a},bespoke.sph.domain.CorrelationSet=function(e){var a={$type:"Bespoke.Sph.Domain.CorrelationSet, domain.sph",Type:ko.observable(""),Name:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CorrelationSetPartial?_(a).extend(new bespoke.sph.domain.CorrelationSetPartial(a,e)):a},bespoke.sph.domain.CorrelationProperty=function(e){var a={$type:"Bespoke.Sph.Domain.CorrelationProperty, domain.sph",Path:ko.observable(""),Name:ko.observable(""),Origin:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CorrelationPropertyPartial?_(a).extend(new bespoke.sph.domain.CorrelationPropertyPartial(a,e)):a},bespoke.sph.domain.ChildWorkflowActivity=function(e){var a=new bespoke.sph.domain.Activity(e);a.WorkflowDefinitionId=ko.observable(""),a.Version=ko.observable(0),a.$type="Bespoke.Sph.Domain.ChildWorkflowActivity, domain.sph",a.PropertyMappingCollection=ko.observableArray([]),a.ExecutedPropertyMappingCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ChildWorkflowActivityPartial?_(a).extend(new bespoke.sph.domain.ChildWorkflowActivityPartial(a,e)):a},bespoke.sph.domain.TryScope=function(e){var a=new bespoke.sph.domain.Scope(e);a.$type="Bespoke.Sph.Domain.TryScope, domain.sph",a.CatchScopeCollection=ko.observableArray([]);var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.TryScopePartial?_(a).extend(new bespoke.sph.domain.TryScopePartial(a,e)):a},bespoke.sph.domain.CatchScope=function(e){var a=new bespoke.sph.domain.Scope(e);a.ExceptionType=ko.observable(""),a.ExceptionVar=ko.observable(""),a.$type="Bespoke.Sph.Domain.CatchScope, domain.sph";var s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){// array
if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CatchScopePartial?_(a).extend(new bespoke.sph.domain.CatchScopePartial(a,e)):a},bespoke.sph.domain.SendPort=function(e){var a={$type:"Bespoke.Sph.Domain.SendPort, domain.sph",Name:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SendPortPartial?_(a).extend(new bespoke.sph.domain.SendPortPartial(a,e)):a},bespoke.sph.domain.SendPortDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.SendPortDefinition, domain.sph",Name:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.SendPortDefinitionPartial?_(a).extend(new bespoke.sph.domain.SendPortDefinitionPartial(a,e)):a},bespoke.sph.domain.DataTransferDefinition=function(e){var a={$type:"Bespoke.Sph.Domain.DataTransferDefinition, domain.sph",Name:ko.observable(""),InboundAdapter:ko.observable(""),InboundMap:ko.observable(""),SelectStatement:ko.observable(""),Table:ko.observable(""),Entity:ko.observable(""),BatchSize:ko.observable(0),IgnoreMessaging:ko.observable(!1),DelayThrottle:ko.observable(),SqlRetry:ko.observable(),SqlWait:ko.observable(),EsRetry:ko.observable(),EsWait:ko.observable(),IntervalScheduleCollection:ko.observableArray([]),ScheduledDataTransferCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.DataTransferDefinitionPartial?_(a).extend(new bespoke.sph.domain.DataTransferDefinitionPartial(a,e)):a},bespoke.sph.domain.ScheduledDataTransfer=function(e){var a={$type:"Bespoke.Sph.Domain.ScheduledDataTransfer, domain.sph",ScheduleWebId:ko.observable(""),NotifyOnError:ko.observable(!1),NotifyOnSuccess:ko.observable(!1),TruncateData:ko.observable(!1),isBusy:ko.observable(!1),WebId:ko.observable()},s=require("services/datacontext");if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)){if(ko.isObservable(a[o])&&"push"in a[o]){var r=e[o].$values||e[o];if(_(r).isArray()){a[o](_(r).map(function(i){return s.toObservable(i)}));continue}}ko.isObservable(a[o])&&a[o](e[o])}return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ScheduledDataTransferPartial?_(a).extend(new bespoke.sph.domain.ScheduledDataTransferPartial(a,e)):a},bespoke.sph.domain.Field=function(e){var a={$type:"Bespoke.Sph.Domain.Field, domain.sph",Name:ko.observable(""),Note:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FieldPartial?_(a).extend(new bespoke.sph.domain.FieldPartial(a,e)):a},bespoke.sph.domain.CustomAction=function(e){var a={$type:"Bespoke.Sph.Domain.CustomAction, domain.sph",Title:ko.observable(""),IsActive:ko.observable(!1),TriggerId:ko.observable(""),Note:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.CustomActionPartial?_(a).extend(new bespoke.sph.domain.CustomActionPartial(a,e)):a},bespoke.sph.domain.Activity=function(e){var a={$type:"Bespoke.Sph.Domain.Activity, domain.sph",IsInitiator:ko.observable(!1),NextActivityWebId:ko.observable(""),Name:ko.observable(""),TryScope:ko.observable(""),CatchScope:ko.observable(""),Note:ko.observable(""),WorkflowDesigner:ko.observable(new bespoke.sph.domain.WorkflowDesigner),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ActivityPartial?_(a).extend(new bespoke.sph.domain.ActivityPartial(a,e)):a},bespoke.sph.domain.Variable=function(e){var a={$type:"Bespoke.Sph.Domain.Variable, domain.sph",Name:ko.observable(""),TypeName:ko.observable(""),DefaultValue:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.VariablePartial?_(a).extend(new bespoke.sph.domain.VariablePartial(a,e)):a},bespoke.sph.domain.PropertyMapping=function(e){var a={$type:"Bespoke.Sph.Domain.PropertyMapping, domain.sph",Source:ko.observable(""),Destination:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.PropertyMappingPartial?_(a).extend(new bespoke.sph.domain.PropertyMappingPartial(a,e)):a},bespoke.sph.domain.Functoid=function(e){var a={$type:"Bespoke.Sph.Domain.Functoid, domain.sph",Name:ko.observable(""),OutputTypeName:ko.observable(""),Label:ko.observable(""),Comment:ko.observable(""),X:ko.observable(0),Y:ko.observable(0),ArgumentCollection:ko.observableArray([]),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.FunctoidPartial?_(a).extend(new bespoke.sph.domain.FunctoidPartial(a,e)):a},bespoke.sph.domain.Map=function(e){var a={$type:"Bespoke.Sph.Domain.Map, domain.sph",Destination:ko.observable(""),SourceTypeName:ko.observable(""),DestinationTypeName:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.MapPartial?_(a).extend(new bespoke.sph.domain.MapPartial(a,e)):a},bespoke.sph.domain.Scope=function(e){var a={$type:"Bespoke.Sph.Domain.Scope, domain.sph",Id:ko.observable(""),Name:ko.observable(""),isBusy:ko.observable(!1),WebId:ko.observable()};if(e&&"object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&"function"==typeof a[s]&&a[s](e[s]);return e&&"string"==typeof e&&a.WebId(e),bespoke.sph.domain.ScopePartial?_(a).extend(new bespoke.sph.domain.ScopePartial(a,e)):a},bespoke.sph.domain.FieldType=function(){return{DOCUMENT_FIELD:"DocumentField",CONSTANT_FIELD:"ConstantField",FUNCTION_FIELD:"FunctionField",DO_NOT_SELECT:"DONTDOTHIS"}}(),bespoke.sph.domain.Operator=function(){return{EQ:"Eq",LT:"Lt",LE:"Le",GT:"Gt",GE:"Ge",SUBSTRINGOF:"Substringof",STARTS_WITH:"StartsWith",ENDS_WITH:"EndsWith",NOT_CONTAINS:"NotContains",NEQ:"Neq",NOT_STARTS_WITH:"NotStartsWith",NOT_ENDS_WITH:"NotEndsWith",IS_NULL:"IsNull",IS_NOT_NULL:"IsNotNull",DO_NOT_SELECT:"DONTDOTHIS"}}();
bespoke.sph.domain.BusinessRuleBase=function(){return{addBusinessRule:function(){var a=require(objectbuilders.system),b=new bespoke.sph.domain.BusinessRule(a.guid());b.Name('<YOUR RULE NAME>'),this.BusinessRuleCollection.push(b)},removeBusinessRule:function(a){var b=this;return function(){b.BusinessRuleCollection.remove(a)}},editBusinessRule:function(a){var b=this;return function(){b.selectedBusinessRule(a)}}}};///#source 1 1 /SphApp/prototypes/FieldContainer.js
/// <reference path="../objectbuilders.js" />
/// <reference path="../services/datacontext.js" />
/// <reference path="../schemas/sph.domain.g.js" />
/// <reference path="../durandal/system.js" />
/// <reference path="../durandal/amd/require.js" />
/// <reference path="../../Scripts/underscore.js" />
/// <reference path="../../Scripts/knockout-2.3.0.debug.js" />
/// <reference path="../../Scripts/knockout.mapping-latest.debug.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.FieldContainer=function(){var a=function(b,c,d){require(['viewmodels/'+d,'durandal/app'],function(e,f){e.field(c),f.showDialog(e).done(function(h){h&&'OK'===h&&b(c)})})};return{addField:function(b,c){var d=require('durandal/system'),e=new bespoke.sph.domain[c+'Field'](d.guid());a(b,e,'field.'+c.toLowerCase())},editField:function(b){var c=this;return function(){var d=ko.unwrap(b.$type),e=ko.mapping.fromJS(ko.mapping.toJS(b)),f=/Bespoke\.Sph\.Domain\.(.*?)Field,/,h=f.exec(d)[1];a(c.Field,e,'field.'+h.toLowerCase())}}}};///#source 1 1 /SphApp/prototypes/IntervalScheduleContainer.js
/// <reference path="../schemas/report.builder.g.js" />
/// <reference path="../../Scripts/knockout-3.1.0.debug.js" />
/// <reference path="../../Scripts/knockout.mapping-latest.debug.js" />
/// <reference path="../../Scripts/underscore.js" />
/// <reference path="../../Scripts/jquery-2.0.3.intellisense.js" />
/// <reference path="../../App/durandal/amd/require.js" />
/// <reference path="../../App/durandal/system.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.IntervalScheduleContainer=function(){// IntervalSchedule
var a=require('durandal/system');return{addIntervalSchedule:function(b){var c=new bespoke.sph.domain[b+'Schedule'](a.guid()),d=this;return function(){require(['viewmodels/schedule.'+b.toLowerCase(),'durandal/app'],function(e,f){e.schedule(c),f.showDialog(e).done(function(h){h&&'OK'===h&&d.IntervalScheduleCollection.push(c)})})}},editSchedule:function(b){return function(){var c=ko.unwrap(b.$type),d=ko.mapping.fromJS(ko.mapping.toJS(b)),e=/Bespoke\.Sph\.Domain\.(.*?)Schedule,/,f=e.exec(c)[1];require(['viewmodels/schedule.'+f.toLowerCase(),'durandal/app'],function(h,i){h.schedule(d),i.showDialog(h).done(function(j){if(j&&'OK'===j)for(var k in b)'function'==typeof b[k]&&'observable'===b[k].name?b[k](ko.unwrap(d[k])):b[k]=d[k]})})}},removeIntervalSchedule:function(b){var c=this;return function(){c.IntervalScheduleCollection.remove(b)}}}};
/// <reference path="../schemas/report.builder.g.js" />
/// <reference path="../../Scripts/knockout-3.4.0.debug.js" />
/// <reference path="../../Scripts/require.js" />
/// <reference path="../../Scripts/underscore.js" />
/// <reference path="../../Scripts/jquery-2.0.3.intellisense.js" />
/// <reference path="../../App/durandal/amd/require.js" />
/// <reference path="../../App/durandal/system.js" />
var bespoke=bespoke||{};bespoke.sph=bespoke.sph||{},bespoke.sph.domain=bespoke.sph.domain||{},bespoke.sph.domain.ActivityPartial=function(){var e=require('durandal/system'),o=ko.observable(),a=ko.observable(!1),i=ko.observable(!1),l=ko.observable(!1),r=ko.observableArray();return{breakpoint:a,hit:l,selected:i,hasError:o,errors:r}},bespoke.sph.domain.AssemblyFieldPartial=function(){var e=require(objectbuilders.system);return{addParameter:function(){this.MethodArgCollection.push(new bespoke.sph.domain.MethodArg(e.guid()))},removeParameter:function(o){var a=this;return function(){a.MethodArgCollection.remove(o)}}}},bespoke.sph.domain.BarChartItemPartial=function(){var e=require('durandal/system');return{addSeries:function(){this.ChartSeriesCollection.push(new bespoke.sph.domain.ChartSeries(e.guid()))},removeSeries:function(o){var a=this;return function(){a.ChartSeriesCollection.remove(o)}}}},bespoke.sph.domain.BusinessRulePartial=function(e){var o=require('durandal/system');return{addFilter:function(){var a=this,i=new bespoke.sph.domain.Rule(o.guid());i.Left({Name:ko.observable('+ Field')}),i.Right({Name:ko.observable('+ Field')}),a.FilterCollection.push(i)},removeFilter:function(a){var i=this;return function(){i.FilterCollection.remove(a)}},addRule:function(){var a=this,i=new bespoke.sph.domain.Rule(o.guid());i.Left({Name:ko.observable('+ Field')}),i.Right({Name:ko.observable('+ Field')}),a.RuleCollection.push(i)},removeRule:function(a){var i=this;return function(){i.RuleCollection.remove(a)}}}},bespoke.sph.domain.ButtonPartial=function(){var e=ko.computed(function(){});return{editCommand:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.Command),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.Command(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},editOperationSuccessCallback:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.OperationSuccessCallback),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.OperationSuccessCallback(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},editOperationFailureCallback:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.OperationFailureCallback),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.OperationFailureCallback(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},canSetSuccessCallback:e}},bespoke.sph.domain.CatchScopePartial=function(){},bespoke.sph.domain.ChildEntityListViewPartial=function(e){// ViewColumn
var o=require('durandal/system');return{addSort:function(){this.SortCollection.push(new bespoke.sph.domain.Sort(o.guid()))},removeSort:function(a){var i=this;return function(){i.SortCollection.remove(a)}},addViewColumn:function(){this.ViewColumnCollection.push(new bespoke.sph.domain.ViewColumn({WebId:o.guid(),Header:'<New Column>'}))},editViewColumn:function(a){return function(){var i=ko.mapping.fromJS(ko.mapping.toJS(a));require(['viewmodels/view.column.dialog','durandal/app'],function(l,r){l.column(i),l.entity(e.Entity()),r.showDialog(l).done(function(d){if(d&&'OK'===d)for(var s in a)'function'==typeof a[s]&&'observable'===a[s].name?a[s](ko.unwrap(i[s])):a[s]=i[s]})})}},removeViewColumn:function(a){var i=this;return function(){i.ViewColumnCollection.remove(a)}}}},bespoke.sph.domain.ChildWorkflowActivityPartial=function(){var e=require('durandal/system');return{addExecutedMapping:function(){var o=new bespoke.sph.domain.PropertyMapping(e.guid());this.ExecutedPropertyMappingCollection.push(o)},removeExecutedMapping:function(o){var a=this;return function(){a.ExecutedPropertyMappingCollection.remove(o)}},addMapping:function(){var o=new bespoke.sph.domain.PropertyMapping(e.guid());this.PropertyMappingCollection.push(o)},removeMapping:function(o){var a=this;return function(){a.PropertyMappingCollection.remove(o)}}}},bespoke.sph.domain.ComboBoxPartial=function(){var e=require('durandal/system');return{addItem:function(){var o=this,a=new bespoke.sph.domain.ComboBoxItem(e.guid());o.ComboBoxItemCollection.push(a)},removeItem:function(o){var a=this;return function(){a.ComboBoxItemCollection.remove(o)}}}},bespoke.sph.domain.ComplexMemberPartial=function(e){e.Name.subscribe(function(o){ko.unwrap(e.TypeName)||$.get('/entity-definition/singular/'+o).done(e.TypeName)})},bespoke.sph.domain.ConstantFieldPartial=function(e,o){var a={Type:ko.observable(),Value:ko.observable(o.Value)};return a.Value.subscribe(function(i){ko.unwrap(e.Name)||e.Name(i)}),a},bespoke.sph.domain.CorrelationTypePartial=function(){var e=require('durandal/system');return{removeCorrelationProperty:function(o){var a=this;return function(){a.CorrelationPropertyCollection.remove(o)}},addCorrelationProperty:function(){this.CorrelationPropertyCollection.push(new bespoke.sph.domain.CorrelationProperty(e.guid()))}}},bespoke.sph.domain.CreateEntityActivityPartial=function(){var e=require('durandal/system');return{addPropertyMapping:function(o){var a=this;return function(){var i=new bespoke.sph.domain[o+'Mapping'](e.guid());a.PropertyMappingCollection.push(i)}},removePropertyMapping:function(o){var a=this;return function(){a.PropertyMappingCollection.remove(o)}}}},bespoke.sph.domain.DataGridItemPartial=function(){// DataGridGroup
var e=require('durandal/system');return{addColumn:function(){var o=this;o.DataGridColumnCollection.push(new bespoke.sph.domain.DataGridColumn(e.guid()))},removeColumn:function(o){var a=this;return function(){a.DataGridColumnCollection.remove(o)}},addDataGridGroupDefinition:function(){this.DataGridGroupDefinitionCollection.push(new bespoke.sph.domain.DataGridGroupDefinition(e.guid()))},removeDataGridGroupDefinition:function(o){var a=this;return function(){a.DataGridGroupDefinitionCollection.remove(o)}}}},bespoke.sph.domain.DecisionActivityPartial=function(){var e=require('durandal/system');return{addBranch:function(){this.DecisionBranchCollection.push(new bespoke.sph.domain.DecisionBranch(e.guid()))},removeBranch:function(o){var a=this;return function(){a.DecisionBranchCollection.remove(o)}},multipleEndPoints:function(){return this.DecisionBranchCollection()}}},bespoke.sph.domain.DelayActivityPartial=function(){return{isAsync:!0}},bespoke.sph.domain.DelimitedTextFormatterPartial=function(e){const o=require('durandal/system'),a=ko.observable(new bespoke.sph.domain.FlatFileDetailTag),i=ko.observableArray(['$record']),l=function(d){d&&0>i().indexOf(d)&&i.push(d)},r=ko.computed(function(){return ko.unwrap(e.SampleStoreId)&&ko.unwrap(e.Delimiter)});return{isWizardOk:r,selectedRow:a,selectRow:function(d){a(d)},addDetailsRow:function(){const d=new bespoke.sph.domain.FlatFileDetailTag(o.guid());d.nameChangedSubscription=d.Name.subscribe(l),this.DetailRowCollection.push(d),a(d)},removeDetailsRow:function(d){var s=this;return function(){s.DetailRowCollection.remove(d),d.nameChangedSubscription&&d.nameChangedSubscription.dispose()}},parentOptions:i}},bespoke.sph.domain.EntityChartPartial=function(e){var o=require(objectbuilders.datacontext);return{pin:function(){'function'==typeof e.IsDashboardItem?e.IsDashboardItem(!0):e.IsDashboardItem=ko.observable(!0);var a=new $.Deferred;return o.post(ko.mapping.toJSON(e),'/sph/entitychart/save').done(a.resolve),a.promise()},unpin:function(){'function'==typeof e.IsDashboardItem?e.IsDashboardItem(!1):e.IsDashboardItem=ko.observable(!1);var a=new $.Deferred;return o.post(ko.mapping.toJSON(e),'/sph/entitychart/save').done(a.resolve),a.promise()}}},bespoke.sph.domain.ServiceContractPartial=function(){var e=require(objectbuilders.datacontext);return{publish:function(o){return e.post(ko.toJSON(o),'/entity-definition/publish/service-contract')}}},bespoke.sph.domain.EntityDefinitionPartial=function(){var e=require('durandal/system'),o=require('durandal/app'),a=require(objectbuilders.datacontext),i=function(){var l=this;a.post(ko.toJSON(l),'/entity-definition').then(function(r){r.success})};return{addEntityOperation:function(){this.EntityOperationCollection.push(new bespoke.sph.domain.EntityOperation({WebId:e.guid()}))},removeEntityOperation:function(l){var r=this;return function(){var d=new $.Deferred;return o.showMessage('Are you sure you want to remove this operation, this operation cannot be undone and will commit the entire changes to your EntityDefinition','Reactive Developer',['Yes','No']).done(function(s){'Yes'===s&&(r.EntityOperationCollection.remove(l),i.call(r))}),d.promise()}},addMember:function(){this.MemberCollection.push(new bespoke.sph.domain.Member({WebId:e.guid(),Boost:1}))},editMember:function(l){var r=this;return function(){require(['viewmodels/member.dialog','durandal/app'],function(d,s){var m=ko.mapping.fromJS(ko.mapping.toJS(l));d.member(m),s.showDialog(d).done(function(u){u&&'OK'===u&&r.BlockCollection.replace(l,m)})})}},removeMember:function(l){var r=this;return function(){r.MemberCollection.remove(l)}},addBusinessRule:function(){var l=new bespoke.sph.domain.BusinessRule({WebId:e.guid()}),r=this;require(['viewmodels/business.rule.dialog','durandal/app'],function(d,s){d.rule(l),s.showDialog(d).done(function(m){m&&'OK'===m&&r.BusinessRuleCollection.push(l)})})},editBusinessRule:function(l){var r=this;return function(){require(['viewmodels/business.rule.dialog','durandal/app'],function(d,s){var m=a.toObservable(ko.mapping.toJS(l));d.rule(m),s.showDialog(d).done(function(u){u&&'OK'==u&&r.BusinessRuleCollection.replace(l,m)})})}},removeBusinessRule:function(l){var r=this;return function(){r.BusinessRuleCollection.remove(l)}},editMemberMap:function(l){var r=this;return function(){console.log('show map ',r),console.log(' on member ',l),require(['viewmodels/member.map','durandal/app'],function(d,s){d.init(r.BuildingId(),l.MemberPlanStoreId()),s.showDialog(d).done(function(m){'OK'==m&&l.MemberPlanStoreId(d.spatialStoreId())})})}}}},bespoke.sph.domain.EntityFormPartial=function(){var e=ko.computed(function(){});return{editOperationSuccessCallback:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.OperationSuccessCallback),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.OperationSuccessCallback(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},editOperationFailureCallback:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.OperationFailureCallback),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.OperationFailureCallback(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},canSetSuccessCallback:e}},bespoke.sph.domain.EntityLookupElementPartial=function(){return{editDisplayTemplate:function(){var e=this,o=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),a=o.window||o,i=function(){a.code=ko.unwrap(e.Command),o.code||(o.code='//insert your code here'),a.saved=function(l,r){e.DisplayTemplate(l),r&&o.close()}};a.attachEvent?a.attachEvent('onload',i):i()},editColumns:function(){var e=this;require(['viewmodels/members.selector.dialog','durandal/app'],function(o,a){o.entity(e.Entity()),o.selectedMembers(e.LookupColumnCollection()),a.showDialog(o,e.Entity()).done(function(i){i&&'OK'===i&&e.LookupColumnCollection(o.selectedMembers())})})},editFilter:function(){var e=this;require(['viewmodels/entity.lookup.filter.dialog','durandal/app'],function(o,a){o.entity(e.Entity()),o.selectedFilters(e.FilterCollection()),a.showDialog(o,e.Entity()).done(function(i){i&&'OK'===i&&e.FilterCollection(o.selectedFilters())})})}}},bespoke.sph.domain.EntityViewPartial=function(){// Filter
var e=require('durandal/system');return{addRouteParameter:function(){this.RouteParameterCollection.push(new bespoke.sph.domain.RouteParameter(e.guid()))},removeRouteParameter:function(o){var a=this;return function(){a.RouteParameterCollection.remove(o)}},addConditionalFormatting:function(){this.ConditionalFormattingCollection.push(new bespoke.sph.domain.ConditionalFormatting(e.guid()))},removeConditionalFormatting:function(o){var a=this;return function(){a.ConditionalFormattingCollection.remove(o)}},addViewColumn:function(){this.ViewColumnCollection.push(new bespoke.sph.domain.ViewColumn(e.guid()))},removeViewColumn:function(o){var a=this;return function(){a.ViewColumnCollection.remove(o)}},addSort:function(){this.SortCollection.push(new bespoke.sph.domain.Sort(e.guid()))},removeSort:function(o){var a=this;return function(){a.SortCollection.remove(o)}},addFilter:function(){this.FilterCollection.push(new bespoke.sph.domain.Filter(e.guid()))},removeFilter:function(o){var a=this;return function(){a.FilterCollection.remove(o)}}}},bespoke.sph.domain.ExecutedActivityPartial=function(){var e=require('durandal/system'),o=ko.observable(!1),a=ko.observable(!1),i=ko.observableArray();return{breakpoint:o,hit:a,errors:i}},bespoke.sph.domain.FilterPartial=function(){var e=require('durandal/system'),o=function(a,i,l){require(['viewmodels/'+l,'durandal/app'],function(r,d){r.field(i),'function'==typeof r.entity&&console.log('found the entity dialog :'+r.entity.name),d.showDialog(r).done(function(s){s&&'OK'===s&&a(i)})})};return{addField:function(a,i){var l=new bespoke.sph.domain[i+'Field'](e.guid());o(a,l,'field.'+i.toLowerCase())},editField:function(a){var i=this;return function(){var l=ko.unwrap(a.$type),r=ko.mapping.fromJS(ko.mapping.toJS(a)),d=/Bespoke\.Sph\.Domain\.(.*?)Field,/,s=d.exec(l)[1];o(i.Field,r,'field.'+s.toLowerCase())}}}},bespoke.sph.domain.FormDialogPartial=function(e){var o=require('durandal/system'),a=function(){var r=ko.unwrap(e.DialogButtonCollection);_(r).each(function(m){m.canMoveDown(!0),m.canMoveUp(!0)});var d=_(r).first(),s=_(r).last();d&&d.canMoveUp(!1),s&&s.canMoveDown(!1)},i=function(r,d,s){if(s!==d){var m=r[d],u=s<d?-1:1;for(var h=d;h!==s;h+=u)r[h]=r[h+u];r[s]=m}},l=function(r,d){var s=e.DialogButtonCollection().indexOf(r),m=ko.unwrap(e.DialogButtonCollection);i(m,s,s+d),_(m).each(function(u){u.canMoveDown(!0),u.canMoveUp(!0)}),_(m).first().canMoveUp(!1),_(m).last().canMoveDown(!1),e.DialogButtonCollection(m)};return a(),{removeDialogButton:function(r){e.DialogButtonCollection.remove(r),a()},addDialogButton:function(){e.DialogButtonCollection.push(new bespoke.sph.domain.DialogButton({WebId:o.guid(),canMoveDown:!1})),a()},moveDown:function(r){l(r,1)},moveUp:function(r){l(r,-1)}}},bespoke.sph.domain.DialogButtonPartial=function(e){var o=ko.observable(!0),a=ko.observable(!0);return{canMoveDown:a,canMoveUp:o}},bespoke.sph.domain.FormElementPartial=function(){return{}},bespoke.sph.domain.HtmlElementPartial=function(){return{editHtml:function(){var e=this,o=window.open('/sph/editor/ace?mode=html','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),a=function(){o.code=ko.unwrap(e.Text),o.saved=function(i,l){e.Text(i),l&&o.close()}};o.attachEvent?o.attachEvent('onload',a):a()}}},bespoke.sph.domain.FormTemplatePartial=function(){return{}},bespoke.sph.domain.IntervalSchedulePartial=function(){var e=ko.observable(),o=ko.observable();return{icon:e,name:o}},bespoke.sph.domain.LineChartItemPartial=function(){var e=require('durandal/system');return{addSeries:function(){this.ChartSeriesCollection.push(new bespoke.sph.domain.ChartSeries(e.guid()))},removeSeries:function(o){var a=this;return function(){a.ChartSeriesCollection.remove(o)}}}},bespoke.sph.domain.ListenActivityPartial=function(){var e=require('durandal/system');return{addBranch:function(){var o=this,a=new bespoke.sph.domain.ListenBranch(e.guid());o.ListenBranchCollection.push(a)},removeBranch:function(o){var a=this;return function(){a.ListenBranchCollection.remove(o)}},multipleEndPoints:function(){return this.ListenBranchCollection()}}},bespoke.sph.domain.ListViewPartial=function(e){// ListViewColumn
var o=require('durandal/system');return _(e.ListViewColumnCollection()).each(function(a){a.Input().isSelected=ko.observable(!1)}),{addListViewColumn:function(a){var i=this;return function(){var l=new bespoke.sph.domain.ListViewColumn(o.guid()),r=bespoke.sph.domain[a](o.guid());l.Path.subscribe(function(d){r.Path(d)}),l.Label.subscribe(function(d){r.Label(d)}),l.Input(r),r.isSelected=ko.observable(!1),i.ListViewColumnCollection.push(l)}},removeListViewColumn:function(a){var i=this;return function(){i.ListViewColumnCollection.remove(a)}}}},bespoke.sph.domain.ListViewColumnPartial=function(e){try{var o=/Bespoke\.Sph\.Domain\.(.*?),/,a=ko.unwrap(e.Input),i=null,l=null;a&&(i=o.exec(ko.unwrap(a.$type))[1],l='/images/form.element.'+i+'.png')}catch(d){}l=l||'/images/form.element.textbox.png';var r=ko.observable(l);return e.Input.subscribe(function(d){if(d.$type){var s=/Bespoke\.Sph\.Domain\.(.*?),/,m=s.exec(ko.unwrap(d.$type))[1];r('/images/form.element.'+m+'.png')}}),{icon:r}},bespoke.sph.domain.MappingActivityPartial=function(){var e=require('durandal/system');return{addMappingSource:function(){var o=this,a=new bespoke.sph.domain.MappingSource(e.guid());o.MappingSourceCollection.push(a)},removeMappingSource:function(o){var a=this;return function(){a.MappingSourceCollection.remove(o)}}}},bespoke.sph.domain.MemberPartial=function(e){var o=require('durandal/system'),a=function(i,l,r){require(['viewmodels/'+r,'durandal/app'],function(d,s){d.field(l),s.showDialog(d).done(function(m){m&&'OK'===m&&i(l)})})};return e.AllowMultiple.subscribe(function(i){i?e.DefaultValue(null):e.DefaultValue({Name:ko.observable('[Select a value]')})}),{editPermission:function(i){var l=this;require(['viewmodels/field.permission.dialog','durandal/app'],function(r,d){var s=ko.mapping.fromJS(ko.mapping.toJS(i));r.member(s),d.showDialog(r).done(function(m){m&&'OK'===m&&l.FieldPermissionCollection(s.FieldPermissionCollection())})})},addMember:function(){this.MemberCollection.push(new bespoke.sph.domain.Member(o.guid()))},editMember:function(i){var l=this;return function(){require(['viewmodels/member.dialog','durandal/app'],function(r,d){var s=ko.mapping.fromJS(ko.mapping.toJS(i));r.member(s),d.showDialog(r).done(function(m){m&&'OK'===m&&l.BlockCollection.replace(i,s)})})}},editMemberMap:function(i){var l=this;return function(){console.log('show map ',l),console.log(' on member ',i),require(['viewmodels/member.map','durandal/app'],function(r,d){r.init(l.BuildingId(),i.MemberPlanStoreId()),d.showDialog(r).done(function(s){'OK'===s&&i.MemberPlanStoreId(r.spatialStoreId())})})}},removeMember:function(i){var l=this;return function(){l.MemberCollection.remove(i)}},addField:function(i,l){var r=new bespoke.sph.domain[l+'Field'](o.guid());a(i,r,'field.'+l.toLowerCase())},removeField:function(){var i=this,l=i.Field||i.DefaultValue;return function(){l({Name:ko.observable('[Select a value]')})}},editField:function(i){var l=this;return function(){var r=ko.unwrap(i.$type),d=ko.mapping.fromJS(ko.mapping.toJS(i)),s=/Bespoke\.Sph\.Domain\.(.*?)Field,/,m=s.exec(r)[1];a(l.Field||l.DefaultValue,d,'field.'+m.toLowerCase())}}}},bespoke.sph.domain.MethodArgPartial=function(){var e=require('durandal/system'),o=function(a,i,l){require(['viewmodels/'+l,'durandal/app'],function(r,d){r.field(i),d.showDialog(r).done(function(s){s&&'OK'===s&&a(i)})})};return{addField:function(a,i){var l=new bespoke.sph.domain[i+'Field'](e.guid());o(a,l,'field.'+i.toLowerCase())},editField:function(a){var i=this;return function(){var l=ko.unwrap(a.$type),r=ko.mapping.fromJS(ko.mapping.toJS(a)),d=/Bespoke\.Sph\.Domain\.(.*?)Field,/,s=d.exec(l)[1];o(i.Field,r,'field.'+s.toLowerCase())}}}},bespoke.sph.domain.NotificationActivityPartial=function(e){return e.From()||e.From('admin@@sph.my'),{}},bespoke.sph.domain.OperationEndpointPartial=function(){const e=require('durandal/system');return{editReferencedAssembly:function(o){alert('not implemented'+o)},removeReferencedAssembly:function(o){var a=this;return function(){a.ReferencedAssemblyCollection.remove(o)}},addReferencedAssembly:function(){var o=this;require(['viewmodels/assembly.dialog','durandal/app'],function(a,i){i.showDialog(a).done(function(l){l&&'OK'===l&&_(a.selectedAssemblies()).each(function(r){o.ReferencedAssemblyCollection.push(r)})})})},removePatchPath:function(o){var a=this;return function(){a.PatchPathCollection.remove(o)}},addPatchPath:function(){var o=new bespoke.sph.domain.PatchSetter({WebId:e.guid(),IsRequired:!0});this.PatchPathCollection.push(o)},addChildAction:function(){var o=new bespoke.sph.domain.SetterActionChild(e.guid());o.Field({Name:ko.observable('+ Field')}),this.SetterActionChildCollection.push(o)},removeChildAction:function(o){var a=this;return function(){a.SetterActionChildCollection.remove(o)}}}},bespoke.sph.domain.ParallelActivityPartial=function(){var e=require('durandal/system');return{addBranch:function(){this.ParallelBranchCollection.push(new bespoke.sph.domain.ParallelBranch(e.guid()))},removeBranch:function(o){var a=this;return function(){a.ParallelBranchCollection.remove(o)}},multipleEndPoints:function(){return this.ParallelBranchCollection()}}},bespoke.sph.domain.QueryEndpointPartial=function(e){// Filter
var o=require('durandal/system'),a=ko.observable(ko.unwrap(e.CacheFilter));return{addRouteParameter:function(){this.RouteParameterCollection.push(new bespoke.sph.domain.RouteParameter(o.guid()))},removeRouteParameter:function(i){var l=this;return function(){l.RouteParameterCollection.remove(i)}},addSort:function(){this.SortCollection.push(new bespoke.sph.domain.Sort(o.guid()))},removeSort:function(i){var l=this;return function(){l.SortCollection.remove(i)}},addFilter:function(){this.FilterCollection.push(new bespoke.sph.domain.Filter(o.guid()))},removeFilter:function(i){var l=this;return function(){l.FilterCollection.remove(i)}},allowQueryCache:a}},bespoke.sph.domain.ReceiveActivityPartial=function(){//
var e=require('durandal/system');return{removeCorrelationProperty:function(o){var a=this;return function(){a.CorrelationPropertyCollection.remove(o)}},addCorrelationProperty:function(){this.CorrelationPropertyCollection.push(new bespoke.sph.domain.CorrelationProperty(e.guid()))}}},bespoke.sph.domain.ReceivePortPartial=function(e){const o=require('durandal/system'),a=ko.computed(function(){const i=ko.unwrap(e.Name)&&ko.unwrap(e.Formatter)&&ko.unwrap(e.Entity);return e.TextFormatter()&&ko.isComputed(e.TextFormatter().isWizardOk)?i&&e.TextFormatter().isWizardOk():i});return{editReferencedAssembly:function(i){console.warn(`Not implemented ${i}`)},removeReferencedAssembly:function(i){var l=this;return function(){l.ReferencedAssemblyCollection.remove(i)}},addReferencedAssembly:function(){var i=this;require(['viewmodels/assembly.dialog','durandal/app'],function(l,r){r.showDialog(l).done(function(d){d&&'OK'===d&&_(l.selectedAssemblies()).each(function(s){i.ReferencedAssemblyCollection.push(s)})})})},editHeaderFieldMapping:function(i){var l=this;return function(){require(['viewmodels/receive.port.header.field.dialog','durandal/app'],function(r,d){var s=ko.mapping.fromJS(ko.mapping.toJS(i));r.location(s),r.port(l),d.showDialog(r).done(function(m){m&&'OK'===m&&l.FieldMappingCollection.replace(i,s)})})}},removeHeaderFieldMapping:function(i){var l=this;return function(){l.FieldMappingCollection.remove(i)}},addHeaderFieldMapping:function(){const i=new $.Deferred,l=new bespoke.sph.domain.HeaderFieldMapping({WebId:o.guid()}),r=this;return require(['viewmodels/receive.port.header.field.dialog','durandal/app'],function(d,s){d.field(l),d.port(r),s.showDialog(d).done(function(m){'OK'===m?(r.FieldMappingCollection.push(l),i.resolve(l)):i.resolve(!1)})}),i.promise()},addUriFieldMapping:function(){const i=new $.Deferred,l=new bespoke.sph.domain.UriFieldMapping({WebId:o.guid()}),r=this;return require(['viewmodels/receive.port.uri.field.dialog','durandal/app'],function(d,s){d.field(l),d.port(r),s.showDialog(d).done(function(m){'OK'===m?(r.FieldMappingCollection.push(l),i.resolve(l)):i.resolve(!1)})}),i.promise()},isWizardOk:a}},bespoke.sph.domain.DailySchedulePartial=function(){return{name:ko.observable('Daily Schedule'),icon:ko.observable('fa fa-calendar')}},bespoke.sph.domain.WeeklySchedulePartial=function(){return{name:ko.observable('Weekly Schedule'),icon:ko.observable('fa fa-th-list')}},bespoke.sph.domain.MonthlySchedulePartial=function(){return{name:ko.observable('Monthly Schedule'),icon:ko.observable('fa fa-calendar-o'),dateOptions:_.range(1,31)}},bespoke.sph.domain.ReportDeliveryPartial=function(){return new bespoke.sph.domain.IntervalScheduleContainer},bespoke.sph.domain.RouteParameterPartial=function(e){return e.Type.subscribe(function(o){'System.DateTime, mscorlib'===o&&e.DefaultValue(null)}),{}},bespoke.sph.domain.RouteParameterFieldPartial=function(e){return e.IsOptional.subscribe(function(o){o||e.DefaultValue('')}),{}},bespoke.sph.domain.RulePartial=function(e){const o=require('durandal/system'),a=function(l,r,d){require([`viewmodels/${d}`,'durandal/app'],function(s,m){s.field(r),m.showDialog(s).done(function(u){u&&'OK'===u&&l(r)})})},i=ko.computed(function(){return'IsNull'!==ko.unwrap(e.Operator)&&'IsNotNull'!==ko.unwrap(e.Operator)});return{binaryOperator:i,addField:function(l,r){const d=new bespoke.sph.domain[r+'Field'](o.guid());a(l,d,'field.'+r.toLowerCase())},editField:function(l,r){return function(){const d=ko.unwrap(l.$type),s=ko.mapping.fromJS(ko.mapping.toJS(l)),m=/Bespoke\.Sph\.Domain\.(.*?)Field,/,u=m.exec(d)[1];a(r,s,'field.'+u.toLowerCase())}}}},bespoke.sph.domain.ScheduledTriggerActivityPartial=function(e){var o=new bespoke.sph.domain.IntervalScheduleContainer;return o},bespoke.sph.domain.SetterActionPartial=function(){var e=require('durandal/system');return{addChildAction:function(){var o=new bespoke.sph.domain.SetterActionChild(e.guid());o.Field({Name:ko.observable('+ Field')}),this.SetterActionChildCollection.push(o)},removeChildAction:function(o){var a=this;return function(){a.SetterActionChildCollection.remove(o)}}}},bespoke.sph.domain.SetterActionChildPartial=function(){var e=require('durandal/system'),o=function(a,i,l,r){require(['viewmodels/'+l,'durandal/app'],function(d,s){d.field(i),'function'==typeof d.entity&&(d.entity(r),console.log('found the entity dialog :'+d.entity.name)),s.showDialog(d).done(function(m){m&&'OK'===m&&a(i)})})};return{addField:function(a,i,l){var r=new bespoke.sph.domain[i+'Field'](e.guid());o(a,r,'field.'+i.toLowerCase(),l)},editField:function(a){var i=this;return function(){var l=ko.unwrap(a.$type),r=ko.mapping.fromJS(ko.mapping.toJS(a)),d=/Bespoke\.Sph\.Domain\.(.*?)Field,/,s=d.exec(l)[1];o(i.Field,r,'field.'+s.toLowerCase())}}}},bespoke.sph.domain.Adapters=bespoke.sph.domain.Adapters||{},bespoke.sph.domain.Adapters.Polling=function(e){return e=e||{},{Interval:ko.observable(e.Interval||300000),// 5 minutes
IntervalPeriod:ko.observable('minute'),// 5 minutes
Query:ko.observable(e.Query||''),StartDate:ko.observable(e.Query)}},bespoke.sph.domain.Adapters.SqlServerReceiveLocation=function(e){const o=new bespoke.sph.domain.ReceiveLocation(e);o.Id=ko.observable(null),o.Server=ko.observable('(localdb)\\Projects'),o.Database=ko.observable(null),o.Trusted=ko.observable(!0),o.UseQueryNotification=ko.observable(!0),o.UserId=ko.observable(null),o.Password=ko.observable(null),o.Query=ko.observable(''),o.Polling=ko.observable(new bespoke.sph.domain.Adapters.Polling),o.$type='Bespoke.Sph.Integrations.Adapters.SqlServerReceiveLocation, sqlserver.adapter';var a=require('services/datacontext');if(e&&'object'==typeof e)for(let i in e)if(e.hasOwnProperty(i)){// array
if(ko.isObservable(o[i])&&'push'in o[i]){const l=e[i].$values||e[i];if(_(l).isArray()){o[i](_(l).map(function(r){return a.toObservable(r)}));continue}}ko.isObservable(o[i])&&o[i](e[i])}return e&&'string'==typeof e&&o.WebId(e),bespoke.sph.domain.SqlServerReceiveLocationPartial?_(o).extend(new bespoke.sph.domain.FolderReceiveLocationPartial(o,e)):o},bespoke.sph.domain.StartWorkflowActionPartial=function(){var e=require('durandal/system');return{editMapping:function(o){this.WorkflowTriggerMapCollection.push(o)},addMapping:function(){var o=new bespoke.sph.domain.WorkflowTriggerMap(e.guid());o.Field({Name:ko.observable('+ Field')}),this.WorkflowTriggerMapCollection.push(o)},removeMapping:function(o){var a=this;return function(){a.WorkflowTriggerMapCollection.remove(o)}}}},bespoke.sph.domain.TabControlPartial=function(e){var o=require('durandal/system');return 0===e.TabPanelCollection().length&&(e.TabPanelCollection.push(new bespoke.sph.domain.TabPanel({WebId:o.guid(),Header:'Tab 1'})),e.TabPanelCollection.push(new bespoke.sph.domain.TabPanel({WebId:o.guid(),Header:'Tab 2'}))),{addItem:function(){var a=new bespoke.sph.domain.TabPanel(o.guid());e.TabPanelCollection.push(a)},removeItem:function(a){return function(){e.TabPanelCollection.remove(a)}}}},bespoke.sph.domain.TimePeriodPartial=function(e){return{toString:function(){return ko.unwrap(e.Count)+' '+ko.unwrap(e.Unit)}}},bespoke.sph.domain.TransformDefinitionPartial=function(){return{editReferencedAssembly:function(e){alert('not implemented'+e)},removeReferencedAssembly:function(e){var o=this;return function(){o.ReferencedAssemblyCollection.remove(e)}},addReferencedAssembly:function(){var e=this;require(['viewmodels/assembly.dialog','durandal/app'],function(o,a){a.showDialog(o).done(function(i){i&&'OK'===i&&_(o.selectedAssemblies()).each(function(l){e.ReferencedAssemblyCollection.push(l)})})})}}},bespoke.sph.domain.TriggerPartial=function(){var e=require('durandal/system');return{editReferencedAssembly:function(o){alert('not implemented'+o)},removeReferencedAssembly:function(o){var a=this;return function(){a.ReferencedAssemblyCollection.remove(o)}},addReferencedAssembly:function(){var o=this;require(['viewmodels/assembly.dialog','durandal/app'],function(a,i){i.showDialog(a).done(function(l){l&&'OK'===l&&_(a.selectedAssemblies()).each(function(r){o.ReferencedAssemblyCollection.push(r)})})})},addRule:function(){var o=new bespoke.sph.domain.Rule(e.guid());o.Left({Name:ko.observable('+ Field')}),o.Right({Name:ko.observable('+ Field')}),this.RuleCollection.push(o)},removeRule:function(o){var a=this;return function(){a.RuleCollection.remove(o)}},removeAction:function(o){var a=this;return function(){a.ActionCollection.remove(o)}},addAction:function(o){var a=this;return function(){var i=o.toLowerCase().replace(', ',',');require(['viewmodels/action.'+i,'durandal/app'],function(l,r){if('function'!=typeof l.action)return void console.error('The dialog for '+i+' do not implement action as observable');// initialize the action properties
var d=ko.mapping.fromJS(ko.toJS(l.action));for(var s in'function'==typeof d.Title&&d.Title(''),d)if(d.hasOwnProperty(s)){var m=d[s];if('$type'===s)continue;ko.isObservable(m)&&'function'!=typeof m.destroyAll&&m(null),ko.isObservable(m)&&'function'==typeof m.destroyAll&&m([])}l.action(d),'function'==typeof l.trigger&&l.trigger(a),r.showDialog(l).done(function(u){if(u&&'OK'===u){var h=l.action();h.WebId(e.guid()),h.IsActive(!0),a.ActionCollection.push(h)}})})}},editAction:function(o){var a=this;return function(){var i=ko.unwrap(o.$type),l=ko.mapping.fromJS(ko.mapping.toJS(o));require(['viewmodels/action.'+i.toLowerCase().replace(', ',','),'durandal/app'],function(r,d){r.action(l),'function'==typeof r.trigger&&r.trigger(a),d.showDialog(r).done(function(s){s&&'OK'===s&&a.ActionCollection.replace(o,l)})})}}}},bespoke.sph.domain.TryScopePartial=function(){return{addCatchScope:function(e){return function(){var o=require('durandal/system'),a=this,i=new bespoke.sph.domain.CatchScope(o.guid());require(['viewmodels/catch.scope.dialog','durandal/app'],function(l,r){l.catchScope(i),'function'==typeof l.wd&&l.wd(e()),r.showDialog(l).done(function(d){d&&'OK'===d&&a.CatchScopeCollection.push(i)})})}},editCatchScope:function(e,o){var a=this,i=ko.mapping.fromJS(ko.mapping.toJS(e));return function(){require(['viewmodels/catch.scope.dialog','durandal/app'],function(l,r){l.catchScope(i),'function'==typeof l.wd&&l.wd(o()),r.showDialog(l).done(function(d){if(d&&'OK'===d)for(var s in e)'function'==typeof e[s]&&'observable'===e[s].name?e[s](ko.unwrap(i[s])):e[s]=i[s]})})}},removeCatchScope:function(e,o){var a=this;return function(){o().ActivityCollection().forEach(function(i){i.CatchScope()===e.Id()&&i.CatchScope('')}),a.CatchScopeCollection.remove(e)}}}},bespoke.sph.domain.UpdateEntityActivityPartial=function(){var e=require('durandal/system');return{addPropertyMapping:function(o){var a=this;return function(){var i=new bespoke.sph.domain[o+'Mapping'](e.guid());a.PropertyMappingCollection.push(i)}},removePropertyMapping:function(o){var a=this;return function(){a.PropertyMappingCollection.remove(o)}}}},bespoke.sph.domain.ValueObjectDefinitionPartial=function(){var e=require('durandal/system'),o=require('durandal/app'),a=require(objectbuilders.datacontext);return{addMember:function(){this.MemberCollection.push(new bespoke.sph.domain.Member({WebId:e.guid(),Boost:1}))},editMember:function(i){var l=this;return function(){require(['viewmodels/member.dialog','durandal/app'],function(r,d){var s=ko.mapping.fromJS(ko.mapping.toJS(i));r.member(s),d.showDialog(r).done(function(m){m&&'OK'===m&&l.BlockCollection.replace(i,s)})})}},removeMember:function(i){var l=this;return function(){l.MemberCollection.remove(i)}},addBusinessRule:function(){var i=new bespoke.sph.domain.BusinessRule({WebId:e.guid()}),l=this;require(['viewmodels/business.rule.dialog','durandal/app'],function(r,d){r.rule(i),d.showDialog(r).done(function(s){s&&'OK'===s&&l.BusinessRuleCollection.push(i)})})},editBusinessRule:function(i){var l=this;return function(){require(['viewmodels/business.rule.dialog','durandal/app'],function(r,d){var s=a.toObservable(ko.mapping.toJS(i));r.rule(s),d.showDialog(r).done(function(m){m&&'OK'===m&&l.BusinessRuleCollection.replace(i,s)})})}},removeBusinessRule:function(i){var l=this;return function(){l.BusinessRuleCollection.remove(i)}},editMemberMap:function(i){var l=this;return function(){console.log('show map ',l),console.log(' on member ',i),require(['viewmodels/member.map','durandal/app'],function(r,d){r.init(l.BuildingId(),i.MemberPlanStoreId()),d.showDialog(r).done(function(s){'OK'===s&&i.MemberPlanStoreId(r.spatialStoreId())})})}}}},bespoke.sph.domain.VariablePartial=function(){var e=require('durandal/system'),o=ko.observable(),a=ko.observableArray();return{hasError:o,errors:a}},bespoke.sph.domain.ViewColumnPartial=function(e){e.Path.subscribe(function(a){ko.unwrap(e.Header)||e.Header(a.replace('.',' ').replace(/([A-Z])/g,' $1').trim())});// Filter
var o=require('durandal/system');return{addConditionalFormatting:function(){this.ConditionalFormattingCollection.push(new bespoke.sph.domain.ConditionalFormatting(o.guid()))},removeConditionalFormatting:function(a){var i=this;return function(){i.ConditionalFormattingCollection.remove(a)}},removeIconStoreId:function(){this.IconStoreId('')},removeIconCssClass:function(){this.IconCssClass('')}}},bespoke.sph.domain.WorkflowDefinitionPartial=function(e){var o=require('durandal/system'),a=ko.observable(!1),i=require(objectbuilders.datacontext),l=ko.observableArray(),r=function(d){var s=d||this.SchemaStoreId();$.get('/api/workflow-definitions/xsd-elements/'+s).then(function(m){l(m)})};return e.SchemaStoreId.subscribe(r),{isBusy:a,removeCorrelationType:function(d){var s=this;return function(){s.CorrelationTypeCollection.remove(d)}},addCorrelationType:function(){var d=this,s=new bespoke.sph.domain.CorrelationType(o.guid());require(['viewmodels/correlation.type.dialog','durandal/app'],function(m,u){m.correlationType(s),'function'==typeof m.wd&&m.wd(d),u.showDialog(m).done(function(h){h&&'OK'===h&&d.CorrelationTypeCollection.push(s)})})},editCorrelationType:function(d){var s=this;return function(){var m=ko.mapping.fromJS(ko.mapping.toJS(d));require(['viewmodels/correlation.type.dialog','durandal/app'],function(u,h){u.correlationType(m),'function'==typeof u.wd&&u.wd(s),h.showDialog(u).done(function(C){if(C&&'OK'===C)for(var y in d)'function'==typeof d[y]&&'observable'===d[y].name?d[y](ko.unwrap(m[y])):d[y]=m[y]})})}},removeCorrelationSet:function(d){var s=this;return function(){s.CorrelationSetCollection.remove(d)}},addCorrelationSet:function(){var d=this,s=new bespoke.sph.domain.CorrelationSet(o.guid());require(['viewmodels/correlation.set.dialog','durandal/app'],function(m,u){m.correlationSet(s),'function'==typeof m.wd&&m.wd(d),u.showDialog(m).done(function(h){h&&'OK'===h&&d.CorrelationSetCollection.push(s)})})},editCorrelationSet:function(d){var s=this;return function(){var m=ko.mapping.fromJS(ko.mapping.toJS(d));require(['viewmodels/correlation.set.dialog','durandal/app'],function(u,h){u.correlationSet(m),'function'==typeof u.wd&&u.wd(s),h.showDialog(u).done(function(C){if(C&&'OK'===C)for(var y in d)'function'==typeof d[y]&&'observable'===d[y].name?d[y](ko.unwrap(m[y])):d[y]=m[y]})})}},removeVariable:function(d){var s=this;return function(){s.VariableDefinitionCollection.remove(d)}},addVariable:function(d){var s=this;return function(){var m=new bespoke.sph.domain[d+'Variable'](o.guid());require(['viewmodels/variable.'+d.toLowerCase(),'durandal/app'],function(u,h){u.variable(m),'function'==typeof u.wd&&u.wd(s),h.showDialog(u).done(function(C){C&&'OK'===C&&s.VariableDefinitionCollection.push(m)})})}},editVariable:function(d){var s=this;return function(){var m=ko.unwrap(d.$type),u=ko.mapping.fromJS(ko.mapping.toJS(d)),h=/Bespoke\.Sph\.Domain\.(.*?)Variable,/,C=h.exec(m)[1];require(['viewmodels/variable.'+C.toLowerCase(),'durandal/app'],function(y,f){y.variable(u),'function'==typeof y.wd&&y.wd(s),f.showDialog(y).done(function(S){if(S&&'OK'===S)for(var P in d)'function'==typeof d[P]&&'observable'===d[P].name?d[P](ko.unwrap(u[P])):d[P]=u[P]})})}},removeReferencedAssembly:function(d){var s=this;return function(){s.ReferencedAssemblyCollection.remove(d)}},addReferencedAssembly:function(){var d=this;require(['viewmodels/assembly.dialog','durandal/app'],function(s,m){m.showDialog(s).done(function(u){u&&'OK'===u&&_(s.selectedAssemblies()).each(function(h){d.ReferencedAssemblyCollection.push(h)})})})},editReferencedAssembly:function(d){alert('not implemented'+d)},addActivity:function(d){var s=this;return function(){var m=new bespoke.sph.domain[d+'Activity'](o.guid());require(['viewmodels/activity.'+d.toLowerCase(),'durandal/app'],function(u,h){u.activity(m),'function'==typeof u.wd&&u.wd(s),h.showDialog(u).done(function(C){C&&'OK'===C&&s.ActivityCollection.push(m)})})}},editActivity:function(d){var s=this;return function(){var m=i.toObservable(ko.mapping.toJS(d)),u=ko.unwrap(d.TypeName);a(!0),require(['viewmodels/activity.'+u.toLowerCase(),'durandal/app'],function(h,C){h.activity(m),'function'==typeof h.wd&&h.wd(s),C.showDialog(h).done(function(y){if($('div.modalBlockout,div.modalHost').remove(),y&&'OK'===y)for(var f in d)if(d.hasOwnProperty(f)){var S='observable'===d[f].name||'d'===d[f].name;'function'==typeof d[f]&&S?d[f](ko.unwrap(m[f])):d[f]=m[f]}})})}},removeActivity:function(d){var s=this;return function(){s.ActivityCollection.remove(d)}},loadSchema:r,xsdElements:l,setStartActivity:function(d){var s=this;return function(){_(s.ActivityCollection()).each(function(m){m.IsInitiator(!1)}),d.IsInitiator(!0)}},addTryScope:function(){var d=this,s=new bespoke.sph.domain.TryScope(o.guid());require(['viewmodels/try.scope.dialog','durandal/app'],function(m,u){m.tryScope(s),'function'==typeof m.wd&&m.wd(d),u.showDialog(m).done(function(h){h&&'OK'===h&&d.TryScopeCollection.push(s)})})},editTryScope:function(d){var s=this;return function(){var m=ko.mapping.fromJS(ko.mapping.toJS(d));require(['viewmodels/try.scope.dialog','durandal/app'],function(u,h){u.tryScope(m),'function'==typeof u.wd&&u.wd(s),h.showDialog(u).done(function(C){if(C&&'OK'===C)for(var y in d)'function'==typeof d[y]&&'observable'===d[y].name?d[y](ko.unwrap(m[y])):d[y]=m[y]})})}},removeTryScope:function(d){var s=this;return function(){s.TryScopeCollection.remove(d)}}}},bespoke.sph.domain.WorkflowDesignerPartial=function(){return{}},bespoke.sph.domain.WorkflowFormPartial=function(){var e=ko.computed(function(){});return{editOperationSuccessCallback:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.OperationSuccessCallback),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.OperationSuccessCallback(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},editOperationFailureCallback:function(){var o=this,a=window.open('/sph/editor/ace?mode=javascript','_blank','height='+screen.height+',width='+screen.width+',toolbar=0,location=0,fullscreen=yes'),i=a.window||a,l=function(){i.code=ko.unwrap(o.OperationFailureCallback),a.code||(a.code='//insert your code here'),i.saved=function(r,d){o.OperationFailureCallback(r),d&&a.close()}};i.attachEvent?i.attachEvent('onload',l):l()},canSetSuccessCallback:e}},bespoke.sph.domain.WorkflowTriggerMapPartial=function(){var e=this,o=require('durandal/system'),a=function(i,l,r){require(['viewmodels/'+r,'durandal/app'],function(d,s){d.field(l),s.showDialog(d).done(function(m){m&&'OK'===m&&i(l)})})};return e.addField=function(i,l){var r=new bespoke.sph.domain[l+'Field'](o.guid());a(i,r,'field.'+l.toLowerCase())},e.editField=function(i,l){return function(){var r=ko.unwrap(i.$type),d=ko.mapping.fromJS(ko.mapping.toJS(i)),s=/Bespoke\.Sph\.Domain\.(.*?)Field,/,m=s.exec(r)[1];a(l,d,'field.'+m.toLowerCase())}},e},bespoke.sph.domain.WorkflowTriggerMapPartial.prototype=new bespoke.sph.domain.FieldContainer;
(function(pe,me,_e){function xe(){}function ye(Ma,Na){if(Na)return"'"+Ma.split("'").join("\\'").split("\\\"").join("\\\\\\\"").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var La=Ma.charAt(0),Ba=Ma.substring(1);return"="===La?"+("+Ba+")+":":"===La?"+e("+Ba+")+":";"+Ma+";o+="}function be(Ma,Na,La){return Ma+="",Na=Na||2,La=Na-Ma.length,La?We[Na].substring(0,La)+Ma:Ma}function ke(Ma,Na){var Ua=ua.data.ObservableArray,La,Ba,Va,Wa;for(La in Na)Ba=Na[La],Va=typeof Ba,Va===Fa&&null!==Ba&&Ba.constructor!==Array&&Ba.constructor!==Ua?Ba instanceof Date?Ma[La]=new Date(Ba.getTime()):(Wa=Ma[La],Ma[La]=typeof Wa===Fa?Wa||{}:{},ke(Ma[La],Ba)):Va!==Ra&&(Ma[La]=Ba);return Ma}function we(Ma,Na,La){for(var Ba in Na)if(Na.hasOwnProperty(Ba)&&Na[Ba].test(Ma))return Ba;return La===_e?Ma:La}function Ce(Ma,Na,La,Ba){return typeof Ma===Aa&&(ya(Na)&&(Ba=Na,Na=400,La=!1),ya(La)&&(Ba=La,La=!1),typeof Na===Pa&&(La=Na,Na=400),Ma={effects:Ma,duration:Na,reverse:La,complete:Ba}),ma({effects:{},duration:400,reverse:!1,init:xa,teardown:xa,hide:!1},Ma,{completeCallback:Ma.complete,complete:xa})}function Te(Ma,Na,La,Ba,Va){for(var Ua=0,ja=Ma.length,Wa;ja>Ua;Ua++)Wa=pe(Ma[Ua]),Wa.queue(function(){je.promise(Wa,Ce(Na,La,Ba,Va))});return Ma}function Se(Ma,Na,La,Ba,Va,Wa){return je.transitionPromise(Ma,Na,Ce(La,Ba,Va,Wa))}function Ae(Ma,Na){var La;return 0===Na.indexOf("data")&&(Na=Na.substring(4),Na=Na.charAt(0).toLowerCase()+Na.substring(1)),Na=Na.replace(aa,"-$1"),La=Ma.getAttribute("data-"+ua.ns+Na),null===La?La=_e:"null"===La?La=null:"true"===La?La=!0:"false"===La?La=!1:isNaN(parseFloat(La))?ea.test(La)&&!ta.test(La)&&(La=me("("+La+")")):La=parseFloat(La),La}function De(Ma,Na){var Va={},La,Ba;for(La in Na)Ba=Ae(Ma,La),Ba!==_e&&(Ze.test(La)&&(Ba=ua.template(pe("#"+Ba).html())),Va[La]=Ba);return Va}function Fe(Ma,Na){var La=Ma.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(La)?!Ma.disabled:"a"===La?Ma.href||Na:Na)&&Ie(Ma)}function Ie(Ma){return!pe(Ma).parents().andSelf().filter(function(){return"hidden"===pe.css(this,"visibility")||pe.expr.filters.hidden(this)}).length}function Pe(Ma,Na){return new Pe.fn.init(Ma,Na)}var ua=window.kendo=window.kendo||{},ma=pe.extend,fa=pe.each,ha=pe.proxy,_a=pe.isArray,xa=pe.noop,ya=pe.isFunction,ba=Math,va=window.JSON||{},ka={},wa=/%/,Ca=/\{(\d+)(:[^\}]+)?\}/g,Ta=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,Sa="function",Aa="string",Da="number",Fa="object",Ia="null",Pa="boolean",Ra="undefined",Ea={},Ha={},za=[].slice,Oa=window.Globalize,Re,Ee,He,ze,Oe,Me,Ne,Le,Be,Ve,We,Ue,je,qe,Ge,Ye,Ke,Xe,Qe,$e,Je,Ze,ea,ta,aa,oa,na,ia,ra,la,sa,da,pa,ca,ga;xe.extend=function(Ma){var Ba=function(){},Va=this,Wa=Ma&&Ma.init?Ma.init:function(){Va.apply(this,arguments)},Na,La;for(Na in Ba.prototype=Va.prototype,La=Wa.fn=Wa.prototype=new Ba,Ma)La[Na]=typeof Ma[Na]!=Fa||Ma[Na]instanceof Array||null===Ma[Na]?Ma[Na]:ma(!0,{},Ba.prototype[Na],Ma[Na]);return La.constructor=Wa,Wa.extend=Va.extend,Wa},Ee=function(){this._defaultPrevented=!0},He=function(){return!0===this._defaultPrevented},ze=xe.extend({init:function(){this._events={}},bind:function(Ma,Na,La){var qa=this,Ga=typeof Ma==Aa?[Ma]:Ma,Ba,Va,Wa,Ua,ja;if(Na===_e){for(Ba in Ma)qa.bind(Ba,Ma[Ba]);return qa}for(Ba=0,Va=Ga.length;Va>Ba;Ba++)Ma=Ga[Ba],Ua=typeof Na==Sa?Na:Na[Ma],Ua&&(La&&(Wa=Ua,Ua=function(){qa.unbind(Ma,Ua),Wa.apply(qa,arguments)}),ja=qa._events[Ma]=qa._events[Ma]||[],ja.push(Ua));return qa},one:function(Ma,Na){return this.bind(Ma,Na,!0)},first:function(Ma,Na){var Ua=this,ja=typeof Ma==Aa?[Ma]:Ma,La,Ba,Va,Wa;for(La=0,Ba=ja.length;Ba>La;La++)Ma=ja[La],Va=typeof Na==Sa?Na:Na[Ma],Va&&(Wa=Ua._events[Ma]=Ua._events[Ma]||[],Wa.unshift(Va));return Ua},trigger:function(Ma,Na){var Va=this,Wa=Va._events[Ma],La,Ba;if(Wa){for(Na=Na||{},Na.sender=Va,Na._defaultPrevented=!1,Na.preventDefault=Ee,Na.isDefaultPrevented=He,Wa=Wa.slice(),La=0,Ba=Wa.length;Ba>La;La++)Wa[La].call(Va,Na);return!0===Na._defaultPrevented}return!1},unbind:function(Ma,Na){var Ba=this,Va=Ba._events[Ma],La;if(Ma===_e)Ba._events={};else if(Va)if(Na)for(La=Va.length-1;0<=La;La--)Va[La]===Na&&Va.splice(La,1);else Ba._events[Ma]=[];return Ba}}),Oe=/^\w+/,Me=/\$\{([^}]*)\}/g,Ne=/\\\}/g,Le=/__CURLY__/g,Be=/\\#/g,Ve=/__SHARP__/g,We=["","0","00","000","0000"],Re={paramName:"data",useWithBlock:!0,render:function(Ma,Na){var Va="",La,Ba;for(La=0,Ba=Na.length;Ba>La;La++)Va+=Ma(Na[La]);return Va},compile:function(Ma,Na){var Va=ma({},this,Na),Wa=Va.paramName,Ua=Wa.match(Oe)[0],ja=Va.useWithBlock,qa="var o,e=kendo.htmlEncode;",La,Ba;if(ya(Ma))return 2===Ma.length?function(Ga){return Ma(pe,{data:Ga}).join("")}:Ma;for(qa+=ja?"with("+Wa+"){":"",qa+="o=",La=Ma.replace(Ne,"__CURLY__").replace(Me,"#=e($1)#").replace(Le,"}").replace(Be,"__SHARP__").split("#"),Ba=0;La.length>Ba;Ba++)qa+=ye(La[Ba],0==Ba%2);qa+=ja?";}":";",qa+="return o;",qa=qa.replace(Ve,"#");try{return Function(Ua,qa)}catch(Ga){throw Error(ua.format("Invalid template:'{0}' Generated code:'{1}'",Ma,qa))}}},function(){function Ma(qa){return Wa.lastIndex=0,Wa.test(qa)?"\""+qa.replace(Wa,function(Ga){var Ya=Ua[Ga];return typeof Ya==Aa?Ya:"\\u"+("0000"+Ga.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+qa+"\""}function Na(qa,Ga){var Za=La,Fo=Ga[qa],Ya,Ka,Xa,Qa,$a,Ja;if(Fo&&typeof Fo==Fa&&typeof Fo.toJSON==Sa&&(Fo=Fo.toJSON(qa)),typeof Va==Sa&&(Fo=Va.call(Ga,qa,Fo)),Ja=typeof Fo,Ja===Aa)return Ma(Fo);if(Ja===Da)return isFinite(Fo)?Fo+"":Ia;if(Ja===Pa||Ja===Ia)return Fo+"";if(Ja===Fa){if(!Fo)return Ia;if(La+=Ba,$a=[],"[object Array]"===ja.apply(Fo)){for(Qa=Fo.length,Ya=0;Qa>Ya;Ya++)$a[Ya]=Na(Ya,Fo)||Ia;return Xa=0===$a.length?"[]":La?"[\n"+La+$a.join(",\n"+La)+"\n"+Za+"]":"["+$a.join(",")+"]",La=Za,Xa}if(Va&&typeof Va==Fa)for(Qa=Va.length,Ya=0;Qa>Ya;Ya++)typeof Va[Ya]==Aa&&(Ka=Va[Ya],Xa=Na(Ka,Fo),Xa&&$a.push(Ma(Ka)+(La?": ":":")+Xa));else for(Ka in Fo)Object.hasOwnProperty.call(Fo,Ka)&&(Xa=Na(Ka,Fo),Xa&&$a.push(Ma(Ka)+(La?": ":":")+Xa));return Xa=0===$a.length?"{}":La?"{\n"+La+$a.join(",\n"+La)+"\n"+Za+"}":"{"+$a.join(",")+"}",La=Za,Xa}}var Wa=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Ua={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"},ja={}.toString,La,Ba,Va;typeof Date.prototype.toJSON!=Sa&&(Date.prototype.toJSON=function(){var qa=this;return isFinite(qa.valueOf())?be(qa.getUTCFullYear(),4)+"-"+be(qa.getUTCMonth()+1)+"-"+be(qa.getUTCDate())+"T"+be(qa.getUTCHours())+":"+be(qa.getUTCMinutes())+":"+be(qa.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof va.stringify!=Sa&&(va.stringify=function(qa,Ga,Ya){var Ka;if(La="",Ba="",typeof Ya==Da)for(Ka=0;Ya>Ka;Ka+=1)Ba+=" ";else typeof Ya==Aa&&(Ba=Ya);if(Va=Ga,Ga&&typeof Ga!=Sa&&(typeof Ga!=Fa||typeof Ga.length!=Da))throw Error("JSON.stringify");return Na("",{"":qa})})}(),function(){function Ma(No){if(No){if(No.numberFormat)return No;if(typeof No==Aa){var Wo=ua.cultures;return Wo[No]||Wo[No.split("-")[0]]||null}return null}return null}function Na(No){return No&&(No=Ma(No)),No||ua.cultures.current}function La(No){No.groupSizes=No.groupSize,No.percent.groupSizes=No.percent.groupSize,No.currency.groupSizes=No.currency.groupSize}function Ba(No,Wo,Uo){Uo=Na(Uo);var jo=Uo.calendars.standard,qo=jo.days,Go=jo.months;return Wo=jo.patterns[Wo]||Wo,Wo.replace(ja,function(Yo){var Ko;return"d"===Yo?Ko=No.getDate():"dd"===Yo?Ko=be(No.getDate()):"ddd"===Yo?Ko=qo.namesAbbr[No.getDay()]:"dddd"===Yo?Ko=qo.names[No.getDay()]:"M"===Yo?Ko=No.getMonth()+1:"MM"===Yo?Ko=be(No.getMonth()+1):"MMM"===Yo?Ko=Go.namesAbbr[No.getMonth()]:"MMMM"===Yo?Ko=Go.names[No.getMonth()]:"yy"===Yo?Ko=be(No.getFullYear()%100):"yyyy"===Yo?Ko=be(No.getFullYear(),4):"h"===Yo?Ko=No.getHours()%12||12:"hh"===Yo?Ko=be(No.getHours()%12||12):"H"===Yo?Ko=No.getHours():"HH"===Yo?Ko=be(No.getHours()):"m"===Yo?Ko=No.getMinutes():"mm"===Yo?Ko=be(No.getMinutes()):"s"===Yo?Ko=No.getSeconds():"ss"===Yo?Ko=be(No.getSeconds()):"f"===Yo?Ko=ba.floor(No.getMilliseconds()/100):"ff"===Yo?Ko=ba.floor(No.getMilliseconds()/10):"fff"===Yo?Ko=No.getMilliseconds():"tt"==Yo&&(Ko=12>No.getHours()?jo.AM[0]:jo.PM[0]),Ko===_e?Yo.slice(1,Yo.length-1):Ko})}function Va(No,Wo,Uo){Uo=Na(Uo);var ur=Uo.numberFormat,mr=ur.groupSize[0],fr=ur[Qa],hr=ur[Xa],_r=ur.decimals,xr=ur.pattern[0],yr=[],br=0>No,vr=Ka,kr=Ka,wr=-1,jo,qo,Go,Yo,Ko,Xo,Qo,$o,Jo,Zo,er,tr,ar,or,nr,ir,rr,lr,sr,dr,pr,cr,gr;if(No===_e)return Ka;if(!isFinite(No))return No;if(!Wo)return Uo.name.length?No.toLocaleString():""+No;if(Ko=qa.exec(Wo)){if(Wo=Ko[1].toLowerCase(),qo="c"===Wo,Go="p"===Wo,(qo||Go)&&(ur=qo?ur.currency:ur.percent,mr=ur.groupSize[0],fr=ur[Qa],hr=ur[Xa],_r=ur.decimals,jo=ur.symbol,xr=ur.pattern[br?0:1]),Yo=Ko[2],Yo&&(_r=+Yo),"e"===Wo)return Yo?No.toExponential(_r):No.toExponential();if(Go&&(No*=100),No=Wa(No,_r),No=No.split(Xa),Xo=No[0],Qo=No[1],br&&(Xo=Xo.substring(1)),kr=Xo,$o=Xo.length,$o>=mr)for(kr=Ka,Zo=0;$o>Zo;Zo++)0<Zo&&0==($o-Zo)%mr&&(kr+=fr),kr+=Xo.charAt(Zo);if(Qo&&(kr+=hr+Qo),"n"===Wo&&!br)return kr;for(No=Ka,Zo=0,er=xr.length;er>Zo;Zo++)tr=xr.charAt(Zo),No+="n"===tr?kr:"$"===tr||"%"===tr?jo:tr;return No}if(br&&(No=-No),Wo=Wo.split(";"),br&&Wo[1])Wo=Wo[1],or=!0;else if(0!==No)Wo=Wo[0];else if(Wo=Wo[2]||Wo[0],-1==Wo.indexOf($a)&&-1==Wo.indexOf(Ja))return Wo;if((-1<Wo.indexOf("'")||-1<Wo.indexOf("\""))&&(Wo=Wo.replace(Ga,function(Cr){return yr.push(Cr),Za})),dr=Wo.indexOf("%"),pr=Wo.indexOf("$"),Go=-1!=dr,qo=-1!=pr,Go&&("\\"===Wo[dr-1]?Wo=Wo.split("\\").join(""):No*=100),qo&&"\\"===Wo[pr-1]&&(Wo=Wo.split("\\").join(""),qo=!1),(qo||Go)&&(ur=qo?ur.currency:ur.percent,mr=ur.groupSize[0],fr=ur[Qa],hr=ur[Xa],_r=ur.decimals,jo=ur.symbol),ar=-1<Wo.indexOf(Qa),ar&&(Wo=Wo.replace(Ya,Ka)),nr=Wo.indexOf(Xa),er=Wo.length,-1==nr?No=Wa(No):(Qo=(""+No).split("e"),Qo=Qo[1]?Wa(No,Math.abs(Qo[1])):Qo[0],Qo=Qo.split(Xa)[1]||Ka,rr=Wo.lastIndexOf(Ja)-nr,ir=Wo.lastIndexOf($a)-nr,lr=-1<rr,sr=-1<ir,Zo=Qo.length,lr||sr||(Wo=Wo.substring(0,nr)+Wo.substring(nr+1),er=Wo.length,nr=-1,Zo=0),lr&&rr>ir?Zo=rr:ir>rr&&(sr&&Zo>ir?Zo=ir:lr&&rr>Zo&&(Zo=rr)),-1<Zo&&(No=Wa(No,Zo))),ir=Wo.indexOf($a),cr=rr=Wo.indexOf(Ja),wr=-1==ir&&-1!=rr?rr:-1!=ir&&-1==rr?ir:ir>rr?rr:ir,ir=Wo.lastIndexOf($a),rr=Wo.lastIndexOf(Ja),gr=-1==ir&&-1!=rr?rr:-1!=ir&&-1==rr?ir:ir>rr?ir:rr,wr==er&&(gr=wr),-1!=wr){if(kr=(""+No).split(Xa),Xo=kr[0],Qo=kr[1]||Ka,$o=Xo.length,Jo=Qo.length,ar)if($o===mr&&nr-cr>$o)Xo=fr+Xo;else if($o>mr){for(kr=Ka,Zo=0;$o>Zo;Zo++)0<Zo&&0==($o-Zo)%mr&&(kr+=fr),kr+=Xo.charAt(Zo);Xo=kr}for(No=Wo.substring(0,wr),br&&!or&&(No+="-"),Zo=wr;er>Zo;Zo++){if(tr=Wo.charAt(Zo),-1==nr){if($o>gr-Zo){No+=Xo;break}}else if(-1!=rr&&Zo>rr&&(vr=Ka),$o>=nr-Zo&&-1<nr-Zo&&(No+=Xo,Zo=nr),nr===Zo){No+=(Qo?hr:Ka)+Qo,Zo+=gr-nr+1;continue}tr===Ja?(No+=tr,vr=tr):tr===$a&&(No+=vr)}if(gr>=wr&&(No+=Wo.substring(gr+1)),qo||Go){for(kr=Ka,Zo=0,er=No.length;er>Zo;Zo++)tr=No.charAt(Zo),kr+="$"===tr||"%"===tr?jo:tr;No=kr}if(yr[0])for(er=yr.length,Zo=0;er>Zo;Zo++)No=No.replace(Za,yr[Zo])}return No}var ja=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,qa=/^(n|c|p|e)(\d*)$/i,Ga=/["'].*?["']/g,Ya=/\,/g,Ka="",Xa=".",Qa=",",$a="#",Ja="0",Za="??",Fo="en-US",Mo={}.toString,Wa,Ua;ua.cultures={"en-US":{name:Fo,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}}},ua.culture=function(No){var Uo=ua.cultures,Wo;return No===_e?Uo.current:(Wo=Ma(No)||Uo[Fo],Wo.calendar=Wo.calendars.standard,Uo.current=Wo,Oa&&La(Wo.numberFormat),_e)},ua.findCulture=Ma,ua.getCulture=Na,ua.culture(Fo),Wa=function(No,Wo){var Uo=Math.pow(10,Wo||0);return(Math.round(No*Uo)/Uo).toFixed(Wo)},Ua=function(No,Wo,Uo){if(Wo){if("[object Date]"===Mo.call(No))return Ba(No,Wo,Uo);if(typeof No==Da)return Va(No,Wo,Uo)}return No===_e?"":No},Oa&&(Ua=ha(Oa.format,Oa)),ua.format=function(No){var Wo=arguments;return No.replace(Ca,function(Uo,jo,qo){var Go=Wo[parseInt(jo,10)+1];return Ua(Go,qo?qo.substring(1):"")})},ua._extractFormat=function(No){return"{0:"===No.slice(0,3)&&(No=No.slice(3,No.length-1)),No},ua._activeElement=function(){try{return document.activeElement}catch(No){return document.documentElement.activeElement}},ua._round=Wa,ua.toString=Ua}(),function(){function Ma(Qa,$a,Ja){return!(Qa>=$a&&Ja>=Qa)}function Na(Qa){return Qa.charAt(0)}function La(Qa){return pe.map(Qa,Na)}function Ba(Qa,$a){$a||23!==Qa.getHours()||Qa.setHours(Qa.getHours()+2)}function Va(Qa,$a,Ja){if(!Qa)return null;var Qo=function(mr){for(var fr=0;$a[sr]===mr;)fr++,sr++;return 0<fr&&(sr-=1),fr},$o=function(mr){var fr=Ka[mr]||RegExp("^\\d{1,"+mr+"}"),hr=Qa.substr(dr,mr).match(fr);return hr?(hr=hr[0],dr+=hr.length,parseInt(hr,10)):null},Jo=function(mr){for(var _r=0,xr=mr.length,fr,hr;xr>_r;_r++)if(fr=mr[_r],hr=fr.length,Qa.substr(dr,hr)==fr)return dr+=hr,_r+1;return null},Zo=function(){var mr=!1;return Qa.charAt(dr)===$a[sr]&&(dr++,mr=!0),mr},er=Ja.calendars.standard,tr=null,ar=null,or=null,nr=null,ir=null,rr=null,lr=null,sr=0,dr=0,pr=!1,cr=new Date,gr=er.twoDigitYearMax||2029,ur=cr.getFullYear(),Za,Fo,Mo,No,Wo,Uo,jo,qo,Go,Yo,Ko,Xo;for($a||($a="d"),No=er.patterns[$a],No&&($a=No),$a=$a.split(""),Mo=$a.length;Mo>sr;sr++)if(Za=$a[sr],pr)"'"===Za?pr=!1:Zo();else if("d"===Za){if(Fo=Qo("d"),or=3>Fo?$o(2):Jo(er.days[3==Fo?"namesAbbr":"names"]),null===or||Ma(or,1,31))return null;}else if("M"===Za){if(Fo=Qo("M"),ar=3>Fo?$o(2):Jo(er.months[3==Fo?"namesAbbr":"names"]),null===ar||Ma(ar,1,12))return null;ar-=1}else if("y"===Za){if(Fo=Qo("y"),tr=$o(Fo),null===tr)return null;2==Fo&&("string"==typeof gr&&(gr=ur+parseInt(gr,10)),tr=ur-ur%100+tr,tr>gr&&(tr-=100))}else if("h"===Za){if(Qo("h"),nr=$o(2),12==nr&&(nr=0),null===nr||Ma(nr,0,11))return null;}else if("H"===Za){if(Qo("H"),nr=$o(2),null===nr||Ma(nr,0,23))return null;}else if("m"===Za){if(Qo("m"),ir=$o(2),null===ir||Ma(ir,0,59))return null;}else if("s"===Za){if(Qo("s"),rr=$o(2),null===rr||Ma(rr,0,59))return null;}else if("f"===Za){if(Fo=Qo("f"),lr=$o(Fo),null!==lr&&3<Fo&&(lr=parseInt((""+lr).substring(0,3),10)),null===lr||Ma(lr,0,999))return null;}else if("t"===Za){if(Fo=Qo("t"),Go=er.AM,Yo=er.PM,1===Fo&&(Go=La(Go),Yo=La(Yo)),Wo=Jo(Yo),!Wo&&!Jo(Go))return null;}else if("z"===Za){if(Uo=!0,Fo=Qo("z"),"Z"===Qa.substr(dr,1)){if(!jo)return null;Zo();continue}if(qo=Qa.substr(dr,6).match(2<Fo?qa:ja),!qo)return null;if(qo=qo[0],dr=qo.length,qo=qo.split(":"),Ko=parseInt(qo[0],10),Ma(Ko,-12,13))return null;if(2<Fo&&(Xo=parseInt(qo[1],10),isNaN(Xo)||Ma(Xo,0,59)))return null}else if("T"===Za)jo=Zo();else if("'"===Za)pr=!0,Zo();else if(!Zo())return null;return null===tr&&(tr=ur),Wo&&12>nr&&(nr+=12),null===or&&(or=1),Uo?(Ko&&(nr+=-Ko),Xo&&(ir+=-Xo),Qa=new Date(Date.UTC(tr,ar,or,nr,ir,rr,lr))):(Qa=new Date(tr,ar,or,nr,ir,rr,lr),Ba(Qa,nr)),100>tr&&Qa.setFullYear(tr),Qa.getDate()!==or&&Uo===_e?null:Qa}var Wa=/\u00A0/g,Ua=/[eE][\-+]?[0-9]+/,ja=/[+|\-]\d{1,2}/,qa=/[+|\-]\d{1,2}:\d{2}/,Ga=/^\/Date\((.*?)\)\/$/,Ya=["G","g","d","F","D","y","m","T","t"],Ka={2:/^\d{1,2}/,4:/^\d{4}/},Xa={}.toString;ua._adjustDate=Ba,ua.parseDate=function(Qa,$a,Ja){if("[object Date]"===Xa.call(Qa))return Qa;var Mo=0,No=null,Za,Fo;if(Qa&&0===Qa.indexOf("/D")&&(No=Ga.exec(Qa)))return new Date(parseInt(No[1],10));if(Ja=ua.getCulture(Ja),!$a){for($a=[],Fo=Ja.calendar.patterns,Za=Ya.length;Za>Mo;Mo++)$a[Mo]=Fo[Ya[Mo]];$a[Mo]="ddd MMM dd yyyy HH:mm:ss",$a[++Mo]="yyyy-MM-ddTHH:mm:ss.fffffffzzz",$a[++Mo]="yyyy-MM-ddTHH:mm:ss.fffzzz",$a[++Mo]="yyyy-MM-ddTHH:mm:sszzz",$a[++Mo]="yyyy-MM-ddTHH:mmzzz",$a[++Mo]="yyyy-MM-ddTHH:mmzz",$a[++Mo]="yyyy-MM-ddTHH:mm:ss",$a[++Mo]="yyyy-MM-ddTHH:mm",$a[++Mo]="yyyy-MM-dd",Mo=0}for($a=_a($a)?$a:[$a],Za=$a.length;Za>Mo;Mo++)if(No=Va(Qa,$a[Mo],Ja))return No;return No},ua.parseInt=function(Qa,$a){var Ja=ua.parseFloat(Qa,$a);return Ja&&(Ja=0|Ja),Ja},ua.parseFloat=function(Qa,$a,Ja){if(!Qa&&0!==Qa)return null;if(typeof Qa==Da)return Qa;Qa=""+Qa,$a=ua.getCulture($a);var Mo=$a.numberFormat,No=Mo.percent,Wo=Mo.currency,Uo=Wo.symbol,jo=No.symbol,qo=-1<Qa.indexOf("-"),Za,Fo;return Ua.test(Qa)?(Qa=parseFloat(Qa),isNaN(Qa)&&(Qa=null),Qa):(-1<Qa.indexOf(Uo)||Ja&&-1<Ja.toLowerCase().indexOf("c")?(Mo=Wo,Za=Mo.pattern[0].replace("$",Uo).split("n"),-1<Qa.indexOf(Za[0])&&-1<Qa.indexOf(Za[1])&&(Qa=Qa.replace(Za[0],"").replace(Za[1],""),qo=!0)):-1<Qa.indexOf(jo)&&(Fo=!0,Mo=No,Uo=jo),Qa=Qa.replace("-","").replace(Uo,"").replace(Wa," ").split(Mo[","].replace(Wa," ")).join("").replace(Mo["."],"."),Qa=parseFloat(Qa),isNaN(Qa)?Qa=null:qo&&(Qa*=-1),Qa&&Fo&&(Qa/=100),Qa)},Oa&&(ua.parseDate=function(Qa,$a,Ja){return"[object Date]"===Xa.call(Qa)?Qa:Oa.parseDate(Qa,$a,Ja)},ua.parseFloat=function(Qa,$a){return typeof Qa==Da?Qa:Qa===_e||null===Qa?null:(Qa=Oa.parseFloat(Qa,$a),isNaN(Qa)?null:Qa)})}(),function(){var Ma,Na,La,Ba,Va,Wa;ka.scrollbar=function(){var ja=document.createElement("div"),Ua;return ja.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",ja.innerHTML="&nbsp;",document.body.appendChild(ja),Ua=ja.offsetWidth-ja.scrollWidth,document.body.removeChild(ja),Ua},ka.isRtl=function(Ua){return 0<pe(Ua).closest(".k-rtl").length},Ma=document.createElement("table");try{Ma.innerHTML="<tr><td></td></tr>",ka.tbodyInnerHtml=!0}catch(Ua){ka.tbodyInnerHtml=!1}ka.touch="ontouchstart"in window,ka.pointers=navigator.msPointerEnabled,Na=ka.transitions=!1,La=ka.transforms=!1,Ba="HTMLElement"in window?HTMLElement.prototype:[],ka.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,fa(["Moz","webkit","O","ms"],function(){var ja=""+this,qa=typeof Ma.style[ja+"Transition"]==Aa,Ua;return qa||typeof Ma.style[ja+"Transform"]==Aa?(Ua=ja.toLowerCase(),La={css:"ms"==Ua?"":"-"+Ua+"-",prefix:ja,event:"o"===Ua||"webkit"===Ua?Ua:""},qa&&(Na=La,Na.event=Na.event?Na.event+"TransitionEnd":"transitionend"),!1):_e}),ka.transforms=La,ka.transitions=Na,ka.devicePixelRatio=window.devicePixelRatio===_e?1:window.devicePixelRatio,ka.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,ka.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight,ka.detectOS=function(Ua){var Ga=!1,Ya=[],Ka=!/mobile safari/i.test(Ua),Xa={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Qa={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},$a={tablet:/playbook|ipad|fire/i},Ja={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i},ja,qa;for(qa in Xa)if(Xa.hasOwnProperty(qa)&&(Ya=Ua.match(Xa[qa]))){if("windows"==qa&&"plugins"in navigator)return!1;Ga={},Ga.device=qa,Ga.tablet=we(qa,$a,!1),Ga.browser=we(Ua,Ja,"default"),Ga.name=we(qa,Qa),Ga[Ga.name]=!0,Ga.majorVersion=Ya[2],Ga.minorVersion=Ya[3].replace("_","."),ja=Ga.minorVersion.replace(".","").substr(0,2),Ga.flatVersion=Ga.majorVersion+ja+Array(3-(3>ja.length?ja.length:2)).join("0"),Ga.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!=Ra||typeof window.cordova!=Ra,Ga.android&&(1.5>ka.devicePixelRatio&&400>Ga.flatVersion||Ka)&&(800<ka.screenWidth||800<ka.screenHeight)&&(Ga.tablet=qa);break}return Ga},Va=ka.mobileOS=ka.detectOS(navigator.userAgent),ka.wpDevicePixelRatio=Va.wp?screen.width/320:0,ka.kineticScrollNeeded=Va&&(ka.touch||ka.pointers),ka.hasNativeScrolling=!1,(Va.ios&&4<Va.majorVersion||Va.android&&2<Va.majorVersion||Va.wp)&&(ka.hasNativeScrolling=Va),ka.mouseAndTouchPresent=ka.touch&&!(ka.mobileOS.ios||ka.mobileOS.android),ka.browser=function(ja){var qa=!1,Ga=[],Ya={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Ua;for(Ua in Ya)if(Ya.hasOwnProperty(Ua)&&(Ga=ja.match(Ya[Ua]))){qa={},qa[Ua]=!0,qa[Ga[1].toLowerCase()]=!0,qa.version=parseInt(document.documentMode||Ga[2],10);break}return qa}(navigator.userAgent),function(Ua){var qa=parseInt(Ua.version,10),ja;Ua.msie?ja="ie":Ua.mozilla?ja="ff":Ua.safari?ja="safari":Ua.webkit?ja="webkit":Ua.opera&&(ja="opera"),ja&&pe(document.documentElement).addClass("k-"+ja+" k-"+ja+qa)}(ka.browser),ka.zoomLevel=function(){return ka.touch?document.documentElement.clientWidth/window.innerWidth:ka.pointers?window.outerWidth/window.innerWidth:1},ka.eventCapture=document.documentElement.addEventListener,ka.placeholder="placeholder"in document.createElement("input"),ka.stableSort=function(){var Ua=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===Ua[0]&&1===Ua[1]&&2===Ua[2]&&3===Ua[3]&&4===Ua[4]&&5===Ua[5]&&6===Ua[6]&&7===Ua[7]&&8===Ua[8]&&9===Ua[9]&&10===Ua[10]&&11===Ua[11]&&12===Ua[12]}(),ka.matchesSelector=Ba.webkitMatchesSelector||Ba.mozMatchesSelector||Ba.msMatchesSelector||Ba.oMatchesSelector||Ba.matchesSelector||function(Ua){for(var ja=document.querySelectorAll?(this.parentNode||document).querySelectorAll(Ua)||[]:pe(Ua),qa=ja.length;qa--;)if(ja[qa]==this)return!0;return!1},ka.pushState=window.history&&window.history.pushState,Wa=document.documentMode,ka.hashChange="onhashchange"in window&&!(ka.browser.msie&&(!Wa||8>=Wa))}(),Ue={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},je={},pe.extend(je,{Element:function(Ma){this.element=pe(Ma)},promise:function(Ma,Na){Ma.is(":visible")||Ma.css({display:Ma.data("olddisplay")||"block"}).css("display"),Na.hide&&Ma.data("olddisplay",Ma.css("display")).hide(),Na.init&&Na.init(),Na.completeCallback&&Na.completeCallback(Ma),Ma.dequeue()},transitionPromise:function(Ma,Na,La){var Ba=ua.wrap(Ma);return Ba.append(Na),Ma.hide(),Na.show(),La.completeCallback&&La.completeCallback(Ma),Ma}}),"kendoAnimate"in pe.fn||ma(pe.fn,{kendoStop:function(Ma,Na){return this.stop(Ma,Na)},kendoAnimate:function(Ma,Na,La,Ba){return Te(this,Ma,Na,La,Ba)},kendoAnimateTo:function(Ma,Na,La,Ba,Va){return Se(this,Ma,Na,La,Ba,Va)},kendoAddClass:function(Ma,Na){return ua.toggleClass(this,Ma,Na,!0)},kendoRemoveClass:function(Ma,Na){return ua.toggleClass(this,Ma,Na,!1)},kendoToggleClass:function(Ma,Na,La){return ua.toggleClass(this,Ma,Na,La)}}),qe=/&/g,Ge=/</g,Ye=/>/g,Ke=function(Ma){return Ma.target},ka.touch&&(Xe="chrome"==ka.mobileOS.browser&&!ka.mobileOS.ios,Ke=function(Ma){var Na="originalEvent"in Ma?Ma.originalEvent.changedTouches:"changedTouches"in Ma?Ma.changedTouches:null,La=Xe?"screen":"client";return Na?document.elementFromPoint(Na[0][La+"X"],Na[0][La+"Y"]):Ma.target},fa(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(Ma,Na){pe.fn[Na]=function(La){return this.bind(Na,La)}})),ka.touch?ka.mobileOS?(ka.mousedown="touchstart",ka.mouseup="touchend",ka.mousemove="touchmove",ka.mousecancel="touchcancel",ka.click="touchend",ka.resize="orientationchange"):(ka.mousedown="mousedown touchstart",ka.mouseup="mouseup touchend",ka.mousemove="mousemove touchmove",ka.mousecancel="mouseleave touchcancel",ka.click="click",ka.resize="resize"):ka.pointers?(ka.mousemove="MSPointerMove",ka.mousedown="MSPointerDown",ka.mouseup="MSPointerUp",ka.mousecancel="MSPointerCancel",ka.click="MSPointerUp",ka.resize="orientationchange resize"):(ka.mousemove="mousemove",ka.mousedown="mousedown",ka.mouseup="mouseup",ka.mousecancel="mouseleave",ka.click="click",ka.resize="resize"),Qe=function(Ma,Na){var Ua=Na||"d",ja=1,La,Ba,Va,Wa;for(Ba=0,Va=Ma.length;Va>Ba;Ba++)Wa=Ma[Ba],""!==Wa&&(La=Wa.indexOf("["),0!==La&&(-1==La?Wa="."+Wa:(ja++,Wa="."+Wa.substring(0,La)+" || {})"+Wa.substring(La))),ja++,Ua+=Wa+(Va-1>Ba?" || {})":")"));return Array(ja).join("(")+Ua},$e=/^([a-z]+:)?\/\//i,ma(ua,{ui:ua.ui||{},fx:ua.fx||function(Na){return new ua.effects.Element(Na)},effects:ua.effects||je,mobile:ua.mobile||{},data:ua.data||{},dataviz:ua.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:ua.support||ka,animate:ua.animate||Te,ns:"",attr:function(Ma){return"data-"+ua.ns+Ma},wrap:function(Na){var $a=ka.browser,Ja="rtl"==Na.css("direction"),La,Ba,Va,Wa,Ma,Ua,ja,qa,Ga,Ya,Ka,Xa,Qa;return Na.parent().hasClass("k-animation-container")?(Xa=Na.parent(".k-animation-container"),Qa=Xa[0].style,Xa.is(":hidden")&&Xa.show(),La=wa.test(Qa.width)||wa.test(Qa.height),La||Xa.css({width:Na.outerWidth(),height:Na.outerHeight()})):(Ba=Na.css(ua.support.transitions.css+"box-shadow")||Na.css("box-shadow"),Va=Ba?Ba.match(Ta)||[0,0,0,0,0]:[0,0,0,0,0],Wa=ba.max(+Va[3],+(Va[4]||0)),Ma=-Va[1]+Wa,Ua=+Va[1]+Wa,ja=+Va[2]+Wa,qa=Na[0].style.width,Ga=Na[0].style.height,Ya=wa.test(qa),Ka=wa.test(Ga),$a.opera&&(Ma=Ua=ja=5),La=Ya||Ka,Ya||(qa=Na.outerWidth()),Ka||(Ga=Na.outerHeight()),Na.wrap(pe("<div/>").addClass("k-animation-container").css({width:qa,height:Ga,marginLeft:Ma*(Ja?1:-1),paddingLeft:Ma,paddingRight:Ua,paddingBottom:ja})),La&&Na.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),$a.msie&&7>=ba.floor($a.version)&&Na.css({zoom:1}),Na.parent()},deepExtend:function(Na){var La=1,Ba=arguments.length;for(La=1;Ba>La;La++)ke(Na,arguments[La]);return Na},getComputedStyles:function(Na,La){var Va={},Ba;return document.defaultView&&document.defaultView.getComputedStyle?(Ba=document.defaultView.getComputedStyle(Na,""),La&&pe.each(La,function(Wa,Ua){Va[Ua]=Ba.getPropertyValue(Ua)})):(Ba=Na.currentStyle,La&&pe.each(La,function(Wa,Ua){Va[Ua]=Ba[Ua.replace(/\-(\w)/g,function(ja,qa){return qa.toUpperCase()})]})),ua.size(Va)||(Va=Ba),Va},size:function(Na){var Ba=0,La;for(La in Na)Na.hasOwnProperty(La)&&"toJSON"!=La&&Ba++;return Ba},isNodeEmpty:function(Na){return""===pe.trim(pe(Na).contents().filter(function(){return 8!=this.nodeType}).html())},getOffset:ua.getOffset||function(Na,La,Ba){var Va,Wa,Ua,ja;return La||(La="offset"),Va=Na[La](),Wa=ka.mobileOS,ka.touch&&Wa.ios&&410>Wa.flatVersion&&(Ua="offset"==La?Va:Na.offset(),ja=Va.left==Ua.left&&Va.top==Ua.top)?{top:Va.top-window.scrollY,left:Va.left-window.scrollX}:(ua.support.pointers&&!Ba&&(Va.top-=window.pageYOffset-document.documentElement.scrollTop,Va.left-=window.pageXOffset-document.documentElement.scrollLeft),Va)},parseEffects:ua.parseEffects||function(Na){var La={};return fa("string"==typeof Na?Na.split(" "):Na,function(Ba){La[Ba]=this}),La},toggleClass:ua.toggleClass||function(Na,La,Ba,Va){return La&&(La=La.split(" "),fa(La,function(Wa,Ua){Na.toggleClass(Ua,Va)})),Na},directions:ua.directions||Ue,Observable:ze,Class:xe,Template:Re,template:ha(Re.compile,Re),render:ha(Re.render,Re),stringify:ha(va.stringify,va),eventTarget:Ke,htmlEncode:function(Na){return(""+Na).replace(qe,"&amp;").replace(Ge,"&lt;").replace(Ye,"&gt;")},isLocalUrl:function(Ma){return Ma&&!$e.test(Ma)},expr:function(Ma,Na,La){return Ma=Ma||"",typeof Na==Aa&&(La=Na,Na=!1),La=La||"d",Ma&&"["!==Ma.charAt(0)&&(Ma="."+Ma),Ma=Na?Qe(Ma.split("."),La):La+Ma},getter:function(Ma,Na){return Ea[Ma]=Ea[Ma]||Function("d","return "+ua.expr(Ma,Na))},setter:function(Ma){return Ha[Ma]=Ha[Ma]||Function("d,value",ua.expr(Ma)+"=value")},accessor:function(Ma){return{get:ua.getter(Ma),set:ua.setter(Ma)}},guid:function(){var La="",Ma,Na;for(Ma=0;32>Ma;Ma++)Na=0|16*ba.random(),(8==Ma||12==Ma||16==Ma||20==Ma)&&(La+="-"),La+=(12==Ma?4:16==Ma?8|3&Na:Na).toString(16);return La},roleSelector:function(Ma){return Ma.replace(/(\S+)/g,"["+ua.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(Ma){var Na=window.console;Na!==_e&&Na.log&&Na.log(Ma)}}),Je=ze.extend({init:function(Ma,Na){var La=this;La.element=ua.jQuery(Ma).handler(La),ze.fn.init.call(La),Na=La.options=ma(!0,{},La.options,Na),La.element.attr(ua.attr("role"))||La.element.attr(ua.attr("role"),(Na.name||"").toLowerCase()),La.element.data("kendo"+Na.prefix+Na.name,La),La.bind(La.events,Na)},events:[],options:{prefix:""},_tabindex:function(Ma){Ma=Ma||this.wrapper;var Na=this.element,La="tabindex",Ba=Ma.attr(La)||Na.attr(La);Na.removeAttr(La),Ma.attr(La,isNaN(Ba)?0:Ba)},setOptions:function(Ma){for(var La=this,Ba=0,Va=La.events.length,Na;Va>Ba;Ba++)Na=La.events[Ba],La.options[Na]&&Ma[Na]&&La.unbind(Na,La.options[Na]);pe.extend(La.options,Ma),La.bind(La.events,Ma)},destroy:function(){var Ma=this;Ma.element.removeData("kendo"+Ma.options.prefix+Ma.options.name),Ma.element.removeData("handler"),Ma.unbind()}}),ua.notify=xa,Ze=/template$/i,ea=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ta=/^\{(\d+)(:[^\}]+)?\}/,aa=/([A-Z])/g,ua.initWidget=function(Ma,Na,La){var Ba,Va,Wa,Ua,ja,qa,Ga,Ya;if(La?La.roles&&(La=La.roles):La=ua.ui.roles,Ma=Ma.nodeType?Ma:Ma[0],qa=Ma.getAttribute("data-"+ua.ns+"role"),qa&&(Wa=-1===qa.indexOf(".")?La[qa]:ua.getter(qa)(window))){for(Ya=Ae(Ma,"dataSource"),Na=pe.extend({},De(Ma,Wa.fn.options),Na),Ya&&(Na.dataSource=typeof Ya==Aa?ua.getter(Ya)(window):Ya),Ua=0,ja=Wa.fn.events.length;ja>Ua;Ua++)Va=Wa.fn.events[Ua],Ga=Ae(Ma,Va),Ga!==_e&&(Na[Va]=ua.getter(Ga)(window));return Ba=pe(Ma).data("kendo"+Wa.fn.options.prefix+Wa.fn.options.name),Ba?Ba.setOptions(Na):Ba=new Wa(Ma,Na),Ba}},ua.rolesFromNamespaces=function(Ma){var Ba=[],Na,La;for(Ma[0]||(Ma=[ua.ui,ua.dataviz.ui]),Na=0,La=Ma.length;La>Na;Na++)Ba[Na]=Ma[Na].roles;return ma.apply(null,[{}].concat(Ba.reverse()))},ua.init=function(Ma){var Na=ua.rolesFromNamespaces(za.call(arguments,1));pe(Ma).find("[data-"+ua.ns+"role]").andSelf().each(function(){ua.initWidget(this,{},Na)})},ua.destroy=function(Ma){pe(Ma).find("[data-"+ua.ns+"role]").andSelf().each(function(){var Na=pe(this),La=ua.widgetInstance(Na,ua.ui)||ua.widgetInstance(Na,ua.mobile.ui)||ua.widgetInstance(Na,ua.dataviz.ui);La&&La.destroy()})},ua.parseOptions=De,ma(ua.ui,{Widget:Je,roles:{},progress:function(Ma,Na){var Ua=Ma.find(".k-loading-mask"),ja=ua.support,qa=ja.browser,La,Ba,Va,Wa;Na?Ua.length||(La=ja.isRtl(Ma),Ba=La?"right":"left",Wa=Ma.scrollLeft(),Va=qa.webkit?La?Ma[0].scrollWidth-Ma.width()-2*Wa:0:0,Ua=pe("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",Ma.scrollTop()).css(Ba,Math.abs(Wa)+Va).prependTo(Ma)):Ua&&Ua.remove()},plugin:function(Ma,Na,La){var Va=Ma.fn.options.name,Ba;Na=Na||ua.ui,La=La||"",Na[Va]=Ma,Na.roles[Va.toLowerCase()]=Ma,Ba="getKendo"+La+Va,Va="kendo"+La+Va,pe.fn[Va]=function(Wa){var ja=this,Ua;return typeof Wa==Aa?(Ua=za.call(arguments,1),this.each(function(){var Ya=pe.data(this,Va),qa,Ga;if(!Ya)throw Error(ua.format("Cannot call method '{0}' of {1} before it is initialized",Wa,Va));if(qa=Ya[Wa],typeof qa!=Sa)throw Error(ua.format("Cannot find method '{0}' of {1}",Wa,Va));return Ga=qa.apply(Ya,Ua),Ga===_e?_e:(ja=Ga,!1)})):this.each(function(){new Ma(this,Wa)}),ja},pe.fn[Ba]=function(){return this.data(Va)}}}),oa={bind:pe.noop},na=Je.extend({init:function(Ma,Na){Je.fn.init.call(this,Ma,Na),this.element.autoApplyNS(),this.wrapper=this.element},destroy:function(){Je.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var Ma=this.element.closest(ua.roleSelector("view splitview modalview"));return ua.widgetInstance(Ma,ua.mobile.ui)},container:function(){var Ma=this.element.closest(ua.roleSelector("view layout modalview"));return ua.widgetInstance(Ma,ua.mobile.ui)||oa}}),ma(ua.mobile,{init:function(Ma){ua.init(Ma,ua.mobile.ui,ua.ui,ua.dataviz.ui)},ui:{Widget:na,roles:{},plugin:function(Ma){ua.ui.plugin(Ma,ua.mobile.ui,"Mobile")}}}),ua.touchScroller=function(Ma,Na){return pe(Ma).map(function(La,Ba){return Ba=pe(Ba),ka.kineticScrollNeeded&&ua.mobile.ui.Scroller&&!Ba.data("kendoMobileScroller")&&(Ba.kendoMobileScroller(Na),Ba.data("kendoMobileScroller"))})[0]},ua.preventDefault=function(Ma){Ma.preventDefault()},ua.widgetInstance=function(Ma,Na){var La=Na.roles[Ma.data(ua.ns+"role")];return La?Ma.data("kendo"+La.fn.options.prefix+La.fn.options.name):_e},ua.onResize=function(Ma){var Na=Ma;ka.mobileOS.android&&(Na=function(){setTimeout(Ma,200)}),pe(window).on(ka.resize,Na)},ua.attrValue=function(Ma,Na){return Ma.data(ua.ns+Na)},ua.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},pe.extend(pe.expr[":"],{focusable:function(Ma){var Na=pe.attr(Ma,"tabindex");return Fe(Ma,!isNaN(Na)&&-1<Na)}}),ia=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],ra="label, input, [data-rel=external]",la={setupMouseMute:function(){var Na=0,La=ia.length,Ba=document.documentElement,Ma;if(!la.mouseTrap&&ka.eventCapture)for(la.mouseTrap=!0,la.bustClick=!1,la.captureMouse=!1,Ma=function(Va){la.captureMouse&&("click"===Va.type?la.bustClick&&!pe(Va.target).is(ra)&&(Va.preventDefault(),Va.stopPropagation()):Va.stopPropagation())};La>Na;Na++)Ba.addEventListener(ia[Na],Ma,!0)},muteMouse:function(Ma){la.captureMouse=!0,Ma.data.bustClick&&(la.bustClick=!0),clearTimeout(la.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(la.mouseTrapTimeoutID),la.mouseTrapTimeoutID=setTimeout(function(){la.captureMouse=!1,la.bustClick=!1},400)}},sa={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},ka.touch&&(ka.mobileOS.ios||ka.mobileOS.android)&&(sa={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}),ka.pointers&&(sa={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"},pe.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(Ma,Na){pe.event.special[Ma]={delegateType:Na,bindType:Na,handle:function(La){var Va=this,Wa=La.relatedTarget,Ua=La.handleObj,Ba;return(!Wa||Wa!==Va&&!pe.contains(Va,Wa))&&(La.type=Ua.origType,Ba=Ua.handler.apply(this,arguments),La.type=Na),Ba}}})),da=function(Ma){return sa[Ma]||Ma},pa=/([^ ]+)/g,ua.applyEventMap=function(Ma,Na){return Ma=Ma.replace(pa,da),Na&&(Ma=Ma.replace(pa,"$1."+Na)),Ma},ca=pe.fn.on,ma(!0,Pe,pe),Pe.fn=Pe.prototype=new pe,Pe.fn.constructor=Pe,Pe.fn.init=function(Ma,Na){return Na&&Na instanceof pe&&!(Na instanceof Pe)&&(Na=Pe(Na)),pe.fn.init.call(this,Ma,Na,ga)},Pe.fn.init.prototype=Pe.fn,ga=Pe(document),ma(Pe.fn,{handler:function(Ma){return this.data("handler",Ma),this},autoApplyNS:function(Ma){return this.data("kendoNS",Ma||ua.guid()),this},on:function(){var Ua=this,ja=Ua.data("kendoNS"),Ma,Na,La,Ba,Va,Wa;return 1===arguments.length?ca.call(Ua,arguments[0]):(Ma=Ua,Na=za.call(arguments),typeof Na[Na.length-1]==Ra&&Na.pop(),La=Na[Na.length-1],Ba=ua.applyEventMap(Na[0],ja),ka.mouseAndTouchPresent&&-1<Ba.search(/mouse|click/)&&this[0]!==document.documentElement&&(la.setupMouseMute(),Va=2===Na.length?null:Na[1],Wa=-1<Ba.indexOf("click")&&-1<Ba.indexOf("touchend"),ca.call(this,{touchstart:la.muteMouse,touchend:la.unMuteMouse},Va,{bustClick:Wa})),typeof La==Aa&&(Ma=Ua.data("handler"),La=Ma[La],Na[Na.length-1]=function(qa){La.call(Ma,qa)}),Na[0]=Ba,ca.apply(Ua,Na),Ua)},kendoDestroy:function(Ma){return Ma=Ma||this.data("kendoNS"),Ma&&this.off("."+Ma),this}}),ua.jQuery=Pe,ua.eventMap=sa})(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){});;(function(pe,me){function _e(Mo,No,Wo,Uo){return function(jo){var Go={},qo;for(qo in jo)Go[qo]=jo[qo];Go.field=Uo?Wo+"."+jo.field:Wo,Mo.trigger(No,Go)}}function xe(Mo,No){if(Mo===No)return!0;var Uo=pe.type(Mo),jo=pe.type(No),Wo;if(Uo!==jo)return!1;if("date"===Uo)return Mo.getTime()===No.getTime();if("object"!==Uo&&"array"!==Uo)return!1;for(Wo in Mo)if(!xe(Mo[Wo],No[Wo]))return!1;return!0}function ye(Mo,No){var Wo,Uo;for(Uo in Mo){if(Wo=Mo[Uo],pa(Wo)&&Wo.field&&Wo.field===No)return Wo;if(Wo===No)return Wo}return null}function be(Mo){this.data=Mo||[]}function ke(Mo,No){if(Mo){var Wo=typeof Mo===ba?{field:Mo,dir:No}:Mo,Uo=ga(Wo)?Wo:Wo===me?[]:[Wo];return ua(Uo,function(jo){return!!jo.dir})}}function we(Mo){var qo=Mo.filters,No,Wo,Uo,jo;if(qo)for(No=0,Wo=qo.length;Wo>No;No++)Uo=qo[No],jo=Uo.operator,jo&&typeof jo===ba&&(Uo.operator=$e[jo.toLowerCase()]||jo),we(Uo)}function Ce(Mo){return Mo&&!ca(Mo)?((ga(Mo)||!Mo.filters)&&(Mo={logic:"and",filters:ga(Mo)?Mo:[Mo]}),we(Mo),Mo):me}function Te(Mo){return ga(Mo)?Mo:[Mo]}function Se(Mo,No){var Wo=typeof Mo===ba?{field:Mo,dir:No}:Mo,Uo=ga(Wo)?Wo:Wo===me?[]:[Wo];return Ye(Uo,function(jo){return{field:jo.field,dir:jo.dir||"asc",aggregates:jo.aggregates}})}function Ae(Mo,No){return Mo&&Mo.getTime&&No&&No.getTime?Mo.getTime()===No.getTime():Mo===No}function De(Mo,No,Wo,Uo,jo){var qo,Go,Yo,Ko,Xo;for(No=No||[],Ko=No.length,qo=0;Ko>qo;qo++)Go=No[qo],Yo=Go.aggregate,Xo=Go.field,Mo[Xo]=Mo[Xo]||{},Mo[Xo][Yo]=Je[Yo.toLowerCase()](Mo[Xo][Yo],Wo,_a.accessor(Xo),Uo,jo)}function Fe(Mo){var Wo=Mo.length,Uo=Array(Wo),No;for(No=0;Wo>No;No++)Uo[No]=Mo[No].toJSON();return Uo}function Ie(Mo,No){No=No||{};var Wo=new be(Mo),Uo=No.aggregate,jo=No.filter;return jo&&(Wo=Wo.filter(jo)),Wo.aggregate(Uo)}function Pe(Mo,No,Wo){var Uo,jo,qo,Go;for(qo=0,Go=Mo.length;Go>qo;qo++)for(jo in Uo=Mo[qo],No)Uo[jo]=Wo._parse(jo,No[jo](Uo))}function Re(Mo,No,Wo){var Uo,jo,qo;for(jo=0,qo=Mo.length;qo>jo;jo++)Uo=Mo[jo],Uo.value=Wo._parse(Uo.field,Uo.value),Uo.hasSubgroups?Re(Uo.items,No,Wo):Pe(Uo.items,No,Wo)}function Ee(Mo,No,Wo,Uo){return function(jo){return jo=Mo(jo),jo&&!ca(Uo)&&("[object Array]"===qa.call(jo)||jo instanceof Qa||(jo=[jo]),Wo(jo,Uo,new No)),jo||[]}}function He(Mo,No,Wo,Uo){for(var Go=0,jo,qo;No.length&&Uo&&(jo=No[Go],qo=jo.items,Mo&&Mo.field===jo.field&&Mo.value===jo.value?(Mo.hasSubgroups&&Mo.items.length?He(Mo.items[Mo.items.length-1],jo.items,Wo,Uo):(qo=qo.slice(Wo,Uo),Uo-=qo.length,Mo.items=Mo.items.concat(qo)),No.splice(Go--,1)):(qo=qo.slice(Wo,Uo),Uo-=qo.length,jo.items=qo,jo.items.length||No.splice(Go--,1)),Wo=0,!(++Go>=No.length)););}function ze(Mo){var Uo=[],No,Wo;for(No=0,Wo=Mo.length;Wo>No;No++)Uo=Mo[No].hasSubgroups?Uo.concat(ze(Mo[No].items)):Uo.concat(Mo[No].items.slice());return Uo}function Oe(Mo,No){var Wo,Uo,jo,qo;if(No)for(Wo=0,Uo=Mo.length;Uo>Wo;Wo++)jo=Mo[Wo],qo=jo.items,jo.hasSubgroups?Oe(qo,No):!qo.length||qo[0]instanceof No||(qo.type=No,qo.wrapAll(qo,qo))}function Me(Mo,No){var Wo,Uo;for(Wo=0,Uo=Mo.length;Uo>Wo;Wo++)if(Mo[Wo].hasSubgroups){if(Me(Mo[Wo].items,No))return!0;}else if(No(Mo[Wo].items,Mo[Wo]))return!0}function Ne(Mo,No){var Wo,Uo;for(Wo=0,Uo=Mo.length;Uo>Wo;Wo++)if(Mo[Wo].uid==No.uid)return No=Mo[Wo],Mo.splice(Wo,1),No}function Le(Mo,No){var Wo,Uo,jo,qo;for(jo=Mo.length-1,qo=0;jo>=qo;jo--)Uo=Mo[jo],Wo={value:No.get(Uo.field),field:Uo.field,items:Wo?[Wo]:[No],hasSubgroups:!!Wo,aggregates:{}};return Wo}function Be(Mo,No){return No?We(Mo,function(Wo){return Wo[No.idField]===No.id}):-1}function Ve(Mo,No){return No?We(Mo,function(Wo){return Wo.uid==No.uid}):-1}function We(Mo,No){var Wo,Uo;for(Wo=0,Uo=Mo.length;Uo>Wo;Wo++)if(No(Mo[Wo]))return Wo;return-1}function Ue(Mo,No){var Yo=pe(Mo)[0].children,Ko=[],Xo=No[0],Qo=No[1],Wo,Uo,jo,qo,Go;for(Wo=0,Uo=Yo.length;Uo>Wo;Wo++)jo={},Go=Yo[Wo],Go.disabled||(jo[Xo.field]=Go.text,qo=Go.attributes.value,qo=qo&&qo.specified?Go.value:Go.text,jo[Qo.field]=qo,Ko.push(jo));return Ko}function je(Mo,No){var Xo=pe(Mo)[0].tBodies[0],Qo=Xo?Xo.rows:[],$o=No.length,Jo=[],Wo,Uo,jo,qo,Go,Yo,Ko;for(Wo=0,Uo=Qo.length;Uo>Wo;Wo++){for(Go={},Ko=!0,qo=Qo[Wo].cells,jo=0;$o>jo;jo++)Yo=qo[jo],"th"!==Yo.nodeName.toLowerCase()&&(Ko=!1,Go[No[jo].field]=Yo.innerHTML);Ko||Jo.push(Go)}return Jo}function qe(Mo){return function(){var No=this._data,Wo=oa.fn[Mo].apply(this,Ua.call(arguments));return this._data!=No&&this._attachBubbleHandlers(),Wo}}function Ge(Mo,No){var Qo=pe(Mo).children(),$o=[],Jo=No[0].field,Zo=No[1]&&No[1].field,er=No[2]&&No[2].field,tr=No[3]&&No[3].field,Wo,Uo,jo,qo,Go,Yo,Ko,Xo;for(Wo=0,Uo=Qo.length;Uo>Wo;Wo++)jo={_loaded:!0},qo=Qo.eq(Wo),Yo=qo[0].firstChild,Xo=qo.children(),Mo=Xo.filter("ul"),Xo=Xo.filter(":not(ul)"),Go=qo.attr("data-id"),Go&&(jo.id=Go),Yo&&(jo[Jo]=3==Yo.nodeType?Yo.nodeValue:Xo.text()),Zo&&(jo[Zo]=Xo.find("a").attr("href")),tr&&(jo[tr]=Xo.find("img").attr("src")),er&&(Ko=Xo.find(".k-sprite").prop("className"),jo[er]=Ko&&pe.trim(Ko.replace("k-sprite",""))),Mo.length&&(jo.items=Ge(Mo.eq(0),No)),"true"==qo.attr("data-hasChildren")&&(jo.hasChildren=!0),$o.push(jo);return $o}var la=pe.extend,sa=pe.proxy,da=pe.isFunction,pa=pe.isPlainObject,ca=pe.isEmptyObject,ga=pe.isArray,ua=pe.grep,ma=pe.ajax,fa=pe.each,ha=pe.noop,_a=window.kendo,xa=_a.Observable,ya=_a.Class,ba="string",va="function",ka="create",wa="read",Ca="update",Ta="destroy",Sa="change",Aa="sync",Da="get",Fa="error",Ia="requestStart",Pa="progress",Ra="requestEnd",Ea=[ka,wa,Ca,Ta],Ha=function(Mo){return Mo},za=_a.getter,Oa=_a.stringify,Ma=Math,Na=[].push,La=[].join,Ba=[].pop,Va=[].splice,Wa=[].shift,Ua=[].slice,ja=[].unshift,qa={}.toString,Ga=_a.support.stableSort,Ya=/^\/Date\((.*?)\)\/$/,Ka=/(\r+|\n+)/g,Xa=/(?=['\\])/g,Qa=xa.extend({init:function(Mo,No){var Wo=this;Wo.type=No||$a,xa.fn.init.call(Wo),Wo.length=Mo.length,Wo.wrapAll(Mo,Wo)},toJSON:function(){var Wo=this.length,Uo=Array(Wo),Mo,No;for(Mo=0;Wo>Mo;Mo++)No=this[Mo],No instanceof $a&&(No=No.toJSON()),Uo[Mo]=No;return Uo},parent:ha,wrapAll:function(Mo,No){var jo=this,qo=function(){return jo},Wo,Uo;for(No=No||[],Wo=0,Uo=Mo.length;Uo>Wo;Wo++)No[Wo]=jo.wrap(Mo[Wo],qo);return No},wrap:function(Mo,No){var Uo=this,Wo;return null!==Mo&&"[object Object]"===qa.call(Mo)&&(Wo=Mo instanceof Uo.type||Mo instanceof Fo,Wo||(Mo=Mo instanceof $a?Mo.toJSON():Mo,Mo=new Uo.type(Mo)),Mo.parent=No,Mo.bind(Sa,function(jo){Uo.trigger(Sa,{field:jo.field,node:jo.node,index:jo.index,items:jo.items||[this],action:jo.node?jo.action||"itemchange":"itemchange"})})),Mo},push:function(){var No=this.length,Wo=this.wrapAll(arguments),Mo;return Mo=Na.apply(this,Wo),this.trigger(Sa,{action:"add",index:No,items:Wo}),Mo},slice:Ua,join:La,pop:function(){var Mo=this.length,No=Ba.apply(this);return Mo&&this.trigger(Sa,{action:"remove",index:Mo-1,items:[No]}),No},splice:function(Mo,No,Wo){var Go=this.wrapAll(Ua.call(arguments,2)),Uo,jo,qo;if(Uo=Va.apply(this,[Mo,No].concat(Go)),Uo.length)for(this.trigger(Sa,{action:"remove",index:Mo,items:Uo}),jo=0,qo=Uo.length;qo>jo;jo++)Uo[jo].children&&Uo[jo].unbind(Sa);return Wo&&this.trigger(Sa,{action:"add",index:Mo,items:Go}),Uo},shift:function(){var Mo=this.length,No=Wa.apply(this);return Mo&&this.trigger(Sa,{action:"remove",index:0,items:[No]}),No},unshift:function(){var No=this.wrapAll(arguments),Mo;return Mo=ja.apply(this,No),this.trigger(Sa,{action:"add",index:0,items:No}),Mo},indexOf:function(Mo){var Uo=this,No,Wo;for(No=0,Wo=Uo.length;Wo>No;No++)if(Uo[No]===Mo)return No;return-1},forEach:function(Mo){for(var No=0,Wo=this.length;Wo>No;No++)Mo(this[No],No,this)},map:function(Mo){for(var No=0,Wo=[],Uo=this.length;Uo>No;No++)Wo[No]=Mo(this[No],No,this);return Wo},filter:function(Mo){for(var Wo=0,Uo=[],jo=this.length,No;jo>Wo;Wo++)No=this[Wo],Mo(No,Wo,this)&&(Uo[Uo.length]=No);return Uo},find:function(Mo){for(var Wo=0,Uo=this.length,No;Uo>Wo;Wo++)if(No=this[Wo],Mo(No,Wo,this))return No},every:function(Mo){for(var Wo=0,Uo=this.length,No;Uo>Wo;Wo++)if(No=this[Wo],!Mo(No,Wo,this))return!1;return!0},some:function(Mo){for(var Wo=0,Uo=this.length,No;Uo>Wo;Wo++)if(No=this[Wo],Mo(No,Wo,this))return!0;return!1},remove:function(Mo){this.splice(this.indexOf(Mo),1)}}),$a=xa.extend({init:function(Mo){var Uo=this,jo=function(){return Uo},No,Wo;for(Wo in xa.fn.init.call(this),Mo)No=Mo[Wo],"_"!=Wo.charAt(0)&&(No=Uo.wrap(No,Wo,jo)),Uo[Wo]=No;Uo.uid=_a.guid()},shouldSerialize:function(Mo){return this.hasOwnProperty(Mo)&&"_events"!==Mo&&typeof this[Mo]!=va&&"uid"!==Mo},forEach:function(Mo){for(var No in this)this.shouldSerialize(No)&&Mo(this[No],No)},toJSON:function(){var Wo={},Mo,No;for(No in this)this.shouldSerialize(No)&&(Mo=this[No],(Mo instanceof $a||Mo instanceof Qa)&&(Mo=Mo.toJSON()),Wo[No]=Mo);return Wo},get:function(Mo){var Wo=this,No;return Wo.trigger(Da,{field:Mo}),No="this"===Mo?Wo:_a.getter(Mo,!0)(Wo)},_set:function(Mo,No){var qo=this,Wo,Uo,jo;if(Mo.indexOf("."))for(Wo=Mo.split("."),Uo="";1<Wo.length;){if(Uo+=Wo.shift(),jo=_a.getter(Uo,!0)(qo),jo instanceof $a)return jo.set(Wo.join("."),No),me;Uo+="."}_a.setter(Mo)(qo,No)},set:function(Mo,No){var Wo=this,Uo=_a.getter(Mo,!0)(Wo);Uo!==No&&(Wo.trigger("set",{field:Mo,value:No})||(Wo._set(Mo,Wo.wrap(No,Mo,function(){return Wo})),Wo.trigger(Sa,{field:Mo})))},parent:ha,wrap:function(Mo,No,Wo){var qo=this,Go=qa.call(Mo),Uo,jo;return null==Mo||"[object Object]"!==Go&&"[object Array]"!==Go||(Uo=Mo instanceof Qa,jo=Mo instanceof oa,"[object Object]"!==Go||jo||Uo?("[object Array]"===Go||Uo||jo)&&(Uo||jo||(Mo=new Qa(Mo)),Mo.parent()!=Wo()&&Mo.bind(Sa,_e(qo,Sa,No,!1))):(Mo instanceof $a||(Mo=new $a(Mo)),Mo.parent()!=Wo()&&(Mo.bind(Da,_e(qo,Da,No,!0)),Mo.bind(Sa,_e(qo,Sa,No,!0)))),Mo.parent=Wo),Mo}}),Ja={number:function(Mo){return _a.parseFloat(Mo)},date:function(Mo){return _a.parseDate(Mo)},boolean:function(Mo){return typeof Mo==ba?"true"===Mo.toLowerCase():null==Mo?Mo:!!Mo},string:function(Mo){return null==Mo?Mo:Mo+""},"default":function(Mo){return Mo}},Za={string:"",number:0,date:new Date,boolean:!1,"default":""},Fo=$a.extend({init:function(Mo){var No=this;(!Mo||pe.isEmptyObject(Mo))&&(Mo=pe.extend({},No.defaults,Mo)),$a.fn.init.call(No,Mo),No.dirty=!1,No.idField&&(No.id=No.get(No.idField),No.id===me&&(No.id=No._defaultId))},shouldSerialize:function(Mo){return $a.fn.shouldSerialize.call(this,Mo)&&"uid"!==Mo&&("id"===this.idField||"id"!==Mo)&&"dirty"!==Mo&&"_accessors"!==Mo},_parse:function(Mo,No){var Uo=this,jo=Mo,qo=Uo.fields||{},Wo;return Mo=qo[Mo],Mo||(Mo=ye(qo,jo)),Mo&&(Wo=Mo.parse,!Wo&&Mo.type&&(Wo=Ja[Mo.type.toLowerCase()])),Wo?Wo(No):No},editable:function(Mo){return Mo=(this.fields||{})[Mo],!Mo||!1!==Mo.editable},set:function(Mo,No,Wo){var Uo=this;Uo.editable(Mo)&&(No=Uo._parse(Mo,No),xe(No,Uo.get(Mo))||(Uo.dirty=!0,$a.fn.set.call(Uo,Mo,No,Wo)))},accept:function(Mo){var Wo=this,Uo=function(){return Wo},No;for(No in Mo)Wo._set(No,Wo.wrap(Mo[No],No,Uo));Wo.idField&&(Wo.id=Wo.get(Wo.idField)),Wo.dirty=!1},isNew:function(){return this.id===this._defaultId}}),Ye,Ke,Xe,Qe,$e,Je,Ze,ea,ta,aa,oa,na,ia,ra;Fo.define=function(Mo,No){No===me&&(No=Mo,Mo=Fo);var Xo=la({defaults:{}},No),Qo={},$o=Xo.id,Wo,Uo,jo,qo,Go,Yo,Ko;if($o&&(Xo.idField=$o),Xo.id&&delete Xo.id,$o&&(Xo.defaults[$o]=Xo._defaultId=""),"[object Array]"===qa.call(Xo.fields)){for(Yo=0,Ko=Xo.fields.length;Ko>Yo;Yo++)jo=Xo.fields[Yo],typeof jo==ba?Qo[jo]={}:jo.field&&(Qo[jo.field]=jo);Xo.fields=Qo}for(Uo in Xo.fields)jo=Xo.fields[Uo],qo=jo.type||"default",Go=null,Uo=typeof jo.field==ba?jo.field:Uo,jo.nullable||(Go=Xo.defaults[Uo]=jo.defaultValue===me?Za[qo.toLowerCase()]:jo.defaultValue),No.id===Uo&&(Xo._defaultId=Go),Xo.defaults[Uo]=Go,jo.parse=jo.parse||Ja[qo];return Wo=Mo.extend(Xo),Wo.define=function(Jo){return Fo.define(Wo,Jo)},Xo.fields&&(Wo.fields=Xo.fields,Wo.idField=Xo.idField),Wo},Ke={selector:function(Mo){return da(Mo)?Mo:za(Mo)},asc:function(Mo){var No=this.selector(Mo);return function(Wo,Uo){return Wo=No(Wo),Uo=No(Uo),null==Wo&&null==Uo?0:null==Wo?-1:null==Uo?1:Wo>Uo?1:Uo>Wo?-1:0}},desc:function(Mo){var No=this.selector(Mo);return function(Wo,Uo){return Wo=No(Wo),Uo=No(Uo),null==Wo&&null==Uo?0:null==Uo?-1:null==Wo?1:Uo>Wo?1:Wo>Uo?-1:0}},create:function(Mo){return this[Mo.dir.toLowerCase()](Mo.field)},combine:function(Mo){return function(No,Wo){var qo=Mo[0](No,Wo),Uo,jo;for(Uo=1,jo=Mo.length;jo>Uo;Uo++)qo=qo||Mo[Uo](No,Wo);return qo}}},Xe=la({},Ke,{asc:function(Mo){var No=this.selector(Mo);return function(Wo,Uo){var jo=No(Wo),qo=No(Uo);return jo&&jo.getTime&&qo&&qo.getTime&&(jo=jo.getTime(),qo=qo.getTime()),jo===qo?Wo.__position-Uo.__position:null==jo?-1:null==qo?1:jo>qo?1:qo>jo?-1:Wo.__position-Uo.__position}},desc:function(Mo){var No=this.selector(Mo);return function(Wo,Uo){var jo=No(Wo),qo=No(Uo);return jo&&jo.getTime&&qo&&qo.getTime&&(jo=jo.getTime(),qo=qo.getTime()),jo===qo?Wo.__position-Uo.__position:null==jo?1:null==qo?-1:qo>jo?1:jo>qo?-1:Wo.__position-Uo.__position}}}),Ye=function(Mo,No){var Uo=Mo.length,jo=Array(Uo),Wo;for(Wo=0;Uo>Wo;Wo++)jo[Wo]=No(Mo[Wo],Wo,Mo);return jo},Qe=function(){function Mo(Wo){return Wo.replace(Xa,"\\").replace(Ka,"")}function No(Wo,Uo,jo,qo){var Go;return null!=jo&&(typeof jo==ba&&(jo=Mo(jo),Go=Ya.exec(jo),Go?jo=new Date(+Go[1]):qo?(jo="'"+jo.toLowerCase()+"'",Uo="("+Uo+" || '').toLowerCase()"):jo="'"+jo+"'"),jo.getTime&&(Uo="("+Uo+"?"+Uo+".getTime():"+Uo+")",jo=jo.getTime())),Uo+" "+Wo+" "+jo}return{eq:function(Wo,Uo,jo){return No("==",Wo,Uo,jo)},neq:function(Wo,Uo,jo){return No("!=",Wo,Uo,jo)},gt:function(Wo,Uo,jo){return No(">",Wo,Uo,jo)},gte:function(Wo,Uo,jo){return No(">=",Wo,Uo,jo)},lt:function(Wo,Uo,jo){return No("<",Wo,Uo,jo)},lte:function(Wo,Uo,jo){return No("<=",Wo,Uo,jo)},startswith:function(Wo,Uo,jo){return jo&&(Wo="("+Wo+" || '').toLowerCase()",Uo&&(Uo=Uo.toLowerCase())),Uo&&(Uo=Mo(Uo)),Wo+".lastIndexOf('"+Uo+"', 0) == 0"},endswith:function(Wo,Uo,jo){return jo&&(Wo="("+Wo+" || '').toLowerCase()",Uo&&(Uo=Uo.toLowerCase())),Uo&&(Uo=Mo(Uo)),Wo+".indexOf('"+Uo+"', "+Wo+".length - "+(Uo||"").length+") >= 0"},contains:function(Wo,Uo,jo){return jo&&(Wo="("+Wo+" || '').toLowerCase()",Uo&&(Uo=Uo.toLowerCase())),Uo&&(Uo=Mo(Uo)),Wo+".indexOf('"+Uo+"') >= 0"},doesnotcontain:function(Wo,Uo,jo){return jo&&(Wo="("+Wo+" || '').toLowerCase()",Uo&&(Uo=Uo.toLowerCase())),Uo&&(Uo=Mo(Uo)),Wo+".indexOf('"+Uo+"') == -1"}}}(),be.filterExpr=function(Mo){var Yo=[],Ko=[],Xo=[],Qo=Mo.filters,No,Wo,Uo,jo,qo,Go;for(No=0,Wo=Qo.length;Wo>No;No++)Uo=Qo[No],qo=Uo.field,Go=Uo.operator,Uo.filters?(jo=be.filterExpr(Uo),Uo=jo.expression.replace(/__o\[(\d+)\]/g,function($o,Jo){return Jo=+Jo,"__o["+(Xo.length+Jo)+"]"}).replace(/__f\[(\d+)\]/g,function($o,Jo){return Jo=+Jo,"__f["+(Ko.length+Jo)+"]"}),Xo.push.apply(Xo,jo.operators),Ko.push.apply(Ko,jo.fields)):(typeof qo==va?(jo="__f["+Ko.length+"](d)",Ko.push(qo)):jo=_a.expr(qo),typeof Go==va?(Uo="__o["+Xo.length+"]("+jo+", "+Uo.value+")",Xo.push(Go)):Uo=Qe[(Go||"eq").toLowerCase()](jo,Uo.value,!(Uo.ignoreCase!==me)||Uo.ignoreCase)),Yo.push(Uo);return{expression:"("+Yo.join({and:" && ",or:" || "}[Mo.logic])+")",fields:Ko,operators:Xo}},$e={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},be.normalizeFilter=Ce,be.prototype={toArray:function(){return this.data},range:function(Mo,No){return new be(this.data.slice(Mo,Mo+No))},skip:function(Mo){return new be(this.data.slice(Mo))},take:function(Mo){return new be(this.data.slice(0,Mo))},select:function(Mo){return new be(Ye(this.data,Mo))},orderBy:function(Mo){var No=this.data.slice(0),Wo=da(Mo)||!Mo?Ke.asc(Mo):Mo.compare;return new be(No.sort(Wo))},orderByDescending:function(Mo){return new be(this.data.slice(0).sort(Ke.desc(Mo)))},sort:function(Mo,No,Wo){var qo=ke(Mo,No),Go=[],Uo,jo;if(Wo=Wo||Ke,qo.length){for(Uo=0,jo=qo.length;jo>Uo;Uo++)Go.push(Wo.create(qo[Uo]));return this.orderBy({compare:Wo.combine(Go)})}return this},filter:function(Mo){var Xo=this.data,Qo=[],No,Wo,Uo,jo,qo,Go,Yo,Ko;if(Mo=Ce(Mo),!Mo||0===Mo.filters.length)return this;for(jo=be.filterExpr(Mo),Go=jo.fields,Yo=jo.operators,qo=Ko=Function("d, __f, __o","return "+jo.expression),(Go.length||Yo.length)&&(Ko=function($o){return qo($o,Go,Yo)}),No=0,Uo=Xo.length;Uo>No;No++)Wo=Xo[No],Ko(Wo)&&Qo.push(Wo);return new be(Qo)},group:function(Mo,No){Mo=Se(Mo||[]),No=No||this.data;var Uo=this,jo=new be(Uo.data),Wo;return 0<Mo.length&&(Wo=Mo[0],jo=jo.groupBy(Wo).select(function(qo){var Go=new be(No).filter([{field:qo.field,operator:"eq",value:qo.value}]);return{field:qo.field,value:qo.value,items:1<Mo.length?new be(qo.items).group(Mo.slice(1),Go.toArray()).toArray():qo.items,hasSubgroups:1<Mo.length,aggregates:Go.aggregate(Wo.aggregates)}})),jo},groupBy:function(Mo){if(ca(Mo)||!this.data.length)return new be([]);var qo=Mo.field,Go=this._sortForGrouping(qo,Mo.dir||"asc"),Yo=_a.accessor(qo),Ko=Yo.get(Go[0],qo),Xo={field:qo,value:Ko,items:[]},Qo=[Xo],No,Wo,Uo,jo;for(Uo=0,jo=Go.length;jo>Uo;Uo++)No=Go[Uo],Wo=Yo.get(No,qo),Ae(Ko,Wo)||(Ko=Wo,Xo={field:qo,value:Ko,items:[]},Qo.push(Xo)),Xo.items.push(No);return new be(Qo)},_sortForGrouping:function(Mo,No){var jo=this.data,Wo,Uo;if(!Ga){for(Wo=0,Uo=jo.length;Uo>Wo;Wo++)jo[Wo].__position=Wo;for(jo=new be(jo).sort(Mo,No,Xe).toArray(),Wo=0,Uo=jo.length;Uo>Wo;Wo++)delete jo[Wo].__position;return jo}return this.sort(Mo,No).toArray()},aggregate:function(Mo){var Uo={},No,Wo;if(Mo&&Mo.length)for(No=0,Wo=this.data.length;Wo>No;No++)De(Uo,Mo,this.data[No],No,Wo);return Uo}},Je={sum:function(Mo,No,Wo){return(Mo||0)+Wo.get(No)},count:function(Mo){return(Mo||0)+1},average:function(Mo,No,Wo,Uo,jo){return Mo=(Mo||0)+Wo.get(No),Uo==jo-1&&(Mo/=jo),Mo},max:function(Mo,No,Wo){var Uo=Wo.get(No);return Mo=Mo||0,Uo>Mo&&(Mo=Uo),Mo},min:function(Mo,No,Wo){var Uo=Wo.get(No);return Mo=Mo||Uo,Mo>Uo&&(Mo=Uo),Mo}},be.process=function(Mo,No){No=No||{};var Uo=new be(Mo),jo=No.group,qo=Se(jo||[]).concat(ke(No.sort||[])),Go=No.filter,Yo=No.skip,Ko=No.take,Wo;return Go&&(Uo=Uo.filter(Go),Wo=Uo.toArray().length),qo&&(Uo=Uo.sort(qo),jo&&(Mo=Uo.toArray())),Yo!==me&&Ko!==me&&(Uo=Uo.range(Yo,Ko)),jo&&(Uo=Uo.group(jo,Mo)),{total:Wo,data:Uo.toArray()}},Ze=ya.extend({init:function(Mo){this.data=Mo.data},read:function(Mo){Mo.success(this.data)},update:function(Mo){Mo.success(Mo.data)},create:function(Mo){Mo.success(Mo.data)},destroy:function(Mo){Mo.success(Mo.data)}}),ea=ya.extend({init:function(Mo){var Wo=this,No;Mo=Wo.options=la({},Wo.options,Mo),fa(Ea,function(Uo,jo){typeof Mo[jo]==ba&&(Mo[jo]={url:Mo[jo]})}),Wo.cache=Mo.cache?ta.create(Mo.cache):{find:ha,add:ha},No=Mo.parameterMap,Wo.parameterMap=da(No)?No:function(Uo){var jo={};return fa(Uo,function(qo,Go){qo in No&&(qo=No[qo],pa(qo)&&(Go=qo.value(Go),qo=qo.key)),jo[qo]=Go}),jo}},options:{parameterMap:Ha},create:function(Mo){return ma(this.setup(Mo,ka))},read:function(Mo){var jo=this,qo=jo.cache,No,Wo,Uo;Mo=jo.setup(Mo,wa),No=Mo.success||ha,Wo=Mo.error||ha,Uo=qo.find(Mo.data),Uo===me?(Mo.success=function(Go){qo.add(Mo.data,Go),No(Go)},pe.ajax(Mo)):No(Uo)},update:function(Mo){return ma(this.setup(Mo,Ca))},destroy:function(Mo){return ma(this.setup(Mo,Ta))},setup:function(Mo,No){Mo=Mo||{};var Uo=this,jo=Uo.options[No],qo=da(jo.data)?jo.data(Mo.data):jo.data,Wo;return Mo=la(!0,{},jo,Mo),Wo=la(!0,{},qo,Mo.data),Mo.data=Uo.parameterMap(Wo,No),da(Mo.url)&&(Mo.url=Mo.url(Wo)),Mo}}),ta=ya.extend({init:function(){this._store={}},add:function(Mo,No){Mo!==me&&(this._store[Oa(Mo)]=No)},find:function(Mo){return this._store[Oa(Mo)]},clear:function(){this._store={}},remove:function(Mo){delete this._store[Oa(Mo)]}}),ta.create=function(Mo){return pa(Mo)&&da(Mo.find)?Mo:!0===Mo?new ta:{inmemory:function(){return new ta}}[Mo]()},aa=ya.extend({init:function(Mo){var Ko=this,No,Wo,Uo,jo,qo,Go,Yo;for(No in Mo=Mo||{},Mo)Wo=Mo[No],Ko[No]=typeof Wo==ba?za(Wo):Wo;jo=Mo.modelBase||Fo,pa(Ko.model)&&(Ko.model=Uo=jo.define(Ko.model)),Ko.model&&(qo=sa(Ko.data,Ko),Go=sa(Ko.groups,Ko),Yo={},Uo=Ko.model,Uo.fields&&fa(Uo.fields,function(Xo,Qo){pa(Qo)&&Qo.field?Yo[Qo.field]=za(Qo.field):Yo[Xo]=za(Xo)}),Ko.data=Ee(qo,Uo,Pe,Yo),Ko.groups=Ee(Go,Uo,Re,Yo))},errors:function(Mo){return Mo?Mo.errors:null},parse:Ha,data:Ha,total:function(Mo){return Mo.length},groups:Ha,status:function(Mo){return Mo.status},aggregates:function(){return{}}}),oa=xa.extend({init:function(Mo){var Uo=this,No,Wo;Mo&&(Wo=Mo.data),Mo=Uo.options=la({},Uo.options,Mo),Uo._map={},Uo._prefetch={},Uo._data=[],Uo._ranges=[],Uo._view=[],Uo._pristine=[],Uo._destroyed=[],Uo._pageSize=Mo.pageSize,Uo._page=Mo.page||(Mo.pageSize?1:me),Uo._sort=ke(Mo.sort),Uo._filter=Ce(Mo.filter),Uo._group=Se(Mo.group),Uo._aggregate=Mo.aggregate,Uo._total=Mo.total,xa.fn.init.call(Uo),Uo.transport=na.create(Mo,Wo),Uo.reader=new _a.data.readers[Mo.schema.type||"json"](Mo.schema),No=Uo.reader.model||{},Uo._data=Uo._observe(Uo._data),Uo.bind([Fa,Sa,Ia,Aa,Ra,Pa],Mo)},options:{data:[],schema:{modelBase:Fo},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var Mo=this.group()||[];return this.options.serverGrouping&&Mo.length},_flatData:function(Mo){return this._isServerGrouped()?ze(Mo):Mo},parent:ha,get:function(Mo){var Uo=this._flatData(this._data),No,Wo;for(No=0,Wo=Uo.length;Wo>No;No++)if(Uo[No].id==Mo)return Uo[No]},getByUid:function(Mo){var Uo=this._flatData(this._data),No,Wo;if(Uo)for(No=0,Wo=Uo.length;Wo>No;No++)if(Uo[No].uid==Mo)return Uo[No]},indexOf:function(Mo){return Ve(this._data,Mo)},at:function(Mo){return this._data[Mo]},data:function(Mo){var No=this;return Mo===me?No._data:(No._data=this._observe(Mo),No._ranges=[],No._addRange(No._data),No._total=No._data.length,No._process(No._data),me)},view:function(){return this._view},add:function(Mo){return this.insert(this._data.length,Mo)},insert:function(Mo,No){return No||(No=Mo,Mo=0),No instanceof Fo||(No=this.reader.model?new this.reader.model(No):new $a(No)),this._isServerGrouped()?this._data.splice(Mo,0,Le(this.group(),No)):this._data.splice(Mo,0,No),No},remove:function(Mo){var Wo=this,Uo=Wo._isServerGrouped(),No;return this._eachItem(Wo._data,function(jo){return No=Ne(jo,Mo),No&&Uo?(No.isNew&&No.isNew()||Wo._destroyed.push(No),!0):me}),Mo},sync:function(){var Uo=this,jo=[],qo=[],Go=Uo._destroyed,Yo=Uo._flatData(Uo._data),Mo,No,Wo;if(Uo.reader.model){for(Mo=0,No=Yo.length;No>Mo;Mo++)Yo[Mo].isNew()?jo.push(Yo[Mo]):Yo[Mo].dirty&&qo.push(Yo[Mo]);Wo=Uo._send("create",jo),Wo.push.apply(Wo,Uo._send("update",qo)),Wo.push.apply(Wo,Uo._send("destroy",Go)),pe.when.apply(null,Wo).then(function(){var Ko,Xo;for(Ko=0,Xo=arguments.length;Xo>Ko;Ko++)Uo._accept(arguments[Ko]);Uo._change({action:"sync"}),Uo.trigger(Aa)})}},cancelChanges:function(Mo){var No=this,Wo=No._readData(No._pristine);Mo instanceof _a.data.Model?No._cancelModel(Mo):(No._destroyed=[],No._data=No._observe(Wo),No.options.serverPaging&&(No._total=No.reader.total(No._pristine)),No._change())},hasChanges:function(){var Wo=this._data,Mo,No;if(this._destroyed.length)return!0;for(Mo=0,No=Wo.length;No>Mo;Mo++)if(Wo[Mo].isNew()||Wo[Mo].dirty)return!0;return!1},_accept:function(Mo){var Wo=this,Uo=Mo.models,jo=Mo.response,qo=0,Go=Wo._isServerGrouped(),Yo=Wo._readData(Wo._pristine),Ko=Mo.type,No;if(Wo.trigger(Ra,{response:jo,type:Ko}),jo&&!ca(jo)){if(jo=Wo.reader.parse(jo),Wo._handleCustomErrors(jo))return;jo=Wo.reader.data(jo),pe.isArray(jo)||(jo=[jo])}else jo=pe.map(Uo,function(Xo){return Xo.toJSON()});for("destroy"===Ko&&(Wo._destroyed=[]),qo=0,No=Uo.length;No>qo;qo++)"destroy"===Ko?Wo._removePristineForModel(Uo[qo]):(Uo[qo].accept(jo[qo]),"create"===Ko?Yo.push(Go?Le(Wo.group(),Uo[qo]):jo[qo]):"update"===Ko&&Wo._updatePristineForModel(Uo[qo],jo[qo]))},_updatePristineForModel:function(Mo,No){this._executeOnPristineForModel(Mo,function(Wo,Uo){_a.deepExtend(Uo[Wo],No)})},_executeOnPristineForModel:function(Mo,No){this._eachPristineItem(function(Wo){var Uo=Be(Wo,Mo);return-1<Uo?(No(Uo,Wo),!0):me})},_removePristineForModel:function(Mo){this._executeOnPristineForModel(Mo,function(No,Wo){Wo.splice(No,1)})},_readData:function(Mo){var No=this._isServerGrouped()?this.reader.groups:this.reader.data;return No(Mo)},_eachPristineItem:function(Mo){this._eachItem(this._readData(this._pristine),Mo)},_eachItem:function(Mo,No){Mo&&Mo.length&&(this._isServerGrouped()?Me(Mo,No):No(Mo))},_pristineForModel:function(Mo){var No,Wo;return this._eachPristineItem(function(Uo){return Wo=Be(Uo,Mo),-1<Wo?(No=Uo[Wo],!0):me}),No},_cancelModel:function(Mo){var Wo=this._pristineForModel(Mo),No;this._eachItem(this._data,function(Uo){No=Ve(Uo,Mo),-1!=No&&(!Mo.isNew()&&Wo?Uo[No].accept(Wo):Uo.splice(No,1))})},_promise:function(Mo,No,Wo){var Uo=this,jo=Uo.transport;return pe.Deferred(function(qo){jo[Wo].call(jo,la({success:function(Go){qo.resolve({response:Go,models:No,type:Wo})},error:function(Go,Yo,Ko){qo.reject(Go),Uo.error(Go,Yo,Ko)}},Mo))}).promise()},_send:function(Mo,No){var jo=this,qo=[],Wo,Uo;if(jo.options.batch)No.length&&qo.push(jo._promise({data:{models:Fe(No)}},No,Mo));else for(Wo=0,Uo=No.length;Uo>Wo;Wo++)qo.push(jo._promise({data:No[Wo].toJSON()},[No[Wo]],Mo));return qo},read:function(Mo){var No=this,Wo=No._params(Mo);No._queueRequest(Wo,function(){No.trigger(Ia)?No._dequeueRequest():(No.trigger(Pa),No._ranges=[],No.transport.read({data:Wo,success:sa(No.success,No),error:sa(No.error,No)}))})},success:function(Mo){var No=this,Wo=No.options;return No.trigger(Ra,{response:Mo,type:"read"}),Mo=No.reader.parse(Mo),No._handleCustomErrors(Mo)?(No._dequeueRequest(),me):(No._pristine=pa(Mo)?pe.extend(!0,{},Mo):Mo.slice?Mo.slice(0):Mo,No._total=No.reader.total(Mo),No._aggregate&&Wo.serverAggregates&&(No._aggregateResult=No.reader.aggregates(Mo)),Mo=No._readData(Mo),No._data=No._observe(Mo),No._addRange(No._data),No._dequeueRequest(),No._process(No._data),me)},_addRange:function(Mo){var No=this,Wo=No._skip||0,Uo=Wo+No._flatData(Mo).length;No._ranges.push({start:Wo,end:Uo,data:Mo}),No._ranges.sort(function(jo,qo){return jo.start-qo.start})},error:function(Mo,No,Wo){this._dequeueRequest(),this.trigger(Ra,{}),this.trigger(Fa,{xhr:Mo,status:No,errorThrown:Wo})},_params:function(Mo){var No=this,Wo=la({take:No.take(),skip:No.skip(),page:No.page(),pageSize:No.pageSize(),sort:No._sort,filter:No._filter,group:No._group,aggregate:No._aggregate},Mo);return No.options.serverPaging||(delete Wo.take,delete Wo.skip,delete Wo.page,delete Wo.pageSize),No.options.serverGrouping||delete Wo.group,No.options.serverFiltering||delete Wo.filter,No.options.serverSorting||delete Wo.sort,No.options.serverAggregates||delete Wo.aggregate,Wo},_queueRequest:function(Mo,No){var Wo=this;Wo._requestInProgress?Wo._pending={callback:sa(No,Wo),options:Mo}:(Wo._requestInProgress=!0,Wo._pending=me,No())},_dequeueRequest:function(){var Mo=this;Mo._requestInProgress=!1,Mo._pending&&Mo._queueRequest(Mo._pending.options,Mo._pending.callback)},_handleCustomErrors:function(Mo){if(this.reader.errors){var No=this.reader.errors(Mo);if(No)return this.trigger(Fa,{xhr:null,status:"customerror",errorThrown:"custom error",errors:No}),!0}return!1},_observe:function(Mo){var No=this,Wo=No.reader.model,Uo=!1;return Wo&&Mo.length&&(Uo=!(Mo[0]instanceof Wo)),Mo instanceof Qa?Uo&&(Mo.type=No.reader.model,Mo.wrapAll(Mo,Mo)):(Mo=new Qa(Mo,No.reader.model),Mo.parent=function(){return No.parent()}),No._isServerGrouped()&&Oe(Mo,Wo),Mo.bind(Sa,sa(No._change,No))},_change:function(Mo){var jo=this,qo=Mo?Mo.action:"",No,Wo,Uo;if("remove"===qo)for(No=0,Wo=Mo.items.length;Wo>No;No++)Mo.items[No].isNew&&Mo.items[No].isNew()||jo._destroyed.push(Mo.items[No]);jo.options.autoSync&&("add"===qo||"remove"===qo||"itemchange"===qo)?jo.sync():(Uo=jo._total||jo.reader.total(jo._pristine),"add"===qo?Uo+=Mo.items.length:"remove"===qo?Uo-=Mo.items.length:"itemchange"===qo||"sync"===qo||jo.options.serverPaging||(Uo=jo.reader.total(jo._pristine)),jo._total=Uo,jo._process(jo._data,Mo))},_process:function(Mo,No){var Uo=this,jo={},Wo;!0!==Uo.options.serverPaging&&(jo.skip=Uo._skip,jo.take=Uo._take||Uo._pageSize,jo.skip===me&&Uo._page!==me&&Uo._pageSize!==me&&(jo.skip=(Uo._page-1)*Uo._pageSize)),!0!==Uo.options.serverSorting&&(jo.sort=Uo._sort),!0!==Uo.options.serverFiltering&&(jo.filter=Uo._filter),!0!==Uo.options.serverGrouping&&(jo.group=Uo._group),!0!==Uo.options.serverAggregates&&(jo.aggregate=Uo._aggregate,Uo._aggregateResult=Ie(Mo,jo)),Wo=be.process(Mo,jo),Uo._view=Wo.data,Wo.total===me||Uo.options.serverFiltering||(Uo._total=Wo.total),No=No||{},No.items=No.items||Uo._view,Uo.trigger(Sa,No)},_mergeState:function(Mo){var No=this;return Mo!==me&&(No._pageSize=Mo.pageSize,No._page=Mo.page,No._sort=Mo.sort,No._filter=Mo.filter,No._group=Mo.group,No._aggregate=Mo.aggregate,No._skip=Mo.skip,No._take=Mo.take,No._skip===me&&(No._skip=No.skip(),Mo.skip=No.skip()),No._take===me&&No._pageSize!==me&&(No._take=No._pageSize,Mo.take=No._take),Mo.sort&&(No._sort=Mo.sort=ke(Mo.sort)),Mo.filter&&(No._filter=Mo.filter=Ce(Mo.filter)),Mo.group&&(No._group=Mo.group=Se(Mo.group)),Mo.aggregate&&(No._aggregate=Mo.aggregate=Te(Mo.aggregate))),Mo},query:function(Mo){var Wo=this,Uo=Wo.options.serverSorting||Wo.options.serverPaging||Wo.options.serverFiltering||Wo.options.serverGrouping||Wo.options.serverAggregates,No;Uo||(Wo._data===me||0===Wo._data.length)&&!Wo._destroyed.length?Wo.read(Wo._mergeState(Mo)):Wo.trigger(Ia)||(Wo.trigger(Pa),No=be.process(Wo._data,Wo._mergeState(Mo)),Wo.options.serverFiltering||(Wo._total=No.total===me?Wo._data.length:No.total),Wo._view=No.data,Wo._aggregateResult=Ie(Wo._data,Mo),Wo.trigger(Ra,{}),Wo.trigger(Sa,{items:No.data}))},fetch:function(Mo){var No=this;Mo&&da(Mo)&&No.one(Sa,Mo),No._query()},_query:function(Mo){var No=this;No.query(la({},{page:No.page(),pageSize:No.pageSize(),sort:No.sort(),filter:No.filter(),group:No.group(),aggregate:No.aggregate()},Mo))},next:function(Mo){var No=this,Wo=No.page(),Uo=No.total();return Mo=Mo||{},!Wo||Uo&&Wo+1>No.totalPages()?me:(No._skip=Wo*No.take(),Wo+=1,Mo.page=Wo,No._query(Mo),Wo)},prev:function(Mo){var No=this,Wo=No.page();return Mo=Mo||{},Wo&&1!==Wo?(No._skip=No._skip-No.take(),Wo-=1,Mo.page=Wo,No._query(Mo),Wo):me},page:function(Mo){var Wo=this,No;return Mo===me?(No=Wo.skip(),No===me?me:Ma.round((No||0)/(Wo.take()||1))+1):(Mo=Ma.max(Ma.min(Ma.max(Mo,1),Wo.totalPages()),1),Wo._query({page:Mo}),me)},pageSize:function(Mo){var No=this;return Mo===me?No.take():(No._query({pageSize:Mo,page:1}),me)},sort:function(Mo){var No=this;return Mo===me?No._sort:(No._query({sort:Mo}),me)},filter:function(Mo){var No=this;return Mo===me?No._filter:(No._query({filter:Mo,page:1}),me)},group:function(Mo){var No=this;return Mo===me?No._group:(No._query({group:Mo}),me)},total:function(){return this._total||0},aggregate:function(Mo){var No=this;return Mo===me?No._aggregate:(No._query({aggregate:Mo}),me)},aggregates:function(){return this._aggregateResult},totalPages:function(){var Mo=this,No=Mo.pageSize()||Mo.total();return Ma.ceil((Mo.total()||0)/No)},inRange:function(Mo,No){var Wo=this,Uo=Ma.min(Mo+No,Wo.total());return!Wo.options.serverPaging&&0<Wo.data.length||0<Wo._findRange(Mo,Uo).length},range:function(Mo,No){var Wo,Uo,jo,qo,Go,Yo,Ko;if(Mo=Ma.min(Mo||0,this.total()),Uo=this,jo=Ma.max(Ma.floor(Mo/No),0)*No,qo=Ma.min(jo+No,Uo.total()),Wo=Uo._findRange(Mo,Ma.min(Mo+No,Uo.total())),Wo.length){Uo._skip=Mo>Uo.skip()?Ma.min(qo,(Uo.totalPages()-1)*Uo.take()):jo,Uo._take=No,Go=Uo.options.serverPaging,Yo=Uo.options.serverSorting,Ko=Uo.options.serverFiltering;try{Uo.options.serverPaging=!0,Uo.options.serverSorting=!0,Uo.options.serverFiltering=!0,Go&&(Uo._data=Wo=Uo._observe(Wo)),Uo._process(Wo)}finally{Uo.options.serverPaging=Go,Uo.options.serverSorting=Yo,Uo.options.serverFiltering=Ko}}else No!==me&&(Uo._rangeExists(jo,qo)?Mo>jo&&Uo.prefetch(qo,No,function(){Uo.range(Mo,No)}):Uo.prefetch(jo,No,function(){Mo>jo&&Uo.total()>qo&&!Uo._rangeExists(qo,Ma.min(qo+No,Uo.total()))?Uo.prefetch(qo,No,function(){Uo.range(Mo,No)}):Uo.range(Mo,No)}))},_findRange:function(Mo,No){var er=this,tr=er._ranges,ar=[],or=er.options,nr=or.serverSorting||or.serverPaging||or.serverFiltering||or.serverGrouping||or.serverAggregates,Wo,Uo,jo,qo,Go,Yo,Ko,Xo,Qo,$o,Jo,Zo;for(Uo=0,Jo=tr.length;Jo>Uo;Uo++)if(Wo=tr[Uo],Mo>=Wo.start&&Wo.end>=Mo){for($o=0,jo=Uo;Jo>jo;jo++)if(Wo=tr[jo],Qo=er._flatData(Wo.data),Qo.length&&Mo+$o>=Wo.start&&(Yo=Wo.data,Ko=Wo.end,nr||(Zo=Se(er.group()||[]).concat(ke(er.sort()||[])),Xo=be.process(Wo.data,{sort:Zo,filter:er.filter()}),Qo=Yo=Xo.data,Xo.total!==me&&(Ko=Xo.total)),qo=0,Mo+$o>Wo.start&&(qo=Mo+$o-Wo.start),Go=Qo.length,Ko>No&&(Go-=Ko-No),$o+=Go-qo,ar=er._mergeGroups(ar,Yo,qo,Go),Wo.end>=No&&$o==No-Mo))return ar;break}return[]},_mergeGroups:function(Mo,No,Wo,Uo){if(this._isServerGrouped()){var qo=No.toJSON(),jo;return Mo.length&&(jo=Mo[Mo.length-1]),He(jo,qo,Wo,Uo),Mo.concat(qo)}return Mo.concat(No.slice(Wo,Uo))},skip:function(){var Mo=this;return Mo._skip===me?Mo._page===me?me:(Mo._page-1)*(Mo.take()||1):Mo._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(Mo,No,Wo){var Uo=this;return function(jo){var Yo=!1,Ko={start:Mo,end:No,data:[]},qo,Go;for(Uo._dequeueRequest(),qo=0,Go=Uo._ranges.length;Go>qo;qo++)if(Uo._ranges[qo].start===Mo){Yo=!0,Ko=Uo._ranges[qo];break}Yo||Uo._ranges.push(Ko),Uo.trigger(Ra,{response:jo,type:"read"}),jo=Uo.reader.parse(jo),Ko.data=Uo._observe(Uo._readData(jo)),Ko.end=Ko.start+Uo._flatData(Ko.data).length,Uo._ranges.sort(function(Xo,Qo){return Xo.start-Qo.start}),Uo._total=Uo.reader.total(jo),Wo&&Wo()}},prefetch:function(Mo,No,Wo){var Uo=this,jo=Ma.min(Mo+No,Uo.total()),qo={take:No,skip:Mo,page:Mo/No+1,pageSize:No,sort:Uo._sort,filter:Uo._filter,group:Uo._group,aggregate:Uo._aggregate};Uo._rangeExists(Mo,jo)?Wo&&Wo():(clearTimeout(Uo._timeout),Uo._timeout=setTimeout(function(){Uo._queueRequest(qo,function(){Uo.trigger(Ia)?Uo._dequeueRequest():Uo.transport.read({data:qo,success:Uo._prefetchSuccessHandler(Mo,jo,Wo)})})},100))},_rangeExists:function(Mo,No){var jo=this,qo=jo._ranges,Wo,Uo;for(Wo=0,Uo=qo.length;Uo>Wo;Wo++)if(Mo>=qo[Wo].start&&qo[Wo].end>=No)return!0;return!1}}),na={},na.create=function(Mo,No){var Uo=Mo.transport,Wo;return Uo?(Uo.read=typeof Uo.read==ba?{url:Uo.read}:Uo.read,Mo.type&&(_a.data.transports[Mo.type]&&!pa(_a.data.transports[Mo.type])?Wo=new _a.data.transports[Mo.type](la(Uo,{data:No})):Uo=la(!0,{},_a.data.transports[Mo.type],Uo),Mo.schema=la(!0,{},_a.data.schemas[Mo.type],Mo.schema)),Wo||(Wo=da(Uo.read)?Uo:new ea(Uo))):Wo=new Ze({data:Mo.data}),Wo},oa.create=function(Mo){Mo=Mo&&Mo.push?{data:Mo}:Mo;var jo=Mo||{},qo=jo.data,Go=jo.fields,Yo=jo.table,Ko=jo.select,Xo={},No,Wo,Uo;if(qo||!Go||jo.transport||(Yo?qo=je(Yo,Go):Ko&&(qo=Ue(Ko,Go))),_a.data.Model&&Go&&(!jo.schema||!jo.schema.model)){for(No=0,Wo=Go.length;Wo>No;No++)Uo=Go[No],Uo.type&&(Xo[Uo.field]=Uo);ca(Xo)||(jo.schema=la(!0,jo.schema,{model:{fields:Xo}}))}return jo.data=qo,jo instanceof oa?jo:new oa(jo)},ia=Fo.define({init:function(Mo){var No=this,Wo=No.hasChildren||Mo&&Mo.hasChildren,Uo="items",jo={};_a.data.Model.fn.init.call(No,Mo),typeof No.children==ba&&(Uo=No.children),jo={schema:{data:Uo,model:{hasChildren:Wo,id:No.idField}}},typeof No.children!=ba&&la(jo,No.children),jo.data=Mo,Wo||(Wo=jo.schema.data),typeof Wo==ba&&(Wo=_a.getter(Wo)),da(Wo)&&(No.hasChildren=!!Wo.call(No,No)),No._childrenOptions=jo,No.hasChildren&&No._initChildren(),No._loaded=Mo&&(Mo[Uo]||Mo._loaded)},_initChildren:function(){var Mo=this;Mo.children instanceof ra||(Mo.children=new ra(Mo._childrenOptions),Mo.children.parent=function(){return Mo},Mo.children.bind(Sa,function(No){No.node=No.node||Mo,Mo.trigger(Sa,No)}),Mo.children.bind(Fa,function(No){var Wo=Mo.parent();Wo&&(No.node=No.node||Mo,Wo.trigger(Fa,No))}),Mo._updateChildrenField())},append:function(Mo){this._initChildren(),this.loaded(!0),this.children.add(Mo)},hasChildren:!1,level:function(){for(var Mo=this.parentNode(),No=0;Mo&&Mo.parentNode;)No++,Mo=Mo.parentNode?Mo.parentNode():null;return No},_updateChildrenField:function(){var Mo=this._childrenOptions.schema.data;this[Mo||"items"]=this.children.data()},load:function(){var Mo=this,No={};Mo.hasChildren&&(Mo._initChildren(),No[Mo.idField||"id"]=Mo.id,Mo._loaded||(Mo.children._data=me),Mo.children.one(Sa,function(){Mo._loaded=!0,Mo._updateChildrenField()})._query(No))},parentNode:function(){var Mo=this.parent();return Mo.parent()},loaded:function(Mo){return Mo===me?this._loaded:(this._loaded=Mo,me)},shouldSerialize:function(Mo){return Fo.fn.shouldSerialize.call(this,Mo)&&"children"!==Mo&&"_loaded"!==Mo&&"hasChildren"!==Mo&&"_childrenOptions"!==Mo}}),ra=oa.extend({init:function(Mo){var No=ia.define({children:Mo});oa.fn.init.call(this,la(!0,{},{schema:{modelBase:No,model:No}},Mo)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var Mo=this;Mo._data.bind(Fa,function(No){Mo.trigger(Fa,No)})},remove:function(Mo){var Wo=Mo.parentNode(),Uo=this,No;return Wo&&(Uo=Wo.children),No=oa.fn.remove.call(Uo,Mo),Wo&&!Uo.data().length&&(Wo.hasChildren=!1),No},success:qe("success"),data:qe("data"),insert:function(Mo,No){var Wo=this.parent();return Wo&&(Wo.hasChildren=!0,Wo._initChildren()),oa.fn.insert.call(this,Mo,No)},_find:function(Mo,No){var Wo,Uo,jo,qo,Go;if(jo=oa.fn[Mo].call(this,No))return jo;if(qo=this._flatData(this.data()))for(Wo=0,Uo=qo.length;Uo>Wo;Wo++)if(Go=qo[Wo].children,Go instanceof ra&&(jo=Go[Mo](No)))return jo},get:function(Mo){return this._find("get",Mo)},getByUid:function(Mo){return this._find("getByUid",Mo)}}),ra.create=function(Mo){Mo=Mo&&Mo.push?{data:Mo}:Mo;var No=Mo||{},Wo=No.data,Uo=No.fields,jo=No.list;return Wo&&Wo._dataSource?Wo._dataSource:(Wo||!Uo||No.transport||jo&&(Wo=Ge(jo,Uo)),No.data=Wo,No instanceof ra?No:new ra(No))},la(!0,_a.data,{readers:{json:aa},Query:be,DataSource:oa,HierarchicalDataSource:ra,Node:ia,ObservableObject:$a,ObservableArray:Qa,LocalTransport:Ze,RemoteTransport:ea,Cache:ta,DataReader:aa,Model:Fo})})(window.kendo.jQuery);;(function(pe){function me(Ze,ea){return Ze===ea||pe.contains(Ze,ea)}var _e=window.kendo,xe=_e.ui,ye=xe.Widget,be=_e.support,ke=_e.getOffset,we=_e._activeElement,Ce="open",Te="close",Se="deactivate",Ae="activate",De="center",Fe="left",Ie="right",Pe="top",Re="bottom",Ee="absolute",He="hidden",ze="body",Oe="location",Me="position",Ne="visible",Le="effects",Be="k-state-active",Ve="k-state-border",We=/k-state-border-(\w+)/,Ue=".k-picker-wrap, .k-dropdown-wrap, .k-link",je="down",qe=pe(window),Ge=pe(document.documentElement),Ye="resize scroll",Ke=be.transitions.css,Xe=pe.extend,Qe=".kendoPopup",$e=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],Je=ye.extend({init:function(Ze,ea){var aa=this,ta;ea=ea||{},ea.isRtl&&(ea.origin=ea.origin||Re+" "+Ie,ea.position=ea.position||Pe+" "+Ie),ye.fn.init.call(aa,Ze,ea),Ze=aa.element,ea=aa.options,aa.collisions=ea.collision?ea.collision.split(" "):[],1===aa.collisions.length&&aa.collisions.push(aa.collisions[0]),ta=pe(aa.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),ea.appendTo=pe(pe(ea.appendTo)[0]||ta[0]||ze),aa.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!ea.isRtl).css({position:Ee}).appendTo(ea.appendTo).on("mouseenter"+Qe,function(){aa._hovered=!0}).on("mouseleave"+Qe,function(){aa._hovered=!1}),aa.wrapper=pe(),!1===ea.animation&&(ea.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),Xe(ea.animation.open,{complete:function(){aa.wrapper.css({overflow:Ne}),aa.trigger(Ae)}}),Xe(ea.animation.close,{complete:function(){aa.wrapper.hide();var ia=aa.wrapper.data(Oe),ra=pe(ea.anchor),oa,na;ia&&aa.wrapper.css(ia),ea.anchor!=ze&&(oa=(ra[0].className.match(We)||["","down"])[1],na=Ve+"-"+oa,ra.removeClass(na).children(Ue).removeClass(Be).removeClass(na),Ze.removeClass(Ve+"-"+_e.directions[oa].reverse)),aa._closing=!1,aa.trigger(Se)}}),aa._mousedownProxy=function(oa){aa._mousedown(oa)},aa._resizeProxy=function(oa){aa._resize(oa)},ea.toggleTarget&&pe(ea.toggleTarget).on(ea.toggleEvent+Qe,pe.proxy(aa.toggle,aa))},events:[Ce,Ae,Te,Se],options:{name:"Popup",toggleEvent:"click",origin:Re+" "+Fe,position:Pe+" "+Fe,anchor:ze,collision:"flip fit",viewport:window,copyAnchorStyles:!0,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var ea=this,ta=ea.options,aa=ea.element.off(Qe),Ze;ye.fn.destroy.call(ea),ta.toggleTarget&&pe(ta.toggleTarget).off(Qe),Ge.unbind(je,ea._mousedownProxy),qe.unbind(Ye,ea._resizeProxy),ta.appendTo[0]===document.body&&(Ze=aa.parent(".k-animation-container"),Ze[0]?Ze.remove():aa.remove()),_e.destroy(ea.element.children())},open:function(Ze,ea){var na=this,ia={isFixed:!isNaN(parseInt(ea,10)),x:Ze,y:ea},ra=na.element,la=na.options,sa="down",da=pe(la.anchor),ta,aa,oa;if(!na.visible()){if(la.copyAnchorStyles&&ra.css(_e.getComputedStyles(da[0],$e)),ra.data("animating")||na.trigger(Ce))return;Ge.unbind(je,na._mousedownProxy).bind(je,na._mousedownProxy),be.mobileOS.ios||be.mobileOS.android||qe.unbind(Ye,na._resizeProxy).bind(Ye,na._resizeProxy),na.wrapper=aa=_e.wrap(ra).css({overflow:He,display:"block",position:Ee}),be.mobileOS.android&&aa.add(da).css(Ke+"transform","translatez(0)"),aa.css(Me),pe(la.appendTo)[0]==document.body&&aa.css(Pe,"-10000px"),ta=Xe(!0,{},la.animation.open),na.flipped=na._position(ia),ta.effects=_e.parseEffects(ta.effects,na.flipped),sa=ta.effects.slideIn?ta.effects.slideIn.direction:sa,la.anchor!=ze&&(oa=Ve+"-"+sa,ra.addClass(Ve+"-"+_e.directions[sa].reverse),da.addClass(oa).children(Ue).addClass(Be).addClass(oa)),ra.data(Le,ta.effects).kendoStop(!0).kendoAnimate(ta)}},toggle:function(){var Ze=this;Ze[Ze.visible()?Te:Ce]()},visible:function(){return this.element.is(":"+Ne)},close:function(){var oa=this,na=oa.options,Ze,ea,ta,aa;if(oa.visible()){if(Ze=oa.wrapper[0]?oa.wrapper:_e.wrap(oa.element).hide(),oa._closing||oa.trigger(Te))return;oa.element.find(".k-popup").each(function(){var ia=pe(this),ra=ia.data("kendoPopup");ra&&ra.close()}),Ge.unbind(je,oa._mousedownProxy),qe.unbind(Ye,oa._resizeProxy),ea=Xe(!0,{},na.animation.close),ta=oa.element.data(Le),aa=ea.effects,!aa&&!_e.size(aa)&&ta&&_e.size(ta)&&(ea.effects=ta,ea.reverse=!0),oa._closing=!0,oa.element.kendoStop(!0),Ze.css({overflow:He}),oa.element.kendoAnimate(ea)}},_resize:function(Ze){var ea=this;"resize"===Ze.type?(clearTimeout(ea._resizeTimeout),ea._resizeTimeout=setTimeout(function(){ea._position(),ea._resizeTimeout=null},50)):ea._hovered||me(ea.element[0],we())||ea.close()},_mousedown:function(Ze){var ea=this,ta=ea.element[0],aa=ea.options,oa=pe(aa.anchor)[0],na=aa.toggleTarget,ia=_e.eventTarget(Ze),ra=pe(ia).closest(".k-popup"),la=ra.parent().parent(".km-shim").length;ra=ra[0],(la||!ra||ra===ea.element[0])&&(me(ta,ia)||me(oa,ia)||na&&me(pe(na)[0],ia)||ea.close())},_fit:function(Ze,ea,ta){var aa=0;return Ze+ea>ta&&(aa=ta-(Ze+ea)),0>Ze&&(aa=-Ze),aa},_flip:function(Ze,ea,ta,aa,oa,na,ia){var ra=0;return ia=ia||ea,na!==oa&&na!==De&&oa!==De&&(Ze+ia>aa&&(ra+=-(ta+ea)),0>Ze+ra&&(ra+=ta+ea)),ra},_position:function(Ze){var da=this,pa=da.element.css(Me,""),ca=da.wrapper,ga=da.options,ua=pe(ga.viewport),ma=pe(ua).offset(),fa=pe(ga.anchor),ha=ga.origin.toLowerCase().split(" "),_a=ga.position.toLowerCase().split(" "),xa=da.collisions,ya=be.zoomLevel(),ba=10002,va=0,ka=fa.parents().filter(ca.siblings()),ea,ta,aa,oa,na,ia,ra,la,sa;if(ka[0])if(ta=+pe(ka).css("zIndex"))ba=ta+1;else for(ea=fa.parentsUntil(ka),aa=ea.length;aa>va;va++)ta=+pe(ea[va]).css("zIndex"),ta&&ta>ba&&(ba=ta+1);return ca.css("zIndex",ba),Ze&&Ze.isFixed?ca.css({left:Ze.x,top:Ze.y}):ca.css(da._align(ha,_a)),oa=ke(ca,Me,fa[0]===ca.offsetParent()[0]),na=ke(ca),ia=fa.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),ia.length&&(oa=ke(ca,Me,!0),na=ke(ca)),ua[0]===window?(na.top-=window.pageYOffset||document.documentElement.scrollTop||0,na.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(na.top-=ma.top,na.left-=ma.left),da.wrapper.data(Oe)||ca.data(Oe,Xe({},oa)),ra=Xe({},na),la=Xe({},oa),"fit"===xa[0]&&(la.top+=da._fit(ra.top,ca.outerHeight(),ua.height()/ya)),"fit"===xa[1]&&(la.left+=da._fit(ra.left,ca.outerWidth(),ua.width()/ya)),sa=Xe({},la),"flip"===xa[0]&&(la.top+=da._flip(ra.top,pa.outerHeight(),fa.outerHeight(),ua.height()/ya,ha[0],_a[0],ca.outerHeight())),"flip"===xa[1]&&(la.left+=da._flip(ra.left,pa.outerWidth(),fa.outerWidth(),ua.width()/ya,ha[1],_a[1],ca.outerWidth())),pa.css(Me,Ee),ca.css(la),la.left!=sa.left||la.top!=sa.top},_align:function(Ze,ea){var aa=this,oa=aa.wrapper,na=pe(aa.options.anchor),ia=Ze[0],ra=Ze[1],la=ea[0],sa=ea[1],da=ke(na),pa=pe(aa.options.appendTo),ca=oa.outerWidth(),ga=oa.outerHeight(),ua=na.outerWidth(),ma=na.outerHeight(),fa=da.top,ha=da.left,_a=Math.round,ta;return pa[0]!=document.body&&(ta=ke(pa),fa-=ta.top,ha-=ta.left),ia===Re&&(fa+=ma),ia===De&&(fa+=_a(ma/2)),la===Re&&(fa-=ga),la===De&&(fa-=_a(ga/2)),ra===Ie&&(ha+=ua),ra===De&&(ha+=_a(ua/2)),sa===Ie&&(ha-=ca),sa===De&&(ha-=_a(ca/2)),{top:fa,left:ha}}});xe.plugin(Je)})(window.kendo.jQuery);;(function(pe,me){function _e(Ge,Ye){Ge.filters&&(Ge.filters=pe.grep(Ge.filters,function(Ke){return _e(Ke,Ye),Ke.filters?Ke.filters.length:Ke.field!=Ye}))}var xe=window.kendo,ye=xe.ui,be=ye.Widget,ke=xe.keys,we=xe.support,Ce=xe.htmlEncode,Te=xe._activeElement,Se="id",Ae="li",De="change",Fe="character",Ie="k-state-focused",Pe="k-state-hover",Re="k-loading",Ee="open",He="close",ze="select",Oe="progress",Me="requestEnd",Ne="width",Le=pe.extend,Be=pe.proxy,Ve=we.browser,We=Ve.msie&&9>Ve.version,Ue=/"/g,je={ComboBox:"DropDownList",DropDownList:"ComboBox"},qe=be.extend({init:function(Ge,Ye){var Xe=this,Qe=Xe.ns,Ke;be.fn.init.call(Xe,Ge,Ye),Ge=Xe.element,Xe._isSelect=Ge.is(ze),Xe._template(),Xe.ul=pe("<ul unselectable=\"on\" class=\"k-list k-reset\"/>").css({overflow:we.kineticScrollNeeded?"":"auto"}).on("mouseenter"+Qe,Ae,function(){pe(this).addClass(Pe)}).on("mouseleave"+Qe,Ae,function(){pe(this).removeClass(Pe)}).on("click"+Qe,Ae,Be(Xe._click,Xe)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),Xe.list=pe("<div class='k-list-container'/>").append(Xe.ul).on("mousedown"+Qe,function($e){$e.preventDefault()}),Ke=Ge.attr(Se),Ke&&(Xe.list.attr(Se,Ke+"-list"),Xe.ul.attr(Se,Ke+"_listbox"),Xe._optionID=Ke+"_option_selected"),Xe._accessors(),Xe._initValue()},setOptions:function(Ge){be.fn.setOptions.call(this,Ge),Ge&&Ge.enable!==me&&(Ge.enabled=Ge.enable)},focus:function(){this._focused.focus()},readonly:function(Ge){this._editable({readonly:!(Ge!==me)||Ge,disable:!1})},enable:function(Ge){this._editable({readonly:!1,disable:!(Ge=!(Ge!==me)||Ge)})},_filterSource:function(Ge){var Ye=this,Ke=Ye.options,Xe=Ye.dataSource,Qe=Xe.filter()||{};_e(Qe,Ke.dataTextField),Ge&&(Qe=Qe.filters||[],Qe.push(Ge)),Xe.filter(Qe)},_initValue:function(){var Ge=this,Ye=Ge.options.value;Ye?Ge.element.val(Ye):Ye=Ge.element.val(),Ge._old=Ye},_ignoreCase:function(){var Ye=this,Ke=Ye.dataSource.reader.model,Ge;Ke&&Ke.fields&&(Ge=Ke.fields[Ye.options.dataTextField],Ge&&Ge.type&&"string"!==Ge.type&&(Ye.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(Ge){var Ye=this,Ke=Ye._optionID;return Ge===me?Ye._current:(Ye._current&&(Ye._current.removeClass(Ie).removeAttr("aria-selected").removeAttr(Se),Ye._focused.removeAttr("aria-activedescendant")),Ge&&(Ge.addClass(Ie),Ye._scroll(Ge),Ke&&(Ge.attr("id",Ke),Ye._focused.attr("aria-activedescendant",Ke))),Ye._current=Ge,me)},destroy:function(){var Ge=this,Ye=Ge.ns;be.fn.destroy.call(Ge),Ge._unbindDataSource(),Ge.ul.off(Ye),Ge.list.off(Ye),Ge.popup.destroy(),Ge._form&&Ge._form.off("reset",Ge._resetHandler)},dataItem:function(Ge){var Ye=this;return Ge===me&&(Ge=Ye.selectedIndex),Ye._data()[Ge]},_accessors:function(){var Ge=this,Ye=Ge.element,Ke=Ge.options,Xe=xe.getter,Qe=Ye.attr(xe.attr("text-field")),$e=Ye.attr(xe.attr("value-field"));Qe&&(Ke.dataTextField=Qe),$e&&(Ke.dataValueField=$e),Ge._text=Xe(Ke.dataTextField),Ge._value=Xe(Ke.dataValueField)},_aria:function(Ge){var Ye=this,Ke=Ye.options,Xe=Ye._focused;Ke.suggest!==me&&Xe.attr("aria-autocomplete",Ke.suggest?"both":"list"),Ge=Ge?Ge+" "+Ye.ul[0].id:Ye.ul[0].id,Xe.attr("aria-owns",Ge),Ye.ul.attr("aria-live",Ke.filter&&"none"!==Ke.filter?"polite":"off")},_blur:function(){var Ge=this;Ge._change(),Ge.close()},_change:function(){var Ye=this,Ke=Ye.selectedIndex,Xe=Ye.options.value,Qe=Ye.value(),Ge;Ye._isSelect&&!Ye._bound&&Xe&&(Qe=Xe),Qe===Ye._old?Ke!==me&&Ke!==Ye._oldIndex&&(Ge=!0):Ge=!0,Ge&&(Ye._old=Qe,Ye._oldIndex=Ke,Ye.trigger(De),Ye.element.trigger(De))},_click:function(Ge){Ge.isDefaultPrevented()||this._accept(pe(Ge.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var Ge=this,Ye=Ge.options,Ke=Ge.element.is("[disabled]");Ye.enable!==me&&(Ye.enabled=Ye.enable),!Ye.enabled||Ke?Ge.enable(!1):Ge.readonly(Ge.element.is("[readonly]"))},_focus:function(Ge){var Ye=this;return Ye.popup.visible()&&Ge&&Ye.trigger(ze,{item:Ge})?(Ye.close(),me):(Ye._select(Ge),Ye._triggerCascade(),Ye._blur(),me)},_index:function(Ge){var Xe=this,Qe=Xe._data(),Ye,Ke;for(Ye=0,Ke=Qe.length;Ke>Ye;Ye++)if(Xe._dataValue(Qe[Ye])==Ge)return Ye;return-1},_dataValue:function(Ge){var Ye=this._value(Ge);return Ye===me&&(Ye=this._text(Ge)),Ye},_height:function(Ge){if(Ge){var Ye=this,Ke=Ye.list,Xe=Ye.popup.visible(),Qe=Ye.options.height;Ke=Ke.add(Ke.parent(".k-animation-container")).show().height(Ye.ul[0].scrollHeight>Qe?Qe:"auto"),Xe||Ke.hide()}},_adjustListWidth:function(){var Ke=this.list,Xe=Ke[0].style.width,Qe=this.wrapper,Ge,Ye;if(Ke.data(Ne)||!Xe)return Ge=window.getComputedStyle?window.getComputedStyle(Qe[0],null):0,Ye=Ge?parseFloat(Ge.width):Qe.outerWidth(),Ge&&(Ve.mozilla||Ve.msie)&&(Ye+=parseFloat(Ge.paddingLeft)+parseFloat(Ge.paddingRight)+parseFloat(Ge.borderLeftWidth)+parseFloat(Ge.borderRightWidth)),Xe=Ye-(Ke.outerWidth()-Ke.width()),Ke.css({fontFamily:Qe.css("font-family"),width:Xe}).data(Ne,Xe),!0},_popup:function(){var Ge=this,Ye=Ge.list,Ke=Ge._focused,Xe=Ge.options,Qe=Ge.wrapper;Ge.popup=new ye.Popup(Ye,Le({},Xe.popup,{anchor:Qe,open:function($e){Ge._adjustListWidth(),Ge.trigger(Ee)?$e.preventDefault():(Ke.attr("aria-expanded",!0),Ge.ul.attr("aria-hidden",!1))},close:function($e){Ge.trigger(He)?$e.preventDefault():(Ke.attr("aria-expanded",!1),Ge.ul.attr("aria-hidden",!0))},animation:Xe.animation,isRtl:we.isRtl(Qe)})),Ge.popup.one(Ee,function(){Ge._height(Ge._data().length)}),Ge._touchScroller=xe.touchScroller(Ge.popup.element)},_makeUnselectable:function(){We&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(Ge){pe(Ge.currentTarget).toggleClass(Pe,"mouseenter"===Ge.type)},_toggle:function(Ge){var Ye=this;Ge=Ge===me?!Ye.popup.visible():Ge,we.touch||Ye._focused[0]===Te()||Ye._focused.focus(),Ye[Ge?Ee:He]()},_scroll:function(Ge){if(Ge){Ge[0]&&(Ge=Ge[0]);var Ye=this.ul[0],Ke=Ge.offsetTop,Xe=Ge.offsetHeight,Qe=Ye.scrollTop,$e=Ye.clientHeight,Je=Ke+Xe;Ye.scrollTop=Qe>Ke?Ke:Je>Qe+$e?Je-$e:Qe}},_template:function(){var Ge=this,Ye=Ge.options,Ke=Ye.template,Xe=Ye.dataSource;Ge._isSelect&&Ge.element[0].length&&(Xe||(Ye.dataTextField=Ye.dataTextField||"text",Ye.dataValueField=Ye.dataValueField||"value")),Ke?(Ke=xe.template(Ke),Ge.template=function(Qe){return"<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\">"+Ke(Qe)+"</li>"}):Ge.template=xe.template("<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\">${"+xe.expr(Ye.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var Ge=this,Ye=Ge.value();(!Ge._bound&&Ye||Ge._old!==Ye)&&Ge.trigger("cascade")},_unbindDataSource:function(){var Ge=this;Ge.dataSource.unbind(De,Ge._refreshHandler).unbind(Oe,Ge._progressHandler).unbind(Me,Ge._requestEndHandler).unbind("error",Ge._errorHandler)}});Le(qe,{caret:function(Ge){var Ke=Ge.ownerDocument.selection,Ye;return Ye=Ke?Math.abs(Ke.createRange().moveStart(Fe,-Ge.value.length)):Ge.selectionStart},selectText:function(Ge,Ye,Ke){try{if(Ge.createTextRange){Ge.focus();var Xe=Ge.createTextRange();Xe.collapse(!0),Xe.moveStart(Fe,Ye),Xe.moveEnd(Fe,Ke-Ye),Xe.select()}else Ge.setSelectionRange(Ye,Ke)}catch(Qe){}},inArray:function(Ge,Ye){var Qe=Ye.children,Ke,Xe;if(!Ge||Ge.parentNode!==Ye)return-1;for(Ke=0,Xe=Qe.length;Xe>Ke;Ke++)if(Ge===Qe[Ke])return Ke;return-1}}),xe.ui.List=qe,ye.Select=qe.extend({init:function(Ge,Ye){qe.fn.init.call(this,Ge,Ye),this._initial=this.element.val()},setDataSource:function(Ge){this.options.dataSource=Ge,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(Ge){var Ye=this;return Ge===me?Ye.selectedIndex:(Ye._select(Ge),Ye._triggerCascade(),Ye._old=Ye._accessor(),Ye._oldIndex=Ye.selectedIndex,me)},_accessor:function(Ge,Ye){var Qe=this.element,$e=this._isSelect,Ke,Xe;return Qe=Qe[0],Ge===me?($e?(Xe=Qe.selectedIndex,-1<Xe&&(Ke=Qe.options[Xe],Ke&&(Ge=Ke.value))):Ge=Qe.value,Ge):($e?Qe.selectedIndex=Ye:Qe.value=Ge,me)},_hideBusy:function(){var Ge=this;clearTimeout(Ge._busy),Ge._arrow.removeClass(Re),Ge._focused.attr("aria-busy",!1),Ge._busy=null},_showBusy:function(){var Ge=this;Ge._request=!0,Ge._busy||(Ge._busy=setTimeout(function(){Ge._focused.attr("aria-busy",!0),Ge._arrow.addClass(Re)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var Ye=this,Ke=Ye.element,Xe=Ye.options,Qe=Xe.dataSource||{},Ge;Qe=pe.isArray(Qe)?{data:Qe}:Qe,Ye._isSelect&&(Ge=Ke[0].selectedIndex,-1<Ge&&(Xe.index=Ge),Qe.select=Ke,Qe.fields=[{field:Xe.dataTextField},{field:Xe.dataValueField}]),Ye.dataSource&&Ye._refreshHandler?Ye._unbindDataSource():(Ye._refreshHandler=Be(Ye.refresh,Ye),Ye._progressHandler=Be(Ye._showBusy,Ye),Ye._requestEndHandler=Be(Ye._requestEnd,Ye),Ye._errorHandler=Be(Ye._hideBusy,Ye)),Ye.dataSource=xe.data.DataSource.create(Qe).bind(De,Ye._refreshHandler).bind(Oe,Ye._progressHandler).bind(Me,Ye._requestEndHandler).bind("error",Ye._errorHandler)},_get:function(Ge){var Xe=this,Qe=Xe._data(),Ye,Ke;if("function"==typeof Ge)for(Ye=0,Ke=Qe.length;Ke>Ye;Ye++)if(Ge(Qe[Ye])){Ge=Ye;break}if("number"==typeof Ge){if(0>Ge)return pe();Ge=pe(Xe.ul[0].children[Ge])}return Ge&&Ge.nodeType&&(Ge=pe(Ge)),Ge},_move:function(Ge){var Xe=this,Qe=Ge.keyCode,$e=Xe.ul[0],Je=Xe.popup.visible()?"_select":"_accept",Ze=Xe._current,ea=Qe===ke.DOWN,Ye,Ke;if(Qe===ke.UP||ea){if(Ge.altKey)Xe.toggle(ea);else{if(Ye=$e.firstChild,!Ye&&!Xe._accessor()&&"filter"!==Xe._state)return Xe.dataSource.one(De,function(){Xe._move(Ge)}),Xe._filterSource(),Ge.preventDefault(),!0;ea?(Ze&&(-1!==Xe.selectedIndex||Xe.value()||Ze[0]!==Ye)?(Ze=Ze[0].nextSibling,Ze||Ye!==$e.lastChild||(Ze=Ye)):Ze=Ye,Xe[Je](Ze)):(Ze=Ze?Ze[0].previousSibling:$e.lastChild,Ze||Ye!==$e.lastChild||(Ze=Ye),Xe[Je](Ze))}Ge.preventDefault(),Ke=!0}else Qe===ke.ENTER||Qe===ke.TAB?(Xe.popup.visible()&&Ge.preventDefault(),Xe._accept(Ze),Ke=!0):Qe===ke.ESC&&(Xe.popup.visible()&&Ge.preventDefault(),Xe.close(),Ke=!0);return Ke},_selectItem:function(Ge){var Ye=this,Ke=Ye.options,Xe=Ye.selectedIndex;Ge=Ye._selectedValue||Ke.value||Ye._accessor(),Ge?Ye.value(Ge):(!Ye._bound||-1<Xe)&&(Ye._bound||(Xe=Ke.index),Ye.select(Xe))},_fetchItems:function(Ge){var Ye=this,Ke=Ye.ul[0].firstChild;return!!Ye._request||(Ye._fetch||Ke?me:Ye.options.cascadeFrom?!Ke:(Ye.dataSource.one(De,function(){Ye.value(Ge),Ye._fetch=!1}),Ye._fetch=!0,Ye.dataSource.fetch(),!0))},_options:function(Ge,Ye){var Je=this,Ze=Je.element,ea=Ze[0].selectedIndex,ta=Ge.length,aa="",oa=0,Ke,Xe,Qe,$e;for(Ye&&(aa=Ye,ea+=1,oa=1);ta>oa;oa++)Ke="<option",Xe=Ge[oa],Qe=Je._text(Xe),$e=Je._value(Xe),$e!==me&&($e+="",-1!==$e.indexOf("\"")&&($e=$e.replace(Ue,"&quot;")),Ke+=" value=\""+$e+"\""),Ke+=">",Qe!==me&&(Ke+=Ce(Qe)),Ke+="</option>",aa+=Ke;Ze.html(aa),Ze[0].selectedIndex=-1===ea?0:ea},_reset:function(){var Ge=this,Ye=Ge.element,Ke=Ye.closest("form");Ke[0]&&(Ge._resetHandler=function(){setTimeout(function(){Ge.value(Ge._initial)})},Ge._form=Ke.on("reset",Ge._resetHandler))},_cascade:function(){var $e=this,Je=$e.options,Ze=Je.cascadeFrom,Ge,Ye,Ke,Xe,Qe;if(Ze){if($e._selectedValue=Je.value||$e._accessor(),Ye=pe("#"+Ze),Ge=Ye.data("kendo"+Je.name),Ge||(Ge=Ye.data("kendo"+je[Je.name])),!Ge)return;Je.autoBind=!1,Xe=Ge.options.dataValueField,Qe=function(){var ea=$e._selectedValue||$e.value();ea?($e.value(ea),$e.dataSource.view()[0]&&-1!==$e.selectedIndex||$e._clearSelection(Ge,!0)):$e.select(Je.index),$e.enable(),$e._triggerCascade()},Ke=function(){var aa=Ge.dataItem(),oa=aa?Ge._value(aa):null,ea,ta;oa?(ea=$e.dataSource.filter()||{},_e(ea,Xe),ta=ea.filters||[],ta.push({field:Xe,operator:"eq",value:oa}),$e.dataSource.one(De,Qe).filter(ta)):($e.enable(!1),$e._clearSelection(Ge),$e._triggerCascade())},Ge.bind("cascade",function(){Ke()}),Ge._bound?Ke():Ge.value()||$e.enable(!1)}}})})(window.kendo.jQuery);;(function(pe,me){function _e(Ue,je,qe){return qe?je.substring(0,Ue).split(qe).length-1:0}function xe(Ue,je,qe){return je.split(qe)[_e(Ue,je,qe)]}function ye(Ue,je,qe,Ge){var Ye=je.split(Ge);return Ye.splice(_e(Ue,je,Ge),1,qe),Ge&&""!==Ye[Ye.length-1]&&Ye.push(""),Ye.join(Ge)}function be(Ue){var je=Ue.value.length;Be(Ue,je,je)}var ke=window.kendo,we=ke.support,Ce=ke._activeElement,Te=we.placeholder,Se=ke.ui,Ae=ke.keys,De=ke.data.DataSource,Fe=Se.List,Ie="aria-disabled",Pe="aria-readonly",Re="k-state-default",Ee="disabled",He="readonly",ze="k-state-focused",Oe="k-state-selected",Me="k-state-disabled",Ne=".kendoAutoComplete",Le=Fe.caret,Be=Fe.selectText,Ve=pe.proxy,We=Fe.extend({init:function(Ue,je){var Ge=this,qe;Ge.ns=Ne,je=pe.isArray(je)?{dataSource:je}:je,Fe.fn.init.call(Ge,Ue,je),Ue=Ge.element,je=Ge.options,je.placeholder=je.placeholder||Ue.attr("placeholder"),Te&&Ue.attr("placeholder",je.placeholder),Ge._wrapper(),Ge._loader(),Ge._dataSource(),Ge._ignoreCase(),Ue[0].type="text",qe=Ge.wrapper,Ge._popup(),Ue.addClass("k-input").on("keydown"+Ne,Ve(Ge._keydown,Ge)).on("paste"+Ne,Ve(Ge._search,Ge)).on("focus"+Ne,function(){Ge._prev=Ge._accessor(),Ge._placeholder(!1),qe.addClass(ze)}).on("blur"+Ne,function(){Ge._change(),Ge._placeholder(),qe.removeClass(ze)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),Ge._enable(),Ge._old=Ge._accessor(),Ue[0].id&&Ue.attr("aria-owns",Ge.ul[0].id),Ge._aria(),Ge._placeholder(),ke.notify(Ge)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var Ue=this;Ue.dataSource&&Ue._refreshHandler?Ue._unbindDataSource():(Ue._refreshHandler=Ve(Ue.refresh,Ue),Ue._progressHandler=Ve(Ue._showBusy,Ue)),Ue.dataSource=De.create(Ue.options.dataSource).bind("change",Ue._refreshHandler).bind("progress",Ue._progressHandler)},setDataSource:function(Ue){this.options.dataSource=Ue,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(Ue){Fe.fn.setOptions.call(this,Ue),this._template(),this._accessors(),this._aria()},_editable:function(Ue){var je=this,qe=je.element,Ge=je.wrapper.off(Ne),Ye=Ue.readonly,Ke=Ue.disable;Ye||Ke?(Ge.addClass(Ke?Me:Re).removeClass(Ke?Re:Me),qe.attr(Ee,Ke).attr(He,Ye).attr(Ie,Ke).attr(Pe,Ye)):(Ge.addClass(Re).removeClass(Me).on("mouseenter"+Ne+" mouseleave"+Ne,je._toggleHover),qe.removeAttr(Ee).removeAttr(He).attr(Ie,!1).attr(Pe,!1))},close:function(){var Ue=this,je=Ue._current;je&&je.removeClass(Oe),Ue.current(null),Ue.popup.close()},destroy:function(){var Ue=this;Ue.element.off(Ne),Ue.wrapper.off(Ne),Fe.fn.destroy.call(Ue)},refresh:function(){var je=this,qe=je.ul[0],Ge=je.popup,Ye=je.options,Ke=je._data(),Xe=Ke.length,Ue;je.trigger("dataBinding"),qe.innerHTML=ke.render(je.template,Ke),je._height(Xe),Ge.visible()&&Ge._position(),Xe&&(Ye.highlightFirst&&je.current(pe(qe.firstChild)),Ye.suggest&&je.suggest(pe(qe.firstChild))),je._open&&(je._open=!1,Ue=Xe?"open":"close",je._typing&&je.element[0]!==Ce()&&(Ue="close"),Ge[Ue](),je._typing=me),je._touchScroller&&je._touchScroller.reset(),je._makeUnselectable(),je._hideBusy(),je.trigger("dataBound")},select:function(Ue){this._select(Ue)},search:function(Ue){var qe=this,Ge=qe.options,Ye=Ge.ignoreCase,Ke=Ge.separator,je;Ue=Ue||qe._accessor(),qe._current=null,clearTimeout(qe._typing),Ke&&(Ue=xe(Le(qe.element[0]),Ue,Ke)),je=Ue.length,je?je>=qe.options.minLength&&(qe._open=!0,qe._filterSource({value:Ye?Ue.toLowerCase():Ue,operator:Ge.filter,field:Ge.dataTextField,ignoreCase:Ye})):qe.popup.close()},suggest:function(Ue){var qe=this,Ge=qe._last,Ye=qe._accessor(),Ke=qe.element[0],Xe=Le(Ke),Qe=qe.options.separator,$e=Ye.split(Qe),Je=_e(Xe,Ye,Qe),Ze=Xe,je;return Ge==Ae.BACKSPACE||Ge==Ae.DELETE?(qe._last=me,me):(Ue=Ue||"","string"!=typeof Ue&&(je=Fe.inArray(Ue[0],qe.ul[0]),Ue=-1<je?qe._text(qe._data()[je]):""),0>=Xe&&(Xe=Ye.toLowerCase().indexOf(Ue.toLowerCase())+1),je=Ye.substring(0,Xe).lastIndexOf(Qe),je=-1<je?Xe-(je+Qe.length):Xe,Ye=$e[Je].substring(0,je),Ue&&(je=Ue.toLowerCase().indexOf(Ye.toLowerCase()),-1<je&&(Ue=Ue.substring(je+Ye.length),Ze=Xe+Ue.length,Ye+=Ue),Qe&&""!==$e[$e.length-1]&&$e.push("")),$e[Je]=Ye,qe._accessor($e.join(Qe||"")),Be(Ke,Xe,Ze),me)},value:function(Ue){return Ue===me?this._accessor():(this._accessor(Ue),this._old=Ue,me)},_accessor:function(Ue){var je=this,qe=je.element[0];return Ue===me?(Ue=qe.value,-1<qe.className.indexOf("k-readonly")?Ue===je.options.placeholder?"":Ue:Ue):(qe.value=null===Ue?"":Ue,je._placeholder(),me)},_accept:function(Ue){var je=this;je._focus(Ue),be(je.element[0])},_keydown:function(Ue){var je=this,qe=je.ul[0],Ge=Ue.keyCode,Ye=je._current,Ke=je.popup.visible();je._last=Ge,Ge===Ae.DOWN?(Ke&&je._move(Ye?Ye.next():pe(qe.firstChild)),Ue.preventDefault()):Ge===Ae.UP?(Ke&&je._move(Ye?Ye.prev():pe(qe.lastChild)),Ue.preventDefault()):Ge===Ae.ENTER||Ge===Ae.TAB?(Ge===Ae.ENTER&&je.popup.visible()&&Ue.preventDefault(),je._accept(Ye)):Ge===Ae.ESC?(je.popup.visible()&&Ue.preventDefault(),je.close()):je._search()},_move:function(Ue){var je=this;Ue=Ue[0]?Ue:null,je.current(Ue),je.options.suggest&&je.suggest(Ue)},_hideBusy:function(){var Ue=this;clearTimeout(Ue._busy),Ue._loading.hide(),Ue.element.attr("aria-busy",!1),Ue._busy=null},_showBusy:function(){var Ue=this;Ue._busy||(Ue._busy=setTimeout(function(){Ue.element.attr("aria-busy",!0),Ue._loading.show()},100))},_placeholder:function(Ue){if(!Te){var qe=this,Ge=qe.element,Ye=qe.options.placeholder,je;if(Ye){if(je=Ge.val(),Ue===me&&(Ue=!je),Ue||(Ye=je===Ye?"":je),je===qe._old&&!Ue)return;Ge.toggleClass("k-readonly",Ue).val(Ye)}}},_search:function(){var Ue=this;clearTimeout(Ue._typing),Ue._typing=setTimeout(function(){Ue._prev!==Ue._accessor()&&(Ue._prev=Ue._accessor(),Ue.search())},Ue.options.delay)},_select:function(Ue){var Ge=this,Ye=Ge.options.separator,Ke=Ge._data(),je,qe;Ue=pe(Ue),Ue[0]&&!Ue.hasClass(Oe)&&(qe=Fe.inArray(Ue[0],Ge.ul[0]),-1<qe&&(Ke=Ke[qe],je=Ge._text(Ke),Ye&&(je=ye(Le(Ge.element[0]),Ge._accessor(),je,Ye)),Ge._accessor(je),Ge.current(Ue.addClass(Oe))))},_loader:function(){this._loading=pe("<span class=\"k-icon k-loading\" style=\"display:none\"></span>").insertAfter(this.element)},_toggleHover:function(Ue){pe(Ue.currentTarget).toggleClass("k-state-hover","mouseenter"===Ue.type)},_wrapper:function(){var je=this,qe=je.element,Ge=qe[0],Ue;Ue=qe.parent(),Ue.is("span.k-widget")||(Ue=qe.wrap("<span />").parent()),Ue.attr("tabindex",-1),Ue.attr("role","presentation"),Ue[0].style.cssText=Ge.style.cssText,qe.css({width:"100%",height:Ge.style.height}),je._focused=je.element,je.wrapper=Ue.addClass("k-widget k-autocomplete k-header").addClass(Ge.className)}});Se.plugin(We)})(window.kendo.jQuery);;(function(pe,me){var _e=window.kendo,xe=_e.ui,ye=xe.List,be=xe.Select,ke=_e.support,we=ke.placeholder,Ce=_e._activeElement,Te=_e.keys,Se=".kendoComboBox",Ae="click"+Se,De="mousedown"+Se,Fe="disabled",Ie="readonly",Pe="change",Re="k-state-default",Ee="k-state-focused",He="k-state-disabled",ze="aria-disabled",Oe="aria-readonly",Me="k-state-selected",Ne="filter",Le="accept",Be="rebind",Ve=null,We=pe.proxy,Ue=be.extend({init:function(je,qe){var Ye=this,Ge;Ye.ns=Se,qe=pe.isArray(qe)?{dataSource:qe}:qe,be.fn.init.call(Ye,je,qe),Ye._focusHandler=function(){Ye.input.focus()},qe=Ye.options,je=Ye.element.on("focus"+Se,Ye._focusHandler),qe.placeholder=qe.placeholder||je.attr("placeholder"),Ye._reset(),Ye._wrapper(),Ye._input(),Ye._tabindex(Ye.input),Ye._popup(),Ye._dataSource(),Ye._ignoreCase(),Ye._enable(),Ye._cascade(),Ye._aria(),Ye._oldIndex=Ye.selectedIndex=-1,qe.autoBind?Ye._filterSource():(Ge=qe.text,!Ge&&Ye._isSelect&&(Ge=je.children(":selected").text()),Ge&&Ye.input.val(Ge)),Ge||Ye._placeholder(),_e.notify(Ye)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:["open","close",Pe,"select","dataBinding","dataBound","cascade"],setOptions:function(je){be.fn.setOptions.call(this,je),this._template(),this._accessors(),this._aria()},current:function(je){var qe=this,Ge=qe._current;return je===me?Ge:(Ge&&Ge.removeClass(Me),be.fn.current.call(qe,je),me)},destroy:function(){var je=this;je.input.off(Se),je.element.off(Se),je._inputWrapper.off(Se),be.fn.destroy.call(je)},_editable:function(je){var qe=this,Ge=je.disable,Ye=je.readonly,Ke=qe._inputWrapper.off(Se),Xe=qe.element.add(qe.input.off(Se)),Qe=qe._arrow.parent().off(Ae+" "+De);Ye||Ge?(Ke.addClass(Ge?He:Re).removeClass(Ge?Re:He),Xe.attr(Fe,Ge).attr(Ie,Ye).attr(ze,Ge).attr(Oe,Ye)):(Ke.addClass(Re).removeClass(He).on("mouseenter"+Se+" mouseleave"+Se,qe._toggleHover),Xe.removeAttr(Fe).removeAttr(Ie).attr(ze,!1).attr(Oe,!1),Qe.on(Ae,function(){qe.toggle()}).on(De,function($e){$e.preventDefault()}),qe.input.on("keydown"+Se,We(qe._keydown,qe)).on("focus"+Se,function(){Ke.addClass(Ee),qe._placeholder(!1)}).on("blur"+Se,function(){Ke.removeClass(Ee),clearTimeout(qe._typing),qe.options.text!==qe.input.val()&&qe.text(qe.text()),qe._placeholder(),qe._blur(),qe.element.blur()}))},open:function(){var je=this,qe=je.dataSource.options.serverFiltering;je.popup.visible()||(je.ul[0].firstChild&&(je._state!==Le||qe)?(je.popup.open(),je._scroll(je._current)):(je._open=!0,je._state=Be,je._filterSource()))},refresh:function(){var Ye=this,Ke=Ye.ul[0],Xe=Ye.options,Qe=Ye._state,$e=Ye._data(),Je=$e.length,je,qe,Ge;Ye.trigger("dataBinding"),Ke.innerHTML=_e.render(Ye.template,$e),Ye._height(Je),Ye.popup.visible()&&Ye.popup._position(),Ye._isSelect&&(Qe===Be&&(Ye._state="",je=Ye.value()),Ge=Ye._option,Ye._option=me,Ye._options($e),Ge&&Ge[0].selected&&Ye._custom(Ge.val())),Je&&(Xe.highlightFirst&&Ye.current(pe(Ke.firstChild)),Xe.suggest&&Ye.input.val()&&Ye._request!==me&&Ye.suggest(pe(Ke.firstChild))),Qe===Ne||Ye._fetch||Ye._selectItem(),Ye._open&&(Ye._open=!1,qe=!!Je,Ye._typing&&Ye.input[0]!==Ce()&&(qe=!1),Ye.toggle(qe),Ye._typing=me),Ye._touchScroller&&Ye._touchScroller.reset(),Ye._makeUnselectable(),Ye._hideBusy(),Ye._bound=!0,Ye.trigger("dataBound")},search:function(je){je="string"==typeof je?je:this.text();var qe=this,Ge=je.length,Ye=qe.options,Ke=Ye.ignoreCase,Xe=Ye.filter,Qe=Ye.dataTextField;clearTimeout(qe._typing),Ge>=Ye.minLength&&(qe._state=Ne,"none"===Xe?qe._filter(je):(qe._open=!0,qe._filterSource({value:Ke?je.toLowerCase():je,field:Qe,operator:Xe,ignoreCase:Ke})))},suggest:function(je){var Ge=this,Ye=Ge.input[0],Ke=Ge.text(),Xe=ye.caret(Ye),Qe=Ge._last,qe;return Qe==Te.BACKSPACE||Qe==Te.DELETE?(Ge._last=me,me):(je=je||"","string"!=typeof je&&(qe=ye.inArray(je[0],Ge.ul[0]),je=-1<qe?Ge._text(Ge.dataSource.view()[qe]):""),0>=Xe&&(Xe=Ke.toLowerCase().indexOf(je.toLowerCase())+1),je?(qe=je.toLowerCase().indexOf(Ke.toLowerCase()),-1<qe&&(Ke+=je.substring(qe+Ke.length))):Ke=Ke.substring(0,Xe),Ke.length===Xe&&je||(Ye.value=Ke,ye.selectText(Ye,Xe,Ke.length)),me)},text:function(je){je=null===je?"":je;var Ge=this,Ye=Ge._text,Ke=Ge.input[0],Xe=Ge.options.ignoreCase,Qe=je,qe;return je===me?Ke.value:(qe=Ge.dataItem(),qe&&Ye(qe)===je?(Ge._triggerCascade(),me):(Xe&&(Qe=Qe.toLowerCase()),Ge._select(function($e){return $e=Ye($e),Xe&&($e=($e+"").toLowerCase()),$e===Qe}),0>Ge.selectedIndex&&(Ge._custom(je),Ke.value=je),Ge._triggerCascade(),me))},toggle:function(je){var qe=this;qe._toggle(je)},value:function(je){var Ge=this,qe;return je===me?Ge._accessor():(null!==je&&(je=""+je),Ge._selectedValue=je,!Ge._open&&je&&Ge._fetchItems(je)||(qe=Ge._index(je),-1<qe?Ge.select(qe):(Ge.current(Ve),Ge._custom(je),Ge.text(je),Ge._placeholder()),Ge._prev=Ge._old=Ge._accessor(),Ge._oldIndex=Ge.selectedIndex),me)},_accept:function(je){var qe=this;je?qe._focus(je):(qe.text(qe.text()),qe._change())},_custom:function(je){var qe=this,Ge=qe.element,Ye=qe._option;qe._state===Ne&&(qe._state=Le),qe._isSelect?(Ye||(Ye=qe._option=pe("<option/>"),Ge.append(Ye)),Ye.text(je),Ye[0].selected=!0):Ge.val(je),qe._selectedValue=je},_filter:function(je){var qe=this,Ge=qe.options,Ye=qe.dataSource,Ke=Ge.ignoreCase;return Ke&&(je=je.toLowerCase()),qe.ul[0].firstChild?(-1!==qe._highlight(function(Xe){var Qe=qe._text(Xe);return Qe===me?me:(Qe+="",""!==Qe&&""===je?!1:(Ke&&(Qe=Qe.toLowerCase()),0===Qe.indexOf(je)))})&&(Ge.suggest&&qe._current&&qe.suggest(qe._current),qe.open()),qe._hideBusy(),me):(Ye.one(Pe,function(){Ye.data()[0]&&qe.search(je)}).fetch(),me)},_highlight:function(je){var Ge=this,qe;return je===me||null===je?-1:(je=Ge._get(je),qe=ye.inArray(je[0],Ge.ul[0]),-1==qe&&(je=Ge.options.highlightFirst&&!Ge.text()?pe(Ge.ul[0].firstChild):Ve),Ge.current(je),qe)},_input:function(){var qe=this,Ge=qe.element.removeClass("k-input")[0],Ye=Ge.accessKey,Ke=qe.wrapper,Xe="input.k-input",Qe=Ge.name||"",je;Qe&&(Qe="name=\""+Qe+"_input\" "),je=Ke.find(Xe),je[0]||(Ke.append("<span tabindex=\"-1\" unselectable=\"on\" class=\"k-dropdown-wrap k-state-default\"><input "+Qe+"class=\"k-input\" type=\"text\" autocomplete=\"off\"/><span tabindex=\"-1\" unselectable=\"on\" class=\"k-select\"><span unselectable=\"on\" class=\"k-icon k-i-arrow-s\">select</span></span></span>").append(qe.element),je=Ke.find(Xe)),je[0].style.cssText=Ge.style.cssText,-1<Ge.maxLength&&(je[0].maxLength=Ge.maxLength),je.addClass(Ge.className).val(Ge.value).css({width:"100%",height:Ge.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),we&&je.attr("placeholder",qe.options.placeholder),Ye&&(Ge.accessKey="",je[0].accessKey=Ye),qe._focused=qe.input=je,qe._inputWrapper=pe(Ke[0].firstChild),qe._arrow=Ke.find(".k-icon").attr({role:"button",tabIndex:-1}),Ge.id&&qe._arrow.attr("aria-controls",qe.ul[0].id)},_keydown:function(je){var qe=this,Ge=je.keyCode;qe._last=Ge,clearTimeout(qe._typing),Ge==Te.TAB||qe._move(je)||qe._search()},_placeholder:function(je){if(!we){var Ge=this,Ye=Ge.input,Ke=Ge.options.placeholder,qe;if(Ke){if(qe=Ge.value(),je===me&&(je=!qe),Ye.toggleClass("k-readonly",je),!je){if(qe)return;Ke=""}Ye.val(Ke)}}},_search:function(){var je=this;je._typing=setTimeout(function(){var qe=je.text();je._prev!==qe&&(je._prev=qe,je.search(qe))},je.options.delay)},_select:function(je){var Ye=this,Ke=Ye._data(),Xe=Ye._highlight(je),qe,Ge;Ye.selectedIndex=Xe,-1!==Xe&&(Ye._state===Ne&&(Ye._state=Le),Ye._current.addClass(Me),Ke=Ke[Xe],qe=Ye._text(Ke),Ge=Ye._value(Ke),Ye._prev=Ye.input[0].value=qe,Ye._accessor(Ge===me?qe:Ge,Xe),Ye._selectedValue=Ye._accessor(),Ye._placeholder(),Ye._optionID&&Ye._current.attr("aria-selected",!0))},_wrapper:function(){var je=this,qe=je.element,Ge=qe.parent();Ge.is("span.k-widget")||(Ge=qe.hide().wrap("<span />").parent(),Ge[0].style.cssText=qe[0].style.cssText),je.wrapper=Ge.addClass("k-widget k-combobox k-header").addClass(qe[0].className).css("display","")},_clearSelection:function(je,qe){var Ge=this,Ye=je._selectedValue||je.value(),Ke=Ye&&-1===je.selectedIndex;(qe||!Ye||Ke)&&Ge.value("")}});xe.plugin(Ue)})(window.kendo.jQuery);;(function(pe,me){function _e(Fa,Ia,Pa,Ra){var Ha=Fa.getFullYear(),za=Ia.getFullYear(),Oa=Pa.getFullYear(),Ea;return Ha-=Ha%Ra,Ea=Ha+(Ra-1),za>Ha&&(Ha=za),Ea>Oa&&(Ea=Oa),Ha+"-"+Ea}function xe(Fa){for(var Pa=0,Ra=Fa.min,Ea=Fa.max,Ha=Fa.start,za=Fa.setter,Oa=Fa.build,Ma=Fa.cells||12,Na=Fa.perRow||4,La=Fa.content||Ge,Ba=Fa.empty||Ye,Va=Fa.html||"<table tabindex=\"0\" role=\"grid\" class=\"k-content k-meta-view\" cellspacing=\"0\"><tbody><tr role=\"row\">",Ia;Ma>Pa;Pa++)0<Pa&&0==Pa%Na&&(Va+="</tr><tr role=\"row\">"),Ia=Oa(Ha,Pa),Va+=we(Ha,Ra,Ea)?La(Ia):Ba(Ia),za(Ha,1);return Va+"</tr></tbody></table>"}function ye(Fa,Ia,Pa){var Ra=Fa.getFullYear(),Ea=Ia.getFullYear(),Ha=Ea,za=0;return Pa&&(Ea-=Ea%Pa,Ha=Ea-Ea%Pa+Pa-1),Ra>Ha?za=1:Ea>Ra&&(za=-1),za}function be(){var Fa=new Sa;return new Sa(Fa.getFullYear(),Fa.getMonth(),Fa.getDate())}function ke(Fa,Ia,Pa){var Ra=be();return Fa&&(Ra=new Sa(+Fa)),Ia>Ra?Ra=new Sa(+Ia):Ra>Pa&&(Ra=new Sa(+Pa)),Ra}function we(Fa,Ia,Pa){return+Fa>=+Ia&&+Pa>=+Fa}function Ce(Fa,Ia){return Fa.slice(Ia).concat(Fa.slice(0,Ia))}function Te(Fa,Ia,Pa){Ia=Ia instanceof Sa?Ia.getFullYear():Fa.getFullYear()+Pa*Ia,Fa.setFullYear(Ia)}function Se(Fa){pe(this).toggleClass("k-state-hover",-1<ha.indexOf(Fa.type)||Fa.type==ma)}function Ae(Fa){Fa.preventDefault()}function De(Fa){return Ue(Fa).calendars.standard}function Fe(Fa){var Ia=Aa[Fa.start],Pa=Aa[Fa.depth],Ra=Ue(Fa.culture);Fa.format=Ve(Fa.format||Ra.calendars.standard.patterns.d),isNaN(Ia)&&(Ia=0,Fa.start=aa),(Pa===me||Pa>Ia)&&(Fa.depth=aa),Fa.dates||(Fa.dates=[])}function Ie(Fa){Xe&&Fa.find("*").attr("unselectable","on")}function Pe(Fa,Ia){for(var Pa=0,Ra=Ia.length;Ra>Pa;Pa++)if(Fa===+Ia[Pa])return!0;return!1}function Re(Fa,Ia){return!!Fa&&Fa.getFullYear()===Ia.getFullYear()&&Fa.getMonth()===Ia.getMonth()&&Fa.getDate()===Ia.getDate()}var He=window.kendo,ze=He.support,Oe=He.ui,Me=Oe.Widget,Ne=He.parseDate,Le=He._adjustDate,Be=He.keys,Ve=He._extractFormat,We=He.template,Ue=He.getCulture,je=He.support.transitions,qe=je?je.css+"transform-origin":"",Ge=We("<td#=data.cssClass# role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\#\" data-#=data.ns#value=\"#=data.dateString#\">#=data.value#</a></td>",{useWithBlock:!1}),Ye=We("<td role=\"gridcell\">&nbsp;</td>",{useWithBlock:!1}),Ke=He.support.browser,Xe=Ke.msie&&9>Ke.version,Qe=".kendoCalendar",$e="click"+Qe,Je="id",Ze="min",ea="left",ta="slideIn",aa="month",oa="century",na="change",ia="navigate",ra="value",la="k-state-disabled",sa="k-state-focused",da="k-other-month",pa=" class=\""+da+"\"",ca="k-nav-today",ga="td:has(.k-link)",ua="blur"+Qe,ma="focus",fa=ma+Qe,ha=ze.touch?"touchstart":"mouseenter",_a=ze.touch?"touchstart"+Qe:"mouseenter"+Qe,xa=ze.touch?"touchend"+Qe+" touchmove"+Qe:"mouseleave"+Qe,ya=86400000,ba="_prevArrow",va="_nextArrow",ka="aria-disabled",wa="aria-selected",Ca=pe.proxy,Ta=pe.extend,Sa=Date,Aa={month:0,year:1,decade:2,century:3},Da=Me.extend({init:function(Fa,Ia){var Ea=this,Pa,Ra;Me.fn.init.call(Ea,Fa,Ia),Fa=Ea.wrapper=Ea.element,Ia=Ea.options,Ia.url=window.unescape(Ia.url),Ea._templates(),Ea._header(),Ea._footer(Ea.footer),Ra=Fa.addClass("k-widget k-calendar").on(_a+" "+xa,ga,Se).on("keydown"+Qe,"table.k-content",Ca(Ea._move,Ea)).on($e,ga,function(Ha){var za=Ha.currentTarget.firstChild;-1!=za.href.indexOf("#")&&Ha.preventDefault(),Ea._click(pe(za))}).on("mouseup"+Qe,function(){Ea._focusView(!1!==Ea.options.focusOnNav)}).attr(Je),Ra&&(Ea._cellID=Ra+"_cell_selected"),Pa=Ia.value,Fe(Ia),Ea._index=Aa[Ia.start],Ea._current=new Sa(+ke(Pa,Ia.min,Ia.max)),Ea._addClassProxy=function(){Ea._active=!0,Ea._cell.addClass(sa)},Ea._removeClassProxy=function(){Ea._active=!1,Ea._cell.removeClass(sa)},Ea.value(Pa),He.notify(Ea)},options:{name:"Calendar",value:null,min:new Sa(1900,0,1),max:new Sa(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:aa,depth:aa,animation:{horizontal:{effects:ta,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[na,ia],setOptions:function(Fa){Fe(Fa),Me.fn.setOptions.call(this,Fa)},destroy:function(){var Fa=this,Ia=Fa._today;Fa.element.off(Qe),Fa._title.off(Qe),Fa[ba].off(Qe),Fa[va].off(Qe),He.destroy(Fa._view),Ia&&He.destroy(Ia.off(Qe)),Me.fn.destroy.call(Fa)},current:function(){return this._current},view:function(){return this._view},focus:function(Fa){Fa=Fa||this._table,this._bindTable(Fa),Fa.focus()},min:function(Fa){return this._option(Ze,Fa)},max:function(Fa){return this._option("max",Fa)},navigateToPast:function(){this._navigate(ba,-1)},navigateToFuture:function(){this._navigate(va,1)},navigateUp:function(){var Fa=this,Ia=Fa._index;Fa._title.hasClass(la)||Fa.navigate(Fa._current,++Ia)},navigateDown:function(Fa){var Ia=this,Pa=Ia._index,Ra=Ia.options.depth;if(Fa)return Pa===Aa[Ra]?(+Ia._value!=+Fa&&(Ia.value(Fa),Ia.trigger(na)),me):(Ia.navigate(Fa,--Pa),me)},navigate:function(Fa,Ia){Ia=isNaN(Ia)?Aa[Ia]:Ia;var za=this,Oa=za.options,Ma=Oa.culture,Na=Oa.min,La=Oa.max,Ba=za._title,Va=za._table,Wa=za._oldTable,Ua=za._value,ja=za._current,qa=Fa&&+Fa>+ja,Ga=Ia!==me&&Ia!==za._index,Pa,Ra,Ea,Ha;Fa?za._current=Fa=new Sa(+ke(Fa,Na,La)):Fa=ja,Ia===me?Ia=za._index:za._index=Ia,za._view=Ra=Ee.views[Ia],Ea=Ra.compare,Ha=Ia===Aa[oa],Ba.toggleClass(la,Ha).attr(ka,Ha),Ha=1>Ea(Fa,Na),za[ba].toggleClass(la,Ha).attr(ka,Ha),Ha=-1<Ea(Fa,La),za[va].toggleClass(la,Ha).attr(ka,Ha),Va&&Wa&&Wa.data("animating")&&(Wa.kendoStop(!0,!0),Va.kendoStop(!0,!0)),za._oldTable=Va,(!Va||za._changeView)&&(Ba.html(Ra.title(Fa,Na,La,Ma)),za._table=Pa=pe(Ra.content(Ta({min:Na,max:La,date:Fa,url:Oa.url,dates:Oa.dates,format:Oa.format,culture:Ma},za[Ra.name]))),Ie(Pa),za._animate({from:Va,to:Pa,vertical:Ga,future:qa}),za._focus(Fa),za.trigger(ia)),Ia===Aa[Oa.depth]&&Ua&&za._class("k-state-selected",Ra.toDateString(Ua)),za._class(sa,Ra.toDateString(Fa)),!Va&&za._cell&&za._cell.removeClass(sa),za._changeView=!0},value:function(Fa){var Ia=this,Pa=Ia._view,Ra=Ia.options,Ea=Ia._view,Ha=Ra.min,za=Ra.max;return Fa===me?Ia._value:(Fa=Ne(Fa,Ra.format,Ra.culture),null!==Fa&&(Fa=new Sa(+Fa),we(Fa,Ha,za)||(Fa=null)),Ia._value=Fa,Ea&&null===Fa&&Ia._cell?Ia._cell.removeClass("k-state-selected"):(Ia._changeView=!Fa||Pa&&0!==Pa.compare(Fa,Ia._current),Ia.navigate(Fa)),me)},_move:function(Fa){var Ha=this,za=Ha.options,Oa=Fa.keyCode,Ma=Ha._view,Na=Ha._index,La=new Sa(+Ha._current),Ba=He.support.isRtl(Ha.wrapper),Ia,Pa,Ra,Ea;return Fa.target===Ha._table[0]&&(Ha._active=!0),Fa.ctrlKey?Oa==Be.RIGHT&&!Ba||Oa==Be.LEFT&&Ba?(Ha.navigateToFuture(),Pa=!0):Oa==Be.LEFT&&!Ba||Oa==Be.RIGHT&&Ba?(Ha.navigateToPast(),Pa=!0):Oa==Be.UP?(Ha.navigateUp(),Pa=!0):Oa==Be.DOWN&&(Ha._click(pe(Ha._cell[0].firstChild)),Pa=!0):(Oa==Be.RIGHT&&!Ba||Oa==Be.LEFT&&Ba?(Ia=1,Pa=!0):Oa==Be.LEFT&&!Ba||Oa==Be.RIGHT&&Ba?(Ia=-1,Pa=!0):Oa==Be.UP?(Ia=0===Na?-7:-4,Pa=!0):Oa==Be.DOWN?(Ia=0===Na?7:4,Pa=!0):Oa==Be.ENTER?(Ha._click(pe(Ha._cell[0].firstChild)),Pa=!0):Oa==Be.HOME||Oa==Be.END?(Ra=Oa==Be.HOME?"first":"last",Ea=Ma[Ra](La),La=new Sa(Ea.getFullYear(),Ea.getMonth(),Ea.getDate(),La.getHours(),La.getMinutes(),La.getSeconds(),La.getMilliseconds()),Pa=!0):Oa==Be.PAGEUP?(Pa=!0,Ha.navigateToPast()):Oa==Be.PAGEDOWN&&(Pa=!0,Ha.navigateToFuture()),(Ia||Ra)&&(Ra||Ma.setDate(La,Ia),Ha._focus(ke(La,za.min,za.max)))),Pa&&Fa.preventDefault(),Ha._current},_animate:function(Fa){var Ia=this,Pa=Fa.from,Ra=Fa.to,Ea=Ia._active;Pa?Pa.parent().data("animating")?(Pa.parent().kendoStop(!0,!0).remove(),Pa.remove(),Ra.insertAfter(Ia.element[0].firstChild),Ia._focusView(Ea)):Pa.is(":visible")&&!1!==Ia.options.animation?Ia[Fa.vertical?"_vertical":"_horizontal"](Pa,Ra,Fa.future):(Ra.insertAfter(Pa),Pa.remove(),Ia._focusView(Ea)):(Ra.insertAfter(Ia.element[0].firstChild),Ia._bindTable(Ra))},_horizontal:function(Fa,Ia,Pa){var Ra=this,Ea=Ra._active,Ha=Ra.options.animation.horizontal,za=Ha.effects,Oa=Fa.outerWidth();za&&-1!=za.indexOf(ta)&&(Fa.add(Ia).css({width:Oa}),Fa.wrap("<div/>"),Ra._focusView(Ea,Fa),Fa.parent().css({position:"relative",width:2*Oa,float:ea,"margin-left":Pa?0:-Oa}),Ia[Pa?"insertAfter":"insertBefore"](Fa),Ta(Ha,{effects:ta+":"+(Pa?"right":ea),complete:function(){Fa.remove(),Ia.unwrap(),Ra._focusView(Ea),Ra._oldTable=me}}),Fa.parent().kendoStop(!0,!0).kendoAnimate(Ha))},_vertical:function(Fa,Ia){var Ea=this,Ha=Ea.options.animation.vertical,za=Ha.effects,Oa=Ea._active,Pa,Ra;za&&-1!=za.indexOf("zoom")&&(Ia.css({position:"absolute",top:Fa.prev().outerHeight(),left:0}).insertBefore(Fa),qe&&(Pa=Ea._cellByDate(Ea._view.toDateString(Ea._current)),Ra=Pa.position(),Ra=Ra.left+parseInt(Pa.width()/2,10)+"px "+(Ra.top+parseInt(Pa.height()/2,10)+"px"),Ia.css(qe,Ra)),Fa.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){Fa.remove(),Ia.css({position:"static",top:0,left:0}),Ea._focusView(Oa),Ea._oldTable=me}}),Ia.kendoStop(!0,!0).kendoAnimate(Ha))},_cellByDate:function(Fa){return this._table.find("td:not(."+da+")").filter(function(){return pe(this.firstChild).attr(He.attr(ra))===Fa})},_class:function(Fa,Ia){var Pa=this,Ra=Pa._cellID,Ea=Pa._cell;Ea&&Ea.removeAttr(wa).removeAttr(Je),Ea=Pa._table.find("td:not(."+da+")").removeClass(Fa).filter(function(){return pe(this.firstChild).attr(He.attr(ra))===Ia}).attr(wa,!0),Fa!==sa||Pa._active||!1===Pa.options.focusOnNav||(Fa=""),Ea.addClass(Fa),Ea[0]&&(Pa._cell=Ea),Ra&&(Ea.attr(Je,Ra),Pa._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",Ra))},_bindTable:function(Fa){Fa.on(fa,this._addClassProxy).on(ua,this._removeClassProxy)},_click:function(Fa){var Ia=this,Pa=Ia.options,Ra=new Date(+Ia._current),Ea=Fa.attr(He.attr(ra)).split("/");Ea=new Sa(Ea[0],Ea[1],Ea[2]),Le(Ea),Ia._view.setDate(Ra,Ea),Ia.navigateDown(ke(Ra,Pa.min,Pa.max))},_focus:function(Fa){var Ia=this,Pa=Ia._view;0===Pa.compare(Fa,Ia._current)?(Ia._current=Fa,Ia._class(sa,Pa.toDateString(Fa))):Ia.navigate(Fa)},_focusView:function(Fa,Ia){Fa&&this.focus(Ia)},_footer:function(Fa){var Ia=this,Pa=be(),Ra=Ia.element,Ea=Ra.find(".k-footer");return Fa?(Ea[0]||(Ea=pe("<div class=\"k-footer\"><a href=\"#\" class=\"k-link k-nav-today\"></a></div>").appendTo(Ra)),Ia._today=Ea.show().find(".k-link").html(Fa(Pa)).attr("title",He.toString(Pa,"D",Ia.options.culture)),Ia._toggle(),me):(Ia._toggle(!1),Ea.hide(),me)},_header:function(){var Ia=this,Pa=Ia.element,Ra=!1!==Ia.options.focusOnNav,Fa;Pa.find(".k-header")[0]||Pa.html("<div class=\"k-header\"><a href=\"#\" role=\"button\" class=\"k-link k-nav-prev\"><span class=\"k-icon k-i-arrow-w\"></span></a><a href=\"#\" role=\"button\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"k-link k-nav-fast\"></a><a href=\"#\" role=\"button\" class=\"k-link k-nav-next\"><span class=\"k-icon k-i-arrow-e\"></span></a></div>"),Fa=Pa.find(".k-link").on(_a+" "+xa+" "+fa+" "+ua,Se).click(!1),Ia._title=Fa.eq(1).on($e,function(){Ia._focusView(Ra),Ia.navigateUp()}),Ia[ba]=Fa.eq(0).on($e,function(){Ia._focusView(Ra),Ia.navigateToPast()}),Ia[va]=Fa.eq(2).on($e,function(){Ia._focusView(Ra),Ia.navigateToFuture()})},_navigate:function(Fa,Ia){var Pa=this,Ra=Pa._index+1,Ea=new Sa(+Pa._current);Fa=Pa[Fa],Fa.hasClass(la)||(3<Ra?Ea.setFullYear(Ea.getFullYear()+100*Ia):Ee.views[Ra].setDate(Ea,Ia),Pa.navigate(Ea))},_option:function(Fa,Ia){var Ea=this,Ha=Ea.options,za=+Ea._value,Oa=va,Pa,Ra;return Ia===me?Ha[Fa]:(Ia=Ne(Ia,Ha.format,Ha.culture),Ia&&(Ha[Fa]=new Sa(+Ia),Ra=Ea._view.compare(Ia,Ea._current),za?Fa===Ze?(Pa=+Ia>za,Ra=-1<Ra,Oa=ba):(Pa=za>+Ia,Ra=1>Ra):Ra=Re(Ea._current,Ia),Pa?Ea.value(null):Ra?Ea.navigate():Ea[Oa].toggleClass(la,!1).attr(ka,!1),Ea._toggle()),me)},_toggle:function(Fa){var Ia=this,Pa=Ia.options,Ra=Ia._today;Fa===me&&(Fa=we(be(),Pa.min,Pa.max)),Ra&&(Ra.off($e),Fa?Ra.addClass(ca).removeClass(la).on($e,Ca(Ia._todayClick,Ia)):Ra.removeClass(ca).addClass(la).on($e,Ae))},_todayClick:function(Fa){var Ia=this,Pa=Aa[Ia.options.depth],Ra=be();Fa.preventDefault(),0===Ia._view.compare(Ia._current,Ra)&&Ia._index==Pa&&(Ia._changeView=!1),Ia._value=Ra,Ia.navigate(Ra,Pa),Ia.trigger(na)},_templates:function(){var Fa=this,Ia=Fa.options,Pa=Ia.footer,Ra=Ia.month,Ea=Ra.content,Ha=Ra.empty;Fa.month={content:We("<td#=data.cssClass# role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" "+He.attr("value")+"=\"#=data.dateString#\" title=\"#=data.title#\">"+(Ea||"#=data.value#")+"</a></td>",{useWithBlock:!!Ea}),empty:We("<td role=\"gridcell\">"+(Ha||"&nbsp;")+"</td>",{useWithBlock:!!Ha})},!1!==Pa&&(Fa.footer=We(Pa||"#= kendo.toString(data,\"D\",\""+Ia.culture+"\") #",{useWithBlock:!1}))}}),Ee;Oe.plugin(Da),Ee={firstDayOfMonth:function(Fa){return new Sa(Fa.getFullYear(),Fa.getMonth(),1)},firstVisibleDay:function(Fa,Ia){Ia=Ia||He.culture().calendar;for(var Pa=Ia.firstDay,Ra=new Sa(Fa.getFullYear(),Fa.getMonth(),0,Fa.getHours(),Fa.getMinutes(),Fa.getSeconds(),Fa.getMilliseconds());Ra.getDay()!=Pa;)Ee.setTime(Ra,-1*ya);return Ra},setTime:function(Fa,Ia){var Pa=Fa.getTimezoneOffset(),Ra=new Sa(Fa.getTime()+Ia),Ea=Ra.getTimezoneOffset()-Pa;Fa.setTime(Ra.getTime()+60000*Ea)},views:[{name:aa,title:function(Fa,Ia,Pa,Ra){return De(Ra).months.names[Fa.getMonth()]+" "+Fa.getFullYear()},content:function(Fa){for(var Ia=this,Pa=0,Ra=Fa.min,Ea=Fa.max,Ha=Fa.date,za=Fa.dates,Oa=Fa.format,Ma=Fa.culture,Na=Fa.url,La=Na&&za[0],Ba=De(Ma),Va=Ba.firstDay,Wa=Ba.days,Ua=Ce(Wa.names,Va),ja=Ce(Wa.namesShort,Va),qa=Ee.firstVisibleDay(Ha,Ba),Ga=Ia.first(Ha),Ya=Ia.last(Ha),Ka=Ia.toDateString,Xa=new Sa,Qa="<table tabindex=\"0\" role=\"grid\" class=\"k-content\" cellspacing=\"0\"><thead><tr role=\"row\">";7>Pa;Pa++)Qa+="<th scope=\"col\" title=\""+Ua[Pa]+"\">"+ja[Pa]+"</th>";return Xa=new Sa(Xa.getFullYear(),Xa.getMonth(),Xa.getDate()),Le(Xa),Xa=+Xa,xe({cells:42,perRow:7,html:Qa+="</tr></thead><tbody><tr role=\"row\">",start:new Sa(qa.getFullYear(),qa.getMonth(),qa.getDate()),min:new Sa(Ra.getFullYear(),Ra.getMonth(),Ra.getDate()),max:new Sa(Ea.getFullYear(),Ea.getMonth(),Ea.getDate()),content:Fa.content,empty:Fa.empty,setter:Ia.setDate,build:function($a){var Ja=[],Za=$a.getDay(),Fo="",Mo="#";return(Ga>$a||$a>Ya)&&Ja.push(da),+$a===Xa&&Ja.push("k-today"),(0===Za||6===Za)&&Ja.push("k-weekend"),La&&Pe(+$a,za)&&(Mo=Na.replace("{0}",He.toString($a,Oa,Ma)),Fo=" k-action-link"),{date:$a,dates:za,ns:He.ns,title:He.toString($a,"D",Ma),value:$a.getDate(),dateString:Ka($a),cssClass:Ja[0]?" class=\""+Ja.join(" ")+"\"":"",linkClass:Fo,url:Mo}}})},first:function(Fa){return Ee.firstDayOfMonth(Fa)},last:function(Fa){var Ia=new Sa(Fa.getFullYear(),Fa.getMonth()+1,0),Pa=Ee.firstDayOfMonth(Fa),Ra=Math.abs(Ia.getTimezoneOffset()-Pa.getTimezoneOffset());return Ra&&Ia.setHours(Pa.getHours()+Ra/60),Ia},compare:function(Fa,Ia){var Ra=Fa.getMonth(),Ea=Fa.getFullYear(),Ha=Ia.getMonth(),za=Ia.getFullYear(),Pa;return Pa=Ea>za?1:za>Ea?-1:Ra==Ha?0:Ra>Ha?1:-1},setDate:function(Fa,Ia){var Pa=Fa.getHours();Ia instanceof Sa?Fa.setFullYear(Ia.getFullYear(),Ia.getMonth(),Ia.getDate()):Ee.setTime(Fa,Ia*ya),Le(Fa,Pa)},toDateString:function(Fa){return Fa.getFullYear()+"/"+Fa.getMonth()+"/"+Fa.getDate()}},{name:"year",title:function(Fa){return Fa.getFullYear()},content:function(Fa){var Ia=De(Fa.culture).months.namesAbbr,Pa=this.toDateString,Ra=Fa.min,Ea=Fa.max;return xe({min:new Sa(Ra.getFullYear(),Ra.getMonth(),1),max:new Sa(Ea.getFullYear(),Ea.getMonth(),1),start:new Sa(Fa.date.getFullYear(),0,1),setter:this.setDate,build:function(Ha){return{value:Ia[Ha.getMonth()],ns:He.ns,dateString:Pa(Ha),cssClass:""}}})},first:function(Fa){return new Sa(Fa.getFullYear(),0,Fa.getDate())},last:function(Fa){return new Sa(Fa.getFullYear(),11,Fa.getDate())},compare:function(Fa,Ia){return ye(Fa,Ia)},setDate:function(Fa,Ia){var Ra=Fa.getHours(),Pa;Ia instanceof Sa?(Pa=Ia.getMonth(),Fa.setFullYear(Ia.getFullYear(),Pa,Fa.getDate()),Pa!==Fa.getMonth()&&Fa.setDate(0)):(Pa=Fa.getMonth()+Ia,Fa.setMonth(Pa),11<Pa&&(Pa-=12),0<Pa&&Fa.getMonth()!=Pa&&Fa.setDate(0)),Le(Fa,Ra)},toDateString:function(Fa){return Fa.getFullYear()+"/"+Fa.getMonth()+"/1"}},{name:"decade",title:function(Fa,Ia,Pa){return _e(Fa,Ia,Pa,10)},content:function(Fa){var Ia=Fa.date.getFullYear(),Pa=this.toDateString;return xe({start:new Sa(Ia-Ia%10-1,0,1),min:new Sa(Fa.min.getFullYear(),0,1),max:new Sa(Fa.max.getFullYear(),0,1),setter:this.setDate,build:function(Ra,Ea){return{value:Ra.getFullYear(),ns:He.ns,dateString:Pa(Ra),cssClass:0===Ea||11==Ea?pa:""}}})},first:function(Fa){var Ia=Fa.getFullYear();return new Sa(Ia-Ia%10,Fa.getMonth(),Fa.getDate())},last:function(Fa){var Ia=Fa.getFullYear();return new Sa(Ia-Ia%10+9,Fa.getMonth(),Fa.getDate())},compare:function(Fa,Ia){return ye(Fa,Ia,10)},setDate:function(Fa,Ia){Te(Fa,Ia,1)},toDateString:function(Fa){return Fa.getFullYear()+"/0/1"}},{name:oa,title:function(Fa,Ia,Pa){return _e(Fa,Ia,Pa,100)},content:function(Fa){var Ia=Fa.date.getFullYear(),Pa=Fa.min.getFullYear(),Ra=Fa.max.getFullYear(),Ea=this.toDateString,Ha=Pa,za=Ra;return Ha-=Ha%10,za-=za%10,10>za-Ha&&(za=Ha+9),xe({start:new Sa(Ia-Ia%100-10,0,1),min:new Sa(Ha,0,1),max:new Sa(za,0,1),setter:this.setDate,build:function(Oa,Ma){var Na=Oa.getFullYear(),La=Na+9;return Pa>Na&&(Na=Pa),La>Ra&&(La=Ra),{ns:He.ns,value:Na+" - "+La,dateString:Ea(Oa),cssClass:0===Ma||11==Ma?pa:""}}})},first:function(Fa){var Ia=Fa.getFullYear();return new Sa(Ia-Ia%100,Fa.getMonth(),Fa.getDate())},last:function(Fa){var Ia=Fa.getFullYear();return new Sa(Ia-Ia%100+99,Fa.getMonth(),Fa.getDate())},compare:function(Fa,Ia){return ye(Fa,Ia,100)},setDate:function(Fa,Ia){Te(Fa,Ia,10)},toDateString:function(Fa){var Ia=Fa.getFullYear();return Ia-Ia%10+"/0/1"}}]},Ee.isEqualDatePart=Re,Ee.makeUnselectable=Ie,Ee.restrictValue=ke,Ee.isInRange=we,Ee.normalize=Fe,Ee.viewsEnum=Aa,He.calendar=Ee})(window.kendo.jQuery);;(function(pe,me){function _e(ia){var ra=ia.parseFormats,la=ia.format;$e.normalize(ia),ra=pe.isArray(ra)?ra:[ra],-1===pe.inArray(la,ra)&&ra.splice(0,0,ia.format),ia.parseFormats=ra}function xe(ia){ia.preventDefault()}var be=window.kendo,ke=be.ui,we=ke.Widget,Ce=be.parseDate,Te=be.keys,Se=be.template,Ae=be._activeElement,De="<div />",Fe="<span />",Ie=".kendoDatePicker",Pe="click"+Ie,Re="open",Ee="close",He="change",ze="dateView",Oe="disabled",Me="readonly",Ne="k-state-default",Le="k-state-focused",Be="k-state-selected",Ve="k-state-disabled",We="mousedown"+Ie,Ue="id",je="min",qe="max",Ge="month",Ye="aria-disabled",Ke="aria-expanded",Xe="aria-hidden",Qe="aria-readonly",$e=be.calendar,Je=$e.isInRange,Ze=$e.restrictValue,ea=$e.isEqualDatePart,ta=pe.extend,aa=pe.proxy,oa=Date,na=function(ia){var la=this,sa=document.body,da=ye.sharedCalendar,pa=pe(De).attr(Xe,"true").addClass("k-calendar-container").appendTo(sa),ra;da||(da=ye.sharedCalendar=new ke.Calendar(pe(De).attr(Ue,be.guid()).hide().appendTo(sa),{focusOnNav:!1}),$e.makeUnselectable(da.element)),la.calendar=da,la.options=ia=ia||{},ra=ia.id,ra&&(ra+="_dateview",pa.attr(Ue,ra),la._dateViewID=ra),la.popup=new ke.Popup(pa,ta(ia.popup,ia,{name:"Popup",isRtl:be.support.isRtl(ia.anchor)})),la.div=pa,la._templates(),la.value(ia.value)},ye;na.prototype={_calendar:function(){var ia=this,ra=ia.popup,la=ia.options,sa=ia.calendar,da=sa.element;da.data(ze)!==ia&&(da.appendTo(ra.element).data(ze,ia).off(Pe+" "+("keydown"+Ie)).on(Pe,"td:has(.k-link)",aa(ia._click,ia)).on(We,xe).show(),sa.unbind(He).bind(He,la),sa.month=ia.month,sa.options.dates=la.dates,sa.options.depth=la.depth,sa.options.culture=la.culture,sa._footer(ia.footer),sa.min(la.min),sa.max(la.max),sa._value=null,sa.navigate(ia._value||ia._current,la.start),ia.value(ia._value))},destroy:function(){var ra=this,la=ra.calendar,sa=la.element,da=sa.data(ze),ia;(da===me||da===ra)&&(ia=pe(".k-calendar-container"),1<ia.length?sa.hide().appendTo(document.body):(sa.off(Ie),la.destroy(),la.element.remove(),ye.sharedCalendar=null)),ra.popup.destroy()},open:function(){var ia=this;ia._calendar(),ia.popup.open()},close:function(){this.popup.close()},min:function(ia){this._option(je,ia)},max:function(ia){this._option(qe,ia)},toggle:function(){var ia=this;ia[ia.popup.visible()?Ee:Re]()},move:function(ia){var ra=this,la=ia.keyCode,sa=ra.calendar,da=ia.ctrlKey&&la==Te.DOWN||la==Te.ENTER;return la==Te.ESC?(ra.close(),me):ia.altKey?(la==Te.DOWN?(ra.open(),ia.preventDefault()):la==Te.UP&&(ra.close(),ia.preventDefault()),me):ra.popup.visible()?da&&sa._cell.hasClass(Be)?(ra.close(),ia.preventDefault(),me):(ra._current=sa._move(ia),me):void 0},value:function(ia){var ra=this,la=ra.calendar,sa=ra.options;ra._value=ia,ra._current=new oa(+Ze(ia,sa.min,sa.max)),la.element.data(ze)===ra&&la.value(ia)},_click:function(ia){-1!==ia.currentTarget.className.indexOf(Be)&&this.close()},_option:function(ia,ra){var la=this,sa=la.options,da=la.calendar;sa[ia]=ra,da.element.data(ze)===la&&da[ia](ra)},_templates:function(){var ia=this,ra=ia.options,la=ra.footer,sa=ra.month||{},da=sa.content,pa=sa.empty;ia.month={content:Se("<td#=data.cssClass#><a tabindex=\"-1\" class=\"k-link\" href=\"\\#\" "+be.attr("value")+"=\"#=data.dateString#\" title=\"#=data.title#\">"+(da||"#=data.value#")+"</a></td>",{useWithBlock:!!da}),empty:Se("<td>"+(pa||"&nbsp;")+"</td>",{useWithBlock:!!pa})},!1!==la&&(ia.footer=Se(la||"#= kendo.toString(data,\"D\",\""+ra.culture+"\") #",{useWithBlock:!1}))}},na.normalize=_e,be.DateView=na,ye=we.extend({init:function(ia,ra){var da=this,la,sa;we.fn.init.call(da,ia,ra),ia=da.element,ra=da.options,_e(ra),da._wrapper(),da.dateView=new na(ta({},ra,{id:ia.attr(Ue),anchor:da.wrapper,change:function(){da._change(this.value()),da.close()},close:function(pa){da.trigger(Ee)?pa.preventDefault():(ia.attr(Ke,!1),sa.attr(Xe,!0))},open:function(pa){var ga=da.options,ca;da.trigger(Re)?pa.preventDefault():(da.element.val()!==da._oldText&&(ca=Ce(ia.val(),ga.parseFormats,ga.culture),ca?(da.dateView._current=ca,da.dateView.calendar._focus(ca)):da.dateView.value(ca)),ia.attr(Ke,!0),sa.attr(Xe,!1))}})),sa=da.dateView.div,da._icon(),ia[0].type="text",ia.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":da.dateView._dateViewID}),da._reset(),da._template(),la=ia.is("[disabled]"),la?da.enable(!1):da.readonly(ia.is("[readonly]")),da.value(ra.value||da.element.val()),be.notify(da)},events:[Re,Ee,He],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:Ge,depth:Ge,animation:{},month:{},dates:[],ARIATemplate:"Current focused date is #=kendo.toString(data.current, \"D\")#"},setOptions:function(ia){var ra=this,la=ra.dateView,sa=la.options;we.fn.setOptions.call(ra,ia),_e(ra.options),la.options=ta(sa,ra.options,{change:sa.change,close:sa.close,open:sa.open})},_editable:function(ia){var ra=this,la=ra._dateIcon.off(Ie),sa=ra.element.off(Ie),da=ra._inputWrapper.off(Ie),pa=ia.readonly,ca=ia.disable;pa||ca?(da.addClass(ca?Ve:Ne).removeClass(ca?Ne:Ve),sa.attr(Oe,ca).attr(Me,pa).attr(Ye,ca).attr(Qe,pa)):(da.addClass(Ne).removeClass(Ve).on("mouseenter"+Ie+" mouseleave"+Ie,ra._toggleHover),sa.removeAttr(Oe).removeAttr(Me).attr(Ye,!1).attr(Qe,!1).on("keydown"+Ie,aa(ra._keydown,ra)).on("blur"+Ie,aa(ra._blur,ra)).on("focus"+Ie,function(){ra._inputWrapper.addClass(Le)}),la.on(Pe,aa(ra._click,ra)).on(We,xe))},readonly:function(ia){this._editable({readonly:!(ia!==me)||ia,disable:!1})},enable:function(ia){this._editable({readonly:!1,disable:!(ia=!(ia!==me)||ia)})},destroy:function(){var ia=this;we.fn.destroy.call(ia),ia.dateView.destroy(),ia.element.off(Ie),ia._dateIcon.off(Ie),ia._inputWrapper.off(Ie),ia._form&&ia._form.off("reset",ia._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(ia){return this._option(je,ia)},max:function(ia){return this._option(qe,ia)},value:function(ia){var ra=this;return ia===me?ra._value:(ra._old=ra._update(ia),null===ra._old&&ra.element.val(""),ra._oldText=ra.element.val(),me)},_toggleHover:function(ia){pe(ia.currentTarget).toggleClass("k-state-hover","mouseenter"===ia.type)},_blur:function(){var ia=this,ra=ia.element.val();ia.close(),ra!==ia._oldText&&ia._change(ra),ia._inputWrapper.removeClass(Le)},_click:function(){var ia=this,ra=ia.element;ia.dateView.toggle(),be.support.touch||ra[0]===Ae()||ra.focus()},_change:function(ia){var ra=this;ia=ra._update(ia),+ra._old!=+ia&&(ra._old=ia,ra._oldText=ra.element.val(),ra.trigger(He),ra.element.trigger(He))},_keydown:function(ia){var ra=this,la=ra.dateView,sa=ra.element.val();la.popup.visible()||ia.keyCode!=Te.ENTER||sa===ra._oldText?(la.move(ia),ra._updateARIA(la._current)):ra._change(sa)},_icon:function(){var ra=this,la=ra.element,ia;ia=la.next("span.k-select"),ia[0]||(ia=pe("<span unselectable=\"on\" class=\"k-select\"><span unselectable=\"on\" class=\"k-icon k-i-calendar\">select</span></span>").insertAfter(la)),ra._dateIcon=ia.attr({role:"button","aria-controls":ra.dateView._dateViewID})},_option:function(ia,ra){var la=this,sa=la.options;return ra===me?sa[ia]:(ra=Ce(ra,sa.parseFormats,sa.culture),ra&&(sa[ia]=new oa(+ra),la.dateView[ia](ra)),me)},_update:function(ia){var la=this,sa=la.options,da=sa.min,pa=sa.max,ca=Ce(ia,sa.parseFormats,sa.culture),ra;return+ca==+la._value?(ra=be.toString(ca,sa.format,sa.culture),ra!==ia&&la.element.val(null===ca?ia:ra),ca):(null!==ca&&ea(ca,da)?ca=Ze(ca,da,pa):Je(ca,da,pa)||(ca=null),la._value=ca,la.dateView.value(ca),la.element.val(ca?be.toString(ca,sa.format,sa.culture):ia),la._updateARIA(ca),ca)},_wrapper:function(){var ra=this,la=ra.element,ia;ia=la.parents(".k-datepicker"),ia[0]||(ia=la.wrap(Fe).parent().addClass("k-picker-wrap k-state-default"),ia=ia.wrap(Fe).parent()),ia[0].style.cssText=la[0].style.cssText,la.css({width:"100%",height:la[0].style.height}),ra.wrapper=ia.addClass("k-widget k-datepicker k-header").addClass(la[0].className),ra._inputWrapper=pe(ia[0].firstChild)},_reset:function(){var ia=this,ra=ia.element,la=ra.closest("form");la[0]&&(ia._resetHandler=function(){ia.value(ra[0].defaultValue)},ia._form=la.on("reset",ia._resetHandler))},_template:function(){this._ariaTemplate=Se(this.options.ARIATemplate)},_updateARIA:function(ia){this.element.attr("aria-label",this._ariaTemplate({current:ia}))}}),ke.plugin(ye)})(window.kendo.jQuery);;(function(pe,me){function _e(da,pa,ca){var ua=da.getTimezoneOffset(),ga;da.setTime(da.getTime()+pa),ca||(ga=da.getTimezoneOffset()-ua,da.setTime(da.getTime()+ga*Ye))}function xe(){var da=new la,pa=new la(da.getFullYear(),da.getMonth(),da.getDate(),0,0,0),ca=new la(da.getFullYear(),da.getMonth(),da.getDate(),12,0,0);return-1*(pa.getTimezoneOffset()-ca.getTimezoneOffset())}function ye(da){return 60*da.getHours()*Ye+da.getMinutes()*Ye+1000*da.getSeconds()+da.getMilliseconds()}function be(da,pa,ca){var ua=ye(pa),ma=ye(ca),ga;return da&&ua!=ma?(ga=ye(da),ua>ga&&(ga+=Ke),ua>ma&&(ma+=Ke),ga>=ua&&ma>=ga):!0}function ke(da){var pa=da.parseFormats;da.format=Fe(da.format||Se.getCulture(da.culture).calendars.standard.patterns.t),pa=na(pa)?pa:[pa],pa.splice(0,0,da.format),da.parseFormats=pa}function we(da){da.preventDefault()}var Se=window.kendo,Ae=Se.keys,De=Se._activeElement,Fe=Se._extractFormat,Ie=Se.support,Pe=Ie.browser,Re=Se.ui,Ee=Re.Widget,He="open",ze="close",Oe="change",Me=".kendoTimePicker",Ne="click"+Me,Le="k-state-default",Be="disabled",Ve="readonly",We="li",Ue="<span/>",je="k-state-focused",qe="k-state-hover",Ge="mousedown"+Me,Ye=60000,Ke=86400000,Xe="k-state-selected",Qe="k-state-disabled",$e="aria-selected",Je="aria-expanded",Ze="aria-hidden",ea="aria-disabled",ta="aria-readonly",aa="aria-activedescendant",oa="id",na=pe.isArray,ia=pe.extend,ra=pe.proxy,la=Date,sa=new la,Ce,Te;sa=new la(sa.getFullYear(),sa.getMonth(),sa.getDate(),0,0,0),Ce=function(da){var pa=this,ca=da.id;pa.options=da,pa.ul=pe("<ul tabindex=\"-1\" role=\"listbox\" aria-hidden=\"true\" unselectable=\"on\" class=\"k-list k-reset\"/>").css({overflow:Ie.kineticScrollNeeded?"":"auto"}).on(Ne,We,ra(pa._click,pa)).on("mouseenter"+Me,We,function(){pe(this).addClass(qe)}).on("mouseleave"+Me,We,function(){pe(this).removeClass(qe)}),pa.list=pe("<div class='k-list-container'/>").append(pa.ul).on(Ge,we),ca&&(pa._timeViewID=ca+"_timeview",pa._optionID=ca+"_option_selected",pa.ul.attr(oa,pa._timeViewID)),pa._popup(),pa.template=Se.template("<li tabindex=\"-1\" role=\"option\" class=\"k-item\" unselectable=\"on\">#=data#</li>",{useWithBlock:!1})},Ce.prototype={current:function(da){var pa=this,ca=pa.options.active;return da===me?pa._current:(pa._current&&pa._current.removeClass(Xe).removeAttr($e).removeAttr(oa),da&&(da=pe(da).addClass(Xe).attr(oa,pa._optionID).attr($e,!0),pa.scroll(da[0])),pa._current=da,ca&&ca(da),me)},close:function(){this.popup.close()},destroy:function(){var da=this;da.ul.off(Me),da.list.off(Me),da.popup.destroy()},open:function(){var da=this;da.ul[0].firstChild||da.bind(),da.popup.open(),da._current&&da.scroll(da._current[0])},dataBind:function(da){for(var ca=this,ga=ca.options,ua=ga.format,ma=Se.toString,fa=ca.template,ha=da.length,_a=0,xa="",pa;ha>_a;_a++)pa=da[_a],be(pa,ga.min,ga.max)&&(xa+=fa(ma(pa,ua,ga.culture)));ca._html(xa,ha)},refresh:function(){var ga=this,ua=ga.options,ma=ua.format,fa=xe(),ha=0>fa,_a=ua.min,xa=ua.max,ya=ye(_a),ba=ye(xa),va=ua.interval*Ye,ka=Se.toString,wa=ga.template,Ca=new la(+_a),Ta=Ca.getDate(),Sa=0,Aa="",da,pa,ca;for(ca=ha?(Ke+fa*Ye)/va:Ke/va,ya!=ba&&(ya>ba&&(ba+=Ke),ca=(ba-ya)/va+1),pa=parseInt(ca,10);ca>Sa;Sa++)Sa&&_e(Ca,va,ha),ba&&pa==Sa&&(da=ye(Ca),Ca.getDate()>Ta&&(da+=Ke),da>ba&&(Ca=new la(+xa))),Aa+=wa(ka(Ca,ma,ua.culture));ga._html(Aa,ca)},bind:function(){var da=this,pa=da.options.dates;pa&&pa[0]?da.dataBind(pa):da.refresh()},_html:function(da,pa){var ca=this;ca.ul[0].innerHTML=da,ca._height(pa),ca.current(null),ca.select(ca._value)},scroll:function(da){if(da){var pa=this.ul[0],ca=da.offsetTop,ga=da.offsetHeight,ua=pa.scrollTop,ma=pa.clientHeight,fa=ca+ga;pa.scrollTop=ua>ca?ca:fa>ua+ma?fa-ma:ua}},select:function(da){var pa=this,ca=pa.options,ga=pa._current;da instanceof Date&&(da=Se.toString(da,ca.format,ca.culture)),"string"==typeof da&&(ga&&ga.text()===da?da=ga:(da=pe.grep(pa.ul[0].childNodes,function(ua){return(ua.textContent||ua.innerText)==da}),da=da[0]?da:null)),pa.current(da)},toggle:function(){var da=this;da.popup.visible()?da.close():da.open()},value:function(da){var pa=this;pa._value=da,pa.ul[0].firstChild&&pa.select(da)},_click:function(da){var pa=this,ca=pe(da.currentTarget);da.isDefaultPrevented()||(pa.select(ca),pa.options.change(ca.text(),!0),pa.close())},_height:function(da){if(da){var pa=this,ca=pa.list,ga=ca.parent(".k-animation-container"),ua=pa.options.height;ca.add(ga).show().height(pa.ul[0].scrollHeight>ua?ua:"auto").hide()}},_parse:function(da){var pa=this,ca=pa.options,ga=pa._value||sa;return da instanceof la?da:(da=Se.parseDate(da,ca.parseFormats,ca.culture),da&&(da=new la(ga.getFullYear(),ga.getMonth(),ga.getDate(),da.getHours(),da.getMinutes(),da.getSeconds(),da.getMilliseconds())),da)},_adjustListWidth:function(){var ca=this.list,ga=ca[0].style.width,ua=this.options.anchor,da,pa;(ca.data("width")||!ga)&&(da=window.getComputedStyle?window.getComputedStyle(ua[0],null):0,pa=da?parseFloat(da.width):ua.outerWidth(),da&&(Pe.mozilla||Pe.msie)&&(pa+=parseFloat(da.paddingLeft)+parseFloat(da.paddingRight)+parseFloat(da.borderLeftWidth)+parseFloat(da.borderRightWidth)),ga=pa-(ca.outerWidth()-ca.width()),ca.css({fontFamily:ua.css("font-family"),width:ga}).data("width",ga))},_popup:function(){var da=this,pa=da.list,ca=da.options,ga=ca.anchor;da.popup=new Re.Popup(pa,ia(ca.popup,{anchor:ga,open:ca.open,close:ca.close,animation:ca.animation,isRtl:Ie.isRtl(ca.anchor)})),Se.touchScroller(da.popup.element)},move:function(da){var pa=this,ca=da.keyCode,ga=pa.ul[0],ua=pa._current,ma=ca===Ae.DOWN;if(ca===Ae.UP||ma){if(da.altKey)return pa.toggle(ma),me;ua=ma?ua?ua[0].nextSibling:ga.firstChild:ua?ua[0].previousSibling:ga.lastChild,ua&&pa.select(ua),pa.options.change(pa._current.text()),da.preventDefault()}else(ca===Ae.ENTER||ca===Ae.TAB||ca===Ae.ESC)&&(da.preventDefault(),ua&&pa.options.change(ua.text(),!0),pa.close())}},Ce.getMilliseconds=ye,Se.TimeView=Ce,Te=Ee.extend({init:function(da,pa){var ma=this,ca,ga,ua;Ee.fn.init.call(ma,da,pa),da=ma.element,pa=ma.options,ke(pa),ma._wrapper(),ma.timeView=ga=new Ce(ia({},pa,{id:da.attr(oa),anchor:ma.wrapper,format:pa.format,change:function(fa,ha){ha?ma._change(fa):da.val(fa)},open:function(fa){ma.timeView._adjustListWidth(),ma.trigger(He)?fa.preventDefault():(da.attr(Je,!0),ca.attr(Ze,!1))},close:function(fa){ma.trigger(ze)?fa.preventDefault():(da.attr(Je,!1),ca.attr(Ze,!0))},active:function(fa){da.removeAttr(aa),fa&&da.attr(aa,ga._optionID)}})),ca=ga.ul,ma._icon(),ma._reset(),da[0].type="text",da.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":ga._timeViewID}),ua=da.is("[disabled]"),ua?ma.enable(!1):ma.readonly(da.is("[readonly]")),ma.value(pa.value||da.val()),Se.notify(ma)},options:{name:"TimePicker",min:sa,max:sa,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[He,ze,Oe],setOptions:function(da){var pa=this,ca=pa.timeView,ga=ca.options;Ee.fn.setOptions.call(pa,da),ke(pa.options),ca.options=ia(ga,pa.options,{active:ga.active,change:ga.change,close:ga.close,open:ga.open}),ca.ul[0].innerHTML=""},dataBind:function(da){na(da)&&this.timeView.dataBind(da)},_editable:function(da){var pa=this,ca=da.disable,ga=da.readonly,ua=pa._arrow.off(Me),ma=pa.element.off(Me),fa=pa._inputWrapper.off(Me);ga||ca?(fa.addClass(ca?Qe:Le).removeClass(ca?Le:Qe),ma.attr(Be,ca).attr(Ve,ga).attr(ea,ca).attr(ta,ga)):(fa.addClass(Le).removeClass(Qe).on("mouseenter"+Me+" mouseleave"+Me,pa._toggleHover),ma.removeAttr(Be).removeAttr(Ve).attr(ea,!1).attr(ta,!1).on("keydown"+Me,ra(pa._keydown,pa)).on("blur"+Me,ra(pa._blur,pa)).on("focus"+Me,function(){pa._inputWrapper.addClass(je)}),ua.on(Ne,ra(pa._click,pa)).on(Ge,we))},readonly:function(da){this._editable({readonly:!(da!==me)||da,disable:!1})},enable:function(da){this._editable({readonly:!1,disable:!(da=!(da!==me)||da)})},destroy:function(){var da=this;Ee.fn.destroy.call(da),da.timeView.destroy(),da.element.off(Me),da._arrow.off(Me),da._inputWrapper.off(Me),da._form&&da._form.off("reset",da._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(da){return this._option("min",da)},max:function(da){return this._option("max",da)},value:function(da){var pa=this;return da===me?pa._value:(pa._old=pa._update(da),null===pa._old&&pa.element.val(""),pa._oldText=pa.element.val(),me)},_blur:function(){var da=this,pa=da.element.val();da.close(),pa!==da._oldText&&da._change(pa),da._inputWrapper.removeClass(je)},_click:function(){var da=this,pa=da.element;da.timeView.toggle(),Ie.touch||pa[0]===De()||pa.focus()},_change:function(da){var pa=this;da=pa._update(da),+pa._old!=+da&&(pa._old=da,pa._oldText=pa.element.val(),pa.trigger(Oe),pa.element.trigger(Oe))},_icon:function(){var pa=this,ca=pa.element,da;da=ca.next("span.k-select"),da[0]||(da=pe("<span unselectable=\"on\" class=\"k-select\"><span unselectable=\"on\" class=\"k-icon k-i-clock\">select</span></span>").insertAfter(ca)),pa._arrow=da.attr({role:"button","aria-controls":pa.timeView._timeViewID})},_keydown:function(da){var pa=this,ca=da.keyCode,ga=pa.timeView,ua=pa.element.val();ga.popup.visible()||da.altKey?ga.move(da):ca===Ae.ENTER&&ua!==pa._oldText&&pa._change(ua)},_option:function(da,pa){var ca=this,ga=ca.options;return pa===me?ga[da]:(pa=ca.timeView._parse(pa),pa&&(pa=new la(+pa),ga[da]=pa,ca.timeView.options[da]=pa,ca.timeView.bind()),me)},_toggleHover:function(da){pe(da.currentTarget).toggleClass(qe,"mouseenter"===da.type)},_update:function(da){var pa=this,ca=pa.options,ga=pa.timeView,ua=ga._parse(da);return be(ua,ca.min,ca.max)||(ua=null),pa._value=ua,pa.element.val(ua?Se.toString(ua,ca.format,ca.culture):da),ga.value(ua),ua},_wrapper:function(){var pa=this,ca=pa.element,da;da=ca.parents(".k-timepicker"),da[0]||(da=ca.wrap(Ue).parent().addClass("k-picker-wrap k-state-default"),da=da.wrap(Ue).parent()),da[0].style.cssText=ca[0].style.cssText,pa.wrapper=da.addClass("k-widget k-timepicker k-header").addClass(ca[0].className),ca.css({width:"100%",height:ca[0].style.height}),pa._inputWrapper=pe(da[0].firstChild)},_reset:function(){var da=this,pa=da.element,ca=pa.closest("form");ca[0]&&(da._resetHandler=function(){da.value(pa[0].defaultValue)},da._form=ca.on("reset",da._resetHandler))}}),Re.plugin(Te)})(window.kendo.jQuery);;(function(pe,me){function _e(na){na.preventDefault()}function xe(na){var ra=ye.getCulture(na.culture).calendars.standard.patterns,ia;na.format=Ce(na.format||ra.g),na.timeFormat=ia=Ce(na.timeFormat||ra.t),ye.DateView.normalize(na),-1===pe.inArray(ia,na.parseFormats)&&na.parseFormats.splice(1,0,ia)}var ye=window.kendo,be=ye.TimeView,ke=ye.parseDate,we=ye._activeElement,Ce=ye._extractFormat,Te=ye.calendar,Se=Te.isInRange,Ae=Te.restrictValue,De=Te.isEqualDatePart,Fe=be.getMilliseconds,Ie=ye.ui,Pe=Ie.Widget,Re="open",Ee="close",He="change",ze=".kendoDateTimePicker",Oe="click"+ze,Me="disabled",Ne="readonly",Le="k-state-default",Be="k-state-focused",Ve="k-state-disabled",We="mousedown"+ze,Ue="month",je="<span/>",qe="aria-activedescendant",Ge="aria-expanded",Ye="aria-hidden",Ke="aria-owns",Xe="aria-disabled",Qe="aria-readonly",$e=Date,Je=new $e(1900,0,1),Ze=new $e(2099,11,31),ea={view:"date"},ta={view:"time"},aa=pe.extend,oa=Pe.extend({init:function(na,ia){var la=this,ra;Pe.fn.init.call(la,na,ia),na=la.element,ia=la.options,xe(ia),la._wrapper(),la._views(),la._icons(),la._reset(),la._template(),na[0].type="text",na.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1}),la._midnight=0===Fe(ia.min)+Fe(ia.max),ra=na.is("[disabled]"),ra?la.enable(!1):la.readonly(na.is("[readonly]")),la.value(ia.value||na.val()),ye.notify(la)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new $e(Je),max:new $e(Ze),interval:30,height:200,footer:"",start:Ue,depth:Ue,animation:{},month:{},ARIATemplate:"Current focused date is #=kendo.toString(data.current, \"G\")#"},events:[Re,Ee,He],setOptions:function(na){var ia=this,ra=ia.dateView.options,la=ia.timeView.options;Pe.fn.setOptions.call(ia,na),xe(ia.options),na=ia.options,aa(ra,na,{change:ra.change,close:ra.close,open:ra.open}),aa(la,na,{format:na.timeFormat,active:la.active,change:la.change,close:la.close,open:la.open}),ia.timeView.ul[0].innerHTML=""},_editable:function(na){var ia=this,ra=ia.element.off(ze),la=ia._dateIcon.off(ze),sa=ia._timeIcon.off(ze),da=ia._inputWrapper.off(ze),pa=na.readonly,ca=na.disable;pa||ca?(da.addClass(ca?Ve:Le).removeClass(ca?Le:Ve),ra.attr(Me,ca).attr(Ne,pa).attr(Xe,ca).attr(Qe,pa)):(da.addClass(Le).removeClass(Ve).on("mouseenter"+ze+" mouseleave"+ze,ia._toggleHover),ra.removeAttr(Me).removeAttr(Ne).attr(Xe,!1).attr(Qe,!1).on("keydown"+ze,pe.proxy(ia._keydown,ia)).on("focus"+ze,function(){ia._inputWrapper.addClass(Be)}).on("blur"+ze,function(){ia._inputWrapper.removeClass(Be),ra.val()!==ia._oldText&&ia._change(ra.val()),ia.close("date"),ia.close("time")}),la.on(We,_e).on(Oe,function(){ia.toggle("date"),ye.support.touch||ra[0]===we()||ra.focus()}),sa.on(We,_e).on(Oe,function(){ia.toggle("time"),ye.support.touch||ra[0]===we()||ra.focus()}))},readonly:function(na){this._editable({readonly:!(na!==me)||na,disable:!1})},enable:function(na){this._editable({readonly:!1,disable:!(na=!(na!==me)||na)})},destroy:function(){var na=this;Pe.fn.destroy.call(na),na.dateView.destroy(),na.timeView.destroy(),na.element.off(ze),na._dateIcon.off(ze),na._timeIcon.off(ze),na._inputWrapper.off(ze),na._form&&na._form.off("reset",na._resetHandler)},close:function(na){"time"!==na&&(na="date"),this[na+"View"].close()},open:function(na){"time"!==na&&(na="date"),this[na+"View"].open()},min:function(na){return this._option("min",na)},max:function(na){return this._option("max",na)},toggle:function(na){var ia="timeView";"time"===na?ia="dateView":na="date",this[na+"View"].toggle(),this[ia].close()},value:function(na){var ia=this;return na===me?ia._value:(ia._old=ia._update(na),null===ia._old&&ia.element.val(""),ia._oldText=ia.element.val(),me)},_change:function(na){var ia=this;na=ia._update(na),+ia._old!=+na&&(ia._old=na,ia._oldText=ia.element.val(),ia.trigger(He),ia.element.trigger(He))},_option:function(na,ia){var ra=this,la=ra.options,sa=ra.timeView,da=sa.options,pa=ra._value||ra._old;if(ia===me)return la[na];if(ia=ke(ia,la.parseFormats,la.culture)){if(la[na]=new $e(+ia),ra.dateView[na](ia),ra._midnight=0===Fe(la.min)+Fe(la.max),pa&&De(ia,pa)){if(ra._midnight&&"max"==na)return da[na]=Ze,sa.dataBind([Ze]),me;da[na]=ia}else da.max=Ze,da.min=Je;sa.bind()}},_toggleHover:function(na){pe(na.currentTarget).toggleClass("k-state-hover","mouseenter"===na.type)},_update:function(na){var pa=this,ca=pa.options,ga=ca.min,ua=ca.max,ma=ca.dates,fa=pa.timeView,ha=ke(na,ca.parseFormats,ca.culture),ia,ra,la,sa,da;return+ha==+pa._value?(da=ye.toString(ha,ca.format,ca.culture),da!==na&&pa.element.val(null===ha?na:da),ha):(null!==ha&&De(ha,ga)?ha=Ae(ha,ga,ua):Se(ha,ga,ua)||(ha=null),pa._value=ha,fa.value(ha),pa.dateView.value(ha),ha&&(la=pa._old,ra=fa.options,ma[0]&&(ma=pe.grep(ma,function(_a){return De(ha,_a)}),ma[0]&&(fa.dataBind(ma),sa=!0)),sa||(De(ha,ga)&&(ra.min=ga,ra.max=Ze,ia=!0),De(ha,ua)&&(pa._midnight?(fa.dataBind([Ze]),sa=!0):(ra.max=ua,ia||(ra.min=Je),ia=!0))),!sa&&(!la&&ia||la&&!De(la,ha))&&(ia||(ra.max=Ze,ra.min=Je),fa.bind())),pa.element.val(ha?ye.toString(ha,ca.format,ca.culture):na),pa._updateARIA(ha),ha)},_keydown:function(na){var ia=this,ra=ia.dateView,la=ia.timeView,sa=ia.element.val(),da=ra.popup.visible();na.altKey&&na.keyCode===ye.keys.DOWN?ia.toggle(da?"time":"date"):da?(ra.move(na),ia._updateARIA(ra._current)):la.popup.visible()?la.move(na):na.keyCode===ye.keys.ENTER&&sa!==ia._oldText&&ia._change(sa)},_views:function(){var da=this,pa=da.element,ca=da.options,ga=pa.attr("id"),na,ia,ra,la,sa;da.dateView=na=new ye.DateView(aa({},ca,{id:ga,anchor:da.wrapper,change:function(){var ma=na.calendar.value(),fa=+ma,ha=+ca.min,_a=+ca.max,ua;(fa==ha||fa==_a)&&(ua=new $e(+da._value),ua.setFullYear(ma.getFullYear()),ua.setMonth(ma.getMonth()),ua.setDate(ma.getDate()),Se(ua,ha,_a)&&(ma=ua)),da._change(ma),da.close("date")},close:function(ua){da.trigger(Ee,ea)?ua.preventDefault():(pa.attr(Ge,!1),ra.attr(Ye,!0),ia.popup.visible()||pa.removeAttr(Ke))},open:function(ua){da.trigger(Re,ea)?ua.preventDefault():(da.element.val()!==da._oldText&&(sa=ke(pa.val(),ca.parseFormats,ca.culture),sa?(da.dateView._current=sa,da.dateView.calendar._focus(sa)):da.dateView.value(sa)),ra.attr(Ye,!1),pa.attr(Ge,!0).attr(Ke,na._dateViewID))}})),ra=na.div,da.timeView=ia=new be({id:ga,value:ca.value,anchor:da.wrapper,animation:ca.animation,format:ca.timeFormat,culture:ca.culture,height:ca.height,interval:ca.interval,min:new $e(Je),max:new $e(Ze),parseFormats:ca.parseFormats,change:function(ua,ma){ua=ia._parse(ua),ca.min>ua?(ua=new $e(+ca.min),ia.options.min=ua):ua>ca.max&&(ua=new $e(+ca.max),ia.options.max=ua),ma?(da._timeSelected=!0,da._change(ua)):(pa.val(ye.toString(ua,ca.format,ca.culture)),na.value(ua),da._updateARIA(ua))},close:function(ua){da.trigger(Ee,ta)?ua.preventDefault():(la.attr(Ye,!0),pa.attr(Ge,!1),na.popup.visible()||pa.removeAttr(Ke))},open:function(ua){ia._adjustListWidth(),da.trigger(Re,ta)?ua.preventDefault():(la.attr(Ye,!1),pa.attr(Ge,!0).attr(Ke,ia._timeViewID))},active:function(ua){pa.removeAttr(qe),ua&&pa.attr(qe,ia._optionID)}}),la=ia.ul},_icons:function(){var ia=this,ra=ia.element,na;na=ra.next("span.k-select"),na[0]||(na=pe("<span unselectable=\"on\" class=\"k-select\"><span unselectable=\"on\" class=\"k-icon k-i-calendar\">select</span><span unselectable=\"on\" class=\"k-icon k-i-clock\">select</span></span>").insertAfter(ra)),na=na.children(),ia._dateIcon=na.eq(0).attr({role:"button","aria-controls":ia.dateView._dateViewID}),ia._timeIcon=na.eq(1).attr({role:"button","aria-controls":ia.timeView._timeViewID})},_wrapper:function(){var ia=this,ra=ia.element,na;na=ra.parents(".k-datetimepicker"),na[0]||(na=ra.wrap(je).parent().addClass("k-picker-wrap k-state-default"),na=na.wrap(je).parent()),na[0].style.cssText=ra[0].style.cssText,ra.css({width:"100%",height:ra[0].style.height}),ia.wrapper=na.addClass("k-widget k-datetimepicker k-header").addClass(ra[0].className),ia._inputWrapper=pe(na[0].firstChild)},_reset:function(){var na=this,ia=na.element,ra=ia.closest("form");ra[0]&&(na._resetHandler=function(){na.value(ia[0].defaultValue)},na._form=ra.on("reset",na._resetHandler))},_template:function(){this._ariaTemplate=ye.template(this.options.ARIATemplate)},_updateARIA:function(na){this.element.attr("aria-label",this._ariaTemplate({current:na}))}});Ie.plugin(oa)})(window.kendo.jQuery);;(function(pe,me){function _e(Me,Ne,Le){for(var Ve=0,We=Ne.length-1,Be;We>Ve;++Ve)Be=Ne[Ve],Be in Me||(Me[Be]={}),Me=Me[Be];Me[Ne[We]]=Le}var xe=window.kendo,ye=xe.ui,be=ye.Select,ke=xe.support.mobileOS,we=".kendoDropDownList",Ce="disabled",Te="readonly",Se="change",Ae="k-state-focused",De="k-state-default",Fe="k-state-disabled",Ie="aria-disabled",Pe="aria-readonly",Re="k-state-selected",Ee="mouseenter"+we+" mouseleave"+we,He="tabindex",ze=pe.proxy,Oe=be.extend({init:function(Me,Ne){var We=this,Ue=Ne&&Ne.index,Le,Be,Ve;We.ns=we,Ne=pe.isArray(Ne)?{dataSource:Ne}:Ne,be.fn.init.call(We,Me,Ne),We._focusHandler=function(){We.wrapper.focus()},Ne=We.options,Me=We.element.on("focus"+we,We._focusHandler),We._reset(),We._word="",We._wrapper(),We._tabindex(),We.wrapper.data(He,We.wrapper.attr(He)),We._aria(),We._span(),We._popup(),We._mobile(),We._dataSource(),We._ignoreCase(),We._enable(),We._cascade(),We._oldIndex=We.selectedIndex=-1,Ue!==me&&(Ne.index=Ue),Ne.autoBind?We.dataSource.fetch():(Ve=Ne.text||"",Ve||(Le=We._optionLabelText(Ne.optionLabel),Be=Le&&0===Ne.index,We._isSelect?Ve=Be?Le:Me.children(":selected").text():!Me[0].value&&Be&&(Ve=Le)),We.text(Ve)),xe.notify(We)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",Se,"select","dataBinding","dataBound","cascade"],setOptions:function(Me){be.fn.setOptions.call(this,Me),this._template(),this._accessors(),this._aria()},destroy:function(){var Me=this;Me.wrapper.off(we),Me.element.off(we),Me._inputWrapper.off(we),be.fn.destroy.call(Me)},open:function(){var Me=this;Me.ul[0].firstChild?(Me.popup.open(),Me._scroll(Me._current)):(Me._open=!0,Me._request||Me.dataSource.fetch())},toggle:function(Me){this._toggle(Me)},refresh:function(){var Me=this,Ne=Me._data(),Le=Ne.length,Be=Me.options.optionLabel;Me.trigger("dataBinding"),Me._current&&Me.current(null),Me.ul[0].innerHTML=xe.render(Me.template,Ne),Me._height(Le),Me.popup.visible()&&Me.popup._position(),Me._isSelect&&(Be&&Le&&(Be=Me._optionLabelText(Be),Be="<option value=\"\">"+Be+"</option>"),Me._options(Ne,Be)),Me._open&&(Me._open=!1,Me.toggle(!!Le)),Me._hideBusy(),Me._makeUnselectable(),!Me._fetch&&Le&&Me._selectItem(),Me._bound=!0,Me.trigger("dataBound")},search:function(Me){if(Me){var Ne=this,Le=Ne.options.ignoreCase;Le&&(Me=Me.toLowerCase()),Ne._select(function(Be){var Ve=Ne._text(Be);return Ve===me?me:(Ve+="",Le&&(Ve=Ve.toLowerCase()),0===Ve.indexOf(Me))})}},text:function(Me){var Ne=this.span;return Me===me?Ne.text():(Ne.text(Me),me)},value:function(Me){var Be=this,Ne,Le;return Me===me?Be._accessor():(null!==Me&&(Me=""+Me),Be._selectedValue=Me,Le=Me||Be.options.optionLabel&&!Be.element[0].disabled&&""===Me,Le&&Be._fetchItems(Me)||(Ne=Be._index(Me),Be.select(-1<Ne?Ne:0)),me)},_editable:function(Me){var Ne=this,Le=Ne.element,Be=Me.disable,Ve=Me.readonly,We=Ne.wrapper.off(we),Ue=Ne._inputWrapper.off(Ee),je=function(){Ue.addClass(Ae),Ne._blured=!1},qe=function(){Ne._blured||(Ne._triggerCascade(),Ne._blur(),Ue.removeClass(Ae),Ne._blured=!0,Le.blur())};Ve||Be?(Be?(We.removeAttr(He),Ue.addClass(Fe).removeClass(De)):(Ue.addClass(De).removeClass(Fe),We.on("focusin"+we,je).on("focusout"+we,qe)),Le.attr(Ce,Be).attr(Te,Ve),We.attr(Ie,Be).attr(Pe,Ve)):(Le.removeAttr(Ce).removeAttr(Te),Ue.addClass(De).removeClass(Fe).on(Ee,Ne._toggleHover),We.attr(He,We.data(He)).attr(Ie,!1).attr(Pe,!1).on("click"+we,function(Ge){Ne._blured=!1,Ge.preventDefault(),Ne.toggle()}).on("keydown"+we,ze(Ne._keydown,Ne)).on("keypress"+we,ze(Ne._keypress,Ne)).on("focusin"+we,je).on("focusout"+we,qe))},_accept:function(Me){this._focus(Me)},_optionLabelText:function(){var Me=this.options,Ne=Me.dataTextField,Le=Me.optionLabel;return Le&&Ne&&"object"==typeof Le?this._text(Le):Le},_data:function(){var Me=this,Ne=Me.options,Le=Ne.optionLabel,Be=Ne.dataTextField,Ve=Ne.dataValueField,We=Me.dataSource.view(),Ue=We.length,je=Le,qe=0;if(Le&&Ue){for("object"==typeof Le?je=Le:Be&&(je={},Be=Be.split("."),Ve=Ve.split("."),_e(je,Ve,""),_e(je,Be,Le)),je=new xe.data.ObservableArray([je]);Ue>qe;qe++)je.push(We[qe]);We=je}return We},_keydown:function(Me){var Ne=this,Le=Me.keyCode,Be=xe.keys,Ve=Ne.ul[0];Le===Be.LEFT?Le=Be.UP:Le===Be.RIGHT&&(Le=Be.DOWN),Me.keyCode=Le,Ne._move(Me),Le===Be.HOME?(Me.preventDefault(),Ne._select(Ve.firstChild)):Le===Be.END&&(Me.preventDefault(),Ne._select(Ve.lastChild))},_selectNext:function(Me,Ne){for(var Be=this,Ve=Be.options.ignoreCase,We=Be._data(),Ue=We.length,Le;Ue>Ne;Ne++)if(Le=Be._text(We[Ne]),Le&&(Le+="",Ve&&(Le=Le.toLowerCase()),0===Le.indexOf(Me)))return Be._select(Ne),Be._triggerEvents(),!0;return!1},_keypress:function(Me){var Ne=this;setTimeout(function(){var Le=String.fromCharCode(Me.keyCode||Me.charCode),Be=Ne.selectedIndex;if(!(Ne.options.ignoreCase&&(Le=Le.toLowerCase()),Le===Ne._last&&-1<Be))Ne._word+=Le;else if(Ne._word=Le,Ne._selectNext(Le,Be+1))return;Ne._last=Le,Ne._search()})},_popup:function(){be.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=xe.wrap(this.element).addClass("km-popup")})},_search:function(){var Me=this,Ne=Me.dataSource,Le=Me._word;return clearTimeout(Me._typing),Me._typing=setTimeout(function(){Me._word=""},Me.options.delay),Me.ul[0].firstChild?(Me.search(Le),Me._triggerEvents(),me):(Ne.one(Se,function(){Ne.data()[0]&&Me.search(Le)}).fetch(),me)},_select:function(Me){var Ve=this,We=Ve._current,Ue=Ve._data(),Ne,Le,Be;Me=Ve._get(Me),Me&&Me[0]&&!Me.hasClass(Re)&&(We&&We.removeClass(Re),Be=ye.List.inArray(Me[0],Ve.ul[0]),-1<Be&&(Ue=Ue[Be],Le=Ve._text(Ue),Ne=Ve._value(Ue),Ve.selectedIndex=Be,Ve.text(Le),Ve._accessor(Ne===me?Le:Ne,Be),Ve._selectedValue=Ve._accessor(),Ve.current(Me.addClass(Re)),Ve._optionID&&Ve._current.attr("aria-selected",!0)))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var Me=this,Ne=Me.popup,Le=Ne.element.parents(".km-root").eq(0);Le.length&&ke&&(Ne.options.animation.open.effects=ke.android||ke.meego?"fadeIn":ke.ios||ke.wp?"slideIn:up":Ne.options.animation.open.effects)},_span:function(){var Ne=this,Le=Ne.wrapper,Be="span.k-input",Me;Me=Le.find(Be),Me[0]||(Le.append("<span unselectable=\"on\" class=\"k-dropdown-wrap k-state-default\"><span unselectable=\"on\" class=\"k-input\">&nbsp;</span><span unselectable=\"on\" class=\"k-select\"><span unselectable=\"on\" class=\"k-icon k-i-arrow-s\">select</span></span></span>").append(Ne.element),Me=Le.find(Be)),Ne.span=Me,Ne._inputWrapper=pe(Le[0].firstChild),Ne._arrow=Le.find(".k-icon").mousedown(function(Ve){Ve.preventDefault()})},_wrapper:function(){var Ne=this,Le=Ne.element,Be=Le[0],Me;Me=Le.parent(),Me.is("span.k-widget")||(Me=Le.wrap("<span />").parent(),Me[0].style.cssText=Be.style.cssText),Le.hide(),Ne._focused=Ne.wrapper=Me.addClass("k-widget k-dropdown k-header").addClass(Be.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var Me=this,Ne=Me.options.optionLabel;return Me.dataSource.view()[0]&&Ne?(Me.select(0),me):(Me.text(Ne),Me.element.val(""),Me.selectedIndex=-1,me)}});ye.plugin(Oe)})(window.kendo.jQuery);;(function(pe){function me(Ge,Ye){var Ke=Ge.x.location,Xe=Ge.y.location,Qe=Ye.x.location,$e=Ye.y.location,Je=Ke-Qe,Ze=Xe-$e;return{center:{x:(Ke+Qe)/2,y:(Xe+$e)/2},distance:Math.sqrt(Je*Je+Ze*Ze)}}function _e(Ge){var Qe=[],$e=Ge.originalEvent,Je=Ge.currentTarget,Ze=0,Ye,Ke,Xe;if(Ge.api)Qe.push({id:2,event:Ge,target:Ge.target,currentTarget:Ge.target,location:Ge});else if(Ge.type.match(/touch/))for(Ke=$e?$e.changedTouches:[],Ye=Ke.length;Ye>Ze;Ze++)Xe=Ke[Ze],Qe.push({location:Xe,event:Ge,target:Xe.target,currentTarget:Je,id:Xe.identifier});else ke.pointers?Qe.push({location:$e,event:Ge,target:Ge.target,currentTarget:Je,id:$e.pointerId}):Qe.push({id:1,event:Ge,target:Ge.target,currentTarget:Je,location:Ge});return Qe}function xe(Ge){Ge.preventDefault();var Ye=pe(Ge.data.root),Ke=Ye.closest(".k-widget").parent();Ke[0]||(Ke=Ye.parent()),Ke.trigger(pe.Event(Ge.type,{target:Ye[0]}))}function ye(Ge){for(var Ye=be.eventMap.up.split(" "),Ke=0,Xe=Ye.length;Xe>Ke;Ke++)Ge(Ye[Ke])}var be=window.kendo,ke=be.support,we=window.document,Ce=pe(we.documentElement),Te=be.Class,Se=be.Observable,Ae=pe.now,De=pe.extend,Fe=ke.mobileOS,Ie=Fe&&Fe.android,Pe=ke.browser.ie?5:0,Re="press",Ee="select",He="start",ze="move",Oe="end",Me="cancel",Ne="tap",Le="release",Be="gesturechange",Ve="gestureend",We="gesturetap",Ue=Te.extend({init:function(Ge,Ye){var Ke=this;Ke.axis=Ge,Ke._updateLocationData(Ye),Ke.startLocation=Ke.location,Ke.velocity=Ke.delta=0,Ke.timeStamp=Ae()},move:function(Ge){var Ye=this,Ke=Ge["page"+Ye.axis],Xe=Ae(),Qe=Xe-Ye.timeStamp||1;(Ke||!Ie)&&(Ye.delta=Ke-Ye.location,Ye._updateLocationData(Ge),Ye.initialDelta=Ke-Ye.startLocation,Ye.velocity=Ye.delta/Qe,Ye.timeStamp=Xe)},_updateLocationData:function(Ge){var Ye=this,Ke=Ye.axis;Ye.location=Ge["page"+Ke],Ye.client=Ge["client"+Ke],Ye.screen=Ge["screen"+Ke]}}),je=Te.extend({init:function(Ge,Ye,Ke){var Xe=this;De(Xe,{x:new Ue("X",Ke.location),y:new Ue("Y",Ke.location),userEvents:Ge,target:Ye,currentTarget:Ke.currentTarget,initialTouch:Ke.target,id:Ke.id,_moved:!1,_finished:!1}),Xe.notifyInit=function(){Xe._trigger(Re,Ke)}},move:function(Ge){var Ye=this;if(!Ye._finished){if(Ye.x.move(Ge.location),Ye.y.move(Ge.location),!Ye._moved){if(Ye._withinIgnoreThreshold())return;if(qe.current&&qe.current!==Ye.userEvents)return Ye.dispose();Ye._start(Ge)}Ye._finished||Ye._trigger(ze,Ge)}},end:function(Ge){var Ye=this;Ye.endTime=Ae(),Ye._finished||(Ye._moved?Ye._trigger(Oe,Ge):Ye._trigger(Ne,Ge),Ye._trigger(Le,Ge),Ye.dispose())},dispose:function(){var Ge=this,Ye=Ge.userEvents,Ke=Ye.touches;Ge._finished=!0,Ke.splice(pe.inArray(Ge,Ke),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(Ge){this.startTime=Ae(),this._moved=!0,this._trigger(He,Ge)},_trigger:function(Ge,Ye){var Ke=this,Xe=Ye.event,Qe={touch:Ke,x:Ke.x,y:Ke.y,target:Ke.target,event:Xe};Ke.userEvents.notify(Ge,Qe)&&Xe.preventDefault()},_withinIgnoreThreshold:function(){var Ge=this.x.initialDelta,Ye=this.y.initialDelta;return Math.sqrt(Ge*Ge+Ye*Ye)<=this.userEvents.threshold}}),qe=Se.extend({init:function(Ge,Ye){var Qe=this,$e=be.guid(),Ke,Xe;Ye=Ye||{},Ke=Qe.filter=Ye.filter,Qe.threshold=Ye.threshold||Pe,Qe.touches=[],Qe._maxTouches=Ye.multiTouch?2:1,Qe.allowSelection=Ye.allowSelection,Qe.eventNS=$e,Ge=pe(Ge).handler(Qe),Se.fn.init.call(Qe),De(Qe,{element:Ge,surface:Ye.global?Ce:pe(Ye.surface||Ge),stopPropagation:Ye.stopPropagation,pressed:!1}),Qe.surface.handler(Qe).on(be.applyEventMap("move",$e),"_move").on(be.applyEventMap("up cancel",$e),"_end"),Ge.on(be.applyEventMap("down",$e),Ke,"_start"),ke.pointers&&Ge.css("-ms-touch-action","pinch-zoom double-tap-zoom"),Ye.preventDragEvent&&Ge.on(be.applyEventMap("dragstart",$e),be.preventDefault),Ge.on(be.applyEventMap("mousedown selectstart",$e),Ke,{root:Ge},"_select"),ke.eventCapture&&(Xe=Qe.surface[0],Qe.preventIfMoving=function(Je){Qe._isMoved()&&Je.preventDefault()},ye(function(Je){Xe.addEventListener(Je,Qe.preventIfMoving,!0)})),Qe.bind([Re,Ne,He,ze,Oe,Le,Me,"gesturestart",Be,Ve,We,Ee],Ye)},destroy:function(){var Ye=this,Ge;ke.eventCapture&&(Ge=Ye.surface[0],ye(function(Ke){Ge.removeEventListener(Ke,Ye.preventIfMoving)})),Ye.element.kendoDestroy(Ye.eventNS),Ye.surface.kendoDestroy(Ye.eventNS),Ye.element.removeData("handler"),Ye.surface.removeData("handler"),Ye._disposeAll(),Ye.unbind()},capture:function(){qe.current=this},cancel:function(){this._disposeAll(),this.trigger(Me)},notify:function(Ge,Ye){var Ke=this,Xe=Ke.touches;return this._isMultiTouch()&&(Ge===ze?Ge=Be:Ge===Oe?Ge=Ve:Ge===Ne?Ge=We:void 0,De(Ye,{touches:Xe},me(Xe[0],Xe[1]))),this.trigger(Ge,Ye)},press:function(Ge,Ye,Ke){this._apiCall("_start",Ge,Ye,Ke)},move:function(Ge,Ye){this._apiCall("_move",Ge,Ye)},end:function(Ge,Ye){this._apiCall("_end",Ge,Ye)},_isMultiTouch:function(){return 1<this.touches.length},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){pe.each(this.touches,function(){this.dispose()})},_isMoved:function(){return pe.grep(this.touches,function(Ge){return Ge.isMoved()}).length},_select:function(Ge){(!this.allowSelection||this.trigger(Ee,{event:Ge}))&&xe(Ge)},_start:function(Ge){var Xe=this,Qe=0,$e=Xe.filter,Je=_e(Ge),Ze=Je.length,Ye,Ke;if(!Xe._maxTouchesReached())for(qe.current=null,Xe.currentTarget=Ge.currentTarget,Xe.stopPropagation&&Ge.stopPropagation();Ze>Qe&&!Xe._maxTouchesReached();Qe++)Ke=Je[Qe],Ye=$e?pe(Ke.currentTarget):Xe.element,Ye.length&&(Ke=new je(Xe,Ye,Ke),Xe.touches.push(Ke),Ke.notifyInit(),Xe._isMultiTouch()&&Xe.notify("gesturestart",{}))},_move:function(Ge){this._eachTouch("move",Ge)},_end:function(Ge){this._eachTouch("end",Ge)},_eachTouch:function(Ge,Ye){var Je=this,Ze={},ea=_e(Ye),ta=Je.touches,Ke,Xe,Qe,$e;for(Ke=0;ta.length>Ke;Ke++)Xe=ta[Ke],Ze[Xe.id]=Xe;for(Ke=0;ea.length>Ke;Ke++)Qe=ea[Ke],$e=Ze[Qe.id],$e&&$e[Ge](Qe)},_apiCall:function(Ge,Ye,Ke,Xe){this[Ge]({api:!0,pageX:Ye,pageY:Ke,target:Xe||this.element,stopPropagation:pe.noop,preventDefault:pe.noop})}});be.getTouches=_e,be.touchDelta=me,be.UserEvents=qe})(window.kendo.jQuery);;(function(pe,me){function _e(sa,da){try{return pe.contains(sa,da)||sa==da}catch(pa){return!1}}function xe(sa){return qe?Re.elementFromPoint(sa.x.screen,sa.y.screen):Re.elementFromPoint(sa.x.client,sa.y.client)}function ye(sa,da){return parseInt(sa.css(da),10)||0}function be(sa,da){return Math.min(Math.max(sa,da.min),da.max)}function ke(sa,da){var pa=Le(sa),ca=pa.left+ye(sa,"borderLeftWidth")+ye(sa,"paddingLeft"),ga=pa.top+ye(sa,"borderTopWidth")+ye(sa,"paddingTop"),ua=ca+sa.width()-da.outerWidth(!0),ma=ga+sa.height()-da.outerHeight(!0);return{x:{min:ca,max:ua},y:{min:ga,max:ma}}}function we(sa,da,pa){for(var ua=0,ma=da&&da.length,fa=pa&&pa.length,ca,ga;sa&&sa.parentNode;){for(ua=0;ma>ua;ua++)if(ca=da[ua],ca.element[0]===sa)return{target:ca,targetElement:sa};for(ua=0;fa>ua;ua++)if(ga=pa[ua],Pe.matchesSelector.call(sa,ga.options.filter))return{target:ga,targetElement:sa};sa=sa.parentNode}return me}var Ie=window.kendo,Pe=Ie.support,Re=window.document,Ee=Ie.Class,He=Ie.ui.Widget,ze=Ie.Observable,Oe=Ie.UserEvents,Me=pe.proxy,Ne=pe.extend,Le=Ie.getOffset,Be={},Ve={},We={},Ue=Pe.mobileOS,je=Ue&&Ue.android,qe=je&&"chrome"==Ue.browser,Ge="keyup",Ye="change",Ke="dragstart",Xe="drag",Qe="dragend",$e="dragcancel",Je="dragenter",Ze="dragleave",ea="drop",ta=ze.extend({init:function(sa,da){var pa=this,ca=sa[0];pa.capture=!1,pe.each(Ie.eventMap.down.split(" "),function(){ca.addEventListener(this,Me(pa._press,pa),!0)}),pe.each(Ie.eventMap.up.split(" "),function(){ca.addEventListener(this,Me(pa._release,pa),!0)}),ze.fn.init.call(pa),pa.bind(["press","release"],da||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(sa){var da=this;da.trigger("press"),da.capture&&sa.preventDefault()},_release:function(sa){var da=this;da.trigger("release"),da.capture&&(sa.preventDefault(),da.cancelCapture())}}),aa=ze.extend({init:function(sa){var da=this;ze.fn.init.call(da),da.forcedEnabled=!1,pe.extend(da,sa),da.scale=1,da.max=0,da.horizontal?(da.measure="width",da.scrollSize="scrollWidth",da.axis="x"):(da.measure="height",da.scrollSize="scrollHeight",da.axis="y")},outOfBounds:function(sa){return sa>this.max||this.min>sa},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(sa){this.scale=sa},update:function(sa){var da=this,pa=da.getTotal(),ca=pa*da.scale,ga=da.getSize();da.size=ga,da.total=ca,da.min=Math.min(da.max,da.size-ca),da.minScale=da.size/pa,da.enabled=da.forcedEnabled||ca>ga,sa||da.trigger(Ye,da)}}),oa=ze.extend({init:function(sa){var da=this,pa=Me(da.refresh,da);ze.fn.init.call(da),da.x=new aa(Ne({horizontal:!0},sa)),da.y=new aa(Ne({horizontal:!1},sa)),da.forcedMinScale=sa.minScale,da.bind(Ye,sa),Ie.onResize(pa)},rescale:function(sa){this.x.rescale(sa),this.y.rescale(sa),this.refresh()},refresh:function(){var sa=this;sa.x.update(),sa.y.update(),sa.enabled=sa.x.enabled||sa.y.enabled,sa.minScale=sa.forcedMinScale||Math.max(sa.x.minScale,sa.y.minScale),sa.trigger(Ye)}}),na=ze.extend({init:function(sa){var da=this;Ne(da,sa),ze.fn.init.call(da)},dragMove:function(sa){var da=this,pa=da.dimension,ca=da.axis,ga=da.movable,ua=ga[ca]+sa;pa.enabled&&((pa.min>ua&&0>sa||ua>pa.max&&0<sa)&&(sa*=da.resistance),ga.translateAxis(ca,sa),da.trigger(Ye,da))}}),ia=Ee.extend({init:function(sa){var ua=this,da,pa,ca,ga;Ne(ua,{elastic:!0},sa),ca=ua.elastic?0.5:0,ga=ua.movable,ua.x=da=new na({axis:"x",dimension:ua.dimensions.x,resistance:ca,movable:ga}),ua.y=pa=new na({axis:"y",dimension:ua.dimensions.y,resistance:ca,movable:ga}),ua.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(ma){ua.gesture=ma},gesturechange:function(ma){var ha=ua.gesture,_a=ha.center,xa=ma.center,ya=ma.distance/ha.distance,ba=ua.dimensions.minScale,fa;ba>=ga.scale&&1>ya&&(ya+=0.8*(1-ya)),fa={x:(ga.x-_a.x)*ya+xa.x-ga.x,y:(ga.y-_a.y)*ya+xa.y-ga.y},ga.scaleWith(ya),da.dragMove(fa.x),pa.dragMove(fa.y),ua.dimensions.rescale(ga.scale),ua.gesture=ma},move:function(ma){ma.event.target.tagName.match(/textarea|input/i)||(da.dimension.enabled||pa.dimension.enabled?(da.dragMove(ma.x.delta),pa.dragMove(ma.y.delta),ma.preventDefault()):ma.touch.skip())},end:function(ma){ma.preventDefault()}})}}),ra=Pe.transitions.prefix+"Transform",la=Math.round,Ce,Te,Se,Ae,De,Fe;Te=Pe.hasHW3D?function(sa,da,pa){return"translate3d("+la(sa)+"px,"+la(da)+"px,0) scale("+pa+")"}:function(sa,da,pa){return"translate("+la(sa)+"px,"+la(da)+"px) scale("+pa+")"},Se=ze.extend({init:function(sa){var da=this;ze.fn.init.call(da),da.element=pe(sa),da.element[0].style.webkitTransformOrigin="left top",da.x=0,da.y=0,da.scale=1,da._saveCoordinates(Te(da.x,da.y,da.scale))},translateAxis:function(sa,da){this[sa]+=da,this.refresh()},scaleTo:function(sa){this.scale=sa,this.refresh()},scaleWith:function(sa){this.scale*=sa,this.refresh()},translate:function(sa){this.x+=sa.x,this.y+=sa.y,this.refresh()},moveAxis:function(sa,da){this[sa]=da,this.refresh()},moveTo:function(sa){Ne(this,sa),this.refresh()},refresh:function(){var sa=this,da=Te(sa.x,sa.y,sa.scale);da!=sa.coordinates&&(sa.element[0].style[ra]=da,sa._saveCoordinates(da),sa.trigger(Ye))},_saveCoordinates:function(sa){this.coordinates=sa}}),Ae=He.extend({init:function(sa,da){var ca=this,pa;He.fn.init.call(ca,sa,da),pa=ca.options.group,pa in Ve?Ve[pa].push(ca):Ve[pa]=[ca]},events:[Je,Ze,ea],options:{name:"DropTarget",group:"default"},destroy:function(){var da=this.options.group,pa=Ve[da]||We[da],sa;if(1<pa.length){for(He.fn.destroy.call(this),sa=0;pa.length>sa;sa++)if(pa[sa]==this){pa.splice(sa,1);break}}else Ae.destroyGroup(da)},_trigger:function(sa,da){var pa=this,ca=Be[pa.options.group];return ca?pa.trigger(sa,Ne({},da.event,{draggable:ca,dropTarget:da.dropTarget})):me},_over:function(sa){this._trigger(Je,sa)},_out:function(sa){this._trigger(Ze,sa)},_drop:function(sa){var da=this,pa=Be[da.options.group];pa&&(pa.dropped=!da._trigger(ea,sa))}}),Ae.destroyGroup=function(sa){var pa=Ve[sa]||We[sa],da;if(pa){for(da=0;pa.length>da;da++)He.fn.destroy.call(pa[da]);pa.length=0,delete Ve[sa],delete We[sa]}},Ae._cache=Ve,De=Ae.extend({init:function(sa,da){var ca=this,pa;He.fn.init.call(ca,sa,da),pa=ca.options.group,pa in We?We[pa].push(ca):We[pa]=[ca]},options:{name:"DropTargetArea",group:"default",filter:null}}),Fe=He.extend({init:function(sa,da){var pa=this;He.fn.init.call(pa,sa,da),pa.userEvents=new Oe(pa.element,{global:!0,stopPropagation:!0,filter:pa.options.filter,threshold:pa.options.distance,start:Me(pa._start,pa),move:Me(pa._drag,pa),end:Me(pa._end,pa),cancel:Me(pa._cancel,pa)}),pa._afterEndHandler=Me(pa._afterEnd,pa),pa.captureEscape=function(ca){ca.keyCode===Ie.keys.ESC&&(pa._trigger($e,{event:ca}),pa.userEvents.cancel())}},events:[Ke,Xe,Qe,$e],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(sa){var pa=this,ca=pa.options,ga=pa.boundaries,ua=ca.axis,ma=pa.options.cursorOffset,da;ma?da={left:sa.x.location+ma.left,top:sa.y.location+ma.top}:(pa.hintOffset.left+=sa.x.delta,pa.hintOffset.top+=sa.y.delta,da=pe.extend({},pa.hintOffset)),ga&&(da.top=be(da.top,ga.y),da.left=be(da.left,ga.x)),"x"===ua?delete da.top:"y"===ua&&delete da.left,pa.hint.css(da)},_start:function(sa){var pa=this,ca=pa.options,ga=ca.container,ua=ca.hint,da;pa.currentTarget=sa.target,pa.currentTargetOffset=Le(pa.currentTarget),ua&&(pa.hint&&pa.hint.stop(!0,!0).remove(),pa.hint=pe.isFunction(ua)?pe(ua.call(pa,pa.currentTarget)):ua,da=Le(pa.currentTarget),pa.hintOffset=da,pa.hint.css({position:"absolute",zIndex:20000,left:da.left,top:da.top}).appendTo(Re.body)),Be[ca.group]=pa,pa.dropped=!1,ga&&(pa.boundaries=ke(ga,pa.hint)),pa._trigger(Ke,sa)&&(pa.userEvents.cancel(),pa._afterEnd()),pe(Re).on(Ge,pa.captureEscape)},_drag:function(sa){var da=this;sa.preventDefault(),da._withDropTarget(sa,function(pa,ca){if(!pa)return Ce&&(Ce._trigger(Ze,Ne(sa,{dropTarget:pe(Ce.targetElement)})),Ce=null),me;if(Ce){if(ca===Ce.targetElement)return;Ce._trigger(Ze,Ne(sa,{dropTarget:pe(Ce.targetElement)}))}pa._trigger(Je,Ne(sa,{dropTarget:pe(ca)})),Ce=Ne(pa,{targetElement:ca})}),da._trigger(Xe,sa),da.hint&&da._updateHint(sa)},_end:function(sa){var da=this;da._withDropTarget(sa,function(pa,ca){pa&&(pa._drop(Ne({},sa,{dropTarget:pe(ca)})),Ce=null)}),da._trigger(Qe,sa),da._cancel(sa.event)},_cancel:function(){var sa=this;sa.hint&&!sa.dropped?setTimeout(function(){sa.hint.stop(!0,!0).animate(sa.currentTargetOffset,"fast",sa._afterEndHandler)},0):sa._afterEnd()},_trigger:function(sa,da){var pa=this;return pa.trigger(sa,Ne({},da.event,{x:da.x,y:da.y,currentTarget:pa.currentTarget,dropTarget:da.dropTarget}))},_withDropTarget:function(sa,da){var ga=this,ua=ga.options,ma=Ve[ua.group],fa=We[ua.group],pa,ca;(ma&&ma.length||fa&&fa.length)&&(pa=xe(sa),ga.hint&&_e(ga.hint[0],pa)&&(ga.hint.hide(),pa=xe(sa),pa||(pa=xe(sa)),ga.hint.show()),ca=we(pa,ma,fa),ca?da(ca.target,ca.targetElement):da())},destroy:function(){var sa=this;He.fn.destroy.call(sa),sa._afterEnd(),sa.userEvents.destroy()},_afterEnd:function(){var sa=this;sa.hint&&sa.hint.remove(),delete Be[sa.options.group],sa.trigger("destroy"),pe(Re).off(Ge,sa.captureEscape)}}),Ie.ui.plugin(Ae),Ie.ui.plugin(De),Ie.ui.plugin(Fe),Ie.TapCapture=ta,Ie.containerBoundaries=ke,Ne(Ie.ui,{Pane:ia,PaneDimensions:oa,Movable:Se})})(window.kendo.jQuery);;(function(pe,me){function _e(ca){return ca!==me}function xe(ca,ga,ua){return Math.max(Math.min(parseInt(ca,10),1/0===ua?ua:parseInt(ua,10)),parseInt(ga,10))}function ye(ca,ga){var ua=ca.children(Le);return ua.data("kendoWindow")||ua.data("kendo"+ga)}function be(ca){return pe(Oe).filter(function(){var ga=pe(this),ua=ye(ga,ca);return ua.options.modal&&ga.is(Ge)&&ua.options.visible}).sort(function(ga,ua){return+pe(ga).css("zIndex")-+pe(ua).css("zIndex")})}function ke(ca,ga){return function(){var ua=this,ma=ua.wrapper,fa=ma[0].style,ha=ua.options;if(!ha.isMaximized&&!ha.isMinimized)return ua.restoreOptions={width:fa.width,height:fa.height},ma.find(Be).hide().end().find(ra).parent().hide().eq(0).before(pa.action({name:"Restore"})),ga.call(ua),ua}}function we(ca){var ga=this;ga.owner=ca,ga._draggable=new Ae(ca.wrapper,{filter:Be,group:ca.wrapper.id+"-resizing",dragstart:Ie(ga.dragstart,ga),drag:Ie(ga.drag,ga),dragend:Ie(ga.dragend,ga)})}function Ce(ca){var ga=this;ga.owner=ca,ga._draggable=new Ae(ca.wrapper,{filter:Ne,group:ca.wrapper.id+"-moving",dragstart:Ie(ga.dragstart,ga),drag:Ie(ga.drag,ga),dragend:Ie(ga.dragend,ga),dragcancel:Ie(ga.dragcancel,ga)})}var Te=window.kendo,Se=Te.ui.Widget,Ae=Te.ui.Draggable,De=pe.isPlainObject,Fe=Te._activeElement,Ie=pe.proxy,Pe=pe.extend,Re=pe.each,Ee=Te.template,He="body",ze=".kendoWindow",Oe=".k-window",Me=".k-window-title",Ne=Me+"bar",Le=".k-window-content",Be=".k-resize-handle",Ve=".k-overlay",We="k-content-frame",Ue="k-loading",je="k-state-hover",qe="k-state-focused",Ge=":visible",Ye="hidden",Ke="cursor",Xe="open",Qe="activate",$e="deactivate",Je="close",Ze="refresh",ea="resize",ta="dragstart",aa="dragend",oa="error",na="overflow",ia="zIndex",ra=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",la=".k-window-titlebar .k-window-action",sa=Te.isLocalUrl,da=Se.extend({init:function(ca,ga){var ba=this,va=!1,ka=ga&&ga.actions&&!ga.actions.length,ua,ma,fa,ha,_a,xa,ya;Se.fn.init.call(ba,ca,ga),ga=ba.options,ca=ba.element,_a=ga.content,ka&&(ga.actions=[]),ba.appendTo=pe(ga.appendTo||document.body),ba._animations(),_a&&!De(_a)&&(_a=ga.content={url:_a}),ca.find("script").filter(function(){return!this.type||0<=this.type.toLowerCase().indexOf("script")}).remove(),ca.parent().is(ba.appendTo)||(ca.is(Ge)?(ma=ca.offset(),va=!0):(fa=ca.css("visibility"),ha=ca.css("display"),ca.css({visibility:Ye,display:""}),ma=ca.offset(),ca.css({visibility:fa,display:ha}))),_e(ga.visible)&&null!==ga.visible||(ga.visible=ca.is(Ge)),ua=ba.wrapper=ca.closest(Oe),ca.is(".k-content")&&ua[0]||(ca.addClass("k-window-content k-content"),ba._createWindow(ca,ga),ua=ba.wrapper=ca.closest(Oe),ba._dimensions()),ma&&ua.css({top:ma.top,left:ma.left}),_a&&ba.refresh(_a),ga.visible&&ba.toFront(),xa=ua.children(Le),ba._tabindex(xa),ga.visible&&ga.modal&&ba._overlay(ua.is(Ge)).css({opacity:0.5}),ua.on("mouseenter"+ze,la,function(){pe(this).addClass(je)}).on("mouseleave"+ze,la,function(){pe(this).removeClass(je)}).on("click"+ze,la,Ie(ba._windowActionHandler,ba)),xa.on("keydown"+ze,Ie(ba._keydown,ba)).on("focus"+ze,function(){ua.addClass(qe)}).on("blur"+ze,function(){ua.removeClass(qe)}),ga.resizable&&(ua.on("dblclick"+ze,Ne,function(wa){return pe(wa.target).closest(".k-window-action").length||ba.toggleMaximization(),this}),Re("n e s w se sw ne nw".split(" "),function(wa,Ca){ua.append(pa.resizeHandle(Ca))}),ba.resizing=new we(ba)),ga.draggable&&(ba.dragging=new Ce(ba)),ya=ca.attr("id"),ya&&(ya+="_wnd_title",ua.find(Ne).children(Me).attr("id",ya),xa.attr({role:"dialog","aria-labelledby":ya})),ua.add(ua.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+ze,Ie(ba.toFront,ba)),ba.touchScroller=Te.touchScroller(ca),ba._resizeHandler=function(wa){return ba._onDocumentResize(wa)},pe(window).on("resize",ba._resizeHandler),ga.visible&&(ba.trigger(Xe),ba.trigger(Qe)),Te.notify(ba)},_dimensions:function(){var ca=this,ga=ca.wrapper,ua=ca.options,ma=ua.width,fa=ua.height,ha=ua.maxHeight;ca.title(ua.title),Re(["minWidth","minHeight","maxWidth","maxHeight"],function(_a,xa){var ya=ua[xa];ya&&1/0!=ya&&ga.css(xa,ya)}),ha&&1/0!=ha&&ca.element.css("maxHeight",ha),ma&&(0<(""+ma).indexOf("%")?ga.width(ma):ga.width(xe(ma,ua.minWidth,ua.maxWidth))),fa&&(0<(""+fa).indexOf("%")?ga.height(fa):ga.height(xe(fa,ua.minHeight,ua.maxHeight))),ua.visible||ga.hide()},_animations:function(){var ca=this.options;!1===ca.animation&&(ca.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(ca){Se.fn.setOptions.call(this,ca),this._animations(),this._dimensions()},events:[Xe,Qe,$e,Je,Ze,ea,ta,aa,oa],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,visible:null,height:null,width:null},_closable:function(){return-1<pe.inArray("close",pe.map(this.options.actions,function(ca){return ca.toLowerCase()}))},_keydown:function(ca){var ha=this,_a=ha.options,xa=Te.keys,ya=ca.keyCode,ba=ha.wrapper,va=10,ka=ha.options.isMaximized,ga,ua,ma,fa;ca.target==ca.currentTarget&&(ya==xa.ESC&&ha._closable()&&ha._close(!0),!_a.draggable||ca.ctrlKey||ka||(ga=Te.getOffset(ba),ya==xa.UP?ua=ba.css("top",ga.top-va):ya==xa.DOWN?ua=ba.css("top",ga.top+va):ya==xa.LEFT?ua=ba.css("left",ga.left-va):ya==xa.RIGHT&&(ua=ba.css("left",ga.left+va))),_a.resizable&&ca.ctrlKey&&!ka&&(ya==xa.UP?(ua=!0,fa=ba.height()-va):ya==xa.DOWN&&(ua=!0,fa=ba.height()+va),ya==xa.LEFT?(ua=!0,ma=ba.width()-va):ya==xa.RIGHT&&(ua=!0,ma=ba.width()+va),ua&&(ba.css({width:xe(ma,_a.minWidth,_a.maxWidth),height:xe(fa,_a.minHeight,_a.maxHeight)}),ha.trigger(ea))),ua&&ca.preventDefault())},_overlay:function(ca){var ga=this.appendTo.children(".k-overlay"),ua=this.wrapper;return ga.length||(ga=pe("<div class='k-overlay' />")),ga.insertBefore(ua[0]).toggle(ca).css(ia,parseInt(ua.css(ia),10)-1),ga},_windowActionHandler:function(ca){var ga=pe(ca.target).closest(".k-window-action").find(".k-icon"),ua=this;ua._closing||Re({"k-i-close":function(){ua._close(!0)},"k-i-maximize":ua.maximize,"k-i-minimize":ua.minimize,"k-i-restore":ua.restore,"k-i-refresh":ua.refresh},function(ma,fa){return ga.hasClass(ma)?(ca.preventDefault(),fa.call(ua),!1):me})},center:function(){var ca=this.wrapper,ga=pe(window);return ca.css({left:ga.scrollLeft()+Math.max(0,(ga.width()-ca.width())/2),top:ga.scrollTop()+Math.max(0,(ga.height()-ca.height())/2)}),this},title:function(ca){var ga=this,ua=ga.wrapper,ma=ga.options,fa=ua.find(Ne),ha=fa.children(Me),_a=fa.outerHeight();return arguments.length?(!1===ca?(ua.addClass("k-window-titleless"),fa.remove()):(fa.length||ua.prepend(pa.titlebar(Pe(pa,ma))),ua.css("padding-top",_a),fa.css("margin-top",-_a)),ha.text(ca),ga):ha.text()},content:function(ca){var ga=this.wrapper.children(Le),ua=ga.children(".km-scroll-container");return ga=ua[0]?ua:ga,ca?(Te.destroy(this.element.children()),ga.html(ca),this):ga.html()},open:function(){var ga=this,ua=ga.wrapper,ma=ga.options,fa=ma.animation.open,ha=ua.children(Le),_a=ha.css(na),ca;return ga.trigger(Xe)||(ga._closing=!1,ga.toFront(),ga.element.focus(),ma.visible=!0,ma.modal&&(ca=ga._overlay(!1),fa.duration?ca.kendoStop().kendoAnimate({effects:"fade:in",duration:fa.duration}).show():ca.css("opacity",0.5).show()),ua.is(Ge)||(ha.css(na,Ye),ua.show().kendoStop().kendoAnimate({effects:fa.effects,duration:fa.duration,complete:function(){ga.element.focus(),ga.trigger(Qe),ha.css(na,_a)}}))),ma.isMaximized&&(ga._documentScrollTop=pe(document).scrollTop(),pe("html, body").css(na,Ye)),ga},_close:function(ca){var fa=this,ha=fa.wrapper,_a=fa.options,xa=_a.animation.open,ya=_a.animation.close,ga,ua,ma;ha.is(Ge)&&!fa.trigger(Je,{userTriggered:!!ca})&&(fa._closing=!0,_a.visible=!1,pe(Oe).each(function(ba,va){var ka=pe(va),wa=ka.find(Le);va!=ha&&0<wa.find("> ."+We).length&&wa.children(".k-overlay").remove()}),ga=be(_a.name),ua=_a.modal&&!ga.length,ma=_a.modal?fa._overlay(!0):pe(me),ua?ya.duration?ma.kendoStop().kendoAnimate({effects:"fade:out",duration:ya.duration,hide:!0}):ma.hide():ga.length&&ye(ga.eq(ga.length-1),_a.name)._overlay(!0),ha.kendoStop().kendoAnimate({effects:ya.effects||xa.effects,reverse:!0===ya.reverse,duration:ya.duration,complete:function(){ha.hide(),fa.trigger($e)}})),fa.options.isMaximized&&(pe("html, body").css(na,""),fa._documentScrollTop&&0<fa._documentScrollTop&&pe(document).scrollTop(fa._documentScrollTop))},close:function(){return this._close(!1),this},toFront:function(ca){var ma=this,fa=ma.wrapper,ha=fa[0],_a=+fa.css(ia),xa=_a,ya=Fe(),ba=ma.element,va=ca&&ca.target?ca.target:null,ga,ua;return pe(Oe).each(function(ka,wa){var Ca=pe(wa),Ta=Ca.css(ia),Sa=Ca.find(Le);isNaN(Ta)||(_a=Math.max(+Ta,_a)),wa!=ha&&0<Sa.find("> ."+We).length&&Sa.append(pa.overlay)}),(10001==_a||_a>xa)&&fa.css(ia,_a+2),ma.element.find("> .k-overlay").remove(),pe(ya).is(ba)||pe(va).is(la+","+la+" .k-icon,:input,a")||ba.find(ya).length&&ba.find(va).length||(ba.focus(),ga=pe(window).scrollTop(),ua=parseInt(ma.wrapper.position().top,10),0<ua&&0>ua-ga&&(0<ga?pe(window).scrollTop(ua):ma.wrapper.css("top",ga))),ma},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var ca=this,ga=ca.options,ua=ca.restoreOptions;if(ga.isMaximized||ga.isMinimized)return ca.wrapper.css({position:"absolute",left:ua.left,top:ua.top,width:ua.width,height:ua.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(ra).parent().show(),pe("html, body").css(na,""),this._documentScrollTop&&0<this._documentScrollTop&&pe(document).scrollTop(this._documentScrollTop),ga.isMaximized=ga.isMinimized=!1,ca.trigger(ea),ca},maximize:ke("maximize",function(){var ca=this,ga=ca.wrapper,ua=ga.position();Pe(ca.restoreOptions,{left:ua.left,top:ua.top}),ga.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=pe(document).scrollTop(),pe("html, body").css(na,Ye),ca.options.isMaximized=!0,ca._onDocumentResize()}),minimize:ke("minimize",function(){var ca=this;ca.wrapper.css("height",""),ca.element.hide(),ca.options.isMinimized=!0}),_onDocumentResize:function(){var ca=this,ga=ca.wrapper,ua=pe(window);ca.options.isMaximized&&(ga.css({width:ua.width(),height:ua.height()-parseInt(ga.css("padding-top"),10)}),ca.trigger(ea))},refresh:function(ca){var fa=this,ha=fa.options,_a=pe(fa.element),ga,ua,ma;return De(ca)||(ca={url:ca}),ca=Pe({},ha.content,ca),ua=_e(ha.iframe)?ha.iframe:ca.iframe,ma=ca.url,ma?(_e(ua)||(ua=!sa(ma)),ua?(ga=_a.find("."+We)[0],ga?ga.src=ma||ga.src:_a.html(pa.contentFrame(Pe({},ha,{content:ca}))),_a.find("."+We).unbind("load"+ze).on("load"+ze,function(){fa.trigger(Ze)})):fa._ajaxRequest(ca)):(ca.template&&fa.content(Ee(ca.template)({})),fa.trigger(Ze)),fa},_ajaxRequest:function(ca){var ga=this,ua=ca.template,ma=ga.wrapper.find(".k-window-titlebar .k-i-refresh"),fa=setTimeout(function(){ma.addClass(Ue)},100);pe.ajax(Pe({type:"GET",dataType:"html",cache:!1,error:Ie(function(ha,_a){ga.trigger(oa,{status:_a,xhr:ha})},ga),complete:function(){clearTimeout(fa),ma.removeClass(Ue)},success:Ie(function(ha){ua&&(ha=Ee(ua)(ha||{})),ga.content(ha),ga.element.prop("scrollTop",0),ga.trigger(Ze)},ga)},ca))},destroy:function(){var ua=this,ca,ga;Se.fn.destroy.call(ua),Te.destroy(ua.wrapper),ua.resizing&&ua.resizing.destroy(),ua.dragging&&ua.dragging.destroy(),ua.element.children("iframe").remove(),ua.wrapper.remove().add(ua.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(ze),pe(window).off("resize",ua._resizeHandler),ca=be(),ga=ua.options.modal&&!ca.length,ga?ua._overlay(!1).remove():0<ca.length&&ye(ca.eq(ca.length-1),ua.options.name)._overlay(!0)},_createWindow:function(){var ua=this,ma=ua.element,fa=ua.options,ha=Te.support.isRtl(ma),ca,ga;!1===fa.scrollable&&ma.attr("style","overflow:hidden;"),ga=pe(pa.wrapper(fa)),!1!==fa.title&&ga.append(pa.titlebar(Pe(pa,fa))),ca=ma.find("iframe:not(.k-content)").map(function(){var _a=this.getAttribute("src");return this.src="",_a}),ga.toggleClass("k-rtl",ha).appendTo(ua.appendTo).append(ma).find("iframe:not(.k-content)").each(function(_a){this.src=ca[_a]}),ga.find(".k-window-title").css(ha?"left":"right",ga.find(".k-window-actions").outerWidth()+10),ma.show()}}),pa={wrapper:Ee("<div class='k-widget k-window' />"),action:Ee("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:Ee("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:Ee("<iframe frameborder='0' title='#= title #' class='"+We+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:Ee("<div class='k-resize-handle k-resize-#= data #'></div>")};we.prototype={dragstart:function(ca){var ga=this,ua=ga.owner,ma=ua.wrapper;ga.elementPadding=parseInt(ua.wrapper.css("padding-top"),10),ga.initialCursorPosition=Te.getOffset(ma,"position"),ga.resizeDirection=ca.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),ga.initialSize={width:ma.width(),height:ma.height()},ga.containerOffset=Te.getOffset(ua.appendTo),ma.append(pa.overlay).find(Be).not(ca.currentTarget).hide(),pe(He).css(Ke,ca.currentTarget.css(Ke))},drag:function(ca){var ha=this,_a=ha.owner,xa=_a.wrapper,ya=_a.options,ba=ha.resizeDirection,va=ha.containerOffset,ka=ha.initialCursorPosition,wa=ha.initialSize,Ca=Math.max(ca.x.location,va.left),Ta=Math.max(ca.y.location,va.top),ga,ua,ma,fa;0<=ba.indexOf("e")?(ga=Ca-ka.left,xa.width(xe(ga,ya.minWidth,ya.maxWidth))):0<=ba.indexOf("w")&&(fa=ka.left+wa.width,ga=xe(fa-Ca,ya.minWidth,ya.maxWidth),xa.css({left:fa-ga-va.left,width:ga})),0<=ba.indexOf("s")?(ua=Ta-ka.top-ha.elementPadding,xa.height(xe(ua,ya.minHeight,ya.maxHeight))):0<=ba.indexOf("n")&&(ma=ka.top+wa.height,ua=xe(ma-Ta,ya.minHeight,ya.maxHeight),xa.css({top:ma-ua-va.top,height:ua})),_a.trigger(ea)},dragend:function(ca){var ga=this,ua=ga.owner,ma=ua.wrapper;return ma.find(Ve).remove().end().find(Be).not(ca.currentTarget).show(),pe(He).css(Ke,""),ua.touchScroller&&ua.touchScroller.reset(),27==ca.keyCode&&ma.css(ga.initialCursorPosition).css(ga.initialSize),!1},destroy:function(){this._draggable.destroy()}},Ce.prototype={dragstart:function(ca){var ga=this.owner,ua=ga.element,ma=ua.find(".k-window-actions"),fa=Te.getOffset(ga.appendTo);ga.trigger(ta),ga.initialWindowPosition=Te.getOffset(ga.wrapper,"position"),ga.startPosition={left:ca.x.client-ga.initialWindowPosition.left,top:ca.y.client-ga.initialWindowPosition.top},ga.minLeftPosition=0<ma.length?ma.outerWidth()+parseInt(ma.css("right"),10)-ua.outerWidth():20-ua.outerWidth(),ga.minLeftPosition-=fa.left,ga.minTopPosition=-fa.top,ga.wrapper.append(pa.overlay).find(Be).hide(),pe(He).css(Ke,ca.currentTarget.css(Ke))},drag:function(ca){var ga=this.owner,ua={left:Math.max(ca.x.client-ga.startPosition.left,ga.minLeftPosition),top:Math.max(ca.y.client-ga.startPosition.top,ga.minTopPosition)};pe(ga.wrapper).css(ua)},_finishDrag:function(){var ca=this.owner;ca.wrapper.find(Be).toggle(!ca.options.isMinimized).end().find(Ve).remove(),pe(He).css(Ke,"")},dragcancel:function(ca){this._finishDrag(),ca.currentTarget.closest(Oe).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(aa),!1},destroy:function(){this._draggable.destroy()}},Te.ui.plugin(da)})(window.kendo.jQuery);;(function(pe,me){function _e(pa,ca,ga){var ua=ga?" k-slider-horizontal":" k-slider-vertical",ma=pa.style?pa.style:ca.attr("style"),fa=ca.attr("class")?" "+ca.attr("class"):"",ha="";return"bottomRight"==pa.tickPlacement?ha=" k-slider-bottomright":"topLeft"==pa.tickPlacement&&(ha=" k-slider-topleft"),ma=ma?" style='"+ma+"'":"","<div class='k-widget k-slider"+ua+fa+"'"+ma+"><div class='k-slider-wrap"+(pa.showButtons?" k-slider-buttons":"")+ha+"'></div></div>"}function xe(pa,ca,ga){var ua="";return ua="increase"==ca?ga?"k-i-arrow-e":"k-i-arrow-n":ga?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+ca+"'><span class='k-icon "+ua+"' title='"+pa[ca+"ButtonTitle"]+"'>"+pa[ca+"ButtonTitle"]+"</span></a>"}function ye(pa,ca){var ua="<ul class='k-reset k-slider-items'>",ma=Me.floor(Te(ca/pa.smallStep))+1,ga;for(ga=0;ma>ga;ga++)ua+="<li class='k-tick' role='presentation'>&nbsp;</li>";return ua+="</ul>"}function be(pa,ca){var ga=ca.is("input")?1:2,ua=2==ga?pa.leftDragHandleTitle:pa.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+ua+"' role='slider' aria-valuemin='"+pa.min+"' aria-valuemax='"+pa.max+"' aria-valuenow='"+(1<ga?pa.selectionStart||pa.min:pa.value||pa.min)+"'>Drag</a>"+(1<ga?"<a href='#' class='k-draghandle' title='"+pa.rightDragHandleTitle+"'role='slider' aria-valuemin='"+pa.min+"' aria-valuemax='"+pa.max+"' aria-valuenow='"+(pa.selectionEnd||pa.max)+"'>Drag</a>":"")+"</div>"}function ke(pa){return function(ca){return ca+pa}}function we(pa){return function(){return pa}}function Ce(pa){return(pa+"").replace(".",Fe.cultures.current.numberFormat["."])}function Te(pa){pa=parseFloat(pa,10);var ca=Me.pow(10,3);return Me.round(pa*ca)/ca}function Se(pa,ca){var ga=He(pa.getAttribute(ca));return null===ga&&(ga=me),ga}function Ae(pa){return"undefined"!=typeof pa}var Fe=window.kendo,Ie=Fe.ui.Widget,Pe=Fe.ui.Draggable,Re=pe.extend,Ee=Fe.format,He=Fe.parseFloat,ze=pe.proxy,Oe=pe.isArray,Me=Math,Ne=Fe.support,Le=Ne.pointers,Be="change",Ve="slide",We=".slider",Ue="touchstart"+We+" mousedown"+We,je=Le?"MSPointerDown"+We:Ue,qe="touchend"+We+" mouseup"+We,Ge=Le?"MSPointerUp"+We:qe,Ye="moveSelection",Ke="keydown"+We,Xe="click"+We,Qe="mouseover"+We,$e="focus"+We,Je="blur"+We,Ze=".k-draghandle",ea=".k-slider-track",ta=".k-tick",aa="k-state-selected",oa="k-state-default",na="k-state-disabled",ia="disabled",ra="tabindex",la=Fe.getTouches,sa=Ie.extend({init:function(pa,ca){var fa=this,ga,ua,ma;Ie.fn.init.call(fa,pa,ca),ca=fa.options,fa._distance=ca.max-ca.min,fa._isHorizontal="horizontal"==ca.orientation,fa._isRtl=fa._isHorizontal&&Fe.support.isRtl(pa),fa._position=fa._isHorizontal?"left":"bottom",fa._size=fa._isHorizontal?"width":"height",fa._outerSize=fa._isHorizontal?"outerWidth":"outerHeight",ca.tooltip.format=ca.tooltip.enabled?ca.tooltip.format||"{0}":"{0}",fa._createHtml(),fa.wrapper=fa.element.closest(".k-slider"),fa._trackDiv=fa.wrapper.find(ea),fa._setTrackDivWidth(),fa._maxSelection=fa._trackDiv[fa._size](),ga=fa._maxSelection/((ca.max-ca.min)/ca.smallStep),ua=fa._calculateItemsWidth(Me.floor(fa._distance/ca.smallStep)),"none"!=ca.tickPlacement&&2<=ga&&(fa._trackDiv.before(ye(ca,fa._distance)),fa._setItemsWidth(ua),fa._setItemsTitle(),fa._setItemsLargeTick()),fa._calculateSteps(ua),fa._tabindex(fa.wrapper.find(Ze)),fa[ca.enabled?"enable":"disable"](),ma=Fe.support.isRtl(fa.wrapper)?-1:1,fa._keyMap={37:ke(-1*ma*ca.smallStep),40:ke(-ca.smallStep),39:ke(1*ma*ca.smallStep),38:ke(+ca.smallStep),35:we(ca.max),36:we(ca.min),33:ke(+ca.largeStep),34:ke(-ca.largeStep)},Fe.notify(fa)},events:[Be,Ve],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var pa=this,ca=2*parseFloat(pa._trackDiv.css(pa._isRtl?"right":pa._position),10);pa._trackDiv[pa._size](pa.wrapper[pa._size]()-2-ca)},_setItemsWidth:function(pa){var ga=this,ua=ga.options,ma=0,fa=pa.length-1,ha=ga.wrapper.find(ta),_a=0,xa=ha.length,ya=0,ca;for(ca=0;xa-2>ca;ca++)pe(ha[ca+1])[ga._size](pa[ca]);if(ga._isHorizontal?(pe(ha[ma]).addClass("k-first")[ga._size](pa[fa-1]),pe(ha[fa]).addClass("k-last")[ga._size](pa[fa])):(pe(ha[fa]).addClass("k-first")[ga._size](pa[fa]),pe(ha[ma]).addClass("k-last")[ga._size](pa[fa-1])),0!=ga._distance%ua.smallStep&&!ga._isHorizontal){for(ca=0;pa.length>ca;ca++)ya+=pa[ca];_a=ga._maxSelection-ya,_a+=parseFloat(ga._trackDiv.css(ga._position),10)+2,ga.wrapper.find(".k-slider-items").css("padding-top",_a)}},_setItemsTitle:function(){for(var pa=this,ca=pa.options,ga=pa.wrapper.find(ta),ua=ca.min,ma=ga.length,fa=pa._isHorizontal&&!pa._isRtl?0:ma-1,ha=pa._isHorizontal&&!pa._isRtl?ma:-1,_a=pa._isHorizontal&&!pa._isRtl?1:-1;0!=fa-ha;fa+=_a)pe(ga[fa]).attr("title",Ee(ca.tooltip.format,Te(ua))),ua+=ca.smallStep},_setItemsLargeTick:function(){var ca=this,ga=ca.options,ua=ca.wrapper.find(ta),ma={},fa=Te(ga.largeStep/ga.smallStep),pa;if(0==1000*ga.largeStep%(1000*ga.smallStep))if(ca._isHorizontal&&!ca._isRtl)for(pa=0;ua.length>pa;pa=Te(pa+fa))ma=pe(ua[pa]),ma.addClass("k-tick-large").html("<span class='k-label'>"+ma.attr("title")+"</span>");else for(pa=ua.length-1;0<=pa;pa=Te(pa-fa))ma=pe(ua[pa]),ma.addClass("k-tick-large").html("<span class='k-label'>"+ma.attr("title")+"</span>"),ca._isRtl||0!==pa&&pa!==ua.length-1&&ma.css("line-height",ma[ca._size]()+"px")},_calculateItemsWidth:function(pa){var ma=this,fa=ma.options,ha=parseFloat(ma._trackDiv.css(ma._size))+1,_a=ha/ma._distance,ca,ga,ua;for(0<ma._distance/fa.smallStep-Me.floor(ma._distance/fa.smallStep)&&(ha-=ma._distance%fa.smallStep*_a),ca=ha/pa,ga=[],ua=0;pa-1>ua;ua++)ga[ua]=ca;return ga[pa-1]=ga[pa]=ca/2,ma._roundWidths(ga)},_roundWidths:function(pa){var ga=0,ua=pa.length,ca;for(ca=0;ua>ca;ca++)ga+=pa[ca]-Me.floor(pa[ca]),pa[ca]=Me.floor(pa[ca]);return ga=Me.round(ga),this._addAdditionalSize(ga,pa)},_addAdditionalSize:function(pa,ca){if(0===pa)return ca;var ua=parseFloat(ca.length-1)/parseFloat(1==pa?pa:pa-1),ga;for(ga=0;pa>ga;ga++)ca[parseInt(Me.round(ua*ga),10)]+=1;return ca},_calculateSteps:function(pa){var ga=this,ua=ga.options,ma=ua.min,fa=0,ha=Me.ceil(ga._distance/ua.smallStep),_a=1,ca;if(ha+=0==ga._distance/ua.smallStep%1?1:0,pa.splice(0,0,2*pa[ha-2]),pa.splice(ha-1,1,2*pa.pop()),ga._pixelSteps=[fa],ga._values=[ma],0!==ha){for(;ha>_a;)fa+=(pa[_a-1]+pa[_a])/2,ga._pixelSteps[_a]=fa,ga._values[_a]=ma+=ua.smallStep,_a++;ca=0==ga._distance%ua.smallStep?ha-1:ha,ga._pixelSteps[ca]=ga._maxSelection,ga._values[ca]=ua.max,ga._isRtl&&(ga._pixelSteps.reverse(),ga._values.reverse())}},_getValueFromPosition:function(pa,ca){var ua=this,ma=ua.options,fa=Me.max(ma.smallStep*(ua._maxSelection/ua._distance),0),ha=0,ga;if(ua._isHorizontal?(ha=pa-ca.startPoint,ua._isRtl&&(ha=ua._maxSelection-ha)):ha=ca.startPoint-pa,ha>ua._maxSelection-(parseInt(ua._maxSelection%fa,10)-3)/2)return ma.max;for(ga=0;ua._pixelSteps.length>ga;ga++)if(fa/2>=Me.abs(ua._pixelSteps[ga]-ha)-1)return Te(ua._values[ga])},_getFormattedValue:function(pa,ca){var fa=this,ha="",_a=fa.options.tooltip,ga,ua,ma;return Oe(pa)?(ua=pa[0],ma=pa[1]):ca&&ca.type&&(ua=ca.selectionStart,ma=ca.selectionEnd),ca&&(ga=ca.tooltipTemplate),!ga&&_a.template&&(ga=Fe.template(_a.template)),Oe(pa)||ca&&ca.type?ga?ha=ga({selectionStart:ua,selectionEnd:ma}):(ua=Ee(_a.format,ua),ma=Ee(_a.format,ma),ha=ua+" - "+ma):(ca&&(ca.val=pa),ha=ga?ga({value:pa}):Ee(_a.format,pa)),ha},_getDraggableArea:function(){var pa=this,ca=Fe.getOffset(pa._trackDiv);return{startPoint:pa._isHorizontal?ca.left:ca.top+pa._maxSelection,endPoint:pa._isHorizontal?ca.left+pa._maxSelection:ca.top}},_createHtml:function(){var pa=this,ca=pa.element,ga=pa.options,ua=ca.find("input");2==ua.length?(ua.eq(0).val(ga.selectionStart),ua.eq(1).val(ga.selectionEnd)):ca.val(ga.value),ca.wrap(_e(ga,ca,pa._isHorizontal)).hide(),ga.showButtons&&ca.before(xe(ga,"increase",pa._isHorizontal)).before(xe(ga,"decrease",pa._isHorizontal)),ca.before(be(ga,ca))},_focus:function(pa){var ca=this,ga=pa.target,ua=ca.value(),ma=ca._drag;ma||(ga==ca.wrapper.find(Ze).eq(0)[0]?(ma=ca._firstHandleDrag,ca._activeHandle=0):(ma=ca._lastHandleDrag,ca._activeHandle=1),ua=ua[ca._activeHandle]),pe(ga).addClass(aa),ma&&(ca._activeHandleDrag=ma,ma.selectionStart=ca.options.selectionStart,ma.selectionEnd=ca.options.selectionEnd,ma._updateTooltip(ua))},_focusWithMouse:function(pa){var ca=this,ga=pe(pa.target),ua=ga.is(Ze)?ga.index():0;window.setTimeout(function(){ca.wrapper.find(Ze)[2==ua?1:0].focus()},1),ca._setTooltipTimeout()},_blur:function(pa){var ca=this,ga=ca._activeHandleDrag;pe(pa.target).removeClass(aa),ga&&(ga._removeTooltip(),delete ca._activeHandleDrag,delete ca._activeHandle)},_setTooltipTimeout:function(){var pa=this;pa._tooltipTimeout=window.setTimeout(function(){var ca=pa._drag||pa._activeHandleDrag;ca&&ca._removeTooltip()},300)},_clearTooltipTimeout:function(){var ca=this,pa;window.clearTimeout(this._tooltipTimeout),pa=ca._drag||ca._activeHandleDrag,pa&&pa.tooltipDiv&&pa.tooltipDiv.stop(!0,!1).css("opacity",1)}}),da=sa.extend({init:function(pa,ca){var ua=this,ga;pa.type="text",ca=Re({},{value:Se(pa,"value"),min:Se(pa,"min"),max:Se(pa,"max"),smallStep:Se(pa,"step")},ca),pa=pe(pa),ca&&ca.enabled===me&&(ca.enabled=!pa.is("[disabled]")),sa.fn.init.call(ua,pa,ca),ca=ua.options,Ae(ca.value)&&null!==ca.value||(ca.value=ca.min,pa.val(ca.min)),ca.value=Me.max(Me.min(ca.value,ca.max),ca.min),ga=ua.wrapper.find(Ze),new da.Selection(ga,ua,ca),ua._drag=new da.Drag(ga,"",ua,ca)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(pa){var ma=this,fa=ma.options,ca,ga,ua;ma.disable(),!1!==pa&&(ma.wrapper.removeClass(na).addClass(oa),ma.wrapper.find("input").removeAttr(ia),ca=function(ha){var ba=la(ha)[0],_a,xa,ya;if(ba){if(_a=ma._isHorizontal?ba.location.pageX:ba.location.pageY,xa=ma._getDraggableArea(),ya=pe(ha.target),ya.hasClass("k-draghandle"))return ya.addClass(aa),me;ma._update(ma._getValueFromPosition(_a,xa)),ma._focusWithMouse(ha),ma._drag.dragstart(ha),ha.preventDefault()}},ma.wrapper.find(ta+", "+ea).on(je,ca).end().on(je,function(){pe(document.documentElement).one("selectstart",Fe.preventDefault)}).on(Ge,function(){ma._drag._end()}),ma.wrapper.find(Ze).attr(ra,0).on(qe,function(){ma._setTooltipTimeout()}).on(Xe,function(ha){ma._focusWithMouse(ha),ha.preventDefault()}).on($e,ze(ma._focus,ma)).on(Je,ze(ma._blur,ma)),ga=ze(function(ha){var _a=ma._nextValueByIndex(ma._valueIndex+1*ha);ma._setValueInRange(_a),ma._drag._updateTooltip(_a)},ma),fa.showButtons&&(ua=ze(function(ha,_a){this._clearTooltipTimeout(),(1===ha.which||Ne.touch&&0===ha.which)&&(ga(_a),this.timeout=setTimeout(ze(function(){this.timer=setInterval(function(){ga(_a)},60)},this),200))},ma),ma.wrapper.find(".k-button").on(qe,ze(function(ha){this._clearTimer(),ma._focusWithMouse(ha)},ma)).on(Qe,function(ha){pe(ha.currentTarget).addClass("k-state-hover")}).on("mouseout"+We,ze(function(ha){pe(ha.currentTarget).removeClass("k-state-hover"),this._clearTimer()},ma)).eq(0).on(Ue,ze(function(ha){ua(ha,1)},ma)).click(!1).end().eq(1).on(Ue,ze(function(ha){ua(ha,-1)},ma)).click(Fe.preventDefault)),ma.wrapper.find(Ze).off(Ke,!1).on(Ke,ze(this._keydown,ma)),fa.enabled=!0)},disable:function(){var pa=this;pa.wrapper.removeClass(oa).addClass(na),pe(pa.element).prop(ia,ia),pa.wrapper.find(".k-button").off(Ue).on(Ue,Fe.preventDefault).off(qe).on(qe,Fe.preventDefault).off("mouseleave"+We).on("mouseleave"+We,Fe.preventDefault).off(Qe).on(Qe,Fe.preventDefault),pa.wrapper.find(ta+", "+ea).off(je).off(Ge),pa.wrapper.find(Ze).attr(ra,-1).off(qe).off(Ke).off(Xe).off($e).off(Je),pa.options.enabled=!1},_update:function(pa){var ca=this,ga=ca.value()!=pa;ca.value(pa),ga&&ca.trigger(Be,{value:ca.options.value})},value:function(pa){var ca=this,ga=ca.options;return pa=Te(pa),isNaN(pa)?ga.value:(pa>=ga.min&&ga.max>=pa&&ga.value!=pa&&(ca.element.prop("value",Ce(pa)),ga.value=pa,ca._refreshAriaAttr(pa),ca._refresh()),me)},_refresh:function(){this.trigger(Ye,{value:this.options.value})},_refreshAriaAttr:function(pa){var ga=this,ua=ga._drag,ca;ca=ua&&ua._tooltipDiv?ua._tooltipDiv.text():ga._getFormattedValue(pa,null),this.wrapper.find(Ze).attr("aria-valuenow",pa).attr("aria-valuetext",ca)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(pa){var ca=this;pa.keyCode in ca._keyMap&&(ca._clearTooltipTimeout(),ca._setValueInRange(ca._keyMap[pa.keyCode](ca.options.value)),ca._drag._updateTooltip(ca.value()),pa.preventDefault())},_setValueInRange:function(pa){var ca=this,ga=ca.options;return pa=Te(pa),isNaN(pa)?(ca._update(ga.min),me):(pa=Me.max(Me.min(pa,ga.max),ga.min),ca._update(pa),me)},_nextValueByIndex:function(pa){var ca=this._values.length;return this._isRtl&&(pa=ca-1-pa),this._values[Me.max(0,Me.min(pa,ca-1))]},destroy:function(){var pa=this;Ie.fn.destroy.call(pa),pa.wrapper.off(We).find(".k-button").off(We).end().find(Ze).off(We).end().find(ta+", "+ea).off(We).end(),pa._drag.draggable.destroy()}}),De;da.Selection=function(pa,ca,ga){function ua(ma){var fa=ma-ga.min,ha=ca._valueIndex=Me.ceil(Te(fa/ga.smallStep)),_a=parseInt(ca._pixelSteps[ha],10),xa=ca._trackDiv.find(".k-slider-selection"),ya=parseInt(pa[ca._outerSize]()/2,10),ba=ca._isRtl?2:0;xa[ca._size](ca._isRtl?ca._maxSelection-_a:_a),pa.css(ca._position,_a-ya-ba)}ua(ga.value),ca.bind([Be,Ve,Ye],function(ma){ua(parseFloat(ma.value,10))})},da.Drag=function(pa,ca,ga,ua){var ma=this;ma.owner=ga,ma.options=ua,ma.dragHandle=pa,ma.dragHandleSize=pa[ga._outerSize](),ma.type=ca,ma.draggable=new Pe(pa,{distance:0,dragstart:ze(ma._dragstart,ma),drag:ze(ma.drag,ma),dragend:ze(ma.dragend,ma),dragcancel:ze(ma.dragcancel,ma)}),pa.click(!1)},da.Drag.prototype={dragstart:function(pa){this.draggable.userEvents._start(pa)},_dragstart:function(pa){var ca=this,ga=ca.owner,ua=ca.options;return ua.enabled?(ga.element.off(Qe),ca.dragHandle.addClass(aa),pe(document.documentElement).css("cursor","pointer"),ca.dragableArea=ga._getDraggableArea(),ca.step=Me.max(ua.smallStep*(ga._maxSelection/ga._distance),0),ca.type?(ca.selectionStart=ua.selectionStart,ca.selectionEnd=ua.selectionEnd,ga._setZIndex(ca.type)):ca.oldVal=ca.val=ua.value,ca._removeTooltip(!0),ca._createTooltip(),me):(pa.preventDefault(),me)},_createTooltip:function(){var ga=this,ua=ga.owner,ma=ga.options.tooltip,fa="",ha=pe(window),pa,ca;ma.enabled&&(ma.template&&(pa=ga.tooltipTemplate=Fe.template(ma.template)),pe(".k-slider-tooltip").remove(),ga.tooltipDiv=pe("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),fa=ua._getFormattedValue(ga.val||ua.value(),ga),ga.type||(ca="k-callout-"+(ua._isHorizontal?"s":"e"),ga.tooltipInnerDiv="<div class='k-callout "+ca+"'><!-- --></div>",fa+=ga.tooltipInnerDiv),ga.tooltipDiv.html(fa),ga._scrollOffset={top:ha.scrollTop(),left:ha.scrollLeft()},ga.moveTooltip())},drag:function(pa){var ga=this,ua=ga.owner,ma=pa.x.location,fa=pa.y.location,ha=ga.dragableArea.startPoint,_a=ga.dragableArea.endPoint,ca;pa.preventDefault(),ga.val=ua._isHorizontal?ua._isRtl?ga.constrainValue(ma,ha,_a,_a>ma):ga.constrainValue(ma,ha,_a,ma>=_a):ga.constrainValue(fa,_a,ha,_a>=fa),ga.oldVal!=ga.val&&(ga.oldVal=ga.val,ga.type?("firstHandle"==ga.type?ga.selectionStart=ga.val<ga.selectionEnd?ga.val:ga.selectionEnd=ga.val:ga.val>ga.selectionStart?ga.selectionEnd=ga.val:ga.selectionStart=ga.selectionEnd=ga.val,ca={values:[ga.selectionStart,ga.selectionEnd],value:[ga.selectionStart,ga.selectionEnd]}):ca={value:ga.val},ua.trigger(Ve,ca)),ga._updateTooltip(ga.val)},_updateTooltip:function(pa){var ca=this,ga=ca.options,ua=ga.tooltip,ma="";ua.enabled&&(ca.tooltipDiv||ca._createTooltip(),ma=ca.owner._getFormattedValue(Te(pa),ca),ca.type||(ma+=ca.tooltipInnerDiv),ca.tooltipDiv.html(ma),ca.moveTooltip())},dragcancel:function(){return this.owner._refresh(),pe(document.documentElement).css("cursor",""),this._end()},dragend:function(){var pa=this,ca=pa.owner;return pe(document.documentElement).css("cursor",""),pa.type?ca._update(pa.selectionStart,pa.selectionEnd):ca._update(pa.val),pa._end()},_end:function(){var pa=this,ca=pa.owner;return ca._focusWithMouse({target:pa.dragHandle[0]}),ca.element.on(Qe),!1},_removeTooltip:function(pa){var ca=this,ga=ca.owner;ca.tooltipDiv&&ga.options.tooltip.enabled&&ga.options.enabled&&(pa?(ca.tooltipDiv.remove(),ca.tooltipDiv=null):ca.tooltipDiv.fadeOut("slow",function(){pe(this).remove(),ca.tooltipDiv=null}))},moveTooltip:function(){var ma=this,fa=ma.owner,ha=0,_a=0,xa=ma.dragHandle,ya=Fe.getOffset(xa),ba=8,va=pe(window),ka=ma.tooltipDiv.find(".k-callout"),wa=ma.tooltipDiv.outerWidth(),Ca=ma.tooltipDiv.outerHeight(),pa,ca,ga,ua;ma.type?(pa=fa.wrapper.find(Ze),ya=Fe.getOffset(pa.eq(0)),ca=Fe.getOffset(pa.eq(1)),fa._isHorizontal?(ha=ca.top,_a=ya.left+(ca.left-ya.left)/2):(ha=ya.top+(ca.top-ya.top)/2,_a=ca.left),ua=pa.eq(0).outerWidth()+2*ba):(ha=ya.top,_a=ya.left,ua=xa.outerWidth()+2*ba),fa._isHorizontal?(_a-=parseInt((wa-xa[fa._outerSize]())/2,10),ha-=Ca+ka.height()+ba):(ha-=parseInt((Ca-xa[fa._outerSize]())/2,10),_a-=wa+ka.width()+ba),fa._isHorizontal?(ga=ma._flip(ha,Ca,ua,va.outerHeight()+ma._scrollOffset.top),ha+=ga,_a+=ma._fit(_a,wa,va.outerWidth()+ma._scrollOffset.left)):(ga=ma._flip(_a,wa,ua,va.outerWidth()+ma._scrollOffset.left),ha+=ma._fit(ha,Ca,va.outerHeight()+ma._scrollOffset.top),_a+=ga),0<ga&&ka&&(ka.removeClass(),ka.addClass("k-callout k-callout-"+(fa._isHorizontal?"n":"w"))),ma.tooltipDiv.css({top:ha,left:_a})},_fit:function(pa,ca,ga){var ua=0;return pa+ca>ga&&(ua=ga-(pa+ca)),0>pa&&(ua=-pa),ua},_flip:function(pa,ca,ga,ua){var ma=0;return pa+ca>ua&&(ma+=-(ga+ca)),0>pa+ma&&(ma+=ga+ca),ma},constrainValue:function(pa,ca,ga,ua){var ma=this,fa=0;return fa=pa>ca&&ga>pa?ma.owner._getValueFromPosition(pa,ma.dragableArea):ua?ma.options.max:ma.options.min}},Fe.ui.plugin(da),De=sa.extend({init:function(pa,ca){var ua=this,ma=pe(pa).find("input"),fa=ma.eq(0)[0],ha=ma.eq(1)[0],ga;fa.type="text",ha.type="text",ca=Re({},{selectionStart:Se(fa,"value"),min:Se(fa,"min"),max:Se(fa,"max"),smallStep:Se(fa,"step")},{selectionEnd:Se(ha,"value"),min:Se(ha,"min"),max:Se(ha,"max"),smallStep:Se(ha,"step")},ca),ca&&ca.enabled===me&&(ca.enabled=!ma.is("[disabled]")),sa.fn.init.call(ua,pa,ca),ca=ua.options,Ae(ca.selectionStart)&&null!==ca.selectionStart||(ca.selectionStart=ca.min,ma.eq(0).val(ca.min)),Ae(ca.selectionEnd)&&null!==ca.selectionEnd||(ca.selectionEnd=ca.max,ma.eq(1).val(ca.max)),ga=ua.wrapper.find(Ze),new De.Selection(ga,ua,ca),ua._firstHandleDrag=new da.Drag(ga.eq(0),"firstHandle",ua,ca),ua._lastHandleDrag=new da.Drag(ga.eq(1),"lastHandle",ua,ca)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(pa){var ga=this,ua=ga.options,ca;ga.disable(),!1!==pa&&(ga.wrapper.removeClass(na).addClass(oa),ga.wrapper.find("input").removeAttr(ia),ca=function(ma){var ba=la(ma)[0],fa,ha,_a,xa,ya;if(ba){if(ha=ga._isHorizontal?ba.location.pageX:ba.location.pageY,_a=ga._getDraggableArea(),xa=ga._getValueFromPosition(ha,_a),ya=pe(ma.target),ya.hasClass("k-draghandle"))return ya.addClass(aa),me;ua.selectionStart>xa?(ga._setValueInRange(xa,ua.selectionEnd),ga._firstHandleDrag.dragstart(ma),fa=0):xa>ga.selectionEnd?(ga._setValueInRange(ua.selectionStart,xa),ga._lastHandleDrag.dragstart(ma),fa=1):xa-ua.selectionStart<=ua.selectionEnd-xa?(ga._setValueInRange(xa,ua.selectionEnd),ga._firstHandleDrag.dragstart(ma),fa=0):(ga._setValueInRange(ua.selectionStart,xa),ga._lastHandleDrag.dragstart(ma),fa=1),ga._focusWithMouse({target:ga.wrapper.find(Ze)[fa]})}},ga.wrapper.find(ta+", "+ea).on(je,ca).end().on(je,function(){pe(document.documentElement).one("selectstart",Fe.preventDefault)}).on(Ge,function(){ga._drag._end()}),ga.wrapper.find(Ze).attr(ra,0).on(qe,function(){ga._setTooltipTimeout()}).on(Xe,function(ma){ga._focusWithMouse(ma),ma.preventDefault()}).on($e,ze(ga._focus,ga)).on(Je,ze(ga._blur,ga)),ga.wrapper.find(Ze).off(Ke,Fe.preventDefault).eq(0).on(Ke,ze(function(ma){this._keydown(ma,"firstHandle")},ga)).end().eq(1).on(Ke,ze(function(ma){this._keydown(ma,"lastHandle")},ga)),ga.options.enabled=!0)},disable:function(){var pa=this;pa.wrapper.removeClass(oa).addClass(na),pa.wrapper.find("input").prop(ia,ia),pa.wrapper.find(ta+", "+ea).off(je).off(Ge),pa.wrapper.find(Ze).attr(ra,-1).off(qe).off(Ke).off(Xe).off($e).off(Je),pa.options.enabled=!1},_keydown:function(pa,ca){var fa=this,ha=fa.options.selectionStart,_a=fa.options.selectionEnd,ga,ua,ma;pa.keyCode in fa._keyMap&&(fa._clearTooltipTimeout(),"firstHandle"==ca?(ma=fa._activeHandleDrag=fa._firstHandleDrag,ha=fa._keyMap[pa.keyCode](ha),ha>_a&&(_a=ha)):(ma=fa._activeHandleDrag=fa._lastHandleDrag,_a=fa._keyMap[pa.keyCode](_a),ha>_a&&(ha=_a)),fa._setValueInRange(ha,_a),ga=Math.max(ha,fa.options.selectionStart),ua=Math.min(_a,fa.options.selectionEnd),ma.selectionEnd=Math.max(ua,fa.options.selectionStart),ma.selectionStart=Math.min(ga,fa.options.selectionEnd),ma._updateTooltip(fa.value()[fa._activeHandle]),pa.preventDefault())},_update:function(pa,ca){var ga=this,ua=ga.value(),ma=ua[0]!=pa||ua[1]!=ca;ga.value([pa,ca]),ma&&ga.trigger(Be,{values:[pa,ca],value:[pa,ca]})},value:function(pa){return pa&&pa.length?this._value(pa[0],pa[1]):this._value()},_value:function(pa,ca){var ga=this,ua=ga.options,ma=ua.selectionStart,fa=ua.selectionEnd;return isNaN(pa)&&isNaN(ca)?[ma,fa]:(pa=Te(pa),ca=Te(ca),pa>=ua.min&&ua.max>=pa&&ca>=ua.min&&ua.max>=ca&&ca>=pa&&(ma!=pa||fa!=ca)&&(ga.element.find("input").eq(0).prop("value",Ce(pa)).end().eq(1).prop("value",Ce(ca)),ua.selectionStart=pa,ua.selectionEnd=ca,ga._refresh(),ga._refreshAriaAttr(pa,ca)),me)},values:function(pa,ca){return Oe(pa)?this._value(pa[0],pa[1]):this._value(pa,ca)},_refresh:function(){var pa=this,ca=pa.options;pa.trigger(Ye,{values:[ca.selectionStart,ca.selectionEnd],value:[ca.selectionStart,ca.selectionEnd]}),ca.selectionStart==ca.max&&ca.selectionEnd==ca.max&&pa._setZIndex("firstHandle")},_refreshAriaAttr:function(pa,ca){var ua=this,ma=ua.wrapper.find(Ze),fa=ua._activeHandleDrag,ga;ga=ua._getFormattedValue([pa,ca],fa),ma.eq(0).attr("aria-valuenow",pa),ma.eq(1).attr("aria-valuenow",ca),ma.attr("aria-valuetext",ga)},_setValueInRange:function(pa,ca){var ga=this.options;pa=Me.max(Me.min(pa,ga.max),ga.min),ca=Me.max(Me.min(ca,ga.max),ga.min),pa==ga.max&&ca==ga.max&&this._setZIndex("firstHandle"),this._update(Me.min(pa,ca),Me.max(pa,ca))},_setZIndex:function(pa){this.wrapper.find(Ze).each(function(ca){pe(this).css("z-index","firstHandle"==pa?1-ca:ca)})},destroy:function(){var pa=this;Ie.fn.destroy.call(pa),pa.wrapper.off(We).find(ta+", "+ea).off(We).end().find(Ze).off(We),pa._firstHandleDrag.draggable.destroy(),pa._lastHandleDrag.draggable.destroy()}}),De.Selection=function(pa,ca,ga){function ua(fa){fa=fa||[];var ha=fa[0]-ga.min,_a=fa[1]-ga.min,xa=Me.ceil(Te(ha/ga.smallStep)),ya=Me.ceil(Te(_a/ga.smallStep)),ba=ca._pixelSteps[xa],va=ca._pixelSteps[ya],ka=parseInt(pa.eq(0)[ca._outerSize]()/2,10),wa=ca._isRtl?2:0;pa.eq(0).css(ca._position,ba-ka-wa).end().eq(1).css(ca._position,va-ka-wa),ma(ba,va)}function ma(fa,ha){var ya=ca._trackDiv.find(".k-slider-selection"),_a,xa;_a=Me.abs(fa-ha),ya[ca._size](_a),ca._isRtl?(xa=Me.max(fa,ha),ya.css("right",ca._maxSelection-xa-1)):(xa=Me.min(fa,ha),ya.css(ca._position,xa-1))}ua(ca.value()),ca.bind([Be,Ve,Ye],function(fa){ua(fa.values)})},Fe.ui.plugin(De)})(window.kendo.jQuery);;(function(pe,me,_e){function xe(Ye,Ke,Xe){Xe=ke(Xe),Xe&&!Xe.equals(Ye.color())&&("change"==Ke&&(Ye._value=Xe),Xe=1==Xe.a?Xe.toCss():Xe.toCssRgba(),Ye.trigger(Ke,{value:Xe}))}function ye(Ye,Ke,Xe){for(Xe||(Xe="0"),Ye=Ye.toString(16);Ke>Ye.length;)Ye="0"+Ye;return Ye}function be(Ye){return parseFloat((+Ye).toFixed(3))}function ke(Ye,Ke){if(null==Ye||"transparent"==Ye)return null;if(Ye instanceof We)return Ye;var Xe=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(Ye);if(Xe)return new je(me(Xe[1],16),me(Xe[2],16),me(Xe[3],16),1);if(Xe=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(Ye))return new je(me(Xe[1]+Xe[1],16),me(Xe[2]+Xe[2],16),me(Xe[3]+Xe[3],16),1);if(Xe=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(Ye))return new je(me(Xe[1],10),me(Xe[2],10),me(Xe[3],10),1);if(Xe=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(Ye))return new je(me(Xe[1],10),me(Xe[2],10),me(Xe[3],10),parseFloat(Xe[4]));if(Xe=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(Ye))return new Ue(parseFloat(Xe[1])/100,parseFloat(Xe[2])/100,parseFloat(Xe[3])/100,1);if(Xe=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(Ye))return new Ue(parseFloat(Xe[1])/100,parseFloat(Xe[2])/100,parseFloat(Xe[3])/100,parseFloat(Xe[4]));if(!Ke)throw Error("Cannot parse color: "+Ye);return _e}function we(Ye,Ke,Xe){var Qe,$e;return Ye=Array.prototype.slice.call(Ye),Qe=Ye.length,$e=Ye.indexOf(Ke),0>$e?0>Xe?Ye[Qe-1]:Ye[0]:($e+=Xe,0>$e?$e+=Qe:$e%=Qe,Ye[$e])}function Ce(Ye){Ye.preventDefault()}function Te(Ye,Ke){return function(){return Ye.apply(Ke,arguments)}}var Se=window.kendo,Ae=Se.Class,De=Se.ui,Fe=De.Widget,Ie=Se.keys,Pe="background-color",Re="k-state-selected",Ee={apply:"Apply",cancel:"Cancel"},He=".kendoColorTools",ze="click"+He,Oe="keydown"+He,Me=Se.support.browser,Ne=Me.msie&&9>Me.version,Le=Fe.extend({init:function(Ye,Ke){var Qe=this,Xe;Fe.fn.init.call(Qe,Ye,Ke),Ye=Qe.element,Ke=Qe.options,Qe._value=Ke.value=ke(Ke.value),Xe=Qe._ariaId=Ke.ariaId,Xe&&Ye.attr("aria-labelledby",Xe),Ke._standalone&&(Qe._triggerSelect=Qe._triggerChange)},options:{value:null,_standalone:!0},events:["change","select","cancel"],color:function(Ye){return Ye!==_e&&this._updateUI(this._value=ke(Ye)),this._value},value:function(Ye){return Ye=this.color(Ye),Ye&&(Ye=this.options.opacity?Ye.toCssRgba():Ye.toCss()),Ye||null},enable:function(Ye){0===arguments.length&&(Ye=!0),Ye?pe(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(Ye)},_select:function(Ye,Ke){var Xe=this._value;Ye=this.color(Ye),Ke||(Ye.equals(Xe)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(Ye){xe(this,"select",Ye)},_triggerChange:function(Ye){xe(this,"change",Ye)},destroy:function(){this.element&&this.element.off(He),this.wrapper&&this.wrapper.off(He).find("*").off(He),this.wrapper=null,Fe.fn.destroy.call(this)},_updateUI:pe.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),Be=Le.extend({init:function(Ye,Ke){var Ze=this,Xe,Qe,$e,Je;if(Le.fn.init.call(Ze,Ye,Ke),Ye=Ze.wrapper=Ze.element,Ke=Ze.options,Xe=Ke.palette,"websafe"==Xe?(Xe="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",Ke.columns=18):"basic"==Xe&&(Xe="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7"),"string"==typeof Xe&&(Xe=Xe.split(",")),pe.isArray(Xe)&&(Xe=pe.map(Xe,function(ea){return ke(ea)})),Ye.addClass("k-widget k-colorpalette").append(pe(Ze._template({colors:Xe,tileSize:Ke.tileSize,value:Ze._value,id:Ke.ariaId}))).on(ze,".k-item",function(ea){Ze._select(pe(ea.currentTarget).css(Pe))}).attr("tabIndex",0).on(Oe,Te(Ze._keydown,Ze)),Je=Ke.tileSize){if(/number|string/.test(typeof Je))Qe=$e=parseFloat(Je);else{if("object"!=typeof Je)throw Error("Unsupported value for the 'tileSize' argument");Qe=parseFloat(Je.width),$e=parseFloat(Je.height)}Ye.find(".k-item").css({width:Qe-2,height:$e-2})}Ke.columns&&Ye.css("width",Ke.columns*(Qe||14))},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(Ye){Ye?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(Ye){var Qe=this,$e=Qe.wrapper,Je=$e.find(".k-item"),Ze=Je.filter("."+Re).get(0),ea=Ye.keyCode,Ke,Xe;if(ea==Ie.LEFT?Ke=we(Je,Ze,-1):ea==Ie.RIGHT?Ke=we(Je,Ze,1):ea==Ie.DOWN?Ke=we(Je,Ze,Qe.options.columns):ea==Ie.UP?Ke=we(Je,Ze,-Qe.options.columns):ea==Ie.ENTER?(Ce(Ye),Ze&&this._select(pe(Ze).css(Pe))):ea==Ie.ESC&&this._cancel(),Ke){Ce(Ye),Ke=pe(Ke),pe(Ze).removeClass(Re).removeAttr("aria-selected"),Ke.addClass(Re).attr("aria-selected",!0);try{Xe=ke(Ke.css(Pe)),Qe._triggerSelect(Xe)}catch(ta){}}},_updateUI:function(Ye){var Ke=this,Xe=null;Ke.wrapper.find(".k-item."+Re).removeClass(Re).removeAttr("aria-selected"),Ke.wrapper.find(".k-item").each(function(){var Qe=ke(pe(this).css(Pe));Qe&&Qe.equals(Ye)&&(Xe=this)}),pe(Xe).addClass(Re).attr("aria-selected",!0)},_template:Se.template("<ul class=\"k-palette k-reset\"># for (var i = 0; i < colors.length; i++) { #<li unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\" #=(id && i === 0) ? \"id=\\\"\"+id+\"\\\" aria-selected=\\\"true\\\"\" : \"\" # class=\"k-item #= colors[i].equals(value) ? \""+Re+"\" : \"\" #\" aria-label=\"#= colors[i].toCss() #\"></li># } #</ul>")}),Ve=Le.extend({init:function(Ye,Ke){var Xe=this;Le.fn.init.call(Xe,Ye,Ke),Ke=Xe.options,Ye=Xe.element,Xe.wrapper=Ye.addClass("k-widget k-flatcolorpicker").append(Xe._template(Ke)),Xe._hueElements=pe(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",Ye),Xe._selectedColor=pe(".k-selected-color-display",Ye),Xe._colorAsText=pe("input.k-color-value",Ye),Xe._sliders(),Xe._hsvArea(),Xe._updateUI(Xe._value||new Ue(1,0,0,1)),Ye.find("input.k-color-value").on(Oe,function(Qe){var $e,Je;if(Qe.keyCode==Ie.ENTER)try{$e=ke(this.value),Je=Xe.color(),Xe._select($e,$e.equals(Je))}catch(Ze){pe(this).addClass("k-state-error")}}).end().on(ze,".k-controls button.apply",function(){Xe._select(Xe._getHSV())}).on(ze,".k-controls button.cancel",function(){Xe._updateUI(Xe.color()),Xe._cancel()}),Ne&&Xe._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,Le.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,messages:Ee},_applyIEFilter:function(){var Ye=this.element.find(".k-hue-slider .k-slider-track")[0],Ke=Ye.currentStyle.backgroundImage;Ke=Ke.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),Ye.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+Ke+"', sizingMethod='scale')"},_sliders:function(){function Ye($e){Xe._updateUI(Xe._getHSV($e.value,null,null,null))}function Ke($e){Xe._updateUI(Xe._getHSV(null,null,null,$e.value/100))}var Xe=this,Qe=Xe.element;Xe._hueSlider=Qe.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:Ye,change:Ye}).data("kendoSlider"),Xe._opacitySlider=Qe.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:Ke,change:Ke}).data("kendoSlider")},_hsvArea:function(){function Ye(Je,Ze){var ea=this.offset,ta=Je-ea.left,aa=Ze-ea.top,oa=this.width,na=this.height;ta=0>ta?0:ta>oa?oa:ta,aa=0>aa?0:aa>na?na:aa,Ke._svChange(ta/oa,1-aa/na)}var Ke=this,Xe=Ke.element,Qe=Xe.find(".k-hsv-rectangle"),$e=Qe.find(".k-draghandle").attr("tabIndex",0).on(Oe,Te(Ke._keydown,Ke));Ke._hsvEvents=new Se.UserEvents(Qe,{global:!0,press:function(Je){this.offset=Se.getOffset(Qe),this.width=Qe.width(),this.height=Qe.height(),$e.focus(),Ye.call(this,Je.x.location,Je.y.location)},start:function(){Qe.addClass("k-dragging"),$e.focus()},move:function(Je){Je.preventDefault(),Ye.call(this,Je.x.location,Je.y.location)},end:function(){Qe.removeClass("k-dragging")}}),Ke._hsvRect=Qe,Ke._hsvHandle=$e},_onEnable:function(Ye){this._hueSlider.enable(Ye),this._opacitySlider&&this._opacitySlider.enable(Ye),this.wrapper.find("input").attr("disabled",!Ye);var Ke=this._hsvRect.find(".k-draghandle");Ye?Ke.attr("tabIndex",0):Ke.removeAttr("tabIndex")},_keydown:function(Ye){function Ke($e,Je){var Ze=Qe._getHSV();Ze[$e]+=Je*(Ye.shiftKey?0.01:0.05),0>Ze[$e]&&(Ze[$e]=0),1<Ze[$e]&&(Ze[$e]=1),Qe._updateUI(Ze),Ce(Ye)}function Xe($e){var Je=Qe._getHSV();Je.h+=$e*(Ye.shiftKey?1:5),0>Je.h&&(Je.h=0),359<Je.h&&(Je.h=359),Qe._updateUI(Je),Ce(Ye)}var Qe=this;switch(Ye.keyCode){case Ie.LEFT:Ye.ctrlKey?Xe(-1):Ke("s",-1);break;case Ie.RIGHT:Ye.ctrlKey?Xe(1):Ke("s",1);break;case Ie.UP:Ke(Ye.ctrlKey&&Qe._opacitySlider?"a":"v",1);break;case Ie.DOWN:Ke(Ye.ctrlKey&&Qe._opacitySlider?"a":"v",-1);break;case Ie.ENTER:Qe._select(Qe._getHSV());break;case Ie.F2:Qe.wrapper.find("input.k-color-value").focus().select();break;case Ie.ESC:Qe._cancel();}},focus:function(){this._hsvHandle.focus()},_getHSV:function(Ye,Ke,Xe,Qe){var $e=this._hsvRect,Je=$e.width(),Ze=$e.height(),ea=this._hsvHandle.position();return null==Ye&&(Ye=this._hueSlider.value()),null==Ke&&(Ke=ea.left/Je),null==Xe&&(Xe=1-ea.top/Ze),null==Qe&&(Qe=this._opacitySlider?this._opacitySlider.value()/100:1),new qe(Ye,Ke,Xe,Qe)},_svChange:function(Ye,Ke){var Xe=this._getHSV(null,Ye,Ke,null);this._updateUI(Xe)},_updateUI:function(Ye){var Ke=this,Xe=Ke._hsvRect;Ye&&(this._colorAsText.removeClass("k-state-error"),Ke._selectedColor.css(Pe,Ye.toDisplay()),Ke._colorAsText.val(Ke._opacitySlider?Ye.toCssRgba():Ye.toCss()),Ke._triggerSelect(Ye),Ye=Ye.toHSV(),Ke._hsvHandle.css({left:Ye.s*Xe.width()+"px",top:(1-Ye.v)*Xe.height()+"px"}),Ke._hueElements.css(Pe,new qe(Ye.h,1,1,1).toCss()),Ke._hueSlider.value(Ye.h),Ke._opacitySlider&&Ke._opacitySlider.value(100*Ye.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:Se.template("# if (preview) { #<div class=\"k-selected-color\"><div class=\"k-selected-color-display\"><input class=\"k-color-value\" #= !data.input ? 'style=\"visibility: hidden;\"' : \"\" #></div></div># } #<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div class=\"k-draghandle\"></div></div><input class=\"k-hue-slider\" /># if (opacity) { #<input class=\"k-transparency-slider\" /># } ## if (buttons) { #<div unselectable=\"on\" class=\"k-controls\"><button class=\"k-button apply\">#: messages.apply #</button> <button class=\"k-button cancel\">#: messages.cancel #</button></div># } #")}),We=Ae.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var Ye=this.toBytes();return"rgba("+Ye.r+", "+Ye.g+", "+Ye.b+", "+be(this.a)+")"},toDisplay:function(){return Ne?this.toCss():this.toCssRgba()},equals:function(Ye){return Ye===this||null!==Ye&&this.toCssRgba()==ke(Ye).toCssRgba()},diff:function(Ye){if(null==Ye)return 0/0;var Ke=this.toBytes();return Ye=Ye.toBytes(),Math.sqrt(Math.pow(0.3*(Ke.r-Ye.r),2)+Math.pow(0.59*(Ke.g-Ye.g),2)+Math.pow(0.11*(Ke.b-Ye.b),2))},clone:function(){var Ye=this.toBytes();return Ye===this&&(Ye=new je(Ye.r,Ye.g,Ye.b,Ye.a)),Ye}}),Ue=We.extend({init:function(Ye,Ke,Xe,Qe){this.r=Ye,this.g=Ke,this.b=Xe,this.a=Qe},toHSV:function(){var Xe=this.r,Qe=this.g,$e=this.b,Je=Math.min(Xe,Qe,$e),Ze=Math.max(Xe,Qe,$e),ea=Ze,ta=Ze-Je,Ye,Ke;return 0==ta?new qe(0,0,ea,this.a):(0===Ze?(Ke=0,Ye=-1):(Ke=ta/Ze,Ye=Xe==Ze?(Qe-$e)/ta:Qe==Ze?2+($e-Xe)/ta:4+(Xe-Qe)/ta,Ye*=60,0>Ye&&(Ye+=360)),new qe(Ye,Ke,ea,this.a))},toBytes:function(){return new je(255*this.r,255*this.g,255*this.b,this.a)}}),je=Ue.extend({init:function(Ye,Ke,Xe,Qe){this.r=Math.round(Ye),this.g=Math.round(Ke),this.b=Math.round(Xe),this.a=Qe},toRGB:function(){return new Ue(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return ye(this.r,2)+ye(this.g,2)+ye(this.b,2)},toBytes:function(){return this}}),qe=We.extend({init:function(Ye,Ke,Xe,Qe){this.h=Ye,this.s=Ke,this.v=Xe,this.a=Qe},toRGB:function(){var ta=this.h,aa=this.s,oa=this.v,Ye,Ke,Xe,Qe,$e,Je,Ze,ea;if(0===aa)Ke=Xe=Qe=oa;else switch(ta/=60,Ye=Math.floor(ta),$e=ta-Ye,Je=oa*(1-aa),Ze=oa*(1-aa*$e),ea=oa*(1-aa*(1-$e)),Ye){case 0:Ke=oa,Xe=ea,Qe=Je;break;case 1:Ke=Ze,Xe=oa,Qe=Je;break;case 2:Ke=Je,Xe=oa,Qe=ea;break;case 3:Ke=Je,Xe=Ze,Qe=oa;break;case 4:Ke=ea,Xe=Je,Qe=oa;break;default:Ke=oa,Xe=Je,Qe=Ze;}return new Ue(Ke,Xe,Qe,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),Ge=Fe.extend({init:function(Ye,Ke){var Je=this,Xe,Qe,$e;Fe.fn.init.call(Je,Ye,Ke),Ke=Je.options,Ye=Je.element,Xe=Ye.val()?ke(Ye.val(),!0):ke(Ke.value,!0),Je._value=Ke.value=Xe,Qe=Je.wrapper=pe(Je._template(Ke)),Ye.hide().after(Qe),Ye.is("input")&&Ye.appendTo(Qe),Je.enable(!Ye.attr("disabled")),$e=Ye.attr("accesskey"),$e&&(Ye.attr("accesskey",null),Qe.attr("accesskey",$e)),Je.bind("activate",function(Ze){Ze.isDefaultPrevented()||Je.toggle()}),Je._updateUI(Xe)},destroy:function(){this.wrapper.add("*").off(He),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,Fe.fn.destroy.call(this)},enable:function(Ye){var Ke=this,Xe=Ke.wrapper,Qe=Xe.children(".k-picker-wrap"),$e=Qe.find(".k-select");0===arguments.length&&(Ye=!0),Ke.element.attr("disabled",!Ye),Xe.attr("disabled",!Ye),$e.off(He).on("mousedown"+He,Ce),Ye?Xe.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+He,function(){Qe.addClass("k-state-hover")}).on("mouseleave"+He,function(){Qe.removeClass("k-state-hover")}).on("focus"+He,function(){Qe.addClass("k-state-focused")}).on("blur"+He,function(){Qe.removeClass("k-state-focused")}).on(Oe,Te(Ke._keydown,Ke)).on(ze,".k-icon",Te(Ke.toggle,Ke)).on(ze,Ke.options.toolIcon?".k-tool-icon":".k-selected-color",function(){Ke.trigger("activate")}):Xe.addClass("k-state-disabled").removeAttr("tabIndex").add("*",Xe).off(He)},_template:Se.template("<span class=\"k-widget k-colorpicker k-header\"><span class=\"k-picker-wrap k-state-default\"># if (toolIcon) { #<span class=\"k-tool-icon #= toolIcon #\"><span class=\"k-selected-color\"></span></span># } else { #<span class=\"k-selected-color\"></span># } #<span class=\"k-select\" unselectable=\"on\"><span class=\"k-icon k-i-arrow-s\" unselectable=\"on\"></span></span></span></span>"),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:Ee,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:Le.fn.color,value:Le.fn.value,_select:Le.fn._select,_triggerSelect:Le.fn._triggerSelect,_isInputTypeColor:function(){var Ye=this.element[0];return /^input$/i.test(Ye.tagName)&&/^color$/i.test(Ye.type)},_updateUI:function(Ye){Ye&&(this._isInputTypeColor()||1==Ye.a?this.element.val(Ye.toCss()):this.element.val(Ye.toCssRgba())),this._triggerSelect(Ye),this.wrapper.find(".k-selected-color").css(Pe,Ye?Ye.toDisplay():"transparent")},_keydown:function(Ye){var Ke=Ye.keyCode;this._getPopup().visible()?(Ke==Ie.ESC?this._selector._cancel():this._selector._keydown(Ye),Ce(Ye)):(Ke==Ie.ENTER||Ke==Ie.DOWN)&&(this.open(),Ce(Ye))},_getPopup:function(){var Qe=this,$e=Qe._popup,Ye,Ke,Xe;return $e||(Ye=this.options,Ke=Ye.palette?Be:Ve,Ye._standalone=!1,Xe=this._selector=new Ke(pe("<div />").appendTo(document.body),Ye),Qe._popup=$e=Xe.wrapper.kendoPopup({anchor:Qe.wrapper}).data("kendoPopup"),Xe.bind({select:function(Je){Qe._updateUI(ke(Je.value))},change:function(){Qe._select(Xe.color()),Qe.close()},cancel:function(){Qe.close()}}),$e.bind({close:function(Je){if(Qe.trigger("close"))return Je.preventDefault(),_e;var Ze=Xe._selectOnHide();Ze?Qe._select(Ze):(Qe.wrapper.focus(),Qe._updateUI(Qe.color()))},open:function(Je){Qe.trigger("open")&&Je.preventDefault()},activate:function(){Xe._select(Qe.color(),!0),Xe.focus()}})),$e}});De.plugin(Be),De.plugin(Ve),De.plugin(Ge),Se.parseColor=ke,Se.Color={fromBytes:function(Ye,Ke,Xe,Qe){return new je(Ye,Ke,Xe,null==Qe?1:Qe)},fromRGB:function(Ye,Ke,Xe,Qe){return new Ue(Ye,Ke,Xe,null==Qe?1:Qe)},fromHSV:function(Ye,Ke,Xe,Qe){return new qe(Ye,Ke,Xe,null==Qe?1:Qe)}}})(jQuery,parseInt);;(function(pe,me){var ye=window.kendo,be=ye.Class,ke=ye.ui.Widget,we=ye.support.mobileOS,Ce=ye.support.browser,Te=pe.extend,Se=ye.deepExtend,Ae=".kendoEditor",De=ye.keys,Fe=be.extend({init:function(Le){this.options=Le},getHtml:function(){var Le=this.options;return ye.template(Le.template)({cssClass:Le.cssClass,tooltip:Le.title,initialValue:Le.initialValue})}}),Ie={select:function(Le){Le.trigger("select",{})},editorWrapperTemplate:"<table cellspacing=\"4\" cellpadding=\"0\" class=\"k-widget k-editor k-header\" role=\"presentation\"><tbody><tr role=\"presentation\"><td class=\"k-editor-toolbar-wrap\" role=\"presentation\"><ul class=\"k-editor-toolbar\" role=\"toolbar\"></ul></td></tr><tr><td class=\"k-editable-area\"></td></tr></tbody></table>",buttonTemplate:"<li class=\"k-editor-button\" role=\"presentation\"><a href=\"\" role=\"button\" class=\"k-tool-icon #= cssClass #\" unselectable=\"on\" title=\"#= tooltip #\">#= tooltip #</a></li>",colorPickerTemplate:"<li class=\"k-editor-colorpicker\" role=\"presentation\"><div class=\"k-colorpicker #= cssClass #\"></div></li>",comboBoxTemplate:"<li class=\"k-editor-combobox\"><select title=\"#= tooltip #\" class=\"#= cssClass #\"></select></li>",dropDownListTemplate:"<li class=\"k-editor-selectbox\"><select title=\"#= tooltip #\" class=\"#= cssClass #\"></select></li>",separatorTemplate:"<li class=\"k-separator\"></li>",focusable:".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",wrapTextarea:function(Le){var Be=Le[0].style.width,Ve=Le[0].style.height,We=Ie.editorWrapperTemplate,Ue=pe(We).insertBefore(Le).width(Be).height(Ve),je=Ue.find(".k-editable-area");return Le.appendTo(je).addClass("k-content k-raw-content").hide(),Le.closest(".k-editor")},renderTools:function(Le,Be){var Ge={},Ye=Le._nativeTools,Ke=pe(Le.element).closest(".k-editor").find(".k-editor-toolbar"),Ve,We,Ue,je,qe;if(Be)for(Ue=0;Be.length>Ue;Ue++)Ve=Be[Ue],qe=null,pe.isPlainObject(Ve)?Ve.name&&Le.tools[Ve.name]?(pe.extend(Le.tools[Ve.name].options,Ve),Ge[Ve.name]=Le.tools[Ve.name],qe=Ge[Ve.name].options):(qe=Te({cssClass:"k-i-custom",type:"button",tooltip:""},Ve),qe.name&&(qe.cssClass="k-"+("custom"==qe.name?"i-custom":qe.name)),qe.template||"button"==qe.type&&(qe.template=Ie.buttonTemplate)):Le.tools[Ve]&&(Ge[Ve]=Le.tools[Ve],qe=Ge[Ve].options),qe&&(je=qe.template,je&&(je.getHtml?je=je.getHtml():(pe.isFunction(je)||(je=ye.template(je)),je=je(qe)),0!==je.indexOf("<li")&&(je="<li class='k-editor-template'>"+je+"</li>"),We=pe(je).appendTo(Ke),"button"==qe.type&&qe.exec&&We.find(".k-tool-icon").click(pe.proxy(qe.exec,Le.element[0]))));for(Ue=0;Ye.length>Ue;Ue++)Ge[Ye[Ue]]||(Ge[Ye[Ue]]=Le.tools[Ye[Ue]]);Le.options.tools=Ge},decorateStyleToolItems:function(Le){var Ve=Le.data.closest(".k-editor").find(".k-style").data("kendoSelectBox"),Be;Ve&&(Be=Ve.dataSource.view(),Ve.list.find(".k-item").each(function(We,Ue){var je=pe(Ue),qe=je.text(),Ge=ye.ui.editor.Dom.inlineStyle(Le.data.data("kendoEditor").document,"span",{className:Be[We].value});je.html("<span unselectable=\"on\" style=\"display:block;"+Ge+"\">"+qe+"</span>")}))},createContentElement:function(Le,Be){var je=ye.support.isRtl(Le)?"direction:rtl;":"",Ve,We,Ue;return Le.hide(),Ve=pe("<iframe />",{src:"javascript:\"\"",frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(Le)[0],We=Ve.contentWindow||Ve,0<Be.length&&pe(Ve).one("load",Le,Ie.decorateStyleToolItems),Ue=We.document||Ve.contentDocument,Ue.open(),Ue.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:13px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+je+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}</style>"+pe.map(Be,function(qe){return"<link rel='stylesheet' href='"+qe+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),Ue.close(),We},initializeContentElement:function(Le){var Be=!0;Le.window=Ie.createContentElement(pe(Le.textarea),Le.options.stylesheets),Le.document=Le.window.contentDocument||Le.window.document,Le.body=Le.document.body,pe(Le.document).on("keydown"+Ae,function(Ve){var We,Ue,je,qe,Ge;return Ve.keyCode===De.F10?(setTimeout(function(){var Ye="tabIndex",Ke=Le.wrapper,Xe=Ke.attr(Ye);Ke.attr(Ye,Xe||0).focus().find("li:has("+Re+")").first().focus(),Xe||0===Xe||Ke.removeAttr(Ye)},100),Ve.preventDefault(),me):(Ve.keyCode===De.BACKSPACE&&(We=Le.getRange(),je=ye.support.browser.msie?"":"<br _moz_dirty=\"\" />",qe=ye.ui.editor.Dom,We.deleteContents(),Ue=We.commonAncestorContainer,"p"===qe.name(Ue)&&""===Ue.innerHTML&&(Ue.innerHTML=je,We.setStart(Ue,0),We.collapse(!0),Le.selectRange(We))),(Ge=Le.keyboard.toolFromShortcut(Le.options.tools,Ve))?(Ve.preventDefault(),/undo|redo/.test(Ge)||Le.keyboard.endTyping(!0),Le.trigger("keydown",Ve),Le.exec(Ge),!1):(Le.keyboard.isTypingKey(Ve)&&Le.pendingFormats.hasPending()&&(Be?Be=!1:(We=Le.getRange(),Le.pendingFormats.apply(We),Le.selectRange(We))),Le.keyboard.clearTimeout(),Le.keyboard.keydown(Ve),me))}).on("keyup"+Ae,function(Ve){var We;(-1<pe.inArray(Ve.keyCode,[8,9,33,34,35,36,37,38,39,40,40,45,46])||65==Ve.keyCode&&Ve.ctrlKey&&!Ve.altKey&&!Ve.shiftKey)&&(Le.pendingFormats.clear(),Pe(Le)),Le.keyboard.isTypingKey(Ve)?Le.pendingFormats.hasPending()&&(We=Le.getRange(),Le.pendingFormats.apply(We),Le.selectRange(We)):Be=!0,Le.keyboard.keyup(Ve)}).on("mousedown"+Ae,function(Ve){Le.pendingFormats.clear();var We=pe(Ve.target);!Ce.gecko&&2==Ve.which&&We.is("a[href]")&&window.open(We.attr("href"),"_new")}).on("mouseup"+Ae,function(){Pe(Le)}).on("click"+Ae,function(Ve){var Ue=ye.ui.editor.Dom,We;"img"===Ue.name(Ve.target)&&(We=Le.createRange(),We.selectNode(Ve.target),Le.selectRange(We))}),pe(Le.window).on("blur"+Ae,function(){var Ve=Le.textarea.value,We=Le.encodedValue();Le.update(),We!=Ve&&Le.trigger("change")}),pe(Le.body).on("cut"+Ae+" paste"+Ae,function(Ve){Le.clipboard["on"+Ve.type](Ve)})},formatByName:function(Le,Be){for(var Ve=0;Be.length>Ve;Ve++)if(0<=pe.inArray(Le,Be[Ve].tags))return Be[Ve]},registerTool:function(Le,Be){var Ve=Be.options;Ve&&Ve.template&&(Ve.template.options.cssClass="k-"+Le),Ne.defaultTools[Le]=Be},registerFormat:function(Le,Be){Ne.fn.options.formats[Le]=Be},createDialog:function(Le,Be,Ve){var We=ye.support.isRtl(Be.wrapper),Ue=pe(Le).appendTo(document.body).kendoWindow(Ve);return We&&Ue.closest(".k-window").addClass("k-rtl"),Ue}},Pe=Ie.select,Re=Ie.focusable,Ee=Ie.wrapTextarea,He=Ie.renderTools,ze=Ie.initializeContentElement,Oe={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:"The selected file \"{0}\" is not valid. Supported file types are {1}.",deleteFile:"Are you sure you want to delete \"{0}\"?",overwriteFile:"A file with name \"{0}\" already exists in the current directory. Do you want to overwrite it?",directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel"},Me=!we||we.ios&&500<=we.flatVersion||!we.ios&&document.documentElement.contentEditable!==me,Ne=ke.extend({init:function(Le,Be){function Ve(Je){var Ze=pe.grep(Je.className.split(" "),function(ea){return!/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(ea)});return Ze[0]?Ze[0].substring(Ze[0].lastIndexOf("-")+1):"custom"}function We(Je,Ze){if(!Ze.key)return Je;var ea=Je+" (";return Ze.ctrl&&(ea+="Ctrl + "),Ze.shift&&(ea+="Shift + "),Ze.alt&&(ea+="Alt + "),ea+=Ze.key+")"}var Ue,je,qe,Ge,Ye,Ke,Xe,Qe,$e;if(Me){for(Ye in qe=this,Ge=ye.ui.editor,ke.fn.init.call(qe,Le,Be),qe.tools=Se({},ye.ui.Editor.defaultTools),qe.options=Se({},qe.options,Be),Le=pe(Le),Le.closest("form").on("submit"+Ae,function(){qe.update()}),qe.tools)qe.tools[Ye].name=Ye.toLowerCase();qe.textarea=Le.attr("autocomplete","off")[0],Ue=qe.wrapper=Ee(Le),qe.textarea.id&&Ue.find(".k-editor-toolbar").attr("aria-controls",qe.textarea.id),He(qe,qe.options.tools),ze(qe),qe.keyboard=new Ge.Keyboard([new Ge.TypingHandler(qe),new Ge.SystemHandler(qe)]),qe.clipboard=new Ge.Clipboard(this),qe.pendingFormats=new Ge.PendingFormats(this),qe.undoRedoStack=new Ge.UndoRedoStack,je=Be&&Be.value?Be.value:Le.val().replace(/[\r\n\v\f\t ]+/gi," "),qe.value(je),Ke=".k-editor-toolbar > li > *, .k-editor-toolbar > li select",Xe=".k-editor-button .k-tool-icon",Qe=Xe+":not(.k-state-disabled)",$e=Xe+".k-state-disabled",Ue.find(".k-combobox .k-input").keydown(function(Je){var Ze=pe(this).closest(".k-combobox").data("kendoComboBox"),ea=Je.keyCode;ea==De.RIGHT||ea==De.LEFT?Ze.close():ea==De.DOWN&&(Ze.dropDown.isOpened()||(Je.stopImmediatePropagation(),Ze.open()))}),Ue.on("mouseenter"+Ae,Qe,function(){pe(this).addClass("k-state-hover")}).on("mouseleave"+Ae,Qe,function(){pe(this).removeClass("k-state-hover")}).on("mousedown"+Ae,Xe,!1).on("keydown"+Ae,Re,function(Je){var ea=pe(this).closest("li"),ta="li:has("+Re+")",aa=Je.keyCode,Ze;if(aa==De.RIGHT)Ze=ea.nextAll(ta).first().find(Re);else if(aa==De.LEFT)Ze=ea.prevAll(ta).first().find(Re);else if(aa==De.ESC)Ze=qe;else if(aa==De.TAB&&!Je.ctrlKey&&!Je.altKey)if(Je.shiftKey){if(Ze=ea.prevAll(ta).first().find(Re),!Ze.length)return;Je.preventDefault()}else Je.preventDefault(),Ze=ea.nextAll(ta).first().find(Re),Ze.length||(Ze=qe);Ze&&Ze.focus()}).on("click"+Ae,Qe,function(Je){Je.preventDefault(),Je.stopPropagation(),pe(this).removeClass("k-state-hover"),qe.exec(Ve(this))}).on("click"+Ae,$e,function(Je){Je.preventDefault()}).find(Ke).each(function(){var Ze=Ve(this),ea=qe.options,ta=ea.tools[Ze],aa=ea.messages[Ze],oa=pe(this),Je;ta&&(("fontSize"==Ze||"fontName"==Ze)&&(Je=ea.messages[Ze+"Inherit"]||Oe[Ze+"Inherit"],oa.find("input").val(Je).end().find("span.k-input").text(Je).end()),ta.initialize(oa,{title:We(aa,ta),editor:qe}))}),qe.bind("select",function(){var Je=qe.getRange(),Ze=Ge.RangeUtils.textNodes(Je);Ze.length||(Ze=[Je.startContainer]),Ue.find(Ke).each(function(){var ea=qe.options.tools[Ve(this)];ea&&ea.update(pe(this),Ze,qe.pendingFormats)})}),qe._DOMNodeInsertedHandler=function(Je){qe._DOMNodeInserted(Je)},qe._endTypingHandler=function(){qe._endTyping()},pe(document).on("DOMNodeInserted",qe._DOMNodeInsertedHandler).on("mousedown",qe._endTypingHandler),ye.notify(qe)}},_endTyping:function(){var Le=this;try{Le.keyboard.isTypingInProgress()&&Le.keyboard.endTyping(!0),Le.selectionRestorePoint||(Le.selectionRestorePoint=new ye.ui.editor.RestorePoint(Le.getRange()))}catch(Be){}},_DOMNodeInserted:function(Le){var Be=this.wrapper;(pe.contains(Le.target,Be[0])||Be[0]==Le.target)&&this.refresh()},refresh:function(){var Le=this;Le.textarea.value=Le.value(),Le.wrapper.find("iframe").remove(),ze(Le),Le.value(Le.textarea.value)},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:Oe,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:["bold","italic","underline","strikethrough","fontName","fontSize","foreColor","backColor","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","indent","outdent","formatBlock","createLink","unlink","insertImage"]},destroy:function(){var Le=this;ke.fn.destroy.call(Le),pe(Le.window).add(Le.document).add(Le.wrapper).add(Le.element.closest("form")).off(Ae),pe(document).off("DOMNodeInserted",Le._DOMNodeInsertedHandler).off("mousedown",Le._endTypingHandler),ye.destroy(Le.wrapper)},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","insertHtml"],tools:{},value:function(Le){var Ue=this.body,je=ye.ui.editor.Dom,qe=ye.ui.editor.Serializer.domToXhtml(Ue),Be,Ve,We;return Le===me?qe:(Le!=qe&&(this.pendingFormats.clear(),Be=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,Le=(Le||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(Ge){return Ge.replace(Be,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1"),Ce.msie||(Le=Le.replace(/<p([^>]*)>(\s*)?<\/p>/gi,"<p $1><br _moz_dirty=\"\" /></p>")),Ce.msie&&9>Ce.version?(Le="<br/>"+Le,Ve="originalsrc",We="originalhref",Le=Le.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,We+"=\"$1\""),Le=Le.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,Ve+"=\"$1\""),Ue.innerHTML=Le,je.remove(Ue.firstChild),pe(Ue).find("telerik\\:script,script,link,img,a").each(function(){var Ge=this;Ge[We]&&(Ge.setAttribute("href",Ge[We]),Ge.removeAttribute(We)),Ge[Ve]&&(Ge.setAttribute("src",Ge[Ve]),Ge.removeAttribute(Ve))})):(Ue.innerHTML=Le,Ce.msie&&(je.normalize(Ue),setTimeout(function(){var Xe=Ue.getElementsByTagName("ol"),Ge,Ye,Ke;for(Ge=0;Xe.length>Ge;Ge++)Ye=Xe[Ge],Ke=Ye.getAttribute("start"),Ye.setAttribute("start",1),Ke?Ye.setAttribute("start",Ke):Ye.removeAttribute(Ke)},1))),this.selectionRestorePoint=null,this.update()),me)},focus:function(){this.window.focus()},update:function(Le){this.textarea.value=Le||this.options.encoded?this.encodedValue():this.value()},encodedValue:function(){return ye.ui.editor.Dom.encode(this.value())},createRange:function(Le){return ye.ui.editor.RangeUtils.createRange(Le||this.document)},getSelection:function(){return ye.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(Le){this.focus();var Be=this.getSelection();Be.removeAllRanges(),Be.addRange(Le)},getRange:function(){var Le=this.getSelection(),Be=0<Le.rangeCount?Le.getRangeAt(0):this.createRange(),Ve=this.document;return Be.startContainer!=Ve||Be.endContainer!=Ve||Be.startOffset||Be.endOffset||(Be.setStart(this.body,0),Be.collapse(!0)),Be},selectedHtml:function(){return ye.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(Le){this.clipboard.paste(Le)},exec:function(Le,Be){var Ge=this,Ye="",Ve,We,Ue,je,qe;for(Ue in Le=Le.toLowerCase(),Ge.keyboard.isTypingInProgress()||(Ge.focus(),Ve=Ge.getRange(),We=Ge.document.body),Ge.options.tools)if(Ue.toLowerCase()==Le){Ye=Ge.options.tools[Ue];break}if(Ye){if(Ve=Ge.getRange(),!/undo|redo/i.test(Le)&&Ye.willDelayExecution(Ve))return je=pe.extend({},Ye),pe.extend(je.options,{params:Be}),Ge.pendingFormats.toggle(je),Pe(Ge),me;if(qe=Ye.command?Ye.command(Te({range:Ve},Be)):null,Ge.trigger("execute",{name:Le,command:qe}),/undo|redo/i.test(Le))Ge.undoRedoStack[Le]();else if(qe&&(qe.managesUndoRedo||Ge.undoRedoStack.push(qe),qe.editor=Ge,qe.exec(),qe.async))return qe.change=pe.proxy(function(){Pe(Ge)},Ge),me;Pe(Ge)}}}),_e,xe;Ne.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},ye.ui.plugin(Ne),_e=be.extend({init:function(Le){this.options=Le},initialize:function(Le,Be){Le.attr({unselectable:"on",title:Be.title})},command:function(Le){return new this.options.command(Le)},update:function(){},willDelayExecution:function(){return!1}}),_e.exec=function(Le,Be,Ve){Le.exec(Be,{value:Ve})},xe=_e.extend({init:function(Le){_e.fn.init.call(this,Le)},command:function(Le){var Be=this;return new ye.ui.editor.FormatCommand(Te(Le,{formatter:Be.options.formatter}))},update:function(Le,Be,Ve){var We=Ve.isPending(this.name),Ue=this.options.finder.isFormatted(Be),je=We?!Ue:Ue;Le.toggleClass("k-state-active",je),Le.attr("aria-pressed",je)}}),Ie.registerTool("separator",new _e({template:new Fe({template:Ie.separatorTemplate})})),Te(ye.ui,{editor:{ToolTemplate:Fe,EditorUtils:Ie,Tool:_e,FormatTool:xe}})})(window.jQuery),function(pe){function me(qe){var Ke={},Ge,Ye;for(Ge=0,Ye=qe.length;Ye>Ge;Ge++)Ke[qe[Ge]]=!0;return Ke}var De=window.kendo,Fe=pe.map,Ie=pe.extend,Pe=De.support.browser,Re="style",Ee="float",He="cssFloat",ze="styleFloat",Oe="class",Me="k-marker",Ne=me("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),Le="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul".split(","),Be=me(Le),Ve="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var".split(","),We=me(Ve),Ue=me("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),je=function(qe){1==qe.nodeType&&qe.normalize()},_e,xe,ye,be,ke,we,Ce,Te,Se,Ae;Pe.msie&&8<=Pe.version&&(je=function(qe){if(1==qe.nodeType&&qe.firstChild)for(var Ge=qe.firstChild,Ye=Ge;;){if(Ye=Ye.nextSibling,!Ye)break;3==Ye.nodeType&&3==Ge.nodeType&&(Ye.nodeValue=Ge.nodeValue+Ye.nodeValue,Ae.remove(Ge)),Ge=Ye}}),xe=/^\s+$/,ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,be=/&/g,ke=/</g,we=/>/g,Ce=/\u00a0/g,Te=/\ufeff/g,Se="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),Ae={findNodeIndex:function(qe){for(var Ge=0;;){if(qe=qe.previousSibling,!qe)break;Ge++}return Ge},isDataNode:function(qe){return qe&&null!==qe.nodeValue&&null!==qe.data},isAncestorOf:function(qe,Ge){try{return!Ae.isDataNode(qe)&&(pe.contains(qe,Ae.isDataNode(Ge)?Ge.parentNode:Ge)||Ge.parentNode==qe)}catch(Ye){return!1}},isAncestorOrSelf:function(qe,Ge){return Ae.isAncestorOf(qe,Ge)||qe==Ge},findClosestAncestor:function(qe,Ge){if(Ae.isAncestorOf(qe,Ge))for(;Ge&&Ge.parentNode!=qe;)Ge=Ge.parentNode;return Ge},getNodeLength:function(qe){return Ae.isDataNode(qe)?qe.length:qe.childNodes.length},splitDataNode:function(qe,Ge){for(var Ye=qe.cloneNode(!1),Ke="",Xe=qe;Xe.nextSibling&&3==Xe.nextSibling.nodeType&&Xe.nextSibling.nodeValue;)Ke+=Xe.nextSibling.nodeValue,Xe=Xe.nextSibling;qe.deleteData(Ge,qe.length),Ye.deleteData(0,Ge),Ye.nodeValue+=Ke,Ae.insertAfter(Ye,qe)},attrEquals:function(qe,Ge){var Ye,Ke;for(Ye in Ge)if(Ke=qe[Ye],Ye==Ee&&(Ke=qe[pe.support.cssFloat?He:ze]),"object"==typeof Ke){if(!Ae.attrEquals(Ke,Ge[Ye]))return!1;}else if(Ke!=Ge[Ye])return!1;return!0},blockParentOrBody:function(qe){return Ae.parentOfType(qe,Le)||qe.ownerDocument.body},blockParents:function(qe){var Xe=[],Ge,Ye,Ke;for(Ge=0,Ye=qe.length;Ye>Ge;Ge++)Ke=Ae.parentOfType(qe[Ge],Ae.blockElements),Ke&&0>pe.inArray(Ke,Xe)&&Xe.push(Ke);return Xe},windowFromDocument:function(qe){return qe.defaultView||qe.parentWindow},normalize:je,blockElements:Le,inlineElements:Ve,empty:Ne,fillAttrs:Ue,toHex:function(qe){var Ge=ye.exec(qe);return Ge?"#"+Fe(Ge.slice(1),function(Ye){return Ye=parseInt(Ye,10).toString(16),1<Ye.length?Ye:"0"+Ye}).join(""):qe},encode:function(qe){return qe.replace(be,"&amp;").replace(ke,"&lt;").replace(we,"&gt;").replace(Ce,"&nbsp;")},name:function(qe){return qe.nodeName.toLowerCase()},significantChildNodes:function(qe){return pe.grep(qe.childNodes,function(Ge){return 3!=Ge.nodeType||!Ae.isWhitespace(Ge)})},lastTextNode:function(qe){var Ye=null,Ge;if(3==qe.nodeType)return qe;for(Ge=qe.lastChild;Ge;Ge=Ge.previousSibling)if(Ye=Ae.lastTextNode(Ge))return Ye;return Ye},is:function(qe,Ge){return Ae.name(qe)==Ge},isMarker:function(qe){return qe.className==Me},isWhitespace:function(qe){return xe.test(qe.nodeValue)},isBlock:function(qe){return Be[Ae.name(qe)]},isEmpty:function(qe){return Ne[Ae.name(qe)]},isInline:function(qe){return We[Ae.name(qe)]},scrollContainer:function(qe){var Ge=Ae.windowFromDocument(qe),Ye=(Ge.contentWindow||Ge).document||Ge.ownerDocument||Ge;return Ye=De.support.browser.webkit||"BackCompat"==Ye.compatMode?Ye.body:Ye.documentElement},scrollTo:function(qe){var Ke=pe(Ae.isDataNode(qe)?qe.parentNode:qe),Xe=Ae.windowFromDocument(qe.ownerDocument),Qe=Xe.innerHeight,$e=Ae.scrollContainer(qe.ownerDocument),Ge,Ye;"br"==Ae.name(Ke[0])&&(Ke=Ke.parent()),Ge=Ke.offset().top,Ye=Ke[0].offsetHeight,Ye+Ge>$e.scrollTop+Qe&&($e.scrollTop=Ye+Ge-Qe)},persistScrollTop:function(qe){_e=Ae.scrollContainer(qe).scrollTop},restoreScrollTop:function(qe){Ae.scrollContainer(qe).scrollTop=_e},insertAt:function(qe,Ge,Ye){qe.insertBefore(Ge,qe.childNodes[Ye]||null)},insertBefore:function(qe,Ge){return Ge.parentNode?Ge.parentNode.insertBefore(qe,Ge):Ge},insertAfter:function(qe,Ge){return Ge.parentNode.insertBefore(qe,Ge.nextSibling)},remove:function(qe){qe.parentNode.removeChild(qe)},trim:function(qe){var Ge,Ye;for(Ge=qe.childNodes.length-1;0<=Ge;Ge--)Ye=qe.childNodes[Ge],Ae.isDataNode(Ye)?(Ye.nodeValue.replace(Te,"").length||Ae.remove(Ye),Ae.isWhitespace(Ye)&&Ae.insertBefore(Ye,qe)):Ye.className!=Me&&(Ae.trim(Ye),Ye.childNodes.length||Ae.isEmpty(Ye)||Ae.remove(Ye));return qe},parentOfType:function(qe,Ge){do qe=qe.parentNode;while(qe&&!Ae.ofType(qe,Ge));return qe},ofType:function(qe,Ge){return 0<=pe.inArray(Ae.name(qe),Ge)},changeTag:function(qe,Ge){var Je=Ae.create(qe.ownerDocument,Ge),Ze=qe.attributes,Ye,Ke,Xe,Qe,$e;for(Ye=0,Ke=Ze.length;Ke>Ye;Ye++)$e=Ze[Ye],$e.specified&&(Xe=$e.nodeName,Qe=$e.nodeValue,Xe==Oe?Je.className=Qe:Xe==Re?Je.style.cssText=qe.style.cssText:Je.setAttribute(Xe,Qe));for(;qe.firstChild;)Je.appendChild(qe.firstChild);return Ae.insertBefore(Je,qe),Ae.remove(qe),Je},wrap:function(qe,Ge){return Ae.insertBefore(Ge,qe),Ge.appendChild(qe),Ge},unwrap:function(qe){for(var Ge=qe.parentNode;qe.firstChild;)Ge.insertBefore(qe.firstChild,qe);Ge.removeChild(qe)},create:function(qe,Ge,Ye){return Ae.attr(qe.createElement(Ge),Ye)},attr:function(qe,Ge){for(var Ye in Ge=Ie({},Ge),Ge&&Re in Ge&&(Ae.style(qe,Ge.style),delete Ge.style),Ge)null===Ge[Ye]&&(qe.removeAttribute(Ye),delete Ge[Ye]);return Ie(qe,Ge)},style:function(qe,Ge){pe(qe).css(Ge||{})},unstyle:function(qe,Ge){for(var Ye in Ge)Ye==Ee&&(Ye=pe.support.cssFloat?He:ze),qe.style[Ye]="";""===qe.style.cssText&&qe.removeAttribute(Re)},inlineStyle:function(qe,Ge,Ye){var Xe=pe(Ae.create(qe,Ge,Ye)),Ke;return qe.body.appendChild(Xe[0]),Ke=Fe(Se,function(Qe){return Pe.msie&&"line-height"==Qe&&"1px"==Xe.css(Qe)?"line-height:1.5":Qe+":"+Xe.css(Qe)}).join(";"),Xe.remove(),Ke},removeClass:function(qe,Ge){var Xe=" "+qe.className+" ",Qe=Ge.split(" "),Ye,Ke;for(Ye=0,Ke=Qe.length;Ke>Ye;Ye++)Xe=Xe.replace(" "+Qe[Ye]+" "," ");Xe=pe.trim(Xe),Xe.length?qe.className=Xe:qe.removeAttribute(Oe)},commonAncestor:function(){var Qe=arguments.length,$e=[],Je=1/0,Ze=null,qe,Ge,Ye,Ke,Xe;if(!Qe)return null;if(1==Qe)return arguments[0];for(qe=0;Qe>qe;qe++){for(Ge=[],Ye=arguments[qe];Ye;)Ge.push(Ye),Ye=Ye.parentNode;$e.push(Ge.reverse()),Je=Math.min(Je,Ge.length)}if(1==Qe)return $e[0][0];for(qe=0;Je>qe;qe++){for(Ke=$e[0][qe],Xe=1;Qe>Xe;Xe++)if(Ke!=$e[Xe][qe])return Ze;Ze=Ke}return Ze}},De.ui.editor.Dom=Ae}(window.kendo.jQuery),function(pe,me){var _e=window.kendo,xe=_e.ui.editor,ye=xe.Dom,be=pe.extend,ke="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),we=/"/g,Ce=/<br[^>]*>/i,Te=/<p><\/p>/i,Se=/([\w|\-]+)\s*:\s*([^;]+);?/i;be(xe,{Serializer:{domToXhtml:function(Ae){function De(Ee){var Qe=[],$e=Ee.attributes,Je=pe.trim,He,ze,Oe,Me,Ne,Le,Be,Ve,We,Ue,je,qe,Ge,Ye,Ke,Xe;for(ye.is(Ee,"img")&&(Me=Ee.style.width,Ne=Ee.style.height,Le=pe(Ee),Me&&(Le.attr("width",parseInt(Me,10)),ye.unstyle(Ee,{width:me})),Ne&&(Le.attr("height",parseInt(Ne,10)),ye.unstyle(Ee,{height:me}))),ze=0,Oe=$e.length;Oe>ze;ze++)He=$e[ze],Be=He.nodeName,(He.specified||"value"==Be&&!Ee.value||"type"==Be&&"text"==He.nodeValue)&&0>Be.indexOf("_moz")&&"complete"!=Be&&"altHtml"!=Be&&Qe.push(He);if(Qe.length)for(Qe.sort(function(Ze,ea){return Ze.nodeName>ea.nodeName?1:Ze.nodeName<ea.nodeName?-1:0}),ze=0,Oe=Qe.length;Oe>ze;ze++){if(He=Qe[ze],Ve=He.nodeName,We=He.nodeValue,Pe.push(" "),Pe.push(Ve),Pe.push("=\""),"style"==Ve){for(Ue=Je(We||Ee.style.cssText).split(";"),je=0,qe=Ue.length;qe>je;je++)if(Ge=Ue[je],Ge.length){if(Ye=Se.exec(Ge),Ke=Je(Ye[1].toLowerCase()),Xe=Je(Ye[2]),"font-size-adjust"==Ke||"font-stretch"==Ke)continue;0<=Ke.indexOf("color")?Xe=ye.toHex(Xe):0<=Ke.indexOf("font")?Xe=Xe.replace(we,"'"):/\burl\(/g.test(Xe)&&(Xe=Xe.replace(we,"")),Pe.push(Ke),Pe.push(":"),Pe.push(Xe),Pe.push(";")}}else"src"==Ve||"href"==Ve?Pe.push(Ee.getAttribute(Ve,2)):Pe.push(ye.fillAttrs[Ve]?Ve:We);Pe.push("\"")}}function Fe(Ee,He){for(var ze=Ee.firstChild;ze;ze=ze.nextSibling)Ie(ze,He)}function Ie(Ee,He){var Be=Ee.nodeType,ze,Oe,Me,Ne,Le;if(1==Be){if(ze=ye.name(Ee),!ze||(Ee.attributes._moz_dirty||Ee.attributes._moz_editor_bogus_node)&&ye.is(Ee,"br")||"k-marker"==Ee.className)return;if(Oe=Re[ze])return Oe.start(Ee),Fe(Ee),Oe.end(Ee),me;Pe.push("<"),Pe.push(ze),De(Ee),ye.empty[ze]?Pe.push(" />"):(Pe.push(">"),Fe(Ee,He||ye.is(Ee,"pre")),Pe.push("</"),Pe.push(ze),Pe.push(">"))}else 3==Be?(Ne=Ee.nodeValue,!He&&pe.support.leadingWhitespace&&(Me=Ee.parentNode,Le=Ee.previousSibling,Le||(Le=(ye.isInline(Me)?Me:Ee).previousSibling),(!Le||""===Le.innerHTML||ye.isBlock(Le))&&(Ne=Ne.replace(/^[\r\n\v\f\t ]+/,"")),Ne=Ne.replace(/ +/," ")),Pe.push(ye.encode(Ne))):4==Be?(Pe.push("<![CDATA["),Pe.push(Ee.data),Pe.push("]]>")):8==Be&&(0>Ee.data.indexOf("[CDATA[")?(Pe.push("<!--"),Pe.push(Ee.data),Pe.push("-->")):(Pe.push("<!"),Pe.push(Ee.data),Pe.push(">")))}var Pe=[],Re={"telerik:script":{start:function(Ee){Pe.push("<script"),De(Ee),Pe.push(">")},end:function(){Pe.push("</script>")}},b:{start:function(){Pe.push("<strong>")},end:function(){Pe.push("</strong>")}},i:{start:function(){Pe.push("<em>")},end:function(){Pe.push("</em>")}},u:{start:function(){Pe.push("<span style=\"text-decoration:underline;\">")},end:function(){Pe.push("</span>")}},iframe:{start:function(Ee){Pe.push("<iframe"),De(Ee),Pe.push(">")},end:function(){Pe.push("</iframe>")}},font:{start:function(Ee){var He,ze,Oe;Pe.push("<span style=\""),He=Ee.getAttribute("color"),ze=ke[Ee.getAttribute("size")],Oe=Ee.getAttribute("face"),He&&(Pe.push("color:"),Pe.push(ye.toHex(He)),Pe.push(";")),Oe&&(Pe.push("font-face:"),Pe.push(Oe),Pe.push(";")),ze&&(Pe.push("font-size:"),Pe.push(ze),Pe.push(";")),Pe.push("\">")},end:function(){Pe.push("</span>")}}};return 1==Ae.childNodes.length&&3==Ae.firstChild.nodeType?ye.encode(Ae.firstChild.nodeValue.replace(/[\r\n\v\f\t ]+/," ")):(Fe(Ae),Pe=Pe.join(""),""===Pe.replace(Ce,"").replace(Te,"")?"":Pe)}}})}(window.kendo.jQuery),function(pe){function me(Ue,je,qe,Ge){var Ye,Ke,Xe,Qe;if(Ue==je)return Ge-qe;for(Ye=je;Ye&&Ye.parentNode!=Ue;)Ye=Ye.parentNode;if(Ye)return Fe(Ye)-qe;for(Ye=Ue;Ye&&Ye.parentNode!=je;)Ye=Ye.parentNode;if(Ye)return Ge-Fe(Ye)-1;for(Ke=De.commonAncestor(Ue,je),Xe=Ue;Xe&&Xe.parentNode!=Ke;)Xe=Xe.parentNode;for(Xe||(Xe=Ke),Qe=je;Qe&&Qe.parentNode!=Ke;)Qe=Qe.parentNode;return Qe||(Qe=Ke),Xe==Qe?0:Fe(Qe)-Fe(Xe)}function _e(Ue,je){(function(Ge){try{return 0>me(Ge.startContainer,Ge.endContainer,Ge.startOffset,Ge.endOffset)}catch(Ye){return!0}})(Ue)&&(je?(Ue.commonAncestorContainer=Ue.endContainer=Ue.startContainer,Ue.endOffset=Ue.startOffset):(Ue.commonAncestorContainer=Ue.startContainer=Ue.endContainer,Ue.startOffset=Ue.endOffset),Ue.collapsed=!0)}function xe(Ue){Ue.collapsed=Ue.startContainer==Ue.endContainer&&Ue.startOffset==Ue.endOffset;for(var je=Ue.startContainer;je&&je!=Ue.endContainer&&!De.isAncestorOf(je,Ue.endContainer);)je=je.parentNode;Ue.commonAncestorContainer=je}function ye(Ue){var je=Ue.duplicate(),qe=Ue.duplicate();return je.collapse(!0),qe.collapse(!1),De.commonAncestor(Ue.parentElement(),je.parentElement(),qe.parentElement())}function be(Ue,je,qe){var Ke=je[qe?"startContainer":"endContainer"],Xe=je[qe?"startOffset":"endOffset"],Qe=0,$e=Ie(Ke),Je=$e?Ke:Ke.childNodes[Xe]||null,Ze=$e?Ke.parentNode:Ke,Ge,Ye;(3==Ke.nodeType||4==Ke.nodeType)&&(Qe=Xe),Ye=Ze.insertBefore(De.create(je.ownerDocument,"a"),Je),Ge=je.ownerDocument.body.createTextRange(),Ge.moveToElementText(Ye),De.remove(Ye),Ge[qe?"moveStart":"moveEnd"]("character",Qe),Ge.collapse(!1),Ue.setEndPoint(qe?"StartToStart":"EndToStart",Ge)}function ke(Ue,je,qe,Ge){var ea=De.create(je.ownerDocument,"a"),ta=Ue.duplicate(),aa=Ge?"StartToStart":"StartToEnd",Ye,Ke,Xe,Qe,$e,Je,Ze;ea.innerHTML="\uFEFF",ta.collapse(Ge),Ke=ta.parentElement(),De.isAncestorOrSelf(qe,Ke)||(Ke=qe);do Ke.insertBefore(ea,ea.previousSibling),ta.moveToElementText(ea);while(0<(Ye=ta.compareEndPoints(aa,Ue))&&ea.previousSibling);Xe=ea.nextSibling,-1==Ye&&Ie(Xe)?(ta.setEndPoint(Ge?"EndToStart":"EndToEnd",Ue),De.remove(ea),Je=[Xe,ta.text.length]):(Qe=!Ge&&ea.previousSibling,$e=Ge&&ea.nextSibling,Ie($e)?Je=[$e,0]:Ie(Qe)?Je=[Qe,Qe.length]:(Ze=Fe(ea),Je=Ke.nextSibling&&Ze==Ke.childNodes.length-1?[Ke.nextSibling,0]:[Ke,Ze]),De.remove(ea)),je[Ge?"setStart":"setEnd"].apply(je,Je)}var we=window.kendo,Ce=we.Class,Te=pe.extend,Se=we.ui.editor,Ae=we.support.browser,De=Se.Dom,Fe=De.findNodeIndex,Ie=De.isDataNode,Pe=De.findClosestAncestor,Re=De.getNodeLength,Ee=De.normalize,He={selectionFromWindow:function(Ue){return"getSelection"in Ue?Ue.getSelection():new Me(Ue.document)},selectionFromRange:function(Ue){var je=We.documentFromRange(Ue);return He.selectionFromDocument(je)},selectionFromDocument:function(Ue){return He.selectionFromWindow(De.windowFromDocument(Ue))}},ze=Ce.extend({init:function(Ue){pe.extend(this,{ownerDocument:Ue,startContainer:Ue,endContainer:Ue,commonAncestorContainer:Ue,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(Ue,je){this.startContainer=Ue,this.startOffset=je,xe(this),_e(this,!0)},setEnd:function(Ue,je){this.endContainer=Ue,this.endOffset=je,xe(this),_e(this,!1)},setStartBefore:function(Ue){this.setStart(Ue.parentNode,Fe(Ue))},setStartAfter:function(Ue){this.setStart(Ue.parentNode,Fe(Ue)+1)},setEndBefore:function(Ue){this.setEnd(Ue.parentNode,Fe(Ue))},setEndAfter:function(Ue){this.setEnd(Ue.parentNode,Fe(Ue)+1)},selectNode:function(Ue){this.setStartBefore(Ue),this.setEndAfter(Ue)},selectNodeContents:function(Ue){this.setStart(Ue,0),this.setEnd(Ue,Ue[1===Ue.nodeType?"childNodes":"nodeValue"].length)},collapse:function(Ue){var je=this;Ue?je.setEnd(je.startContainer,je.startOffset):je.setStart(je.endContainer,je.endOffset)},deleteContents:function(){var Ue=this,je=Ue.cloneRange();Ue.startContainer!=Ue.commonAncestorContainer&&Ue.setStartAfter(Pe(Ue.commonAncestorContainer,Ue.startContainer)),Ue.collapse(!0),function qe(Ge){for(;Ge.next();)Ge.hasPartialSubtree()?qe(Ge.getSubtreeIterator()):Ge.remove()}(new Oe(je))},cloneContents:function(){var Ue=We.documentFromRange(this);return function je(qe){for(var Ye=Ue.createDocumentFragment(),Ge;Ge=qe.next();)Ge=Ge.cloneNode(!qe.hasPartialSubtree()),qe.hasPartialSubtree()&&Ge.appendChild(je(qe.getSubtreeIterator())),Ye.appendChild(Ge);return Ye}(new Oe(this))},extractContents:function(){var je=this,qe=je.cloneRange(),Ue;return je.startContainer!=je.commonAncestorContainer&&je.setStartAfter(Pe(je.commonAncestorContainer,je.startContainer)),je.collapse(!0),Ue=We.documentFromRange(je),function Ge(Ye){for(var Xe=Ue.createDocumentFragment(),Ke;Ke=Ye.next();)Ye.hasPartialSubtree()?(Ke=Ke.cloneNode(!1),Ke.appendChild(Ge(Ye.getSubtreeIterator()))):Ye.remove(je.originalRange),Xe.appendChild(Ke);return Xe}(new Oe(qe))},insertNode:function(Ue){var je=this;Ie(je.startContainer)?(je.startOffset!=je.startContainer.nodeValue.length&&De.splitDataNode(je.startContainer,je.startOffset),De.insertAfter(Ue,je.startContainer)):De.insertAt(je.startContainer,Ue,je.startOffset),je.setStart(je.startContainer,je.startOffset)},cloneRange:function(){return pe.extend(new ze(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var Ue=this.startContainer.nodeName,je=this.endContainer.nodeName;return["#text"==Ue?this.startContainer.nodeValue:Ue,"(",this.startOffset,") : ","#text"==je?this.endContainer.nodeValue:je,"(",this.endOffset,")"].join("")}}),Oe=Ce.extend({init:function(Ue){if(pe.extend(this,{range:Ue,_current:null,_next:null,_end:null}),!Ue.collapsed){var je=Ue.commonAncestorContainer;this._next=Ue.startContainer!=je||Ie(Ue.startContainer)?Pe(je,Ue.startContainer):Ue.startContainer.childNodes[Ue.startOffset],this._end=Ue.endContainer!=je||Ie(Ue.endContainer)?Pe(je,Ue.endContainer).nextSibling:Ue.endContainer.childNodes[Ue.endOffset]}},hasNext:function(){return!!this._next},next:function(){var Ue=this,je=Ue._current=Ue._next;return Ue._next=Ue._current&&Ue._current.nextSibling!=Ue._end?Ue._current.nextSibling:null,Ie(Ue._current)&&(Ue.range.endContainer==Ue._current&&(je=je.cloneNode(!0),je.deleteData(Ue.range.endOffset,je.length-Ue.range.endOffset)),Ue.range.startContainer==Ue._current&&(je=je.cloneNode(!0),je.deleteData(0,Ue.range.startOffset))),je},traverse:function(Ue){function je(){return Ge._current=Ge._next,Ge._next=Ge._current&&Ge._current.nextSibling!=Ge._end?Ge._current.nextSibling:null,Ge._current}for(var Ge=this,qe;qe=je();)Ge.hasPartialSubtree()?Ge.getSubtreeIterator().traverse(Ue):Ue(qe);return qe},remove:function(Ue){var Xe=this,Qe=Xe.range.startContainer==Xe._current,$e=Xe.range.endContainer==Xe._current,je,qe,Ge,Ye,Ke;Ie(Xe._current)&&(Qe||$e)?(je=Qe?Xe.range.startOffset:0,qe=$e?Xe.range.endOffset:Xe._current.length,Ge=qe-je,Ue&&(Qe||$e)&&(Xe._current==Ue.startContainer&&Ue.startOffset>=je&&(Ue.startOffset-=Ge),Xe._current==Ue.endContainer&&Ue.endOffset>=qe&&(Ue.endOffset-=Ge)),Xe._current.deleteData(je,Ge)):(Ye=Xe._current.parentNode,!Ue||Xe.range.startContainer!=Ye&&Xe.range.endContainer!=Ye||(Ke=Fe(Xe._current),Ye==Ue.startContainer&&Ue.startOffset>=Ke&&(Ue.startOffset-=1),Ye==Ue.endContainer&&Ue.endOffset>Ke&&(Ue.endOffset-=1)),De.remove(Xe._current))},hasPartialSubtree:function(){return!Ie(this._current)&&(De.isAncestorOrSelf(this._current,this.range.startContainer)||De.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var Ue=this,je=Ue.range.cloneRange();return je.selectNodeContents(Ue._current),De.isAncestorOrSelf(Ue._current,Ue.range.startContainer)&&je.setStart(Ue.range.startContainer,Ue.range.startOffset),De.isAncestorOrSelf(Ue._current,Ue.range.endContainer)&&je.setEnd(Ue.range.endContainer,Ue.range.endOffset),new Oe(je)}}),Me=Ce.extend({init:function(Ue){this.ownerDocument=Ue,this.rangeCount=1},addRange:function(Ue){var je=this.ownerDocument.body.createTextRange();be(je,Ue,!1),be(je,Ue,!0),je.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var $e=new ze(this.ownerDocument),Je=this.ownerDocument.selection,Ue,je,qe,Ge,Ye,Ke,Xe,Qe;try{if(Ue=Je.createRange(),je=Ue.item?Ue.item(0):Ue.parentElement(),je.ownerDocument!=this.ownerDocument)return $e}catch(Ze){return $e}if("Control"==Je.type)$e.selectNode(Ue.item(0));else if(qe=ye(Ue),ke(Ue,$e,qe,!0),ke(Ue,$e,qe,!1),9==$e.startContainer.nodeType&&$e.setStart($e.endContainer,$e.startOffset),9==$e.endContainer.nodeType&&$e.setEnd($e.startContainer,$e.endOffset),0===Ue.compareEndPoints("StartToEnd",Ue)&&$e.collapse(!1),Ge=$e.startContainer,Ye=$e.endContainer,Ke=this.ownerDocument.body,!($e.collapsed||0!==$e.startOffset||$e.endOffset!=Re($e.endContainer)||Ge==Ye&&Ie(Ge)&&Ge.parentNode==Ke)){for(Xe=!1,Qe=!1;0===Fe(Ge)&&Ge==Ge.parentNode.firstChild&&Ge!=Ke;)Ge=Ge.parentNode,Xe=!0;for(;Fe(Ye)==Re(Ye.parentNode)-1&&Ye==Ye.parentNode.lastChild&&Ye!=Ke;)Ye=Ye.parentNode,Qe=!0;Ge==Ke&&Ye==Ke&&Xe&&Qe&&($e.setStart(Ge,0),$e.setEnd(Ye,Re(Ke)))}return $e}}),Ne=Ce.extend({init:function(Ue){this.enumerate=function(){function je(Ge){if(De.is(Ge,"img")||3==Ge.nodeType&&!De.isWhitespace(Ge))qe.push(Ge);else for(Ge=Ge.firstChild;Ge;)je(Ge),Ge=Ge.nextSibling}var qe=[];return new Oe(Ue).traverse(je),qe}}}),Le=Ce.extend({init:function(Ue){var je=this;je.range=Ue,je.rootNode=We.documentFromRange(Ue),je.body=je.rootNode.body,je.html=je.body.innerHTML,je.startContainer=je.nodeToPath(Ue.startContainer),je.endContainer=je.nodeToPath(Ue.endContainer),je.startOffset=je.offset(Ue.startContainer,Ue.startOffset),je.endOffset=je.offset(Ue.endContainer,Ue.endOffset)},index:function(Ue){for(var qe=0,Ge=Ue.nodeType,je;Ue=Ue.previousSibling;)je=Ue.nodeType,(3!=je||Ge!=je)&&qe++,Ge=je;return qe},offset:function(Ue,je){if(3==Ue.nodeType)for(;(Ue=Ue.previousSibling)&&3==Ue.nodeType;)je+=Ue.nodeValue.length;return je},nodeToPath:function(Ue){for(var je=[];Ue!=this.rootNode;)je.push(this.index(Ue)),Ue=Ue.parentNode;return je},toRangePoint:function(Ue,je,qe,Ge){for(var Ye=this.rootNode,Ke=qe.length,Xe=Ge;Ke--;)Ye=Ye.childNodes[qe[Ke]];for(;3==Ye.nodeType&&Xe>Ye.nodeValue.length;)Xe-=Ye.nodeValue.length,Ye=Ye.nextSibling;Ue[je?"setStart":"setEnd"](Ye,Xe)},toRange:function(){var Ue=this,je=Ue.range.cloneRange();return Ue.toRangePoint(je,!0,Ue.startContainer,Ue.startOffset),Ue.toRangePoint(je,!1,Ue.endContainer,Ue.endOffset),je}}),Be=Ce.extend({init:function(){this.caret=null},addCaret:function(Ue){var je=this;return je.caret=De.create(We.documentFromRange(Ue),"span",{className:"k-marker"}),Ue.insertNode(je.caret),Ue.selectNode(je.caret),je.caret},removeCaret:function(Ue){var Ke=this,Xe=Ke.caret.previousSibling,Qe=0,je,qe,Ge,Ye;Xe&&(Qe=Ie(Xe)?Xe.nodeValue.length:Fe(Xe)),je=Ke.caret.parentNode,qe=Xe?Fe(Xe):0,De.remove(Ke.caret),Ee(je),Ge=je.childNodes[qe],Ie(Ge)?Ue.setStart(Ge,Qe):Ge?(Ye=De.lastTextNode(Ge),Ye?Ue.setStart(Ye,Ye.nodeValue.length):Ue[Xe?"setStartAfter":"setStartBefore"](Ge)):(Ae.msie||je.innerHTML||(je.innerHTML="<br _moz_dirty=\"\" />"),Ue.selectNodeContents(je)),Ue.collapse(!0)},add:function(Ue,je){var Ge=this,qe;return je&&Ue.collapsed&&(Ge.addCaret(Ue),Ue=We.expand(Ue)),qe=Ue.cloneRange(),qe.collapse(!1),Ge.end=De.create(We.documentFromRange(Ue),"span",{className:"k-marker"}),qe.insertNode(Ge.end),qe=Ue.cloneRange(),qe.collapse(!0),Ge.start=Ge.end.cloneNode(!0),qe.insertNode(Ge.start),Ue.setStartBefore(Ge.start),Ue.setEndAfter(Ge.end),Ee(Ue.commonAncestorContainer),Ue},remove:function(Ue){var oa=this,na=oa.start,ia=oa.end,je,qe,Ge,Ye,Ke,Xe,Qe,$e,Je,Ze,ea,ta,aa;for(Ee(Ue.commonAncestorContainer);!na.nextSibling&&na.parentNode;)na=na.parentNode;for(;!ia.previousSibling&&ia.parentNode;)ia=ia.parentNode;if(je=na.previousSibling&&3==na.previousSibling.nodeType&&na.nextSibling&&3==na.nextSibling.nodeType,qe=ia.previousSibling&&3==ia.previousSibling.nodeType&&ia.nextSibling&&3==ia.nextSibling.nodeType,Ge=je&&qe,na=na.nextSibling,ia=ia.previousSibling,Ye=!1,Ke=!1,na==oa.end&&(Ke=!!oa.start.previousSibling,na=ia=oa.start.previousSibling||oa.end.nextSibling,Ye=!0),De.remove(oa.start),De.remove(oa.end),!na||!ia)return Ue.selectNodeContents(Ue.commonAncestorContainer),Ue.collapse(!0),void 0;if(Xe=Ye?Ie(na)?na.nodeValue.length:na.childNodes.length:0,Qe=Ie(ia)?ia.nodeValue.length:ia.childNodes.length,3==na.nodeType)for(;na.previousSibling&&3==na.previousSibling.nodeType;)na=na.previousSibling,Xe+=na.nodeValue.length;if(3==ia.nodeType)for(;ia.previousSibling&&3==ia.previousSibling.nodeType;)ia=ia.previousSibling,Qe+=ia.nodeValue.length;for($e=Fe(na),Je=na.parentNode,Ze=Fe(ia),ea=ia.parentNode,ta=na;ta.previousSibling;ta=ta.previousSibling)3==ta.nodeType&&3==ta.previousSibling.nodeType&&$e--;for(aa=ia;aa.previousSibling;aa=aa.previousSibling)3==aa.nodeType&&3==aa.previousSibling.nodeType&&Ze--;Ee(Je),3==na.nodeType&&(na=Je.childNodes[$e]),Ee(ea),3==ia.nodeType&&(ia=ea.childNodes[Ze]),Ye?(3==na.nodeType?Ue.setStart(na,Xe):Ue[Ke?"setStartAfter":"setStartBefore"](na),Ue.collapse(!0)):(3==na.nodeType?Ue.setStart(na,Xe):Ue.setStartBefore(na),3==ia.nodeType?Ue.setEnd(ia,Qe):Ue.setEndAfter(ia)),oa.caret&&oa.removeCaret(Ue)}}),Ve=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,We={nodes:function(Ue){var je=We.textNodes(Ue);return je.length||(Ue.selectNodeContents(Ue.commonAncestorContainer),je=We.textNodes(Ue),je.length||(je=De.significantChildNodes(Ue.commonAncestorContainer))),je},textNodes:function(Ue){return new Ne(Ue).enumerate()},documentFromRange:function(Ue){var je=Ue.startContainer;return 9==je.nodeType?je:je.ownerDocument},createRange:function(Ue){return Ae.msie&&9>Ae.version?new ze(Ue):Ue.createRange()},selectRange:function(Ue){var qe=We.image(Ue),je;qe&&(Ue.setStartAfter(qe),Ue.setEndAfter(qe)),je=He.selectionFromRange(Ue),je.removeAllRanges(),je.addRange(Ue)},split:function(Ue,je,qe){function Ge(Ye){var Xe=Ue.cloneRange(),Ke;Xe.collapse(Ye),Xe[Ye?"setStartBefore":"setEndAfter"](je),Ke=Xe.extractContents(),qe&&(Ke=De.trim(Ke)),De[Ye?"insertBefore":"insertAfter"](Ke,je)}Ge(!0),Ge(!1)},getMarkers:function(Ue){var je=[];return new Oe(Ue).traverse(function(qe){"k-marker"==qe.className&&je.push(qe)}),je},image:function(Ue){var je=[];return new Oe(Ue).traverse(function(qe){De.is(qe,"img")&&je.push(qe)}),1==je.length?je[0]:void 0},expand:function(Ue){var Ke=Ue.cloneRange(),Xe=Ke.startContainer.childNodes[0===Ke.startOffset?0:Ke.startOffset-1],Qe=Ke.endContainer.childNodes[Ke.endOffset],je,qe,Ge,Ye;return Ie(Xe)&&Ie(Qe)?(je=Xe.nodeValue,qe=Qe.nodeValue,je&&qe?(Ge=je.split("").reverse().join("").search(Ve),Ye=qe.search(Ve),Ge&&Ye?(Ye=-1==Ye?qe.length:Ye,Ge=-1==Ge?0:je.length-Ge,Ke.setStart(Xe,Ge),Ke.setEnd(Qe,Ye),Ke):Ke):Ke):Ke},isExpandable:function(Ue){var Qe=Ue.startContainer,$e=We.documentFromRange(Ue),je,qe,Ge,Ye,Ke,Xe;return Qe==$e||Qe==$e.body?!1:(je=Ue.cloneRange(),!!(qe=Qe.nodeValue)&&(Ge=qe.substring(0,je.startOffset),Ye=qe.substring(je.startOffset),Ke=0,Xe=0,Ge&&(Ke=Ge.split("").reverse().join("").search(Ve)),Ye&&(Xe=Ye.search(Ve)),Ke&&Xe))}};Te(Se,{SelectionUtils:He,W3CRange:ze,RangeIterator:Oe,W3CSelection:Me,RangeEnumerator:Ne,RestorePoint:Le,Marker:Be,RangeUtils:We})}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=me.Class,xe=me.ui.editor,ye=xe.EditorUtils,be=ye.registerTool,ke=xe.Dom,we=xe.RangeUtils,Ce=we.selectRange,Te=xe.Tool,Se=xe.ToolTemplate,Ae=xe.RestorePoint,De=xe.Marker,Fe=pe.extend,Ie=_e.extend({init:function(We){var Ue=this;Ue.options=We,Ue.restorePoint=new Ae(We.range),Ue.marker=new De,Ue.formatter=We.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(We){return this.marker.add(this.getRange(),We)},releaseRange:function(We){this.marker.remove(We),Ce(We)},undo:function(){var We=this.restorePoint;We.body.innerHTML=We.html,Ce(We.toRange())},redo:function(){this.exec()},exec:function(){var We=this,Ue=We.lockRange(!0);We.formatter.editor=We.editor,We.formatter.toggle(Ue),We.releaseRange(Ue)}}),Pe=_e.extend({init:function(We,Ue){this.body=We.body,this.startRestorePoint=We,this.endRestorePoint=Ue},redo:function(){this.body.innerHTML=this.endRestorePoint.html,Ce(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,Ce(this.startRestorePoint.toRange())}}),Re=Ie.extend({init:function(We){Ie.fn.init.call(this,We),this.managesUndoRedo=!0},exec:function(){var We=this.editor,Ue=We.getRange(),je=new Ae(Ue);We.clipboard.paste(this.options.value||""),We.undoRedoStack.push(new Pe(je,new Ae(We.getRange()))),We.focus()}}),Ee=Te.extend({initialize:function(We,Ue){var je=Ue.editor,qe=this.options,Ge=qe.items?qe.items:je.options.insertHtml;new xe.SelectBox(We,{dataSource:Ge,dataTextField:"text",dataValueField:"value",change:function(){Te.exec(je,"insertHtml",this.value())},title:je.options.messages.insertHtml,highlightFirst:!1})},command:function(We){return new Re(We)},update:function(We){var Ue=We.data("kendoSelectBox")||We.find("select").data("kendoSelectBox");Ue.close(),Ue.value(Ue.options.title)}}),He=_e.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(We){var Ue=this;Ue.stack=Ue.stack.slice(0,Ue.currentCommandIndex+1),Ue.currentCommandIndex=Ue.stack.push(We)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return 0<=this.currentCommandIndex},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),ze=_e.extend({init:function(We){this.editor=We},keydown:function(We){var je=this,qe=je.editor,Ge=qe.keyboard,Ye=Ge.isTypingKey(We),Ke=Fe(pe.Event(),We),Ue;return je.editor.trigger("keydown",Ke),Ke.isDefaultPrevented()&&We.preventDefault(),Ke.isDefaultPrevented()||!Ye||Ge.isTypingInProgress()?!1:(Ue=qe.getRange(),je.startRestorePoint=new Ae(Ue),Ge.startTyping(function(){qe.selectionRestorePoint=je.endRestorePoint=new Ae(qe.getRange()),qe.undoRedoStack.push(new Pe(je.startRestorePoint,je.endRestorePoint))}),!0)},keyup:function(We){var Ue=this.editor.keyboard;return this.editor.trigger("keyup",We),!!Ue.isTypingInProgress()&&(Ue.endTyping(),!0)}}),Oe=_e.extend({init:function(We){this.editor=We,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var We=this;We.endRestorePoint=new Ae(We.editor.getRange()),We.editor.undoRedoStack.push(new Pe(We.startRestorePoint,We.endRestorePoint)),We.startRestorePoint=We.endRestorePoint},changed:function(){return!!this.startRestorePoint&&this.startRestorePoint.html!=this.editor.body.innerHTML},keydown:function(We){var Ue=this,je=Ue.editor,qe=je.keyboard;return qe.isModifierKey(We)?(qe.isTypingInProgress()&&qe.endTyping(!0),Ue.startRestorePoint=new Ae(je.getRange()),!0):!!qe.isSystem(We)&&(Ue.systemCommandIsInProgress=!0,Ue.changed()&&(Ue.systemCommandIsInProgress=!1,Ue.createUndoCommand()),!0)},keyup:function(We){var Ue=this;return Ue.systemCommandIsInProgress&&Ue.changed()&&(Ue.systemCommandIsInProgress=!1,Ue.createUndoCommand(We),!0)}}),Me=_e.extend({init:function(We){this.handlers=We,this.typingInProgress=!1},isCharacter:function(We){return 48<=We&&90>=We||96<=We&&111>=We||186<=We&&192>=We||219<=We&&222>=We},toolFromShortcut:function(We,Ue){var Ge=String.fromCharCode(Ue.keyCode),je,qe;for(je in We)if(qe=pe.extend({ctrl:!1,alt:!1,shift:!1},We[je].options),(qe.key==Ge||qe.key==Ue.keyCode)&&qe.ctrl==Ue.ctrlKey&&qe.alt==Ue.altKey&&qe.shift==Ue.shiftKey)return je},isTypingKey:function(We){var Ue=We.keyCode;return this.isCharacter(Ue)&&!We.ctrlKey&&!We.altKey||32==Ue||13==Ue||8==Ue||46==Ue&&!We.shiftKey&&!We.ctrlKey&&!We.altKey},isModifierKey:function(We){var Ue=We.keyCode;return 17==Ue&&!We.shiftKey&&!We.altKey||16==Ue&&!We.ctrlKey&&!We.altKey||18==Ue&&!We.ctrlKey&&!We.shiftKey},isSystem:function(We){return 46==We.keyCode&&We.ctrlKey&&!We.altKey&&!We.shiftKey},startTyping:function(We){this.onEndTyping=We,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(We){var Ue=this;Ue.clearTimeout(),We?Ue.stopTyping():Ue.timeout=window.setTimeout(pe.proxy(Ue.stopTyping,Ue),1000)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(We,Ue){var qe=this.handlers,je;for(je=0;qe.length>je&&!qe[je][Ue](We);je++);},keydown:function(We){this.notify(We,"keydown")},keyup:function(We){this.notify(We,"keyup")}}),Ne=_e.extend({init:function(We){this.editor=We,this.cleaners=[new Be,new Ve]},htmlToFragment:function(We){var Ue=this.editor,je=Ue.document,qe=ke.create(je,"div"),Ge=je.createDocumentFragment();for(qe.innerHTML=We;qe.firstChild;)Ge.appendChild(qe.firstChild);return Ge},isBlock:function(We){return /<(div|p|ul|ol|table|h[1-6])/i.test(We)},oncut:function(){var We=this.editor,Ue=new Ae(We.getRange());setTimeout(function(){We.undoRedoStack.push(new Pe(Ue,new Ae(We.getRange())))})},onpaste:function(We){var Ge=this.editor,Ye=Ge.getRange(),Ke="\uFEFF",Xe=new Ae(Ye),Qe=ke.create(Ge.document,"div",{className:"k-paste-container",innerHTML:Ke}),Ue,je,qe;ke.persistScrollTop(Ge.document),Ge.body.appendChild(Qe),Ge.body.createTextRange?(We.preventDefault(),Ue=Ge.createRange(),Ue.selectNodeContents(Qe),Ge.selectRange(Ue),je=Ge.body.createTextRange(),je.moveToElementText(Qe),pe(Ge.body).unbind("paste"),je.execCommand("Paste"),pe(Ge.body).bind("paste",pe.proxy(arguments.callee,this))):(qe=Ge.createRange(),qe.selectNodeContents(Qe),Ce(qe)),Ye.deleteContents(),setTimeout(function(){var Je={html:""},$e;Ce(Ye),Qe.parentNode||(Qe=Ge.body.lastChild),ke.remove(Qe),Qe.lastChild&&ke.is(Qe.lastChild,"br")&&ke.remove(Qe.lastChild),$e=Qe.innerHTML,$e!=Ke&&(Je.html=$e),Ge.trigger("paste",Je),Ge.clipboard.paste(Je.html,!0),Ge.undoRedoStack.push(new Pe(Xe,new Ae(Ge.getRange()))),xe.EditorUtils.select(Ge)})},splittableParent:function(We,Ue){var je,qe;if(We)return ke.parentOfType(Ue,["p","ul","ol"])||Ue.parentNode;if(je=Ue.parentNode,qe=Ue.ownerDocument.body,ke.isInline(je))for(;je.parentNode!=qe&&!ke.isBlock(je.parentNode);)je=je.parentNode;return je},paste:function(We,Ue){var ea=this.editor,je,qe,Ge,Ye,Ke,Xe,Qe,$e,Je,Ze;for(je=0,qe=this.cleaners.length;qe>je;je++)this.cleaners[je].applicable(We)&&(We=this.cleaners[je].clean(We));if(Ue&&(We=We.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),We=We.replace(/<(a|span)[^>]*><\/\1>/gi,"")),We=We.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),Ge=this.isBlock(We),Ye=ea.getRange(),Ye.deleteContents(),Ye.startContainer==ea.document&&Ye.selectNodeContents(ea.body),Ke=new De,Xe=Ke.addCaret(Ye),Qe=this.splittableParent(Ge,Xe),$e=!1,/body|td/.test(ke.name(Qe))||!Ge&&!ke.isInline(Qe)||(Ye.selectNode(Xe),we.split(Ye,Qe,!0),$e=!0),Je=this.htmlToFragment(We),Je.firstChild&&"k-paste-container"===Je.firstChild.className){for(Ze=[],je=0,qe=Je.childNodes.length;qe>je;je++)Ze.push(Je.childNodes[je].innerHTML);Je=this.htmlToFragment(Ze.join("<br />"))}if(Ye.insertNode(Je),Qe=this.splittableParent(Ge,Xe),$e){for(;Xe.parentNode!=Qe;)ke.unwrap(Xe.parentNode);ke.unwrap(Xe.parentNode)}ke.normalize(Ye.commonAncestorContainer),Xe.style.display="inline",ke.restoreScrollTop(ea.document),ke.scrollTo(Xe),Ke.removeCaret(Ye),Ce(Ye)}}),Le=_e.extend({clean:function(We){var qe=this,Ge=qe.replacements,Ue,je;for(Ue=0,je=Ge.length;je>Ue;Ue+=2)We=We.replace(Ge[Ue],Ge[Ue+1]);return We}}),Be=Le.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/style=(["|'])\s*\1/g,""]},applicable:function(We){return /class="?Mso|style="[^"]*mso-/i.test(We)},listType:function(We){return /^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(We)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(We)?"ol":void 0},lists:function(We){var $e=ke.create(document,"div",{innerHTML:We}),Je=pe(ke.blockElements.join(","),$e),Ze=-1,ea={ul:{},ol:{}},ta=$e,Ue,je,qe,Ge,Ye,Ke,Xe,Qe;for(je=0;Je.length>je;je++)if(qe=Je[je],We=qe.innerHTML.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\xA0"),Ge=this.listType(We),Ge&&"p"==ke.name(qe)){if(Ye=parseFloat(qe.style.marginLeft||0),Ke=ea[Ge][Ye],(Ye>Ze||!Ke)&&(Ke=ke.create(document,Ge),ta==$e?ke.insertBefore(Ke,qe):ta.appendChild(Ke),ea[Ge][Ye]=Ke),Ue!=Ge)for(Xe in ea)for(Qe in ea[Xe])pe.contains(Ke,ea[Xe][Qe])&&delete ea[Xe][Qe];ke.remove(qe.firstChild),ta=ke.create(document,"li",{innerHTML:qe.innerHTML}),Ke.appendChild(ta),ke.remove(qe),Ze=Ye,Ue=Ge}else qe.innerHTML?(ea={ul:{},ol:{}},ta=$e,Ze=-1):ke.remove(qe);return $e.innerHTML},stripEmptyAnchors:function(We){return We.replace(/<a([^>]*)>\s*<\/a>/gi,function(Ue,je){return!je||0>je.indexOf("href")?"":Ue})},clean:function(We){var Ue=this;return We=Le.fn.clean.call(Ue,We),We=Ue.stripEmptyAnchors(We),We=Ue.lists(We),We=We.replace(/\s+class="?[^"\s>]*"?/gi,"")}}),Ve=Le.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(We){return /class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(We)}});Fe(xe,{Command:Ie,GenericCommand:Pe,InsertHtmlCommand:Re,InsertHtmlTool:Ee,UndoRedoStack:He,TypingHandler:ze,SystemHandler:Oe,Keyboard:Me,Clipboard:Ne,Cleaner:Le,MSWordFormatCleaner:Be,WebkitFormatCleaner:Ve}),be("insertHtml",new Ee({template:new Se({template:ye.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(pe){function me(Ve){return Ve.collapsed&&!Ae.isExpandable(Ve)}var _e=window.kendo,xe=_e.Class,ye=_e.ui.editor,be=_e.ui.Editor.fn.options.formats,ke=ye.EditorUtils,we=ye.Tool,Ce=ye.ToolTemplate,Te=ye.FormatTool,Se=ye.Dom,Ae=ye.RangeUtils,De=pe.extend,Fe=ye.EditorUtils.registerTool,Ie=ye.EditorUtils.registerFormat,Pe="k-marker",Re=xe.extend({init:function(Ve){this.format=Ve},numberOfSiblings:function(Ve){var Ue=0,je=0,qe=0,Ge=Ve.parentNode,We;for(We=Ge.firstChild;We;We=We.nextSibling)We!=Ve&&(We.className==Pe?qe++:3==We.nodeType?Ue++:je++);return 1<qe&&Ge.firstChild.className==Pe&&Ge.lastChild.className==Pe?0:je+Ue},findSuitable:function(Ve,We){return!We&&0<this.numberOfSiblings(Ve)?null:Se.parentOfType(Ve,this.format[0].tags)},findFormat:function(Ve){var Ye=this.format,Ke=Se.attrEquals,We,Ue,je,qe,Ge;for(We=0,Ue=Ye.length;Ue>We;We++){if(je=Ve,qe=Ye[We].tags,Ge=Ye[We].attr,je&&Se.ofType(je,qe)&&Ke(je,Ge))return je;for(;je;)if(je=Se.parentOfType(je,qe),je&&Ke(je,Ge))return je}return null},isFormatted:function(Ve){var We,Ue;for(We=0,Ue=Ve.length;Ue>We;We++)if(this.findFormat(Ve[We]))return!0;return!1}}),Ee=xe.extend({init:function(Ve,We){var Ue=this;Ue.finder=new Re(Ve),Ue.attributes=De({},Ve[0].attr,We),Ue.tag=Ve[0].tags[0]},wrap:function(Ve){return Se.wrap(Ve,Se.create(Ve.ownerDocument,this.tag,this.attributes))},activate:function(Ve,We){var Ue=this;Ue.finder.isFormatted(We)?(Ue.split(Ve),Ue.remove(We)):Ue.apply(We)},toggle:function(Ve){var We=Ae.textNodes(Ve);0<We.length&&this.activate(Ve,We)},apply:function(Ve){var Ge=this,Ye=[],We,Ue,je,qe;for(We=0,Ue=Ve.length;Ue>We;We++)je=Ve[We],qe=Ge.finder.findSuitable(je),qe?Se.attr(qe,Ge.attributes):qe=Ge.wrap(je),Ye.push(qe);Ge.consolidate(Ye)},remove:function(Ve){var qe=this,We,Ue,je;for(We=0,Ue=Ve.length;Ue>We;We++)je=qe.finder.findFormat(Ve[We]),je&&(qe.attributes&&qe.attributes.style?(Se.unstyle(je,qe.attributes.style),je.style.cssText||je.attributes["class"]||Se.unwrap(je)):Se.unwrap(je))},split:function(Ve){var je=Ae.textNodes(Ve),qe=je.length,We,Ue;if(0<qe)for(We=0;qe>We;We++)Ue=this.finder.findFormat(je[We]),Ue&&Ae.split(Ve,Ue,!0)},consolidate:function(Ve){for(var We,Ue;1<Ve.length;)if(We=Ve.pop(),Ue=Ve[Ve.length-1],We.previousSibling&&We.previousSibling.className==Pe&&Ue.appendChild(We.previousSibling),We.tagName==Ue.tagName&&We.previousSibling==Ue&&We.style.cssText==Ue.style.cssText){for(;We.firstChild;)Ue.appendChild(We.firstChild);Se.remove(We)}}}),He=Re.extend({init:function(Ve,We){var Ue=this;Ue.format=Ve,Ue.greedyProperty=We,Re.fn.init.call(Ue,Ve)},getInlineCssValue:function(Ve){var ea=Ve.attributes,ta=pe.trim,We,Ue,je,qe,Ge,Ye,Ke,Xe,Qe,$e,Je,Ze;if(ea)for(We=0,Ue=ea.length;Ue>We;We++)if(je=ea[We],qe=je.nodeName,Ge=je.nodeValue,je.specified&&"style"==qe)for(Ye=ta(Ge||Ve.style.cssText).split(";"),Xe=0,Qe=Ye.length;Qe>Xe;Xe++)if(Ke=Ye[Xe],Ke.length){if($e=Ke.split(":"),Je=ta($e[0].toLowerCase()),Ze=ta($e[1]),Je!=this.greedyProperty)continue;return 0<=Je.indexOf("color")?Se.toHex(Ze):Ze}},getFormatInner:function(Ve){var qe=pe(Se.isDataNode(Ve)?Ve.parentNode:Ve),Ge=qe.parents().andSelf(),We,Ue,je;for(We=0,Ue=Ge.length;Ue>We;We++)if(je="className"==this.greedyProperty?Ge[We].className:this.getInlineCssValue(Ge[We]))return je;return"inherit"},getFormat:function(Ve){var je=this.getFormatInner(Ve[0]),We,Ue;for(We=1,Ue=Ve.length;Ue>We;We++)if(je!=this.getFormatInner(Ve[We]))return"";return je},isFormatted:function(Ve){return""!==this.getFormat(Ve)}}),ze=Ee.extend({init:function(Ve,We,Ue){var je=this;Ee.fn.init.call(je,Ve,We),je.greedyProperty=Ue,je.values=We,je.finder=new He(Ve,Ue)},activate:function(Ve,We){var je=this,qe=je.greedyProperty,Ge="apply",Ue;je.split(Ve),qe&&(Ue=qe.replace(/-([a-z])/,function(Ye,Ke){return Ke.toUpperCase()}),"inherit"==je.values.style[Ue]&&(Ge="remove")),je[Ge](We)}}),Oe=Te.extend({init:function(Ve){Te.fn.init.call(this,De(Ve,{finder:new Re(Ve.format),formatter:function(){return new Ee(Ve.format)}})),this.willDelayExecution=me}}),Me=we.extend({willDelayExecution:me,update:function(Ve,We,Ue){var qe=Ve.data(this.type),Ge=Ue.getPending(this.name),je;je=Ge&&Ge.options.params?Ge.options.params.value:this.finder.getFormat(We),qe.close(),qe.value(je)}}),Ne=Me.extend({init:function(Ve){var We=this;we.fn.init.call(We,Ve),We.type=_e.support.browser.msie||_e.support.touch?"kendoDropDownList":"kendoComboBox",We.format=[{tags:["span"]}],We.finder=new He(We.format,Ve.cssAttr)},command:function(Ve){var We=this.options,Ue=this.format,je={};return new ye.FormatCommand(De(Ve,{formatter:function(){return je[We.domAttr]=Ve.value,new ze(Ue,{style:je},We.cssAttr)}}))},initialize:function(Ve,We){var je=We.editor,qe=this.options,Ge=qe.name,Ye=[],Ue;qe.defaultValue&&(Ye=[{text:je.options.messages[qe.defaultValue[0].text],value:qe.defaultValue[0].value}]),Ue=Ye.concat(qe.items?qe.items:je.options[Ge]),Ve[this.type]({dataTextField:"text",dataValueField:"value",dataSource:Ue,change:function(){we.exec(je,Ge,this.value())},highlightFirst:!1}),Ve.closest(".k-widget").removeClass("k-"+Ge).find("*").andSelf().attr("unselectable","on"),Ve.data(this.type).value("inherit")}}),Le=we.extend({init:function(Ve){we.fn.init.call(this,Ve),this.format=[{tags:["span"]}]},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(Ve){var We=this.options,Ue=this.format,je={};return new ye.FormatCommand(De(Ve,{formatter:function(){return je[We.domAttr]=Ve.value,new ze(Ue,{style:je},We.cssAttr)}}))},willDelayExecution:me,initialize:function(Ve,We){var Ue=We.editor,je=this.name,qe=De({},Le.fn.options,this.options),Ge=qe.palette;Ve=this._widget=new _e.ui.ColorPicker(Ve,{value:pe.isArray(Ge)?Ge[0]:"#000",toolIcon:"k-"+qe.name,palette:Ge,change:function(){var Ye=Ve.value();Ye&&we.exec(Ue,je,Ye)}}),Ve.bind("activate",function(Ye){Ye.preventDefault(),Ve.trigger("change"),Ue.focus()}),Ve.wrapper.attr({title:We.title,unselectable:"on"}).find("*").attr("unselectable","on")}}),Be=Me.extend({init:function(Ve){var We=this;we.fn.init.call(We,Ve),We.type="kendoSelectBox",We.format=[{tags:["span"]}],We.finder=new He(We.format,"className")},command:function(Ve){var We=this.format;return new ye.FormatCommand(De(Ve,{formatter:function(){return new ze(We,{className:Ve.value})}}))},initialize:function(Ve,We){var Ue=We.editor,je=this.options;new ye.SelectBox(Ve,{dataTextField:"text",dataValueField:"value",dataSource:je.items||Ue.options.style,title:Ue.options.messages.style,change:function(){we.exec(Ue,"style",this.value())},highlightFirst:!1}),Ve.closest(".k-widget").removeClass("k-"+this.name).find("*").andSelf().attr("unselectable","on")}});De(ye,{InlineFormatFinder:Re,InlineFormatter:Ee,GreedyInlineFormatFinder:He,GreedyInlineFormatter:ze,InlineFormatTool:Oe,FontTool:Ne,ColorTool:Le,StyleTool:Be}),Fe("style",new ye.StyleTool({template:new Ce({template:ke.dropDownListTemplate,title:"Styles"})})),Ie("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),Fe("bold",new Oe({key:"B",ctrl:!0,format:be.bold,template:new Ce({template:ke.buttonTemplate,title:"Bold"})})),Ie("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),Fe("italic",new Oe({key:"I",ctrl:!0,format:be.italic,template:new Ce({template:ke.buttonTemplate,title:"Italic"})})),Ie("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),Fe("underline",new Oe({key:"U",ctrl:!0,format:be.underline,template:new Ce({template:ke.buttonTemplate,title:"Underline"})})),Ie("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),Fe("strikethrough",new Oe({format:be.strikethrough,template:new Ce({template:ke.buttonTemplate,title:"Strikethrough"})})),Ie("superscript",[{tags:["sup"]}]),Fe("superscript",new Oe({format:be.superscript,template:new Ce({template:ke.buttonTemplate,title:"Superscript"})})),Ie("subscript",[{tags:["sub"]}]),Fe("subscript",new Oe({format:be.subscript,template:new Ce({template:ke.buttonTemplate,title:"Subscript"})})),Fe("foreColor",new Le({cssAttr:"color",domAttr:"color",name:"foreColor",template:new Ce({template:ke.colorPickerTemplate,title:"Color"})})),Fe("backColor",new Le({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new Ce({template:ke.colorPickerTemplate,title:"Background Color"})})),Fe("fontName",new Ne({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new Ce({template:ke.comboBoxTemplate,title:"Font Name"})})),Fe("fontSize",new Ne({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new Ce({template:ke.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=me.Class,xe=pe.extend,ye=me.ui.editor,be=me.ui.Editor.fn.options.formats,ke=ye.Dom,we=ye.Command,Ce=ye.Tool,Te=ye.ToolTemplate,Se=ye.FormatTool,Ae=ye.EditorUtils,De=Ae.registerTool,Fe=Ae.registerFormat,Ie=ye.RangeUtils,Pe=_e.extend({init:function(Me){this.format=Me},contains:function(Me,Ne){var Le,Be,Ve;for(Le=0,Be=Ne.length;Be>Le;Le++)if(Ve=Ne[Le],!Ve||!ke.isAncestorOrSelf(Me,Ve))return!1;return!0},findSuitable:function(Me){var Ve=this.format,We=[],Ne,Le,Be;for(Ne=0,Le=Me.length;Le>Ne;Ne++){if(Be=ke.ofType(Me[Ne],Ve[0].tags)?Me[Ne]:ke.parentOfType(Me[Ne],Ve[0].tags),!Be)return[];0>pe.inArray(Be,We)&&We.push(Be)}for(Ne=0,Le=We.length;Le>Ne;Ne++)if(this.contains(We[Ne],We))return[We[Ne]];return We},findFormat:function(Me){var Ue=this.format,Ne,Le,Be,Ve,We;for(Ne=0,Le=Ue.length;Le>Ne;Ne++)for(Be=Me,Ve=Ue[Ne].tags,We=Ue[Ne].attr;Be;){if(ke.ofType(Be,Ve)&&ke.attrEquals(Be,We))return Be;Be=Be.parentNode}return null},getFormat:function(Me){var Be=this,Ve=function(Ue){return Be.findFormat(ke.isDataNode(Ue)?Ue.parentNode:Ue)},We=Ve(Me[0]),Ne,Le;if(!We)return"";for(Ne=1,Le=Me.length;Le>Ne;Ne++)if(We!=Ve(Me[Ne]))return"";return We.nodeName.toLowerCase()},isFormatted:function(Me){for(var Ne=0,Le=Me.length;Le>Ne;Ne++)if(!this.findFormat(Me[Ne]))return!1;return!0}}),Re=_e.extend({init:function(Me,Ne){this.format=Me,this.values=Ne,this.finder=new Pe(Me)},wrap:function(Me,Ne,Le){var qe=1==Le.length?ke.blockParentOrBody(Le[0]):ke.commonAncestor.apply(null,Le),Be,Ve,We,Ue,je;for(ke.isInline(qe)&&(qe=ke.blockParentOrBody(qe)),We=ke.significantChildNodes(qe),Ue=ke.findNodeIndex(We[0]),je=ke.create(qe.ownerDocument,Me,Ne),Be=0;We.length>Be;Be++)Ve=We[Be],ke.isBlock(Ve)?(ke.attr(Ve,Ne),je.childNodes.length&&(ke.insertBefore(je,Ve),je=je.cloneNode(!1)),Ue=ke.findNodeIndex(Ve)+1):je.appendChild(Ve);je.firstChild&&ke.insertAt(qe,je,Ue)},apply:function(Me){var We=this,Ue=ke.is(Me[0],"img")?[Me[0]]:We.finder.findSuitable(Me),je=Ue.length?Ae.formatByName(ke.name(Ue[0]),We.format):We.format[0],Ne,Le,Be,Ve;if(je)if(Ne=je.tags[0],Le=xe({},je.attr,We.values),Ue.length)for(Be=0,Ve=Ue.length;Ve>Be;Be++)ke.attr(Ue[Be],Le);else We.wrap(Ne,Le,Me)},remove:function(Me){var Ne,Le,Be,Ve,We;for(Ne=0,Le=Me.length;Le>Ne;Ne++)Be=this.finder.findFormat(Me[Ne]),Be&&(We=ke.name(Be),"div"!=We||Be.getAttribute("class")?(Ve=Ae.formatByName(We,this.format),Ve.attr.style&&ke.unstyle(Be,Ve.attr.style),Ve.attr.className&&ke.removeClass(Be,Ve.attr.className)):ke.unwrap(Be))},toggle:function(Me){var Ne=this,Le=Ie.nodes(Me);Ne.finder.isFormatted(Le)?Ne.remove(Le):Ne.apply(Le)}}),Ee=_e.extend({init:function(Me,Ne){var Le=this;Le.format=Me,Le.values=Ne,Le.finder=new Pe(Me)},apply:function(Me){var Ue=this.format,je=ke.blockParents(Me),qe=Ue[0].tags[0],Ne,Le,Be,Ve,We;if(je.length)for(Ne=0,Le=je.length;Le>Ne;Ne++)ke.is(je[Ne],"li")?(Be=je[Ne].parentNode,Ve=new ye.ListFormatter(Be.nodeName.toLowerCase(),qe),We=this.editor.createRange(),We.selectNode(je[Ne]),Ve.toggle(We)):ke.changeTag(je[Ne],qe);else new Re(Ue,this.values).apply(Me)},toggle:function(Me){var Ne=Ie.textNodes(Me);Ne.length||(Me.selectNodeContents(Me.commonAncestorContainer),Ne=Ie.textNodes(Me),Ne.length||(Ne=ke.significantChildNodes(Me.commonAncestorContainer))),this.apply(Ne)}}),He=we.extend({init:function(Me){Me.formatter=Me.formatter(),we.fn.init.call(this,Me)}}),ze=Se.extend({init:function(Me){Se.fn.init.call(this,xe(Me,{finder:new Pe(Me.format),formatter:function(){return new Re(Me.format)}}))}}),Oe=Ce.extend({init:function(Me){Ce.fn.init.call(this,Me),this.finder=new Pe([{tags:ke.blockElements}])},command:function(Me){return new He(xe(Me,{formatter:function(){return new Ee([{tags:[Me.value]}],{})}}))},update:function(Me,Ne){var Le;Le=Me.is("select")?Me.data("kendoSelectBox"):Me.find("select").data("kendoSelectBox"),Le.close(),Le.value(this.finder.getFormat(Ne))},initialize:function(Me,Ne){var Le=Ne.editor,Be="formatBlock";new ye.SelectBox(Me,{dataTextField:"text",dataValueField:"value",dataSource:this.options.items?this.options.items:Le.options.formatBlock,title:Le.options.messages.formatBlock,change:function(){Ce.exec(Le,Be,this.value())},highlightFirst:!1}),Me.closest(".k-widget").removeClass("k-"+Be).find("*").andSelf().attr("unselectable","on")}});xe(ye,{BlockFormatFinder:Pe,BlockFormatter:Re,GreedyBlockFormatter:Ee,FormatCommand:He,BlockFormatTool:ze,FormatBlockTool:Oe}),De("formatBlock",new Oe({template:new Te({template:Ae.dropDownListTemplate})})),Fe("justifyLeft",[{tags:ke.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left"}}}]),De("justifyLeft",new ze({format:be.justifyLeft,template:new Te({template:Ae.buttonTemplate,title:"Justify Left"})})),Fe("justifyCenter",[{tags:ke.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]),De("justifyCenter",new ze({format:be.justifyCenter,template:new Te({template:Ae.buttonTemplate,title:"Justify Center"})})),Fe("justifyRight",[{tags:ke.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right"}}}]),De("justifyRight",new ze({format:be.justifyRight,template:new Te({template:Ae.buttonTemplate,title:"Justify Right"})})),Fe("justifyFull",[{tags:ke.blockElements,attr:{style:{textAlign:"justify"}}}]),De("justifyFull",new ze({format:be.justifyFull,template:new Te({template:Ae.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=pe.extend,xe=me.ui.editor,ye=xe.Dom,be=xe.Command,ke=xe.Tool,we=xe.BlockFormatter,Ce=ye.normalize,Te=xe.RangeUtils,Se=xe.EditorUtils.registerTool,Ae=be.extend({init:function(Fe){this.options=Fe,be.fn.init.call(this,Fe)},_insertMarker:function(Fe,Ie){var Re=ye.create(Fe,"a"),Pe;return Ie.insertNode(Re),Re.parentNode||(Pe=Ie.commonAncestorContainer,Pe.innerHTML="",Pe.appendChild(Re)),Ce(Re.parentNode),Re},exec:function(){function Fe(qe){if(qe.firstChild&&ye.is(qe.firstChild,"br")&&ye.remove(qe.firstChild),ye.isDataNode(qe)&&!qe.nodeValue&&(qe=qe.parentNode),qe&&!ye.is(qe,"img")){for(;qe.firstChild&&1==qe.firstChild.nodeType;)qe=qe.firstChild;""===qe.innerHTML&&(qe.innerHTML=Ve)}}var Le=this.getRange(),Be=Te.documentFromRange(Le),Ve=me.support.browser.msie?"":"<br _moz_dirty=\"\" />",We="p,h1,h2,h3,h4,h5,h6".split(","),Ue=ye.parentOfType(Le.startContainer,We),je=ye.parentOfType(Le.endContainer,We),Ie,Pe,Re,Ee,He,ze,Oe,Me,Ne;Le.deleteContents(),He=this._insertMarker(Be,Le),ze=ye.parentOfType(He,["li"]),Oe=ye.parentOfType(He,"h1,h2,h3,h4,h5,h6".split(",")),ze?(Me=Le.cloneRange(),Me.selectNode(ze),Te.textNodes(Me).length||(Ee=ye.create(Be,"p"),ze.nextSibling&&Te.split(Me,ze.parentNode),ye.insertAfter(Ee,ze.parentNode),ye.remove(1==ze.parentNode.childNodes.length?ze.parentNode:ze),Ee.innerHTML=Ve,Re=Ee)):Oe&&!He.nextSibling&&(Ee=ye.create(Be,"p"),ye.insertAfter(Ee,Oe),Ee.innerHTML=Ve,ye.remove(He),Re=Ee),Re||(ze||Oe||new we([{tags:["p"]}]).apply([He]),Le.selectNode(He),Ie=ye.parentOfType(He,[ze?"li":Oe?ye.name(Oe):"p"]),Te.split(Le,Ie,Ue&&!je||!Ue&&je),Pe=Ie.previousSibling,ye.is(Pe,"li")&&Pe.firstChild&&!ye.is(Pe.firstChild,"br")&&(Pe=Pe.firstChild),Re=Ie.nextSibling,ye.is(Re,"li")&&Re.firstChild&&!ye.is(Re.firstChild,"br")&&(Re=Re.firstChild),ye.remove(Ie),Fe(Pe),Fe(Re),Ce(Pe)),Ce(Re),ye.is(Re,"img")?Le.setStartBefore(Re):(Le.selectNodeContents(Re),Ne=Te.textNodes(Le)[0],Ne&&Le.selectNodeContents(Ne)),Le.collapse(!0),ye.scrollTo(Re),Te.selectRange(Le)}}),De=be.extend({init:function(Fe){this.options=Fe,be.fn.init.call(this,Fe)},exec:function(){var Ie=this.getRange(),Pe=ye.create(Te.documentFromRange(Ie),"br"),Fe;Ie.deleteContents(),Ie.insertNode(Pe),Ce(Pe.parentNode),me.support.browser.msie||Pe.nextSibling&&!ye.isWhitespace(Pe.nextSibling)||(Fe=Pe.cloneNode(!0),Fe.setAttribute("_moz_dirty",""),ye.insertAfter(Fe,Pe)),Ie.setStartAfter(Pe),Ie.collapse(!0),ye.scrollTo(Pe.nextSibling||Pe),Te.selectRange(Ie)}});_e(xe,{ParagraphCommand:Ae,NewLineCommand:De}),Se("insertLineBreak",new ke({key:13,shift:!0,command:De})),Se("insertParagraph",new ke({key:13,command:Ae}))}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=me.Class,xe=pe.extend,ye=me.ui.editor,be=ye.Dom,ke=ye.RangeUtils,we=ye.EditorUtils,Ce=ye.Command,Te=ye.ToolTemplate,Se=ye.FormatTool,Ae=ye.BlockFormatFinder,De=ke.textNodes,Fe=ye.EditorUtils.registerTool,Ie=Ae.extend({init:function(He){this.tag=He;var ze=this.tags=["ul"==He?"ol":"ul",He];Ae.fn.init.call(this,[{tags:ze}])},isFormatted:function(He){var Me=[],ze,Oe;for(Oe=0;He.length>Oe;Oe++)(ze=this.findFormat(He[Oe]))&&be.name(ze)==this.tag&&Me.push(ze);if(1>Me.length)return!1;if(Me.length!=He.length)return!1;for(Oe=0;Me.length>Oe&&Me[Oe].parentNode==ze.parentNode;Oe++)if(Me[Oe]!=ze)return!1;return!0},findSuitable:function(He){var ze=be.parentOfType(He[0],this.tags);return ze&&be.name(ze)==this.tag?ze:null}}),Pe=_e.extend({init:function(He,ze){var Oe=this;Oe.finder=new Ie(He),Oe.tag=He,Oe.unwrapTag=ze},wrap:function(He,ze){var Ne=be.create(He.ownerDocument,"li"),Oe,Me;for(Oe=0;ze.length>Oe;Oe++)if(Me=ze[Oe],be.is(Me,"li"))He.appendChild(Me);else if(be.is(Me,"ul")||be.is(Me,"ol"))for(;Me.firstChild;)He.appendChild(Me.firstChild);else if(be.is(Me,"td")){for(;Me.firstChild;)Ne.appendChild(Me.firstChild);He.appendChild(Ne),Me.appendChild(He),He=He.cloneNode(!1),Ne=Ne.cloneNode(!1)}else Ne.appendChild(Me),be.isBlock(Me)&&(He.appendChild(Ne),be.unwrap(Me),Ne=Ne.cloneNode(!1));Ne.firstChild&&He.appendChild(Ne)},containsAny:function(He,ze){for(var Oe=0;ze.length>Oe;Oe++)if(be.isAncestorOrSelf(He,ze[Oe]))return!0;return!1},suitable:function(He,ze){if("k-marker"==He.className){var Oe=He.nextSibling;if(Oe&&be.isBlock(Oe))return!1;if(Oe=He.previousSibling,Oe&&be.isBlock(Oe))return!1}return this.containsAny(He,ze)||be.isInline(He)||3==He.nodeType},split:function(He){var Ve=De(He),ze,Oe,Me,Ne,Le,Be;if(Ve.length)for(ze=be.parentOfType(Ve[0],["li"]),Oe=be.parentOfType(Ve[Ve.length-1],["li"]),He.setStartBefore(ze),He.setEndAfter(Oe),Me=0,Ne=Ve.length;Ne>Me;Me++)Le=this.finder.findFormat(Ve[Me]),Le&&(Be=pe(Le).parents("ul,ol"),Be[0]?ke.split(He,Be.last()[0],!0):ke.split(He,Le,!0))},merge:function(He,ze){for(var Me=ze.previousSibling,Oe;Me&&("k-marker"==Me.className||3==Me.nodeType&&be.isWhitespace(Me));)Me=Me.previousSibling;if(Me&&be.name(Me)==He){for(;ze.firstChild;)Me.appendChild(ze.firstChild);be.remove(ze),ze=Me}for(Oe=ze.nextSibling;Oe&&("k-marker"==Oe.className||3==Oe.nodeType&&be.isWhitespace(Oe));)Oe=Oe.nextSibling;if(Oe&&be.name(Oe)==He){for(;ze.lastChild;)Oe.insertBefore(ze.lastChild,Oe.firstChild);be.remove(ze)}},applyOnSection:function(He,ze){function Oe(){Ne.push(this)}var je=this.tag,Me,Ne,Le,Be,Ve,We,Ue;for(Me=1==ze.length?be.parentOfType(ze[0],["ul","ol"]):be.commonAncestor.apply(null,ze),Me||(Me=be.parentOfType(ze[0],["p","td"])||ze[0].ownerDocument.body),be.isInline(Me)&&(Me=be.blockParentOrBody(Me)),Ne=[],Le=this.finder.findSuitable(ze),Le||(Le=new Ie("ul"==je?"ol":"ul").findSuitable(ze)),Be=be.significantChildNodes(Me),Be.length||(Be=ze),/table|tbody/.test(be.name(Me))&&(Be=pe.map(ze,function(qe){return be.parentOfType(qe,["td"])})),Ve=0;Be.length>Ve;Ve++)We=Be[Ve],Ue=be.name(We),!this.suitable(We,ze)||Le&&be.isAncestorOrSelf(Le,We)||(Le&&("ul"==Ue||"ol"==Ue)?(pe.each(We.childNodes,Oe),be.remove(We)):Ne.push(We));Ne.length!=Be.length||Me==ze[0].ownerDocument.body||/table|tbody|tr|td/.test(be.name(Me))||(Ne=[Me]),Le||(Le=be.create(Me.ownerDocument,je),be.insertBefore(Le,Ne[0])),this.wrap(Le,Ne),be.is(Le,je)||be.changeTag(Le,je),this.merge(je,Le)},apply:function(He){var Ne=0,Le=[],ze,Oe,Me;do Me=be.parentOfType(He[Ne],["td","body"]),ze&&Me==ze?Oe.push(He[Ne]):(ze&&Le.push({section:ze,nodes:Oe}),Oe=[He[Ne]],ze=Me),Ne++;while(He.length>Ne);for(Le.push({section:ze,nodes:Oe}),Ne=0;Le.length>Ne;Ne++)this.applyOnSection(Le[Ne].section,Le[Ne].nodes)},unwrap:function(He){var Le=He.ownerDocument.createDocumentFragment(),Be=this.unwrapTag,ze,Oe,Me,Ne;for(Oe=He.firstChild;Oe;Oe=Oe.nextSibling){for(Me=be.create(He.ownerDocument,Be||"p");Oe.firstChild;)Ne=Oe.firstChild,be.isBlock(Ne)?(Me.firstChild&&(Le.appendChild(Me),Me=be.create(He.ownerDocument,Be||"p")),Le.appendChild(Ne)):Me.appendChild(Ne);Me.firstChild&&Le.appendChild(Me)}ze=pe(He).parents("ul,ol"),ze[0]?(be.insertAfter(Le,ze.last()[0]),ze.last().remove()):be.insertAfter(Le,He),be.remove(He)},remove:function(He){var ze,Oe,Me;for(Oe=0,Me=He.length;Me>Oe;Oe++)ze=this.finder.findFormat(He[Oe]),ze&&this.unwrap(ze)},toggle:function(He){var Oe=this,Me=De(He),Ne=He.commonAncestorContainer,ze;Me.length||(He.selectNodeContents(Ne),Me=De(He),Me.length||(ze=Ne.ownerDocument.createTextNode(""),He.startContainer.appendChild(ze),Me=[ze],He.selectNode(ze.parentNode))),Oe.finder.isFormatted(Me)?(Oe.split(He),Oe.remove(Me)):Oe.apply(Me)}}),Re=Ce.extend({init:function(He){He.formatter=new Pe(He.tag),Ce.fn.init.call(this,He)}}),Ee=Se.extend({init:function(He){this.options=He,Se.fn.init.call(this,xe(He,{finder:new Ie(He.tag)}))},command:function(He){return new Re(xe(He,{tag:this.options.tag}))}});xe(ye,{ListFormatFinder:Ie,ListFormatter:Pe,ListCommand:Re,ListTool:Ee}),Fe("insertUnorderedList",new Ee({tag:"ul",template:new Te({template:we.buttonTemplate,title:"Remove Link"})})),Fe("insertOrderedList",new Ee({tag:"ol",template:new Te({template:we.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=me.Class,xe=pe.extend,ye=me.ui.editor,be=ye.Dom,ke=ye.RangeUtils,we=ye.EditorUtils,Ce=ye.Command,Te=ye.Tool,Se=ye.ToolTemplate,Ae=ye.InlineFormatter,De=ye.InlineFormatFinder,Fe=ke.textNodes,Ie=ye.EditorUtils.registerTool,Pe=_e.extend({findSuitable:function(Oe){return be.parentOfType(Oe,["a"])}}),Re=_e.extend({init:function(){this.finder=new Pe},apply:function(Oe,Me){var We=Fe(Oe),Ne,Le,Be,Ve;Me.innerHTML?(Ne=ke.getMarkers(Oe),Le=ke.documentFromRange(Oe),Oe.deleteContents(),Ve=be.create(Le,"a",Me),Oe.insertNode(Ve),"a"==be.name(Ve.parentNode)&&be.insertAfter(Ve,Ve.parentNode),1<Ne.length&&(be.insertAfter(Ne[Ne.length-1],Ve),be.insertAfter(Ne[1],Ve),be[0<We.length?"insertBefore":"insertAfter"](Ne[0],Ve))):(Be=new Ae([{tags:["a"]}],Me),Be.finder=this.finder,Be.apply(We))}}),Ee=Ce.extend({init:function(Oe){Oe.formatter={toggle:function(Me){new Ae([{tags:["a"]}]).remove(Fe(Me))}},this.options=Oe,Ce.fn.init.call(this,Oe)}}),He=Ce.extend({init:function(Oe){var Me=this;Me.options=Oe,Ce.fn.init.call(Me,Oe),Me.formatter=new Re,Oe.url?this.exec=function(){this.formatter.apply(Oe.range,{href:Oe.url,innerHTML:Oe.text||Oe.url,target:Oe.target})}:(Me.attributes=null,Me.async=!0)},_dialogTemplate:function(Oe){return me.template("<div class=\"k-editor-dialog\"><ol><li class='k-form-text-row'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label><input type='text' class='k-input' id='k-editor-link-url'></li># if (showText) { #<li class='k-form-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label><input type='text' class='k-input' id='k-editor-link-text'></li># } #<li class='k-form-text-row'><label for='k-editor-link-title'>#: messages.linkToolTip #</label><input type='text' class='k-input' id='k-editor-link-title'></li><li class='k-form-checkbox-row'><input type='checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></li></ol><div class='k-button-wrapper'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href=\"\\#\" class=\"k-dialog-close k-link\">#: messages.dialogCancel #</a></div></div>")({messages:this.editor.options.messages,showText:Oe})},exec:function(){function Oe(Ye){var $e=Ve.element,Je=pe("#k-editor-link-url",$e).val(),Ke,Xe,Qe;Je&&"http://"!=Je&&(We.attributes={href:Je},Ke=pe("#k-editor-link-title",$e).val(),Ke&&(We.attributes.title=Ke),Xe=pe("#k-editor-link-text",$e).val(),Xe===qe||!Xe&&0!==Ne.length||(We.attributes.innerHTML=Xe||Je),Qe=pe("#k-editor-link-target",$e).is(":checked"),We.attributes.target=Qe?"_blank":null,We.formatter.apply(Ue,We.attributes)),Me(Ye),We.change&&We.change()}function Me(Ye){Ye.preventDefault(),Ve.destroy(),be.windowFromDocument(ke.documentFromRange(Ue)).focus(),We.releaseRange(Ue)}var We=this,Ue=We.getRange(),je=Ue.collapsed,qe=null,Ge=We.editor.options.messages,Ne,Le,Be,Ve;Ue=We.lockRange(!0),Ne=Fe(Ue),Le=Ne.length?We.formatter.finder.findSuitable(Ne[0]):null,Be=1>=Ne.length||2==Ne.length&&je,Ve=we.createDialog(We._dialogTemplate(Be),We.editor,xe({},We.editor.options.dialogOptions,{title:Ge.createLink,close:Me,visible:!1})).find(".k-dialog-insert").click(Oe).end().find(".k-dialog-close").click(Me).end().find(".k-form-text-row input").keydown(function(Ye){var Ke=me.keys;Ye.keyCode==Ke.ENTER?Oe(Ye):Ye.keyCode==Ke.ESC&&Me(Ye)}).end().find("#k-editor-link-url").val(Le?Le.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(0<Ne.length?1==Ne.length?Ne[0].nodeValue:Ne[0].nodeValue+Ne[1].nodeValue:"").end().find("#k-editor-link-title").val(Le?Le.title:"").end().find("#k-editor-link-target").attr("checked",!!Le&&"_blank"==Le.target).end().data("kendoWindow").center().open(),Be&&0<Ne.length&&(qe=pe("#k-editor-link-text",Ve.element).val()),pe("#k-editor-link-url",Ve.element).focus().select()},redo:function(){var Oe=this,Me=Oe.lockRange(!0);Oe.formatter.apply(Me,Oe.attributes),Oe.releaseRange(Me)}}),ze=Te.extend({init:function(Oe){this.options=Oe,this.finder=new De([{tags:["a"]}]),Te.fn.init.call(this,pe.extend(Oe,{command:Ee}))},initialize:function(Oe,Me){Te.fn.initialize.call(this,Oe,Me),Oe.addClass("k-state-disabled")},update:function(Oe,Me){Oe.toggleClass("k-state-disabled",!this.finder.isFormatted(Me)).removeClass("k-state-hover")}});xe(me.ui.editor,{LinkFormatFinder:Pe,LinkFormatter:Re,UnlinkCommand:Ee,LinkCommand:He,UnlinkTool:ze}),Ie("createLink",new Te({key:"K",ctrl:!0,command:He,template:new Se({template:we.buttonTemplate,title:"Create Link"})})),Ie("unlink",new ze({key:"K",ctrl:!0,shift:!0,template:new Se({template:we.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(pe,me){var _e=window.kendo,xe=pe.extend,ye=_e.ui.editor,be=ye.EditorUtils,ke=ye.Dom,we=be.registerTool,Ce=ye.ToolTemplate,Te=ye.RangeUtils,Se=ye.Command,Ae=_e.keys,De="#k-editor-image-url",Fe="#k-editor-image-title",Ie=Se.extend({init:function(Pe){var Re=this;Se.fn.init.call(Re,Pe),Re.async=!0,Re.attributes={}},insertImage:function(Pe,Re){var Ee=this.attributes;if(Ee.src&&"http://"!=Ee.src){if(!Pe)return Pe=ke.create(Te.documentFromRange(Re),"img",Ee),Pe.onload=Pe.onerror=function(){Pe.removeAttribute("complete"),Pe.removeAttribute("width"),Pe.removeAttribute("height")},Re.deleteContents(),Re.insertNode(Pe),Re.setStartAfter(Pe),Re.setEndAfter(Pe),Te.selectRange(Re),!0;ke.attr(Pe,Ee)}return!1},_dialogTemplate:function(Pe){return _e.template("<div class=\"k-editor-dialog\"># if (showBrowser) { #<div class=\"k-imagebrowser\"></div># } #<ol><li class=\"k-form-text-row\"><label for=\"k-editor-image-url\">#: messages.imageWebAddress #</label><input type=\"text\" class=\"k-input\" id=\"k-editor-image-url\"></li><li class=\"k-form-text-row\"><label for=\"k-editor-image-title\">#: messages.imageAltText #</label><input type=\"text\" class=\"k-input\" id=\"k-editor-image-title\"></li></ol><div class=\"k-button-wrapper\"><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href=\"\\#\" class=\"k-dialog-close k-link\">#: messages.dialogCancel #</a></div></div>")({messages:this.editor.options.messages,showBrowser:Pe})},redo:function(){var Pe=this,Re=Pe.lockRange();Pe.insertImage(Te.image(Re),Re)||Pe.releaseRange(Re)},exec:function(){function Pe(Ue){var je=Ee.element;ze.attributes={src:je.find(De).val().replace(/ /g,"%20"),alt:je.find(Fe).val()},Me=ze.insertImage(Ne,Oe),Re(Ue),ze.change&&ze.change()}function Re(Ue){Ue.preventDefault(),Ee.destroy(),ke.windowFromDocument(Te.documentFromRange(Oe)).focus(),Me||ze.releaseRange(Oe)}var ze=this,Oe=ze.lockRange(),Me=!1,Ne=Te.image(Oe),Le=ze.editor.options,Be=Le.messages,Ve=Le.imageBrowser,We=!!(_e.ui.ImageBrowser&&Ve&&Ve.transport&&Ve.transport.read!==me),Ee,He;He=We?{width:"960px",height:"650px"}:{},Ee=be.createDialog(ze._dialogTemplate(We),ze.editor,xe(He,Le.dialogOptions,{title:Be.insertImage,close:Re,visible:!1,resizable:We,activate:function(){if(We){var Ue=this;new _e.ui.ImageBrowser(Ue.element.find(".k-imagebrowser"),xe({},Ve,{change:function(){Ue.element.find(De).val(this.value())},apply:Pe}))}}})).find(".k-dialog-insert").click(Pe).end().find(".k-dialog-close").click(Re).end().find(".k-form-text-row input").keydown(function(je){je.keyCode==Ae.ENTER?Pe(je):je.keyCode==Ae.ESC&&Re(je)}).end().find(De).val(Ne?Ne.getAttribute("src",2):"http://").end().find(Fe).val(Ne?Ne.alt:"").end().data("kendoWindow").center().open(),pe(De,Ee.element).focus().select()}});_e.ui.editor.ImageCommand=Ie,we("insertImage",new ye.Tool({command:Ie,template:new Ce({template:be.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(pe,me){var _e=window.kendo,xe=_e.ui.DropDownList,ye=xe.extend({init:function(be,ke){var we=this;xe.fn.init.call(we,be,ke),we.value(we.options.title)},options:{name:"SelectBox"},value:function(be){var ke=this,we=xe.fn.value.call(ke,be);return be===me?we:(be!==xe.fn.value.call(ke)&&(ke.text(ke.options.title),ke._current.removeClass("k-state-selected"),ke.current(null),ke._oldIndex=ke.selectedIndex=-1),me)}});_e.ui.plugin(ye),_e.ui.editor.SelectBox=ye}(window.kendo.jQuery),function(pe,me){function _e(Me,Ne){var Le="rtl"==pe(Me).css("direction"),Be=Le?"Right":"Left",Ve="td"==we.name(Me)?"padding"+Be:"margin"+Be;return Ne===me?Me.style[Ve]||0:(0<Ne?Me.style[Ve]=Ne+"px":(Me.style[Ve]="",Me.style.cssText||Me.removeAttribute("style")),me)}var xe=window.kendo,ye=xe.Class,be=pe.extend,ke=xe.ui.editor,we=ke.Dom,Ce=ke.EditorUtils,Te=Ce.registerTool,Se=ke.Command,Ae=ke.Tool,De=ke.ToolTemplate,Fe=ke.RangeUtils,Ie=we.blockElements,Pe=ke.BlockFormatFinder,Re=ke.BlockFormatter,Ee=ye.extend({init:function(){this.finder=new Pe([{tags:we.blockElements}])},apply:function(Me){var Ke=this.finder.findSuitable(Me),Xe=[],Ne,Le,Be,Ve,We,Ue,je,qe,Ge,Ye;if(Ke.length){for(Ne=0,Le=Ke.length;Le>Ne;Ne++)we.is(Ke[Ne],"li")?pe(Ke[Ne]).index()?0>pe.inArray(Ke[Ne].parentNode,Xe)&&Xe.push(Ke[Ne]):Xe.push(Ke[Ne].parentNode):Xe.push(Ke[Ne]);for(;Xe.length;)if(!(Be=Xe.shift(),we.is(Be,"li")))for(qe=parseInt(_e(Be),10)+30,_e(Be,qe),Ge=0;Xe.length>Ge;Ge++)pe.contains(Be,Xe[Ge])&&Xe.splice(Ge,1);else if(Ve=Be.parentNode,We=pe(Be).prev("li"),Ue=We.find("ul,ol").last(),je=pe(Be).children("ul,ol")[0],je&&We[0])Ue[0]?(Ue.append(Be),Ue.append(pe(je).children()),we.remove(je)):(We.append(je),je.insertBefore(Be,je.firstChild));else for(je=We.children("ul,ol")[0],je||(je=we.create(Be.ownerDocument,we.name(Ve)),We.append(je));Be&&Be.parentNode==Ve;)je.appendChild(Be),Be=Xe.shift()}else Ye=new Re([{tags:"p"}],{style:{marginLeft:30}}),Ye.apply(Me)},remove:function(Me){var Ge=this.finder.findSuitable(Me),Ne,Le,Be,Ve,We,Ue,je,qe;for(Le=0,Be=Ge.length;Be>Le;Le++){if(je=pe(Ge[Le]),je.is("li")){if(Ve=je.parent(),We=Ve.parent(),We.is("li,ul,ol")&&!_e(Ve[0])){if(Ne&&pe.contains(Ne,We[0]))continue;Ue=je.nextAll("li"),Ue.length&&pe(Ve[0].cloneNode(!1)).appendTo(je).append(Ue),We.is("li")?je.insertAfter(We):je.appendTo(We),Ve.children("li").length||Ve.remove();continue}if(Ne==Ve[0])continue;Ne=Ve[0]}else Ne=Ge[Le];qe=parseInt(_e(Ne),10)-30,_e(Ne,qe)}}}),He=Se.extend({init:function(Me){Me.formatter={toggle:function(Ne){new Ee().apply(Fe.nodes(Ne))}},Se.fn.init.call(this,Me)}}),ze=Se.extend({init:function(Me){Me.formatter={toggle:function(Ne){new Ee().remove(Fe.nodes(Ne))}},Se.fn.init.call(this,Me)}}),Oe=Ae.extend({init:function(Me){Ae.fn.init.call(this,Me),this.finder=new Pe([{tags:Ie}])},update:function(Me,Ne){var Ue=this.finder.findSuitable(Ne),Le,Be,Ve,We;for(Ve=0,We=Ue.length;We>Ve;Ve++)if(Le=_e(Ue[Ve]),Le||(Be=pe(Ue[Ve]).parents("ul,ol").length,Le=we.is(Ue[Ve],"li")&&(1<Be||_e(Ue[Ve].parentNode))||we.ofType(Ue[Ve],["ul","ol"])&&0<Be),Le)return Me.removeClass("k-state-disabled"),me;Me.addClass("k-state-disabled").removeClass("k-state-hover")}});be(ke,{IndentFormatter:Ee,IndentCommand:He,OutdentCommand:ze,OutdentTool:Oe}),Te("indent",new Ae({command:He,template:new De({template:Ce.buttonTemplate,title:"Indent"})})),Te("outdent",new Oe({command:ze,template:new De({template:Ce.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=pe.extend,xe=me.ui.editor,ye=xe.Dom,be=xe.RangeUtils,ke=xe.EditorUtils,we=xe.Command,Ce=xe.Tool,Te=xe.ToolTemplate,Se=we.extend({init:function(Ae){var De=this;De.options=Ae,we.fn.init.call(De,Ae),De.attributes=null,De.async=!0},exec:function(){function Ae(ze){ze.preventDefault(),Re.data("kendoWindow").destroy();try{ye.windowFromDocument(be.documentFromRange(Ie)).focus()}catch(Oe){}}var De=this,Fe=De.editor,Ie=Fe.getRange(),Pe=Fe.options.messages,Re=pe(me.template(Se.template)(Pe)).appendTo(document.body),Ee=Se.indent(Fe.value()),He=".k-editor-textarea";ke.createDialog(Re,Fe,_e({},Fe.options.dialogOptions,{title:Pe.viewHtml,close:Ae,visible:!1})).find(He).val(Ee).end().find(".k-dialog-update").click(function(Oe){Fe.value(Re.find(He).val()),Ae(Oe),De.change&&De.change(),Fe.trigger("change")}).end().find(".k-dialog-close").click(Ae).end().data("kendoWindow").center().open(),Re.find(He).focus()}});_e(Se,{template:"<div class='k-editor-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>#: dialogUpdate #</button>&nbsp;#: dialogButtonSeparator #&nbsp;<a href='\\#' class='k-dialog-close k-link'>#: dialogCancel #</a></div></div>",indent:function(Ae){return Ae.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),me.ui.editor.ViewHtmlCommand=Se,xe.EditorUtils.registerTool("viewHtml",new Ce({command:Se,template:new Te({template:ke.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(pe){var me=window.kendo,_e=me.Class,xe=pe.extend,ye=me.ui.editor,be=ye.RangeUtils,ke=ye.Marker,we=_e.extend({init:function(Ce){this.editor=Ce,this.formats=[]},apply:function(Ce){var Te,Se,Ae,De,Fe,Ie,Pe,Re;if(this.hasPending()){if(Te=new ke,Te.addCaret(Ce),Se=Ce.startContainer.childNodes[Ce.startOffset],Ae=Se.previousSibling,Ae?(Ae.nodeValue||(Ae=Ae.previousSibling),Ce.setStart(Ae,Ae.nodeValue.length-1)):Ce.setStart(Ce.startContainer,Ce.startOffset),Te.add(Ce),!be.textNodes(Ce).length)return Te.remove(Ce),Ce.collapse(!0),this.editor.selectRange(Ce),void 0;for(De=Te.end.previousSibling.previousSibling,Ie=this.formats,Pe=0;Ie.length>Pe;Pe++)Fe=Ie[Pe],Re=Fe.command(xe({range:Ce},Fe.options.params)),Re.editor=this.editor,Re.exec(),Ce.selectNode(De);Te.remove(Ce),De.parentNode&&(Ce.setStart(De,1),Ce.collapse(!0)),this.clear(),this.editor.selectRange(Ce)}},hasPending:function(){return 0<this.formats.length},isPending:function(Ce){return!!this.getPending(Ce)},getPending:function(Ce){var Se=this.formats,Te;for(Te=0;Se.length>Te;Te++)if(Se[Te].name==Ce)return Se[Te]},toggle:function(Ce){var Se=this.formats,Te;for(Te=0;Se.length>Te;Te++)if(Se[Te].name==Ce.name)return Se[Te].params&&Se[Te].params.value!=Ce.params.value?Se[Te].params.value=Ce.params.value:Se.splice(Te,1),void 0;Se.push(Ce)},clear:function(){this.formats=[]}});xe(ye,{PendingFormats:we})}(window.kendo.jQuery);;(function(pe,me){function _e(Ne,Le,Be,Ve){return Ne({idx:Le,text:Be,ns:Te.ns,numeric:Ve})}function xe(Ne,Le){return Oe({className:Ne.substring(1),text:Le})}function ye(Ne,Le,Be,Ve){Ne.find(Le).parent().attr(Te.attr("page"),Be).attr("tabindex",-1).toggleClass("k-state-disabled",Ve)}function be(Ne,Le){ye(Ne,Fe,1,1>=Le)}function ke(Ne,Le){ye(Ne,Pe,Math.max(1,Le-1),1>=Le)}function we(Ne,Le,Be){ye(Ne,Re,Math.min(Be,Le+1),Le>=Be)}function Ce(Ne,Le,Be){ye(Ne,Ie,Be,Le>=Be)}var Te=window.kendo,Se=Te.ui,Ae=Se.Widget,De=pe.proxy,Fe=".k-i-seek-w",Ie=".k-i-seek-e",Pe=".k-i-arrow-w",Re=".k-i-arrow-e",Ee="change",He=".kendoPager",ze="click",Oe=Te.template("<a href=\"\\#\" title=\"#=text#\" class=\"k-link\"><span class=\"k-icon #= className #\">#=text#</span></a>"),Me=Ae.extend({init:function(Ne,Le){var We=this,Be,Ve;Ae.fn.init.call(We,Ne,Le),Le=We.options,We.dataSource=Te.data.DataSource.create(Le.dataSource),We.linkTemplate=Te.template(We.options.linkTemplate),We.selectTemplate=Te.template(We.options.selectTemplate),Be=We.page(),Ve=We.totalPages(),We._refreshHandler=De(We.refresh,We),We.dataSource.bind(Ee,We._refreshHandler),Le.previousNext&&(We.element.find(Fe).length||(We.element.append(xe(Fe,Le.messages.first)),be(We.element,Be,Ve)),We.element.find(Pe).length||(We.element.append(xe(Pe,Le.messages.previous)),ke(We.element,Be,Ve))),Le.numeric&&(We.list=We.element.find(".k-pager-numbers"),We.list.length||(We.list=pe("<ul class=\"k-pager-numbers k-reset\" />").appendTo(We.element))),Le.input&&(We.element.find(".k-pager-input").length||We.element.append("<span class=\"k-pager-input k-label\">"+Le.messages.page+"<input class=\"k-textbox\">"+Te.format(Le.messages.of,Ve)+"</span>"),We.element.on("keydown"+He,".k-pager-input input",De(We._keydown,We))),Le.previousNext&&(We.element.find(Re).length||(We.element.append(xe(Re,Le.messages.next)),we(We.element,Be,Ve)),We.element.find(Ie).length||(We.element.append(xe(Ie,Le.messages.last)),Ce(We.element,Be,Ve))),Le.pageSizes&&(We.element.find(".k-pager-sizes").length||pe("<span class=\"k-pager-sizes k-label\"><select/>"+Le.messages.itemsPerPage+"</span>").appendTo(We.element).find("select").html(pe.map(pe.isArray(Le.pageSizes)?Le.pageSizes:[5,10,20],function(Ue){return"<option>"+Ue+"</option>"}).join("")).end().appendTo(We.element),We.element.find(".k-pager-sizes select").val(We.pageSize()),Te.ui.DropDownList&&We.element.find(".k-pager-sizes select").show().kendoDropDownList(),We.element.on(Ee+He,".k-pager-sizes select",De(We._change,We))),Le.refresh&&(We.element.find(".k-pager-refresh").length||We.element.append("<a href=\"#\" class=\"k-pager-refresh k-link\"  title=\""+Le.messages.refresh+"\"><span class=\"k-icon k-i-refresh\">"+Le.messages.refresh+"</span></a>"),We.element.on(ze+He,".k-pager-refresh",De(We._refreshClick,We))),Le.info&&(We.element.find(".k-pager-info").length||We.element.append("<span class=\"k-pager-info k-label\" />")),We.element.on(ze+He,"a",De(We._click,We)).addClass("k-pager-wrap k-widget"),Le.autoBind&&We.refresh(),Te.notify(We)},destroy:function(){var Ne=this;Ae.fn.destroy.call(Ne),Ne.element.off(He),Ne.dataSource.unbind(Ee,Ne._refreshHandler)},events:[Ee],options:{name:"Pager",selectTemplate:"<li><span class=\"k-state-selected\">#=text#</span></li>",linkTemplate:"<li><a tabindex=\"-1\" href=\"\\#\" class=\"k-link\" data-#=ns#page=\"#=idx#\">#=text#</a></li>",buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(Ne){var Le=this;Le.dataSource.unbind(Ee,Le._refreshHandler),Le.dataSource=Le.options.dataSource=Ne,Ne.bind(Ee,Le._refreshHandler),Le.options.autoBind&&Ne.fetch()},refresh:function(){var Ve=this,We=1,Ue="",je=Ve.page(),qe=Ve.options,Ge=Ve.pageSize(),Ye=Ve.dataSource.total(),Ke=Ve.totalPages(),Xe=Ve.linkTemplate,Qe=qe.buttonCount,Ne,Le,Be;if(qe.numeric){for(je>Qe&&(Be=je%Qe,We=0===Be?je-Qe+1:je-Be+1),Le=Math.min(We+Qe-1,Ke),1<We&&(Ue+=_e(Xe,We-1,"...",!1)),Ne=We;Le>=Ne;Ne++)Ue+=_e(Ne==je?Ve.selectTemplate:Xe,Ne,Ne,!0);Ke>Le&&(Ue+=_e(Xe,Ne,"...",!1)),""===Ue&&(Ue=Ve.selectTemplate({text:0})),Ve.list.html(Ue)}qe.info&&(Ue=0<Ye?Te.format(qe.messages.display,(je-1)*Ge+1,Math.min(je*Ge,Ye),Ye):qe.messages.empty,Ve.element.find(".k-pager-info").html(Ue)),qe.input&&Ve.element.find(".k-pager-input").html(Ve.options.messages.page+"<input class=\"k-textbox\">"+Te.format(qe.messages.of,Ke)).find("input").val(je).attr("disabled",1>Ye).toggleClass("k-state-disabled",1>Ye),qe.previousNext&&(be(Ve.element,je,Ke),ke(Ve.element,je,Ke),we(Ve.element,je,Ke),Ce(Ve.element,je,Ke)),qe.pageSizes&&Ve.element.find(".k-pager-sizes select").val(Ge).filter("["+Te.attr("role")+"=dropdownlist]").kendoDropDownList("value",Ge).kendoDropDownList("text",Ge)},_keydown:function(Ne){if(Ne.keyCode===Te.keys.ENTER){var Le=this.element.find(".k-pager-input").find("input"),Be=parseInt(Le.val(),10);(isNaN(Be)||1>Be||Be>this.totalPages())&&(Be=this.page()),Le.val(Be),this.page(Be)}},_refreshClick:function(Ne){Ne.preventDefault(),this.dataSource.read()},_change:function(Ne){var Le=parseInt(Ne.currentTarget.value,10);isNaN(Le)||this.dataSource.pageSize(Le)},_click:function(Ne){var Le=pe(Ne.currentTarget);Ne.preventDefault(),Le.is(".k-state-disabled")||this.page(Le.attr(Te.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(Ne){return Ne===me?0<this.dataSource.total()?this.dataSource.page():0:(this.dataSource.page(Ne),this.trigger(Ee,{index:Ne}),me)}});Se.plugin(Me)})(window.kendo.jQuery);;(function(pe,me){function _e(Va){return Array(Va+1).join("<td class=\"k-group-cell\">&nbsp;</td>")}function xe(Va){var Ua=" ",Wa;if(Va){if(typeof Va===Ia)return Va;for(Wa in Va)Ua+=Wa+"=\""+Va[Wa]+"\""}return Ua}function ye(Va){var Wa=0;return pe("> .k-grouping-header, > .k-grid-toolbar",Va).each(function(){Wa+=this.offsetHeight}),Wa}function be(Va,Wa){pe("th, th .k-grid-filter, th .k-link",Va).add(document.body).css("cursor",Wa)}function ke(Va){var ja={},qa={},Wa,Ua;if(!$e(Va))for(Ye(Va)||(Va=[Va]),Wa=0,Ua=Va.length;Ua>Wa;Wa++)ja[Va[Wa].aggregate]=0,qa[Va[Wa].field]=ja;return qa}function we(Va,Wa,Ua){var ja=Va.eq(Wa),qa=Va.eq(Ua);ja[Wa>Ua?"insertBefore":"insertAfter"](qa)}function Ce(Va,Wa,Ua){var ja,qa,Ga,Ya;for(Ua=Ye(Ua)?Ua:[Ua],ja=0,qa=Ua.length;qa>ja;ja++)Ga=Ua[ja],Ue(Ga)&&Ga.click&&(Ya=Ga.name||Ga.text,Wa.on(Sa+sa,"a.k-grid-"+(Ya||"").replace(/\s/g,""),{commandName:Ya},Xe(Ga.click,Va)))}function Te(Va){return Ge(Va,function(Wa){return!Wa.hidden})}function Se(Va){Va=Va||{};var Wa=Va.style;return Wa?(Wa=Wa.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),Wa===Va.style&&(Wa=Wa.replace(/(.*)?/i,"display:none;$1"))):Wa="display:none",je({},Va,{style:Wa})}function Ae(Va){Va=Va||{};var Wa=Va.style;return Wa&&(Va.style=Wa.replace(/(display\s*:\s*none\s*;?)*/gi,"")),Va}function De(Va,Wa,Ua,ja){var Ga=Va.find(">colgroup"),Ya=qe(Wa,function(Ka){return qa=Ka.width,qa&&0!==parseInt(qa,10)?ze.format("<col style=\"width:{0}\"/>",typeof qa===Ia?qa:qa+"px"):"<col />"}),qa;(Ua||Ga.find(".k-hierarchy-col").length)&&Ya.splice(0,0,"<col class=\"k-hierarchy-col\" />"),Ga.length&&Ga.remove(),Ga=pe(Array(ja+1).join("<col class=\"k-group-col\">")+Ya.join("")),Ga.is("colgroup")||(Ga=pe("<colgroup/>").append(Ga)),Va.prepend(Ga),Oa.msie&&8==Oa.version&&(Va.css("display","inline-table"),window.setTimeout(function(){Va.css("display","")},1))}function Fe(Va){var qa={},Wa,Ua,ja;for(Ua=0,ja=Va.length;ja>Ua;Ua++)Wa=Va[Ua],qa[Wa.value]=Wa.text;return qa}function Ie(Va,Wa,Ua){var ja=Ua&&Ua.length&&Ue(Ua[0])&&"value"in Ua[0],qa=ja?Fe(Ua)[Va]:Va;return qa=null==qa?"":qa,Wa?ze.format(Wa,qa):qa}function Pe(Va,Wa,Ua){for(var qa=0,Ga=Va[qa],ja;Ga;){if(ja=!!Ua||"none"!==Ga.style.display,ja&&!Ha.test(Ga.className)&&0>--Wa){Ga.style.display=Ua?"":"none";break}Ga=Va[++qa]}}function Re(Va,Wa){var Ua,ja,qa;if(typeof Va===Ia&&Va===Wa)return Va;if(Ue(Va)&&Va.name===Wa)return Va;if(Ye(Va))for(Ua=0,ja=Va.length;ja>Ua;Ua++)if(qa=Va[Ua],typeof qa===Ia&&qa===Wa||qa.name===Wa)return qa;return null}function Ee(Va,Wa){var Ga=Oa.msie,Ua,ja,qa;if(!0===Wa){if(Va=pe(Va),qa=Ga&&Va.parent().is(".k-grid-content,.k-grid-header-wrap"),qa&&(Ua=Va.parent().scrollTop(),ja=Va.parent().scrollLeft()),Ga)try{Va[0].setActive()}catch(Ya){Va[0].focus()}else Va[0].focus();qa&&(Va.parent().scrollTop(Ua),Va.parent().scrollLeft(ja))}else pe(Va).one("focusin",function(Ya){Ya.preventDefault()}).focus()}function He(Va){var Wa=pe(Va.currentTarget),Ua=Wa.is("th"),ja=Wa.closest("table")[0];ze.support.touch||(ja===this.table[0]||ja===this.thead.parent()[0])&&(this.current(Wa),(Ua||!pe(Va.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input"))&&setTimeout(function(){Ee(ja,!0)}),Ua&&Va.preventDefault())}var ze=window.kendo,Oe=ze.ui,Me=ze.data.DataSource,Ne=Oe.Groupable,Le=ze.support.tbodyInnerHtml,Be=ze._activeElement,Ve=Oe.Widget,We=ze.keys,Ue=pe.isPlainObject,je=pe.extend,qe=pe.map,Ge=pe.grep,Ye=pe.isArray,Ke=pe.inArray,Xe=pe.proxy,Qe=pe.isFunction,$e=pe.isEmptyObject,Je=Math,Ze="progress",ea="error",ta=":not(.k-group-cell):not(.k-hierarchy-cell):visible",aa="tr:not(.k-footer-template):visible",oa=":not(.k-group-cell):not(.k-hierarchy-cell):visible",na=aa+":first>"+oa+":first",ia="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",ra=ia+":visible["+ze.attr("field")+"]",la=ia+"["+ze.attr("field")+"]",sa=".kendoGrid",da="edit",pa="save",ca="remove",ga="detailInit",ua="filterMenuInit",ma="columnMenuInit",fa="change",ha="columnHide",_a="columnShow",xa="saveChanges",ya="dataBound",ba="detailExpand",va="detailCollapse",ka="k-state-focused",wa="k-state-selected",Ca="columnResize",Ta="columnReorder",Sa="click",Aa="height",Da="tabIndex",Fa="function",Ia="string",Pa=/(\}|\#)/gi,Ra=/#/gi,Ea="[\\x20\\t\\r\\n\\f]",Ha=RegExp("(^|"+Ea+")(k-group-cell|k-hierarchy-cell)("+Ea+"|$)"),za=!1,Oa=ze.support.browser,Ma=Oa.msie&&7==Oa.version,Na=Ve.extend({init:function(Va,Wa){var Ua=this;Ve.fn.init.call(Ua,Va,Wa),Ua._refreshHandler=Xe(Ua.refresh,Ua),Ua.setDataSource(Wa.dataSource),Ua.wrap()},setDataSource:function(Va){var Wa=this;Wa.dataSource&&Wa.dataSource.unbind(fa,Wa._refreshHandler),Wa.dataSource=Va,Wa.dataSource.bind(fa,Wa._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:pe.noop},destroy:function(){var Va=this;Ve.fn.destroy.call(Va),Va.dataSource.unbind(fa,Va._refreshHandler),Va.wrapper.add(Va.verticalScrollbar).off(sa),Va.drag&&Va.drag.destroy()},wrap:function(){var Wa=this,Ua=ze.support.scrollbar()+1,ja=Wa.element,Va;ja.css({width:"auto",overflow:"hidden"}).css(za?"padding-left":"padding-right",Ua),Wa.content=ja.children().first(),Va=Wa.wrapper=Wa.content.wrap("<div class=\"k-virtual-scrollable-wrap\"/>").parent().bind("DOMMouseScroll"+sa+" mousewheel"+sa,Xe(Wa._wheelScroll,Wa)),ze.support.kineticScrollNeeded&&(Wa.drag=new ze.UserEvents(Wa.wrapper,{global:!0,move:function(qa){Wa.verticalScrollbar.scrollTop(Wa.verticalScrollbar.scrollTop()-qa.y.delta),Va.scrollLeft(Va.scrollLeft()-qa.x.delta),qa.preventDefault()}})),Wa.verticalScrollbar=pe("<div class=\"k-scrollbar k-scrollbar-vertical\" />").css({width:Ua}).appendTo(ja).bind("scroll"+sa,Xe(Wa._scroll,Wa))},_wheelScroll:function(Va){var Ua=this,ja=Ua.verticalScrollbar.scrollTop(),qa=Va.originalEvent,Ga=qa.wheelDeltaY,Wa;qa.wheelDelta?(Ga===me||Ga)&&(Wa=qa.wheelDelta):qa.detail&&qa.axis===qa.VERTICAL_AXIS&&(Wa=10*-qa.detail),Wa&&(Va.preventDefault(),Ua.verticalScrollbar.scrollTop(ja+-Wa))},_scroll:function(Va){var Wa=this,Ua=Va.currentTarget.scrollTop,ja=Wa.dataSource,qa=Wa.itemHeight,Ga=ja.skip()||0,Ya=Wa._rangeStart||Ga,Ka=Wa.element.innerHeight(),Xa=!!(Wa._scrollbarTop&&Wa._scrollbarTop>Ua),Qa=Je.max(Je.floor(Ua/qa),0),$a=Je.max(Qa+Je.floor(Ka/qa),0);Wa._scrollTop=Ua-Ya*qa,Wa._scrollbarTop=Ua,Wa._fetch(Qa,$a,Xa)||(Wa.wrapper[0].scrollTop=Wa._scrollTop)},_fetch:function(Va,Wa,Ua){var ja=this,qa=ja.dataSource,Ga=ja.itemHeight,Ya=qa.take(),Ka=ja._rangeStart||qa.skip()||0,Xa=Je.floor(Va/Ya)*Ya,Qa=!1,$a=0.33;return Ka>Va?(Qa=!0,Ka=Je.max(0,Wa-Ya),ja._scrollTop=(Va-Ka)*Ga,ja._page(Ka,Ya)):Wa>=Ka+Ya&&!Ua?(Qa=!0,Ka=Va,ja._scrollTop=Ga,ja._page(Ka,Ya)):ja._fetching||(Xa+Ya-Ya*$a>Va&&Va>Ya&&qa.prefetch(Xa-Ya,Ya),Wa>Xa+Ya*$a&&qa.prefetch(Xa+Ya,Ya)),Qa},_page:function(Va,Wa){var Ua=this,ja=Ua.dataSource;clearTimeout(Ua._timeout),Ua._fetching=!0,Ua._rangeStart=Va,ja.inRange(Va,Wa)?ja.range(Va,Wa):(ze.ui.progress(Ua.wrapper.parent(),!0),Ua._timeout=setTimeout(function(){ja.range(Va,Wa)},100))},refresh:function(){var qa=this,Ga="",Ya=250000,Ka=qa.dataSource,Xa=qa._rangeStart,Qa=ze.support.kineticScrollNeeded?0:ze.support.scrollbar(),$a=qa.wrapper[0],Va,Wa,Ua,ja;for(ze.ui.progress(qa.wrapper.parent(),!1),clearTimeout(qa._timeout),Ua=qa.itemHeight=qa.options.itemHeight()||0,ja=$a.scrollWidth>$a.offsetWidth?Qa:0,Va=Ka.total()*Ua+ja,Wa=0;Je.floor(Va/Ya)>Wa;Wa++)Ga+="<div style=\"width:1px;height:"+Ya+"px\"></div>";Va%Ya&&(Ga+="<div style=\"width:1px;height:"+Va%Ya+"px\"></div>"),qa.verticalScrollbar.html(Ga),$a.scrollTop=qa._scrollTop,qa.drag&&qa.drag.cancel(),Xa&&!qa._fetching&&(qa._rangeStart=Ka.skip()),qa._fetching=!1}}),La={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Ba=Ve.extend({init:function(Va,Wa){var Ua=this;Wa=Ye(Wa)?{dataSource:Wa}:Wa,Ve.fn.init.call(Ua,Va,Wa),za=ze.support.isRtl(Va),Ua._element(),Ua._aria(),Ua._columns(Ua.options.columns),Ua._dataSource(),Ua._tbody(),Ua._pageable(),Ua._thead(),Ua._groupable(),Ua._toolbar(),Ua._setContentHeight(),Ua._templates(),Ua._navigatable(),Ua._selectable(),Ua._details(),Ua._editable(),Ua._attachCustomCommandsEvent(),Ua.options.autoBind?Ua.dataSource.fetch():Ua._footer(),ze.notify(Ua)},events:[fa,"dataBinding","cancel",ya,ba,va,ga,ua,ma,da,pa,ca,xa,Ca,Ta,_a,ha],setDataSource:function(Va){var Wa=this;Wa.options.dataSource=Va,Wa._dataSource(),Wa._pageable(),Wa.options.groupable&&Wa._groupable(),Wa._thead(),Wa.virtualScrollable&&Wa.virtualScrollable.setDataSource(Wa.options.dataSource),Wa.options.autoBind&&Va.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var Wa=this,Va;Ve.fn.destroy.call(Wa),Wa.pager&&Wa.pager.destroy(),Wa.groupable&&Wa.groupable.destroy(),Wa.options.reorderable&&Wa.wrapper.data("kendoReorderable").destroy(),Wa.resizable&&Wa.resizable.destroy(),Wa.virtualScrollable&&Wa.virtualScrollable.destroy(),Wa._destroyColumnAttachments(),Wa._destroyEditable(),Wa.dataSource.unbind(fa,Wa._refreshHandler).unbind(Ze,Wa._progressHandler).unbind(ea,Wa._errorHandler),Va=Wa.element.add(Wa.wrapper).add(Wa.table).add(Wa.thead).add(Wa.wrapper.find(">.k-grid-toolbar")),Wa.content&&(Va=Va.add(Wa.content).add(Wa.content.find(">.k-virtual-scrollable-wrap"))),Va.off(sa),ze.destroy(Wa.wrapper)},setOptions:function(Va){var Wa=this;Ve.fn.setOptions.call(this,Va),Wa._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var Va=this;Va.resizeHandle=null,Va.thead.find("th").each(function(){var Wa=pe(this),Ua=Wa.data("kendoFilterMenu"),ja=Wa.data("kendoSortable"),qa=Wa.data("kendoColumnMenu");Ua&&Ua.destroy(),ja&&ja.destroy(),qa&&qa.destroy()})},_attachCustomCommandsEvent:function(){var ja=this,qa=ja.columns||[],Va,Wa,Ua;for(Wa=0,Ua=qa.length;Ua>Wa;Wa++)Va=qa[Wa].command,Va&&Ce(ja,ja.wrapper,Va)},_aria:function(){var Va=this.element.attr("id")||"aria";Va&&(this._cellId=Va+"_active_cell")},_element:function(){var Va=this,Wa=Va.element;Wa.is("table")||(Wa=Va.options.scrollable?Va.element.find("> .k-grid-content > table"):Va.element.children("table"),Wa.length||(Wa=pe("<table />").appendTo(Va.element))),Ma&&Wa.attr("cellspacing",0),Va.table=Wa.attr("role",Va._hasDetails()?"treegrid":"grid"),Va._wrapper()},_positionColumnResizeHandle:function(Va){var Ua=this,ja=Ua.options.scrollable,qa=Ua.resizeHandle,Ga=Ua.options.columnResizeHandleWidth,Wa;Ua.thead.on("mousemove"+sa,"th:not(.k-group-cell,.k-hierarchy-cell)",function(Ya){var Ja=pe(this),Za=Ya.clientX,Fo=pe(window).scrollLeft(),Mo=Ja.offset().left+(za?0:this.offsetWidth),Ka,Xa,Qa,$a;Za+Fo>Mo-Ga&&Mo+Ga>Za+Fo?(qa||(qa=Ua.resizeHandle=pe("<div class=\"k-resize-handle\"/>"),Va.append(qa)),za?(Ka=Ja.closest(".k-grid-header-wrap"),Xa=Oa.msie?Ka.scrollLeft():0,Qa=Oa.webkit?Ka[0].scrollWidth-Ka[0].offsetWidth-Ka.scrollLeft():0,$a=Oa.mozilla?Ka[0].scrollWidth-Ka[0].offsetWidth-(Ka[0].scrollWidth-Ka[0].offsetWidth-Ka.scrollLeft()):0,Wa=Ja.position().left-Qa+$a-Xa):(Wa=this.offsetWidth,Ja.prevAll(":visible").each(function(){Wa+=this.offsetWidth})),qa.css({top:ja?0:ye(Ua.wrapper),left:Wa-Ga,height:Ja.outerHeight(),width:3*Ga}).data("th",Ja).show()):qa?qa.hide():be(Ua.wrapper,"")})},_resizable:function(){var Ga=this,Ya=Ga.options,Va,Wa,Ua,ja,qa;Ya.resizable&&(Va=Ya.scrollable?Ga.wrapper.find(".k-grid-header-wrap:first"):Ga.wrapper,Ga._positionColumnResizeHandle(Va),Ga.resizable=new Oe.Resizable(Va,{handle:".k-resize-handle",hint:function(Ka){return pe("<div class=\"k-grid-resize-indicator\" />").css({height:Ka.data("th").outerHeight()+Ga.tbody.attr("clientHeight")})},start:function(Ka){var Xa=pe(Ka.currentTarget).data("th"),Qa=pe.inArray(Xa[0],Xa.parent().children(":visible")),$a=Ga.tbody.parent(),Ja=Ga.footer||pe();be(Ga.wrapper,"col-resize"),qa=Ya.scrollable?Ga.thead.parent().find("col:eq("+Qa+")").add($a.children("colgroup").find("col:eq("+Qa+")")).add(Ja.find("colgroup").find("col:eq("+Qa+")")):$a.children("colgroup").find("col:eq("+Qa+")"),Wa=Ka.x.location,Ua=Xa.outerWidth(),ja=Ga.tbody.outerWidth()},resize:function(Ka){var Xa=za?-1:1,Qa=Ua+Ka.x.location*Xa-Wa*Xa,$a=Ga.footer||pe();10<Qa&&(qa.css("width",Qa),Ya.scrollable&&ja&&(Ga._footerWidth=ja+Ka.x.location*Xa-Wa*Xa,Ga.tbody.parent().add(Ga.thead.parent()).add($a.find("table")).css("width",Ga._footerWidth)))},resizeend:function(Ka){var Qa=pe(Ka.currentTarget).data("th"),$a=Qa.outerWidth(),Xa;be(Ga.wrapper,""),Ua!=$a&&(Xa=Ga.columns[Qa.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(Qa)],Xa.width=$a,Ga.trigger(Ca,{column:Xa,oldWidth:Ua,newWidth:$a})),Ga.resizeHandle.hide()}}))},_draggable:function(){var Va=this;Va.options.reorderable&&(Va._draggableInstance&&Va._draggableInstance.destroy(),Va._draggableInstance=Va.wrapper.kendoDraggable({group:ze.guid(),filter:Va.content?".k-grid-header:first "+ia:"table:first>.k-grid-header "+ia,hint:function(Wa){return pe("<div class=\"k-header k-drag-clue\" />").css({width:Wa.width(),paddingLeft:Wa.css("paddingLeft"),paddingRight:Wa.css("paddingRight"),lineHeight:Wa.height()+"px",paddingTop:Wa.css("paddingTop"),paddingBottom:Wa.css("paddingBottom")}).html(Wa.attr(ze.attr("title"))||Wa.attr(ze.attr("field"))||Wa.text()).prepend("<span class=\"k-icon k-drag-status k-denied\" />")}}).data("kendoDraggable"))},_reorderable:function(){var Va=this;Va.options.reorderable&&Va.wrapper.kendoReorderable({draggable:Va._draggableInstance,change:function(Wa){var Ua=Ke(Va.columns[Wa.newIndex],Va.columns),ja=Va.columns[Wa.oldIndex];Va.trigger(Ta,{newIndex:Ua,oldIndex:Ke(ja,Va.columns),column:ja}),Va.reorderColumn(Ua,ja)}})},reorderColumn:function(Va,Wa){var Ga=this,Ya=Ke(Wa,Ga.columns),Ka=Ke(Wa,Te(Ga.columns)),Xa=Ke(Ga.columns[Va],Te(Ga.columns)),Qa=Ga.footer||Ga.wrapper.find(".k-grid-footer"),Ua,ja,qa;if(Ya!==Va)for(Ga.columns.splice(Ya,1),Ga.columns.splice(Va,0,Wa),Ga._templates(),we(Ga.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),Ka,Xa),Ga.options.scrollable&&we(Ga.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),Ka,Xa),we(Ga.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),Ya,Va),Qa&&Qa.length&&(we(Qa.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),Ka,Xa),we(Qa.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),Ya,Va)),Ua=Ga.tbody.children(":not(.k-grouping-row,.k-detail-row)"),ja=0,qa=Ua.length;qa>ja;ja+=1)we(Ua.eq(ja).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),Ya,Va)},cellIndex:function(Va){return pe(Va).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(Va)},_modelForContainer:function(Va){Va=pe(Va),Va.is("tr")||"popup"===this._editMode()||(Va=Va.closest("tr"));var Wa=Va.attr(ze.attr("uid"));return this.dataSource.getByUid(Wa)},_editable:function(){var Wa=this,Ua=Wa.selectable&&Wa.selectable.options.multiple,ja=Wa.options.editable,qa=function(){var Ga=Be(),Ya=Wa._editContainer;!Ya||pe.contains(Ya[0],Ga)||Ya[0]===Ga||pe(Ga).closest(".k-animation-container").length||Wa.editable.end()&&Wa.closeCell()},Va;ja&&(Va=Wa._editMode(),"incell"===Va?!1!==ja.update&&Wa.wrapper.on(Sa+sa,"tr:not(.k-grouping-row) > td",function(Ga){var Ya=pe(this);Ya.hasClass("k-hierarchy-cell")||Ya.hasClass("k-detail-cell")||Ya.hasClass("k-group-cell")||Ya.hasClass("k-edit-cell")||Ya.has("a.k-grid-delete").length||Ya.has("button.k-grid-delete").length||Ya.closest("tbody")[0]!==Wa.tbody[0]||pe(Ga.target).is(":input")||(Wa.editable?Wa.editable.end()&&(Ua&&pe(Be()).blur(),Wa.closeCell(),Wa.editCell(Ya)):Wa.editCell(Ya))}).on("focusin"+sa,function(){clearTimeout(Wa.timer),Wa.timer=null}).on("focusout"+sa,function(){Wa.timer=setTimeout(qa,1)}):!1!==ja.update&&Wa.wrapper.on(Sa+sa,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(Ga){Ga.preventDefault(),Wa.editRow(pe(this).closest("tr"))}),!1===ja.destroy?Wa.wrapper.on(Sa+sa,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(Ga){Wa._confirmation()||Ga.preventDefault()}):Wa.wrapper.on(Sa+sa,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(Ga){Ga.preventDefault(),Ga.stopPropagation(),Wa.removeRow(pe(this).closest("tr"))}))},editCell:function(Va){Va=pe(Va);var Wa=this,Ua=Wa.columns[Wa.cellIndex(Va)],ja=Wa._modelForContainer(Va);ja&&(!ja.editable||ja.editable(Ua.field))&&!Ua.command&&Ua.field&&(Wa._attachModelChange(ja),Wa._editContainer=Va,Wa.editable=Va.addClass("k-edit-cell").kendoEditable({fields:{field:Ua.field,format:Ua.format,editor:Ua.editor,values:Ua.values},model:ja,change:function(qa){Wa.trigger(pa,{values:qa.values,container:Va,model:ja})&&qa.preventDefault()}}).data("kendoEditable"),Va.parent().addClass("k-grid-edit-row"),Wa.trigger(da,{container:Va,model:ja}))},_destroyEditable:function(){var Va=this,Wa=function(){Va.editable&&(Va._detachModelChange(),Va.editable.destroy(),Va.editable=null,Va._editContainer=null)};Va.editable&&("popup"===Va._editMode()?Va._editContainer.data("kendoWindow").bind("deactivate",Wa).close():Wa())},_attachModelChange:function(Va){var Wa=this;Wa._modelChangeHandler=function(Ua){Wa._modelChange({field:Ua.field,model:this})},Va.bind("change",Wa._modelChangeHandler)},_detachModelChange:function(){var Va=this,Wa=Va._editContainer,Ua=Va._modelForContainer(Wa);Ua&&Ua.unbind(fa,Va._modelChangeHandler)},closeCell:function(){var qa=this,Va,Wa,Ua,ja;qa._editContainer&&(Va=qa._editContainer.removeClass("k-edit-cell"),Wa=Va.closest("tr").attr(ze.attr("uid")),Ua=qa.columns[qa.cellIndex(Va)],ja=qa.dataSource.getByUid(Wa),Va.parent().removeClass("k-grid-edit-row"),qa._destroyEditable(),qa._displayCell(Va,Ua,ja),Va.hasClass("k-dirty-cell")&&pe("<span class=\"k-dirty\"/>").prependTo(Va))},_displayCell:function(Va,Wa,Ua){var ja=this,qa={storage:{},count:0},Ga=je({},ze.Template,ja.options.templateSettings),Ya=ze.template(ja._cellTmpl(Wa,qa),Ga);0<qa.count&&(Ya=Xe(Ya,qa.storage)),Va.empty().html(Ya(Ua))},removeRow:function(Va){var ja=this,Wa,Ua;ja._confirmation()&&(Va=pe(Va).hide(),Wa=ja._modelForContainer(Va),Wa&&!ja.trigger(ca,{row:Va,model:Wa})&&(Ua=ja._editMode(),"incell"!==Ua&&ja.cancelRow(),ja.dataSource.remove(Wa),("inline"===Ua||"popup"===Ua)&&ja.dataSource.sync()))},_editMode:function(){var Va="incell",Wa=this.options.editable;return!0!==Wa&&(Va="string"==typeof Wa?Wa:Wa.mode||Va),Va},editRow:function(Va){Va=pe(Va);var Ua=this,ja=Ua._modelForContainer(Va),qa=Ua._editMode(),Ga=Ua.options.navigatable,Wa;Ua.cancelRow(),ja&&(Ua._attachModelChange(ja),"popup"===qa?Ua._createPopupEditor(ja):"inline"===qa?Ua._createInlineEditor(Va,ja):"incell"===qa&&pe(Va).children(ta).each(function(){var Ya=pe(this),Ka=Ua.columns[Ya.index()];return ja=Ua._modelForContainer(Ya),ja&&(!ja.editable||ja.editable(Ka.field))&&Ka.field?(Ua.editCell(Ya),!1):me}),Wa=Ua._editContainer,Wa.on(Sa+sa,"a.k-grid-cancel",function(Ya){if(Ya.preventDefault(),Ya.stopPropagation(),!Ua.trigger("cancel",{container:Wa,model:ja})){var Ka=Ua.items().index(pe(Ua.current()).parent());Ua.cancelRow(),Ga&&(Ua.current(Ua.items().eq(Ka).children().filter(oa).first()),Ee(Ua.table,!0))}}),Wa.on(Sa+sa,"a.k-grid-update",function(Ya){Ya.preventDefault(),Ya.stopPropagation(),Ua.saveRow()}))},_createPopupEditor:function(Va){var Za=this,Fo="<div "+ze.attr("uid")+"=\""+Va.uid+"\"><div class=\"k-edit-form-container\">",Mo=[],No=Za.options.editable,Wo=No.template,Uo=Ue(No)?No.window:{},jo=je({},ze.Template,Za.options.templateSettings),Wa,Ua,ja,qa,Ga,Ya,Ka,Xa,Qa,$a,Ja;if(Wo)for(typeof Wo==Ia&&(Wo=window.unescape(Wo)),Fo+=ze.template(Wo,jo)(Va),ja=0,qa=Za.columns.length;qa>ja;ja++)Wa=Za.columns[ja],Wa.command&&(Xa=Re(Wa.command,"edit"),Xa&&(Ua=Xa));else for(ja=0,qa=Za.columns.length;qa>ja;ja++)Wa=Za.columns[ja],Wa.command?Wa.command&&(Xa=Re(Wa.command,"edit"),Xa&&(Ua=Xa)):(Fo+="<div class=\"k-edit-label\"><label for=\""+Wa.field+"\">"+(Wa.title||Wa.field||"")+"</label></div>",(!Va.editable||Va.editable(Wa.field))&&Wa.field?(Mo.push({field:Wa.field,format:Wa.format,editor:Wa.editor,values:Wa.values}),Fo+="<div "+ze.attr("container-for")+"=\""+Wa.field+"\" class=\"k-edit-field\"></div>"):($a={storage:{},count:0},Ga=ze.template(Za._cellTmpl(Wa,$a),jo),0<$a.count&&(Ga=Xe(Ga,$a.storage)),Fo+="<div class=\"k-edit-field\">"+Ga(Va)+"</div>"));Ua&&Ue(Ua)&&(Ua.text&&Ue(Ua.text)&&(Ya=Ua.text.update,Ka=Ua.text.cancel),Ua.attr&&(Qa=Ua.attr)),Fo+=Za._createButton({name:"update",text:Ya,attr:Qa})+Za._createButton({name:"canceledit",text:Ka,attr:Qa}),Fo+="</div></div>",Ja=Za._editContainer=pe(Fo).appendTo(Za.wrapper).eq(0).kendoWindow(je({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(qo){if(qo.userTriggered){if(Za.trigger("cancel",{container:Ja,model:Va}))return qo.preventDefault(),me;var Go=Za.items().index(pe(Za.current()).parent());Za.cancelRow(),Za.options.navigatable&&(Za.current(Za.items().eq(Go).children().filter(oa).first()),Ee(Za.table,!0))}}},Uo)),Za.editable=Za._editContainer.kendoEditable({fields:Mo,model:Va,clearContainer:!1}).data("kendoEditable"),Ja.data("kendoWindow").center().open(),Za.trigger(da,{container:Ja,model:Va})},_createInlineEditor:function(Va,Wa){var Ga=this,Ya=[],Ua,ja,qa;Va.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(!(ja=pe(this),Ua=Ga.columns[Ga.cellIndex(ja)],Ua.command||!Ua.field||Wa.editable&&!Wa.editable(Ua.field)))Ya.push({field:Ua.field,format:Ua.format,editor:Ua.editor,values:Ua.values}),ja.attr(ze.attr("container-for"),Ua.field),ja.empty();else if(Ua.command&&(qa=Re(Ua.command,"edit"))){ja.empty();var Ka,Xa,Qa;Ue(qa)&&(qa.text&&Ue(qa.text)&&(Ka=qa.text.update,Xa=qa.text.cancel),qa.attr&&(Qa=qa.attr)),pe(Ga._createButton({name:"update",text:Ka,attr:Qa})+Ga._createButton({name:"canceledit",text:Xa,attr:Qa})).appendTo(ja)}}),Ga._editContainer=Va,Ga.editable=Va.addClass("k-grid-edit-row").kendoEditable({fields:Ya,model:Wa,clearContainer:!1}).data("kendoEditable"),Ga.trigger(da,{container:Va,model:Wa})},cancelRow:function(){var Wa=this,Ua=Wa._editContainer,Va;Ua&&(Va=Wa._modelForContainer(Ua),Wa.dataSource.cancelChanges(Va),"popup"===Wa._editMode()?Wa._displayRow(Wa.items().filter("["+ze.attr("uid")+"="+Va.uid+"]")):Wa._displayRow(Ua),Wa._destroyEditable())},saveRow:function(){var Va=this,Wa=Va._editContainer,Ua=Va._modelForContainer(Wa),ja=Va.editable;Wa&&ja&&ja.end()&&!Va.trigger(pa,{container:Wa,model:Ua})&&Va.dataSource.sync()},_displayRow:function(Va){var Wa=this,Ua=Wa._modelForContainer(Va);Ua&&Va.replaceWith(pe((Va.hasClass("k-alt")?Wa.altRowTemplate:Wa.rowTemplate)(Ua)))},_showMessage:function(Va){return window.confirm(Va)},_confirmation:function(){var Va=this,Wa=Va.options.editable,Ua=!0===Wa||typeof Wa==Ia?"Are you sure you want to delete this record?":Wa.confirmation;return!1!==Ua&&null!=Ua?Va._showMessage(Ua):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var Va=this;(Va.editable&&Va.editable.end()||!Va.editable)&&!Va.trigger(xa)&&Va.dataSource.sync()},addRow:function(){var Ga=this,Ya=Ga.dataSource,Ka=Ga._editMode(),Xa=Ga.options.editable.createAt||"",Qa=Ya.pageSize(),$a=Ya.view()||[],Va,Wa,Ua,ja,qa;(Ga.editable&&Ga.editable.end()||!Ga.editable)&&("incell"!=Ka&&Ga.cancelRow(),Va=Ya.indexOf($a[0]),"bottom"==Xa.toLowerCase()&&(Va+=$a.length,Qa&&!Ya.options.serverPaging&&$a.length>=Qa&&(Va-=1)),0>Va&&(Va=Ya.page()>Ya.totalPages()?(Ya.page()-1)*Qa:0),Wa=Ya.insert(Va,{}),Ua=Wa.uid,ja=Ga.table.find("tr["+ze.attr("uid")+"="+Ua+"]"),qa=ja.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(Ga._firstEditableColumnIndex(ja)),("inline"===Ka||"popup"===Ka)&&ja.length?Ga.editRow(ja):qa.length&&Ga.editCell(qa))},_firstEditableColumnIndex:function(Va){var qa=this,Ga=qa.columns,Ya=qa._modelForContainer(Va),Wa,Ua,ja;for(Ua=0,ja=Ga.length;ja>Ua;Ua++)if(Wa=Ga[Ua],Ya&&(!Ya.editable||Ya.editable(Wa.field))&&!Wa.command&&Wa.field)return Ua;return-1},_toolbar:function(){var Wa=this,Ua=Wa.wrapper,ja=Wa.options.toolbar,qa=Wa.options.editable,Va;ja&&(Va=Wa.wrapper.find(".k-grid-toolbar"),Va.length||(Qe(ja)||(ja=typeof ja==Ia?ja:Wa._toolbarTmpl(ja).replace(Ra,"\\#"),ja=Xe(ze.template(ja),Wa)),Va=pe("<div class=\"k-toolbar k-grid-toolbar\" />").html(ja({})).prependTo(Ua)),qa&&!1!==qa.create&&Va.on(Sa+sa,".k-grid-add",function(Ga){Ga.preventDefault(),Wa.addRow()}).on(Sa+sa,".k-grid-cancel-changes",function(Ga){Ga.preventDefault(),Wa.cancelChanges()}).on(Sa+sa,".k-grid-save-changes",function(Ga){Ga.preventDefault(),Wa.saveChanges()}))},_toolbarTmpl:function(Va){var ja=this,qa="",Wa,Ua;if(Ye(Va))for(Wa=0,Ua=Va.length;Ua>Wa;Wa++)qa+=ja._createButton(Va[Wa]);return qa},_createButton:function(Va){var Wa=Va.template||"<a class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\#\"><span class=\"#=iconClass# #=imageClass#\"></span>#=text#</a>",Ua=typeof Va==Ia?Va:Va.name||Va.text,ja={className:"k-grid-"+(Ua||"").replace(/\s/g,""),text:Ua,imageClass:"",attr:"",iconClass:""};if(!(Ua||Ue(Va)&&Va.template))throw Error("Custom commands should have name specified");return Ue(Va)?(Va.className&&(Va.className+=" "+ja.className),"edit"===Ua&&Ue(Va.text)&&(Va=je(!0,{},Va),Va.text=Va.text.edit),Va.attr&&Ue(Va.attr)&&(Va.attr=xe(Va.attr)),ja=je(!0,ja,La[Ua],Va)):ja=je(!0,ja,La[Ua]),ze.template(Wa)(ja)},_groupable:function(){var Va=this;Va._groupableClickHandler?Va.table.off(Sa+sa,Va._groupableClickHandler):Va._groupableClickHandler=function(Wa){var Ua=pe(this),ja=Ua.closest("tr");Ua.hasClass("k-i-collapse")?Va.collapseGroup(ja):Va.expandGroup(ja),Wa.preventDefault(),Wa.stopPropagation()},Va.table.on(Sa+sa,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",Va._groupableClickHandler),Va._attachGroupable()},_attachGroupable:function(){var Va=this,Wa=Va.wrapper,Ua=Va.options.groupable;Ua&&(Wa.has("div.k-grouping-header")[0]||pe("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(Wa),Va.groupable&&Va.groupable.destroy(),Va.groupable=new Ne(Wa,je({},Ua,{draggable:Va._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:Va.dataSource,draggableElements:Va.content?".k-grid-header:first "+ra:"table:first>.k-grid-header "+ra,filter:Va.content?".k-grid-header:first "+la:"table:first>.k-grid-header "+la,allowDrag:Va.options.reorderable})))},_selectable:function(){var Ua=this,ja=Ua.options.selectable,Va,Wa;ja&&(Va=typeof ja==Ia&&-1<ja.toLowerCase().indexOf("multiple"),Wa=typeof ja==Ia&&-1<ja.toLowerCase().indexOf("cell"),Ua.selectable=new ze.ui.Selectable(Ua.table,{filter:">"+(Wa?"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)":"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:Va,change:function(){Ua.trigger(fa)}}),Ua.options.navigatable&&Ua.table.on("keydown"+sa,function(qa){var Ga=Ua.current();if(qa.keyCode===We.SPACEBAR&&qa.target==Ua.table[0]&&!Ga.is(".k-edit-cell,.k-header")&&Ga.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(!(qa.preventDefault(),qa.stopPropagation(),Ga=Wa?Ga:Ga.parent(),Va))Ua.selectable.clear();else if(!qa.ctrlKey)Ua.selectable.clear();else if(Ga.hasClass(wa))return Ga.removeClass(wa),Ua.trigger(fa),me;Ua.selectable.value(Ga)}}))},clearSelection:function(){var Va=this;Va.selectable.clear(),Va.trigger(fa)},select:function(Va){var Wa=this,Ua=Wa.selectable;return Va=pe(Va),Va.length?(Ua.options.multiple||(Ua.clear(),Va=Va.first()),Ua.value(Va),me):Ua.value()},current:function(Va){var Wa=this,Ua=Wa.options.scrollable,ja=Wa._current,qa=Wa.table.add(Wa.thead.parent());return Va!==me&&Va.length&&(ja&&ja[0]===Va[0]||(ja&&(ja.removeClass(ka).removeAttr("id"),qa.removeAttr("aria-activedescendant")),Va.attr("id",Wa._cellId),Wa._current=Va.addClass(ka),qa.attr("aria-activedescendant",Wa._cellId),Va.length&&Ua&&(pe.contains(Wa.content[0],Va[0])&&Wa._scrollTo(Va.parent()[0],Wa.content[0]),Ua.virtual?Wa._scrollTo(Va[0],Wa.content.find(">.k-virtual-scrollable-wrap")[0]):Wa._scrollTo(Va[0],Wa.content[0])))),Wa._current},_removeCurrent:function(){this._current&&(this._current.removeClass(ka),this._current=null)},_scrollTo:function(Va,Wa){var Ua=Va.tagName.toLowerCase(),ja="td"===Ua||"th"===Ua,qa=Va[ja?"offsetLeft":"offsetTop"],Ga=Va[ja?"offsetWidth":"offsetHeight"],Ya=Wa[ja?"scrollLeft":"scrollTop"],Ka=Wa[ja?"clientWidth":"clientHeight"],Xa=qa+Ga,Qa=0;Qa=Ya>qa?qa:Xa>Ya+Ka?Ka>=Ga?Xa-Ka:qa:Ya,Wa[ja?"scrollLeft":"scrollTop"]=Qa},_navigatable:function(){var Va=this,Wa=Xe(Va.current,Va),Ua=Va.table,ja=Va.thead.parent(),qa=Ua,Ga=ze.support.isRtl(Va.element);Va.options.navigatable&&(Va.options.scrollable&&(qa=Ua.add(ja),ja.attr(Da,-1)),ja.on("keydown"+sa,function(Ya){Ya.altKey&&Ya.keyCode==We.DOWN&&(Wa().find(".k-grid-filter, .k-header-column-menu").click(),Ya.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),Ua.attr(Da,Je.max(Ua.attr(Da)||0,0)).on("mousedown"+sa+" keydown"+sa,".k-detail-cell",function(Ya){Ya.target!==Ya.currentTarget&&Ya.stopImmediatePropagation()}),qa.on(ze.support.touch?"touchstart"+sa:"mousedown"+sa,aa+">"+oa,Xe(He,Va)).on("focus"+sa,function(){if(!ze.support.touch){var Ya=Wa();Ya&&Ya.is(":visible")?Ya.addClass(ka):Wa(pe(this).find(na)),this==Ua[0]?(ja.attr(Da,-1),Ua.attr(Da,0)):(Ua.attr(Da,-1),ja.attr(Da,0))}}).on("focusout"+sa,function(){var Ya=Wa();Ya&&Ya.removeClass(ka)}).on("keydown"+sa,function(Ya){var Mo=Ya.keyCode,No=!1,Wo=!Ya.isDefaultPrevented()&&!pe(Ya.target).is(":button,a,:input,a>.k-icon"),Uo=Va.options.pageable,jo=Va.dataSource,qo="incell"==Va._editMode(),Go=Ya.shiftKey,Yo=Wa(),Ka,Xa,Qa,$a,Ja,Za,Fo;Yo&&Yo.is("th")&&(Wo=!0),Wo&&Mo==We.UP?(Yo?(Qa=Yo.parent().prevAll(aa).first(),Qa[0]||(Ja=Va.thead.parent(),Ee(Ja,!0),Qa=Ja.find(aa).first()),$a=Yo.index(),Yo=Qa.children().eq($a),Yo[0]&&Yo.is(oa)||(Yo=Qa.children(oa).first())):Yo=Ua.find(na),No=!0,Wa(Yo)):Wo&&Mo==We.DOWN?(Yo?(Qa=Yo.parent().nextAll(aa).first(),!Qa[0]&&Yo.is("th")&&(Ee(Va.tbody.parent()),Qa=Va.tbody.find(aa).first()),$a=Yo.index(),Yo=Qa.children().eq($a),Yo[0]&&Yo.is(oa)||(Yo=Qa.children(oa).first())):Yo=Ua.find(na),No=!0,Wa(Yo)):Wo&&Mo==(Ga?We.RIGHT:We.LEFT)?(Wa(Yo?Yo.prevAll(ta+":first"):Ua.find(na)),No=!0):Wo&&Mo==(Ga?We.LEFT:We.RIGHT)?(Yo?Yo.next()[0]&&(Yo=Yo.nextAll(ta+":first")):Yo=Ua.find(na),No=!0,Wa(Yo)):Wo&&Uo&&We.PAGEDOWN==Mo?(jo.page(jo.page()+1),No=!0):Wo&&Uo&&We.PAGEUP==Mo?(jo.page(jo.page()-1),No=!0):Mo==We.ENTER||We.F2==Mo?(Yo=Yo?Yo:Ua.find(na),Yo.is("th")?(Yo.find(".k-link").click(),No=!0):Yo.parent().is(".k-master-row,.k-grouping-row")?(Yo.parent().find(".k-icon:first").click(),No=!0):(Za=Yo.find(":focusable:first"),!Yo.hasClass("k-edit-cell")&&Za[0]&&Yo.hasClass("k-state-focused")?(Za.focus(),No=!0):Va.options.editable&&!pe(Ya.target).is(":button,.k-button")&&(Va._handleEditing(Yo),No=!0))):We.ESC==Mo?(Ka=Be(),Yo&&pe.contains(Yo[0],Ka)&&!Yo.hasClass("k-edit-cell")&&!Yo.parent().hasClass("k-grid-edit-row")?(Ee(Va.table[0],!0),No=!0):!Va._editContainer||Yo&&!Va._editContainer.has(Yo[0])&&Yo[0]!==Va._editContainer[0]||(qo?Va.closeCell():(Xa=Va.items().index(pe(Yo).parent()),Ka&&Ka.blur(),Va.cancelRow(),0<=Xa&&Va.current(Va.items().eq(Xa).children().filter(oa).first())),Oa.msie&&9>Oa.version&&document.body.focus(),Ee(Ua,!0),No=!0)):We.TAB==Mo&&(Yo=pe(Yo),Va.options.editable&&qo&&(Fo=pe(Be()).closest(".k-edit-cell"),Fo[0]&&Fo[0]!==Yo[0]&&(Yo=Fo)),Fo=Go?Yo.prevAll(ta+":first"):Yo.nextAll(":visible:first"),Fo.length||(Fo=Yo.parent()[Go?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(ta+(Go?":last":":first"))),!Yo.is("th")&&Fo.length&&Va.options.editable&&qo&&(Va._handleEditing(Yo,Fo),No=!0)),No&&(Ya.preventDefault(),Ya.stopPropagation())}))},_handleEditing:function(Va,Wa){var qa=this,Ga=pe(Be()),Ya=qa._editMode(),Ka=Oa.msie,Xa=Ka&&9>Oa.version,Qa=qa._editContainer,Ua,ja;if(ja="incell"==Ya?Va.hasClass("k-edit-cell"):Va.parent().hasClass("k-grid-edit-row"),qa.editable){if(pe.contains(Qa[0],Ga[0])&&(Oa.opera||Xa?Ga.change().triggerHandler("blur"):(Ga.blur(),Ka&&Ga.blur())),!qa.editable)return Ee(qa.table),me;if(!qa.editable.end())return"incell"==Ya?qa.current(Qa):qa.current(Qa.children().filter(ta).first()),Ua=Qa.find(":focusable:first")[0],Ua&&Ua.focus(),me;"incell"==Ya?qa.closeCell():(qa.saveRow(),ja=!0)}Wa&&qa.current(Wa),Xa&&document.body.focus(),Ee(qa.table,!0),(ja||Wa)&&!Wa||("incell"==Ya?qa.editCell(qa.current()):qa.editRow(qa.current().parent()))},_wrapper:function(){var Va=this,Wa=Va.table,Ua=Va.options.height,ja=Va.element;ja.is("div")||(ja=ja.wrap("<div/>").parent()),Va.wrapper=ja.addClass("k-grid k-widget"),Ua&&(Va.wrapper.css(Aa,Ua),Wa.css(Aa,"auto"))},_tbody:function(){var Wa=this,Ua=Wa.table,Va;Va=Ua.find(">tbody"),Va.length||(Va=pe("<tbody/>").appendTo(Ua)),Wa.tbody=Va},_scrollable:function(){var Ga=this,Ya=Ga.options,Ka=Ya.scrollable,Xa=!0!==Ka&&Ka.virtual&&!Ga.virtualScrollable,Qa=!ze.support.kineticScrollNeeded||Xa?ze.support.scrollbar():0,Va,Wa,Ua,ja,qa;Ka&&(Va=Ga.wrapper.children(".k-grid-header"),Va[0]||(Va=pe("<div class=\"k-grid-header\" />").insertBefore(Ga.table)),Va.css(za?"padding-left":"padding-right",Ka.virtual?Qa+1:Qa),Wa=pe("<table role=\"grid\" />"),Ma&&Wa.attr("cellspacing",0),Wa.append(Ga.thead),Va.empty().append(pe("<div class=\"k-grid-header-wrap\" />").append(Wa)),Ga.content=Ga.table.parent(),Ga.content.is(".k-virtual-scrollable-wrap")&&(Ga.content=Ga.content.parent()),Ga.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(Ga.content=Ga.table.wrap("<div class=\"k-grid-content\" />").parent()),Xa&&(Ga.virtualScrollable=new Na(Ga.content,{dataSource:Ga.dataSource,itemHeight:Xe(Ga._averageRowHeight,Ga)})),Ga.scrollables=Va.children(".k-grid-header-wrap"),Ua=Ga.wrapper.find(".k-grid-footer"),ja=za&&Oa.webkit?Qa:0,Ua.length&&(Ga.scrollables=Ga.scrollables.add(Ua.children(".k-grid-footer-wrap"))),Ka.virtual?Ga.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+sa,function(){Ga.scrollables.scrollLeft(this.scrollLeft+ja)}):(Ga.content.bind("scroll"+sa,function(){Ga.scrollables.scrollLeft(this.scrollLeft+ja)}),qa=ze.touchScroller(Ga.content),qa&&qa.movable&&qa.movable.bind("change",function($a){Ga.scrollables.scrollLeft(-$a.sender.x)})))},_setContentHeight:function(){var Wa=this,Ua=Wa.options,ja=Wa.wrapper.innerHeight(),qa=Wa.wrapper.children(".k-grid-header"),Ga=ze.support.scrollbar(),Va;Ua.scrollable&&(ja-=qa.outerHeight(),Wa.pager&&(ja-=Wa.pager.element.outerHeight()),Ua.groupable&&(ja-=Wa.wrapper.children(".k-grouping-header").outerHeight()),Ua.toolbar&&(ja-=Wa.wrapper.children(".k-grid-toolbar").outerHeight()),Wa.footerTemplate&&(ja-=Wa.wrapper.children(".k-grid-footer").outerHeight()),Va=function(Ya){var Ka,Xa;return!!Ya[0].style.height||(Ka=Ya.height(),Ya.height("auto"),Xa=Ya.height(),Ka==Xa?(Ya.height(""),!1):(Ya.height(""),!0))},Va(Wa.wrapper)&&(ja>2*Ga?Wa.content.height(ja):Wa.content.height(2*Ga+1)))},_averageRowHeight:function(){var Wa=this,Ua=Wa._rowHeight,Va;return Wa._rowHeight||(Wa._rowHeight=Ua=Wa.table.outerHeight()/Wa.items().length,Wa._sum=Ua,Wa._measures=1),Va=Wa.table.outerHeight()/Wa.items().length,Ua!==Va&&(Wa._measures++,Wa._sum+=Va,Wa._rowHeight=Wa._sum/Wa._measures),Ua},_dataSource:function(){var Wa=this,Ua=Wa.options,ja=Ua.dataSource,Va;ja=Ye(ja)?{data:ja}:ja,Ue(ja)&&(je(ja,{table:Wa.table,fields:Wa.columns}),Va=Ua.pageable,Ue(Va)&&Va.pageSize!==me&&(ja.pageSize=Va.pageSize)),Wa.dataSource&&Wa._refreshHandler?Wa.dataSource.unbind(fa,Wa._refreshHandler).unbind(Ze,Wa._progressHandler).unbind(ea,Wa._errorHandler):(Wa._refreshHandler=Xe(Wa.refresh,Wa),Wa._progressHandler=Xe(Wa._requestStart,Wa),Wa._errorHandler=Xe(Wa._error,Wa)),Wa.dataSource=Me.create(ja).bind(fa,Wa._refreshHandler).bind(Ze,Wa._progressHandler).bind(ea,Wa._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(Va){var Ga=this,Ya=Va.model,Ka=Ga.tbody.find("tr["+ze.attr("uid")+"="+Ya.uid+"]"),Xa=Ka.hasClass("k-alt"),Qa=Ga.items().index(Ka),Wa,Ua,ja,qa;if(Ka.children(".k-edit-cell").length&&!Ga.options.rowTemplate)Ka.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){Wa=pe(this),Ua=Ga.columns[Ga.cellIndex(Wa)],Ua.field===Va.field&&(Wa.hasClass("k-edit-cell")?Wa.addClass("k-dirty-cell"):(Ga._displayCell(Wa,Ua,Ya),pe("<span class=\"k-dirty\"/>").prependTo(Wa)))});else if(!Ka.hasClass("k-grid-edit-row")){for(ja=(Xa?Ga.altRowTemplate:Ga.rowTemplate)(Ya),Ka.replaceWith(ja),ja=Ga.items().eq(Qa),Qa=0,qa=Ga.columns.length;qa>Qa;Qa++)Ua=Ga.columns[Qa],Ua.field===Va.field&&(Wa=ja.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(Qa),pe("<span class=\"k-dirty\"/>").prependTo(Wa));Ga.trigger("itemChange",{item:ja,data:Ya,ns:Oe})}},_pageable:function(){var Wa=this,Ua=Wa.options.pageable,Va;Ua&&(Va=Wa.wrapper.children("div.k-grid-pager"),Va.length||(Va=pe("<div class=\"k-pager-wrap k-grid-pager\"/>").appendTo(Wa.wrapper)),Wa.pager&&Wa.pager.destroy(),Wa.pager="object"==typeof Ua&&Ua instanceof ze.ui.Pager?Ua:new ze.ui.Pager(Va,je({},Ua,{dataSource:Wa.dataSource})))},_footer:function(){var Ua=this,ja=Ua.dataSource.aggregates(),qa="",Ga=Ua.footerTemplate,Ya=Ua.options,Ka=Ua.footer||Ua.wrapper.find(".k-grid-footer"),Va,Wa;Ga?(ja=$e(ja)?ke(Ua.dataSource.aggregate()):ja,qa=pe(Ua._wrapFooter(Ga(ja))),Ka.length?(Wa=qa,Ka.replaceWith(Wa),Ka=Ua.footer=Wa):Ka=Ua.footer=Ya.scrollable?Ya.pageable?qa.insertBefore(Ua.wrapper.children("div.k-grid-pager")):qa.appendTo(Ua.wrapper):qa.insertBefore(Ua.tbody)):Ka&&!Ua.footer&&(Ua.footer=Ka),Ka.length&&(Ya.scrollable&&(Va=Ka.attr("tabindex",-1).children(".k-grid-footer-wrap"),Ua.scrollables=Ua.scrollables.not(".k-grid-footer-wrap").add(Va)),Ua._footerWidth&&Ka.find("table").css("width",Ua._footerWidth),Va&&Va.scrollLeft(Ua.content.scrollLeft()))},_wrapFooter:function(Va){var Wa=this,Ua="",ja=ze.support.mobileOS?0:ze.support.scrollbar();return Wa.options.scrollable?(Ua=pe("<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table"+(Ma?" cellspacing=\"0\"":"")+"><tbody>"+Va+"</tbody></table></div></div>"),Wa._appendCols(Ua.find("table")),Ua.css(za?"padding-left":"padding-right",ja),Ua):"<tfoot class=\"k-grid-footer\">"+Va+"</tfoot>"},_columnMenu:function(){var Ya=this,Ka=Ya.columns,Xa=Ya.options,Qa=Xa.columnMenu,$a=function(){Ee(Ya.thead.parent(),!0)},Ja=function(Za){Ya.trigger(ma,{field:Za.field,container:Za.container})},Va,Wa,Ua,ja,qa,Ga;Qa&&("boolean"==typeof Qa&&(Qa={}),Ya.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(Za){Wa=Ka[Za],Ga=pe(this),!Wa.command&&(Wa.field||Ga.attr("data-"+ze.ns+"field"))&&(Va=Ga.data("kendoColumnMenu"),Va&&Va.destroy(),ja=!1!==Wa.sortable&&!1!==Qa.sortable&&Xa.sortable,qa=Xa.filterable&&!1!==Wa.filterable&&!1!==Qa.filterable&&je({},Wa.filterable,Xa.filterable),Ua={dataSource:Ya.dataSource,values:Wa.values,columns:Qa.columns,sortable:ja,filterable:qa,messages:Qa.messages,owner:Ya,closeCallback:$a,init:Ja},Ga.kendoColumnMenu(Ua))}))},_filterable:function(){var Ua=this,ja=Ua.columns,qa=function(){Ee(Ua.thead.parent(),!0)},Ga=Ua.options.filterable,Va,Wa;Ga&&!Ua.options.columnMenu&&Ua.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(Ya){Va=pe(this),!1!==ja[Ya].filterable&&!ja[Ya].command&&(ja[Ya].field||Va.attr("data-"+ze.ns+"field"))&&(Wa=Va.data("kendoFilterMenu"),Wa&&Wa.destroy(),Va.kendoFilterMenu(je(!0,{},Ga,ja[Ya].filterable,{dataSource:Ua.dataSource,values:ja[Ya].values,closeCallback:qa,init:function(Ka){Ua.trigger(ua,{field:Ka.field,container:Ka.container})}})))})},_sortable:function(){var ja=this,qa=ja.columns,Ga=ja.options.sortable,Va,Wa,Ua;Ga&&ja.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(Ya){Va=qa[Ya],!1!==Va.sortable&&!Va.command&&Va.field&&(Wa=pe(this),Ua=Wa.data("kendoSortable"),Ua&&Ua.destroy(),Wa.attr("data-"+ze.ns+"field",Va.field).kendoSortable(je({},Ga,{dataSource:ja.dataSource,aria:!0})))})},_columns:function(Va){var Ua=this,ja=Ua.table,qa=ja.find("col"),Ga=Ua.options.dataSource,Wa;Va=Va.length?Va:qe(ja.find("th"),function(Ya,Ka){Ya=pe(Ya);var Xa=Ya.attr(ze.attr("sortable")),Qa=Ya.attr(ze.attr("filterable")),$a=Ya.attr(ze.attr("type")),Ja=Ya.attr(ze.attr("groupable")),Za=Ya.attr(ze.attr("field")),Fo=Ya.attr(ze.attr("menu"));return Za||(Za=Ya.text().replace(/\s|[^A-z0-9]/g,"")),{field:Za,type:$a,sortable:"false"!==Xa,filterable:"false"!==Qa,groupable:"false"!==Ja,menu:Fo,template:Ya.attr(ze.attr("template")),width:qa.eq(Ka).css("width")}}),Wa=!(0<Ua.table.find("tbody tr").length)||Ga&&Ga.transport,Ua.columns=qe(Va,function(Ya){return Ya=typeof Ya==Ia?{field:Ya}:Ya,Ya.hidden&&(Ya.attributes=Se(Ya.attributes),Ya.footerAttributes=Se(Ya.footerAttributes),Ya.headerAttributes=Se(Ya.headerAttributes)),je({encoded:Wa},Ya)})},_groups:function(){var Va=this.dataSource.group();return Va?Va.length:0},_tmpl:function(Va,Wa){var Ya=this,Ka=je({},ze.Template,Ya.options.templateSettings),Xa=Ya.columns.length,Qa={storage:{},count:0},$a=Ya._hasDetails(),Ja=[],Za=Ya._groups(),Ua,ja,qa,Ga;if(!Va){for(Va="<tr",Wa&&Ja.push("k-alt"),$a&&Ja.push("k-master-row"),Ja.length&&(Va+=" class=\""+Ja.join(" ")+"\""),Xa&&(Va+=" "+ze.attr("uid")+"=\"#="+ze.expr("uid",Ka.paramName)+"#\""),Va+=" role='row'>",0<Za&&(Va+=_e(Za)),$a&&(Va+="<td class=\"k-hierarchy-cell\"><a class=\"k-icon k-plus\" href=\"\\#\" tabindex=\"-1\"></a></td>"),Ua=0;Xa>Ua;Ua++)qa=Ya.columns[Ua],ja=qa.template,Ga=typeof ja,Va+="<td"+xe(qa.attributes)+" role='gridcell'>",Va+=Ya._cellTmpl(qa,Qa),Va+="</td>";Va+="</tr>"}return Va=ze.template(Va,Ka),0<Qa.count?Xe(Va,Qa.storage):Va},_headerCellText:function(Va){var Wa=this,Ua=je({},ze.Template,Wa.options.templateSettings),ja=Va.headerTemplate,qa=typeof ja,Ga=Va.title||Va.field||"";return qa==Fa?Ga=ze.template(ja,Ua)({}):qa==Ia&&(Ga=ja),Ga},_cellTmpl:function(Va,Wa){var qa=this,Ga=je({},ze.Template,qa.options.templateSettings),Ya=Va.template,Ka=Ga.paramName,Xa=Va.field,Qa="",$a=Va.format,Ja=typeof Ya,Za=Va.values,Ua,ja;if(Va.command){if(Ye(Va.command)){for(Ua=0,ja=Va.command.length;ja>Ua;Ua++)Qa+=qa._createButton(Va.command[Ua]);return Qa.replace(Ra,"\\#")}return qa._createButton(Va.command).replace(Ra,"\\#")}return Ja==Fa?(Wa.storage["tmpl"+Wa.count]=Ya,Qa+="#=this.tmpl"+Wa.count+"("+Ka+")#",Wa.count++):Ja==Ia?Qa+=Ya:Za&&Za.length&&Ue(Za[0])&&"value"in Za[0]&&Xa?(Qa+="#var v ="+ze.stringify(Fe(Za))+"#",Qa+="#var f = v[",Ga.useWithBlock||(Qa+=Ka+"."),Qa+=Xa+"]#",Qa+="${f != null ? f : ''}"):(Qa+=Va.encoded?"#:":"#=",$a&&(Qa+="kendo.format(\""+$a.replace(Pa,"\\$1")+"\","),Xa?(Xa=ze.expr(Xa,Ka),Qa+=Xa+"==null?'':"+Xa):Qa+="''",$a&&(Qa+=")"),Qa+="#"),Qa},_templates:function(){var Va=this,Wa=Va.options,Ua=Va.dataSource,ja=Ua.group(),qa=Va.footer||Va.wrapper.find(".k-grid-footer"),Ga=Ua.aggregate();Va.rowTemplate=Va._tmpl(Wa.rowTemplate),Va.altRowTemplate=Va._tmpl(Wa.altRowTemplate||Wa.rowTemplate,!0),Va._hasDetails()&&(Va.detailTemplate=Va._detailTmpl(Wa.detailTemplate||"")),(!Va._group||$e(Ga))&&($e(Ga)||qa.length)&&!Ge(Va.columns,function(Ya){return Ya.footerTemplate}).length||(Va.footerTemplate=Va._footerTmpl(Ga,"footerTemplate","k-footer-template")),ja&&Ge(Va.columns,function(Ya){return Ya.groupFooterTemplate}).length&&(Ga=pe.map(ja,function(Ya){return Ya.aggregates}),Va.groupFooterTemplate=Va._footerTmpl(Ga,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(Va,Wa,Ua){var Xa=this,Qa=je({},ze.Template,Xa.options.templateSettings),$a=Qa.paramName,Ja="",Za=Xa.columns,Fo={},Mo=0,No={},Wo=Xa._groups(),Uo=ke(Va),ja,qa,Ga,Ya,Ka;for(Ja+="<tr class=\""+Ua+"\">",0<Wo&&(Ja+=_e(Wo)),Xa._hasDetails()&&(Ja+="<td class=\"k-hierarchy-cell\">&nbsp;</td>"),ja=0,qa=Xa.columns.length;qa>ja;ja++)Ka=Za[ja],Ga=Ka[Wa],Ya=typeof Ga,Ja+="<td"+xe(Ka.footerAttributes)+">",Ga?(Ya!==Fa&&(No=Uo[Ka.field]?je({},Qa,{paramName:$a+"."+Ka.field}):{},Ga=ze.template(Ga,No)),Fo["tmpl"+Mo]=Ga,Ja+="#=this.tmpl"+Mo+"("+$a+")#",Mo++):Ja+="&nbsp;",Ja+="</td>";return Ja+="</tr>",Ja=ze.template(Ja,Qa),0<Mo?Xe(Ja,Fo):Ja},_detailTmpl:function(Va){var Wa=this,Ua="",ja=je({},ze.Template,Wa.options.templateSettings),qa=ja.paramName,Ga={},Ya=0,Ka=Wa._groups(),Xa=Te(Wa.columns).length;return Ua+="<tr class=\"k-detail-row\">",0<Ka&&(Ua+=_e(Ka)),Ua+="<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\""+(Xa?" colspan=\""+Xa+"\"":"")+">",typeof Va==Fa?(Ga["tmpl"+Ya]=Va,Ua+="#=this.tmpl"+Ya+"("+qa+")#",Ya++):Ua+=Va,Ua+="</td></tr>",Ua=ze.template(Ua,ja),0<Ya?Xe(Ua,Ga):Ua},_hasDetails:function(){var Va=this;return null!==Va.options.detailTemplate||(Va._events[ga]||[]).length},_details:function(){var Va=this;Va.table.on(Sa+sa,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(Wa){var qa=pe(this),Ga=qa.hasClass("k-plus"),Ya=qa.closest("tr.k-master-row"),Ka=Va.detailTemplate,Xa=Va._hasDetails(),Ua,ja;return qa.toggleClass("k-plus",!Ga).toggleClass("k-minus",Ga),Xa&&!Ya.next().hasClass("k-detail-row")&&(ja=Va.dataItem(Ya),pe(Ka(ja)).addClass(Ya.hasClass("k-alt")?"k-alt":"").insertAfter(Ya),Va.trigger(ga,{masterRow:Ya,detailRow:Ya.next(),data:ja,detailCell:Ya.next().find(".k-detail-cell")})),Ua=Ya.next(),Va.trigger(Ga?ba:va,{masterRow:Ya,detailRow:Ua}),Ua.toggle(Ga),Va._current&&Va._current.attr("aria-expanded",Ga),Wa.preventDefault(),!1})},dataItem:function(Va){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(pe(Va))]},expandRow:function(Va){pe(Va).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(Va){pe(Va).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var Ga=this,Ya=Ga.columns,Ka=Ga._hasDetails()&&Ya.length,Xa="",Qa=Ga.table.find(">thead"),Va,Wa,Ua,ja,qa;if(Qa.length||(Qa=pe("<thead/>").insertBefore(Ga.tbody)),Ua=Ga.element.find("tr:has(th):first"),Ua.length||(Ua=Qa.children().first(),Ua.length||(Ua=pe("<tr/>"))),Ua.children().length)Ka&&!Ua.find(".k-hierarchy-cell")[0]&&Ua.prepend("<th class=\"k-hierarchy-cell\">&nbsp;</th>");else{for(Ka&&(Xa+="<th class=\"k-hierarchy-cell\">&nbsp;</th>"),Va=0,Wa=Ya.length;Wa>Va;Va++)qa=Ya[Va],ja=Ga._headerCellText(qa),qa.command?Xa+="<th"+xe(qa.headerAttributes)+">"+ja+"</th>":(Xa+="<th role='columnheader' "+ze.attr("field")+"='"+(qa.field||"")+"' ",qa.title&&(Xa+=ze.attr("title")+"=\""+qa.title.replace(/'/g,"'")+"\" "),qa.groupable!==me&&(Xa+=ze.attr("groupable")+"='"+qa.groupable+"' "),qa.aggregates&&(Xa+=ze.attr("aggregates")+"='"+qa.aggregates+"'"),Xa+=xe(qa.headerAttributes),Xa+=">"+ja+"</th>");Ua.html(Xa)}Ua.find("th").addClass("k-header"),Ga.options.scrollable||Qa.addClass("k-grid-header"),Ua.find("script").remove().end().appendTo(Qa),Ga.thead&&Ga._destroyColumnAttachments(),Ga.thead=Qa,Ga._sortable(),Ga._filterable(),Ga._scrollable(),Ga._updateCols(),Ga._resizable(),Ga._draggable(),Ga._reorderable(),Ga.groupable&&Ga._attachGroupable(),Ga._columnMenu()},_updateCols:function(){var Va=this;Va._appendCols(Va.thead.parent().add(Va.table))},_appendCols:function(Va){var Wa=this;De(Va,Te(Wa.columns),Wa._hasDetails(),Wa._groups())},_autoColumns:function(Va){if(Va&&Va.toJSON){var Ua=this,Wa;for(Wa in Va=Va.toJSON(),Va)Ua.columns.push({field:Wa});Ua._thead(),Ua._templates()}},_rowsHtml:function(Va){var ja=this,qa="",Ga=ja.rowTemplate,Ya=ja.altRowTemplate,Wa,Ua;for(Wa=0,Ua=Va.length;Ua>Wa;Wa++)qa+=Wa%2?Ya(Va[Wa]):Ga(Va[Wa]),ja._data.push(Va[Wa]);return qa},_groupRowHtml:function(Va,Wa,Ua){var Ga=this,Ya="",Ka=Va.field,Xa=Ge(Ga.columns,function(Mo){return Mo.field==Ka})[0]||{},Qa=Xa.groupHeaderTemplate,$a=(Xa.title||Ka)+": "+Ie(Va.value,Xa.format,Xa.values),Ja=je({},{field:Va.field,value:Va.value},Va.aggregates[Va.field]),Za=Ga._groupAggregatesDefaultObject||{},Fo=Va.items,ja,qa;if(Qa&&($a=typeof Qa==Fa?Qa(Ja):ze.template(Qa)(Ja)),Ya+="<tr class=\"k-grouping-row\">"+_e(Ua)+"<td colspan=\""+Wa+"\" aria-expanded=\"true\"><p class=\"k-reset\"><a class=\"k-icon k-i-collapse\" href=\"#\" tabindex=\"-1\"></a>"+$a+"</p></td></tr>",Va.hasSubgroups)for(ja=0,qa=Fo.length;qa>ja;ja++)Ya+=Ga._groupRowHtml(Fo[ja],Wa-1,Ua+1);else Ya+=Ga._rowsHtml(Fo);return Ga.groupFooterTemplate&&(Ya+=Ga.groupFooterTemplate(je(Za,Va.aggregates))),Ya},collapseGroup:function(Va){Va=pe(Va).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var ja=Va.find(".k-group-cell").length,qa=1,Wa,Ua;Va.find("td:first").attr("aria-expanded",!1),Va.nextAll("tr").each(function(){return Ua=pe(this),Wa=Ua.find(".k-group-cell").length,Ua.hasClass("k-grouping-row")?qa++:Ua.hasClass("k-group-footer")&&qa--,ja>=Wa||Ua.hasClass("k-group-footer")&&0>qa?!1:(Ua.hide(),me)})},expandGroup:function(Va){Va=pe(Va).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var ja=this,qa=Va.find(".k-group-cell").length,Ga=1,Wa,Ua;Va.find("td:first").attr("aria-expanded",!0),Va.nextAll("tr").each(function(){return Wa=pe(this),Ua=Wa.find(".k-group-cell").length,!(qa>=Ua)&&(Ua!=qa+1||Wa.hasClass("k-detail-row")||(Wa.show(),Wa.hasClass("k-grouping-row")&&Wa.find(".k-icon").hasClass("k-i-collapse")&&ja.expandGroup(Wa),Wa.hasClass("k-master-row")&&Wa.find(".k-icon").hasClass("k-minus")&&Wa.next().show()),Wa.hasClass("k-grouping-row")&&Ga++,Wa.hasClass("k-group-footer")&&(1==Ga?Wa.show():Ga--),me)})},_updateHeader:function(Va){var Wa=this,Ua=Wa.thead.find("th.k-group-cell"),ja=Ua.length;Va>ja?pe(Array(Va-ja+1).join("<th class=\"k-group-cell k-header\">&nbsp;</th>")).prependTo(Wa.thead.find("tr")):ja>Va&&(ja-=Va,pe(Ge(Ua,function(qa,Ga){return ja>Ga})).remove())},_firstDataItem:function(Va,Wa){return Va&&Wa&&(Va=Va.hasSubgroups?this._firstDataItem(Va.items[0],Wa):Va.items[0]),Va},hideColumn:function(Va){var $a=this,Ja=0,Za=$a.footer||$a.wrapper.find(".k-grid-footer"),Fo=$a.columns,Wa,Ua,ja,qa,Ga,Ya,Ka,Xa,Qa;if(Va="number"==typeof Va?Fo[Va]:Ge(Fo,function(Mo){return Mo.field===Va})[0],Va&&!Va.hidden){for(Qa=Ke(Va,Te(Fo)),Va.hidden=!0,Va.attributes=Se(Va.attributes),Va.footerAttributes=Se(Va.footerAttributes),Va.headerAttributes=Se(Va.headerAttributes),$a._templates(),$a._updateCols(),Pe($a.thead.find(">tr")[0].cells,Qa,!1),Za[0]&&($a._appendCols(Za.find("table:first")),Pe(Za.find(".k-footer-template")[0].cells,Qa,!1)),Wa=$a.tbody.children(),Ga=0,Xa=Wa.length;Xa>Ga;Ga+=1)Ua=Wa.eq(Ga),Ua.is(".k-grouping-row,.k-detail-row")?(ja=Ua.children(":not(.k-group-cell):first,.k-detail-cell").last(),ja.attr("colspan",parseInt(ja.attr("colspan"),10)-1)):(Ua.hasClass("k-grid-edit-row")&&(ja=Ua.children(".k-edit-container")[0])&&(ja=pe(ja),ja.attr("colspan",parseInt(ja.attr("colspan"),10)-1),ja.find("col").eq(Qa).remove(),Ua=ja.find("tr:first")),Pe(Ua[0].cells,Qa,!1));for(Ya=$a.thead.prev().find("col"),Ga=0,Xa=Ya.length;Xa>Ga;Ga+=1){if(Ka=Ya[Ga].style.width,!Ka||-1!=Ka.indexOf("%")){Ja=0;break}Ja+=parseInt(Ka,10)}qa=pe(">.k-grid-header table:first,>.k-grid-footer table:first",$a.wrapper).add($a.table),$a._footerWidth=null,Ja&&(qa.width(Ja),$a._footerWidth=Ja),Oa.msie&&8==Oa.version&&(qa.css("display","inline-table"),setTimeout(function(){qa.css("display","table")},1)),$a.trigger(ha,{column:Va})}},showColumn:function(Va){var Ja=this,Za=Ja.columns,Fo=Ja.footer||Ja.wrapper.find(".k-grid-footer"),Wa,Ua,ja,qa,Ga,Ya,Ka,Xa,Qa,$a;if(Va="number"==typeof Va?Za[Va]:Ge(Za,function(Mo){return Mo.field===Va})[0],Va&&Va.hidden){for($a=Ke(Va,Za),Va.hidden=!1,Va.attributes=Ae(Va.attributes),Va.footerAttributes=Ae(Va.footerAttributes),Va.headerAttributes=Ae(Va.headerAttributes),Ja._templates(),Ja._updateCols(),Pe(Ja.thead.find(">tr")[0].cells,$a,!0),Fo[0]&&(Ja._appendCols(Fo.find("table:first")),Pe(Fo.find(".k-footer-template")[0].cells,$a,!0)),Wa=Ja.tbody.children(),Ua=0,ja=Wa.length;ja>Ua;Ua+=1)qa=Wa.eq(Ua),qa.is(".k-grouping-row,.k-detail-row")?(Ga=qa.children(":not(.k-group-cell):first,.k-detail-cell").last(),Ga.attr("colspan",parseInt(Ga.attr("colspan"),10)+1)):(qa.hasClass("k-grid-edit-row")&&(Ga=qa.children(".k-edit-container")[0])&&(Ga=pe(Ga),Ga.attr("colspan",parseInt(Ga.attr("colspan"),10)+1),De(Ga.find(">form>table"),Te(Za),!1,0),qa=Ga.find("tr:first")),Pe(qa[0].cells,$a,!0));if(Ya=pe(">.k-grid-header table:first,>.k-grid-footer table:first",Ja.wrapper).add(Ja.table),Va.width){for(Ka=0,Qa=Ja.thead.prev().find("col"),Ua=0,ja=Qa.length;ja>Ua;Ua+=1){if(Xa=Qa[Ua].style.width,-1<Xa.indexOf("%")){Ka=0;break}Ka+=parseInt(Xa,10)}Ja._footerWidth=null,Ka&&(Ya.width(Ka),Ja._footerWidth=Ka)}else Ya.width("");Ja.trigger(_a,{column:Va})}},_progress:function(Va){var Wa=this,Ua=Wa.element.is("table")?Wa.element.parent():Wa.content&&Wa.content.length?Wa.content:Wa.element;ze.ui.progress(Ua,Va)},refresh:function(Va){var Ka=this,Xa="",Qa=Ka.dataSource.view(),$a=Ka.options.navigatable,Ja=pe(Ka.current()),Za=!1,Fo=(Ka.dataSource.group()||[]).length,Mo=Fo+Te(Ka.columns).length,Wa,Ua,ja,qa,Ga,Ya;if(!(Va&&"itemchange"===Va.action&&Ka.editable||(Va=Va||{},Ka.trigger("dataBinding",{action:Va.action||"rebind",index:Va.index,items:Va.items})))){if(Ya=Be(),$a&&(Ka.table[0]===Ya||pe.contains(Ka.table[0],Ya)||Ka._editContainer&&Ka._editContainer.data("kendoWindow"))&&(Za=Ja.is("th"),Ga=0,Za&&(Ga=Ka.thead.find("th:not(.k-group-cell)").index(Ja))),Ka._destroyEditable(),Ka._progress(!1),Ka._data=[],Ka.columns.length||(Ka._autoColumns(Ka._firstDataItem(Qa[0],Fo)),Mo=Fo+Ka.columns.length),Ka._group=0<Fo||Ka._group,Ka._group&&(Ka._templates(),Ka._updateCols(),Ka._updateHeader(Fo),Ka._group=0<Fo),0<Fo)for(Ka.detailTemplate&&Mo++,Ka.groupFooterTemplate&&(Ka._groupAggregatesDefaultObject=ke(Ka.dataSource.aggregate())),Ua=0,Wa=Qa.length;Wa>Ua;Ua++)Xa+=Ka._groupRowHtml(Qa[Ua],Mo,0);else Xa+=Ka._rowsHtml(Qa);Le?Ka.tbody[0].innerHTML=Xa:(qa=document.createElement("div"),qa.innerHTML="<table><tbody>"+Xa+"</tbody></table>",ja=qa.firstChild.firstChild,Ka.table[0].replaceChild(ja,Ka.tbody[0]),Ka.tbody=pe(ja)),Ka._footer(),Ka._setContentHeight(),0<=Ga&&(Ka._removeCurrent(),Za?Ka.current(Ka.thead.find("th:not(.k-group-cell)").eq(Ga)):Ka.current(Ka.items().eq(Ga).children().filter(ta).first()),Ka._current&&Ee(Ka._current.closest("table")[0],!0)),Ka.trigger(ya)}}});Oe.plugin(Ba),Oe.plugin(Na)})(window.kendo.jQuery);;(function(pe,me){function _e(Xe){return pe.map(xe(Xe),function(Qe){return Qe.name}).join(", ")}function xe(Xe){var Qe=Xe[0];return Qe.files?ye(Qe.files):[{name:we(Qe.value),extension:ke(Qe.value),size:null}]}function ye(Xe){return pe.map(Xe,function(Qe){return be(Qe)})}function be(Xe){var Qe=Xe.name||Xe.fileName;return{name:He.htmlEncode(Qe),extension:ke(Qe),size:Xe.size||Xe.fileSize,rawFile:Xe}}function ke(Xe){var Qe=Xe.match(Me);return Qe?Qe[0]:""}function we(Xe){var Qe=Xe.lastIndexOf("\\");return-1==Qe?Xe:Xe.substr(Qe+1)}function Ce(Xe,Qe,$e){var Je,Ze;Qe._supportsRemove()&&(Je=Xe.data("fileNames"),Ze=pe.map(Je,function(ea){return ea.name}),Qe._submitRemove(Ze,$e,function(ea,ta,aa){Qe._removeFileEntry(Xe),Qe.trigger(Ve,{operation:"remove",files:Je,response:ea,XMLHttpRequest:aa})},function(ea){Qe.trigger(We,{operation:"remove",files:Je,XMLHttpRequest:ea}),Oe("Server response: "+ea.responseText)}))}function Te(Xe,Qe,$e){var Je=!1,Ze="";try{Ze=pe.parseJSON(Se(Xe)),Je=!0}catch(ea){$e()}Je&&Qe(Ze)}function Se(Xe){return(Xe===me||""===Xe)&&(Xe="{}"),Xe}function Ae(Xe){Xe.stopPropagation(),Xe.preventDefault()}function De(Xe,Qe,$e,Je){var Ze,ea;Xe.on("dragenter"+Qe,function(){$e(),ea=new Date,Ze||(Ze=setInterval(function(){var ta=new Date-ea;100<ta&&(Je(),clearInterval(Ze),Ze=null)},100))}).on("dragover"+Qe,function(){ea=new Date})}function Fe(Xe){return Xe.children(".k-icon").is(".k-loading, .k-success, .k-fail")}function Ie(Xe){return pe(Xe.target).closest(".k-file")}function Pe(){var Xe={},Qe=pe("meta[name=csrf-token]").attr("content"),$e=pe("meta[name=csrf-param]").attr("content");return pe("input[name^='__RequestVerificationToken']").each(function(){Xe[this.name]=this.value}),$e!==me&&Qe!==me&&(Xe[$e]=Qe),Xe}var He=window.kendo,ze=He.ui.Widget,Oe=He.logToConsole,Me=/\.([^\.]+)$/,Ne=".kendoUpload",Le="select",Be="upload",Ve="success",We="error",Ue="complete",je="cancel",qe="progress",Ge="remove",Ye=ze.extend({init:function(Xe,Qe){var Ze=this,$e,Je;ze.fn.init.call(Ze,Xe,Qe),Ze.name=Xe.name,Ze.multiple=Ze.options.multiple,Ze.localization=Ze.options.localization,$e=Ze.element,Ze.wrapper=$e.closest(".k-upload"),0===Ze.wrapper.length&&(Ze.wrapper=Ze._wrapInput($e)),Ze._activeInput($e),Ze.toggle(Ze.options.enabled),Je=Ze._ns=Ne+"-"+He.guid(),$e.closest("form").on("submit"+Je,pe.proxy(Ze._onParentFormSubmit,Ze)).on("reset"+Je,pe.proxy(Ze._onParentFormReset,Ze)),Ze.options.async.saveUrl?(Ze._module=Ze._supportsFormData()?new Ee(Ze):new Re(Ze),Ze._async=!0):Ze._module=new Ke(Ze),Ze._supportsDrop()&&Ze._setupDropZone(),Ze.wrapper.delegate(".k-upload-action","click",pe.proxy(Ze._onFileAction,Ze)).delegate(".k-upload-selected","click",pe.proxy(Ze._onUploadSelected,Ze)).delegate(".k-file","t:progress",pe.proxy(Ze._onFileProgress,Ze)).delegate(".k-file","t:upload-success",pe.proxy(Ze._onUploadSuccess,Ze)).delegate(".k-file","t:upload-error",pe.proxy(Ze._onUploadError,Ze))},events:[Le,Be,Ve,We,Ue,je,qe,Ge],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}},setOptions:function(Xe){var Qe=this,$e=Qe.element;ze.fn.setOptions.call(Qe,Xe),Qe.multiple=Qe.options.multiple,$e.attr("multiple",!!Qe._supportsMultiple()&&Qe.multiple),Qe.toggle(Qe.options.enabled)},enable:function(Xe){Xe=!(Xe!==me)||Xe,this.toggle(Xe)},disable:function(){this.toggle(!1)},toggle:function(Xe){Xe=Xe===me?Xe:!Xe,this.wrapper.toggleClass("k-state-disabled",Xe)},destroy:function(){var Xe=this;pe(document).add(pe(".k-dropzone",Xe.wrapper)).add(Xe.wrapper.closest("form")).off(Xe._ns),pe(Xe.element).off(Ne),ze.fn.destroy.call(Xe)},_addInput:function(Xe){var Qe=this;Xe.insertAfter(Qe.element).data("kendoUpload",Qe),pe(Qe.element).hide().removeAttr("id").off(Ne),Qe._activeInput(Xe)},_activeInput:function(Xe){var Qe=this,$e=Qe.wrapper;Qe.element=Xe,Xe.attr("multiple",!!Qe._supportsMultiple()&&Qe.multiple).attr("autocomplete","off").on("click"+Ne,function(Je){$e.hasClass("k-state-disabled")&&Je.preventDefault()}).on("focus"+Ne,function(){pe(this).parent().addClass("k-state-focused")}).on("blur"+Ne,function(){pe(this).parent().removeClass("k-state-focused")}).on("change"+Ne,pe.proxy(Qe._onInputChange,Qe))},_onInputChange:function(Xe){var Qe=this,$e=pe(Xe.target),Je=Qe.trigger(Le,{files:xe($e)});Je?(Qe._addInput($e.clone().val("")),$e.remove()):$e.trigger("t:select")},_onDrop:function(Xe){var $e=Xe.originalEvent.dataTransfer,Je=this,Ze=$e.files,Qe;Ae(Xe),0<Ze.length&&(Qe=Je.trigger(Le,{files:ye(Ze)}),Qe||pe(".k-dropzone",Je.wrapper).trigger("t:select",[Ze]))},_enqueueFile:function(Xe,Qe){var Ze=this,ea=pe(".k-upload-files",Ze.wrapper),$e,Je;return 0===ea.length&&(ea=pe("<ul class='k-upload-files k-reset'></ul>").appendTo(Ze.wrapper),Ze.options.showFileList||ea.hide()),$e=pe(".k-file",ea),Je=pe("<li class='k-file'><span class='k-filename' title='"+Xe+"'>"+Xe+"</span></li>").appendTo(ea).data(Qe),Ze._async&&Je.prepend("<span class='k-icon'></span>"),Ze.multiple||$e.trigger("t:remove"),Je},_removeFileEntry:function(Xe){var $e=Xe.closest(".k-upload-files"),Qe;Xe.remove(),Qe=pe(".k-file",$e),Qe.find("> .k-fail").length===Qe.length&&this._hideUploadButton(),0===Qe.length&&$e.remove()},_fileAction:function(Xe,Qe){var $e={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};$e.hasOwnProperty(Qe)&&(this._clearFileAction(Xe),Xe.append(this._renderAction($e[Qe],this.localization[Qe]).addClass("k-upload-action")))},_fileState:function(Xe,Qe){var Je=this.localization,Ze={uploading:{cssClass:"k-loading",text:Je.statusUploading},uploaded:{cssClass:"k-success",text:Je.statusUploaded},failed:{cssClass:"k-fail",text:Je.statusFailed}},ea=Ze[Qe],$e;ea&&($e=Xe.children(".k-icon").text(ea.text),$e[0].className="k-icon "+ea.cssClass)},_renderAction:function(Xe,Qe){return""===Xe?pe("<button type='button' class='k-button'>"+Qe+"</button>"):pe("<button type='button' class='k-button k-button-icontext'><span class='k-icon "+Xe+"'></span>"+Qe+"</button>")},_clearFileAction:function(Xe){Xe.find(".k-upload-action").remove()},_onFileAction:function(Xe){var ea=this,Qe,$e,Je,Ze;return ea.wrapper.hasClass("k-state-disabled")||(Qe=pe(Xe.target).closest(".k-upload-action"),$e=Qe.find(".k-icon"),Je=Qe.closest(".k-file"),Ze={files:Je.data("fileNames")},$e.hasClass("k-delete")?ea.trigger(Ge,Ze)||Je.trigger("t:remove",Ze.data):$e.hasClass("k-cancel")?(ea.trigger(je,Ze),Je.trigger("t:cancel"),this._checkAllComplete()):$e.hasClass("k-retry")&&Je.trigger("t:retry")),!1},_onUploadSelected:function(){return this.wrapper.trigger("t:saveSelected"),!1},_onFileProgress:function(Xe,Qe){var $e=pe(".k-progress-status",Xe.target);0===$e.length&&($e=pe("<span class='k-progress'><span class='k-state-selected k-progress-status' style='width: 0;'></span></span>").appendTo(pe(".k-filename",Xe.target)).find(".k-progress-status")),$e.width(Qe+"%"),this.trigger(qe,{files:Ie(Xe).data("fileNames"),percentComplete:Qe})},_onUploadSuccess:function(Xe,Qe,$e){var Je=Ie(Xe);this._fileState(Je,"uploaded"),this.trigger(Ve,{files:Je.data("fileNames"),response:Qe,operation:"upload",XMLHttpRequest:$e}),this._supportsRemove()?this._fileAction(Je,Ge):this._clearFileAction(Je),this._checkAllComplete()},_onUploadError:function(Xe,Qe){var $e=Ie(Xe);this._fileState($e,"failed"),this._fileAction($e,"retry"),this.trigger(We,{operation:"upload",files:$e.data("fileNames"),XMLHttpRequest:Qe}),Oe("Server response: "+Qe.responseText),this._checkAllComplete()},_showUploadButton:function(){var Xe=pe(".k-upload-selected",this.wrapper);0===Xe.length&&(Xe=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(Xe)},_hideUploadButton:function(){pe(".k-upload-selected",this.wrapper).remove()},_onParentFormSubmit:function(){var Qe=this,$e=Qe.element,Xe;$e.trigger("t:abort"),$e.value||(Xe=pe($e),Xe.attr("disabled","disabled"),window.setTimeout(function(){Xe.removeAttr("disabled")},0))},_onParentFormReset:function(){pe(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var Xe=-1<this._userAgent().indexOf("Windows");return!(He.support.browser.opera||He.support.browser.safari&&Xe)},_supportsDrop:function(){var Xe=this._userAgent().toLowerCase(),Qe=/chrome/.test(Xe),$e=!Qe&&/safari/.test(Xe),Je=$e&&/windows/.test(Xe);return!Je&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var $e=this,Xe,Qe;pe(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),Xe=$e._ns,Qe=pe(".k-dropzone",$e.wrapper).append(pe("<em>"+$e.localization.dropFilesHere+"</em>")).on("dragenter"+Xe,Ae).on("dragover"+Xe,function(Je){Je.preventDefault()}).on("drop"+Xe,pe.proxy(this._onDrop,this)),De(Qe,Xe,function(){Qe.addClass("k-dropzone-hovered")},function(){Qe.removeClass("k-dropzone-hovered")}),De(pe(document),Xe,function(){Qe.addClass("k-dropzone-active")},function(){Qe.removeClass("k-dropzone-active")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(Xe,Qe,$e,Je){var Ze=this,ea=Ze.options.async.removeField||"fileNames",ta=pe.extend(Qe,Pe());ta[ea]=Xe,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:Se,url:this.options.async.removeUrl,traditional:!0,data:ta,success:$e,error:Je})},_wrapInput:function(Xe){return Xe.wrap("<div class='k-widget k-upload'><div class='k-button k-upload-button'></div></div>"),Xe.closest(".k-button").append("<span>"+this.localization.select+"</span>"),Xe.closest(".k-upload")},_checkAllComplete:function(){0===pe(".k-file .k-icon.k-loading",this.wrapper).length&&this.trigger(Ue)}}),Ke=function(Xe){this.name="syncUploadModule",this.element=Xe.wrapper,this.upload=Xe,this.element.bind("t:select",pe.proxy(this.onSelect,this)).bind("t:remove",pe.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},Re,Ee;Ke.prototype={onSelect:function(Xe){var $e=this.upload,Je=pe(Xe.target),Qe;$e._addInput(Je.clone().val("")),Qe=$e._enqueueFile(_e(Je),{relatedInput:Je,fileNames:xe(Je)}),$e._fileAction(Qe,Ge)},onRemove:function(Xe){var Qe=Ie(Xe);Qe.data("relatedInput").remove(),this.upload._removeFileEntry(Qe)}},Re=function(Xe){this.name="iframeUploadModule",this.element=Xe.wrapper,this.upload=Xe,this.iframes=[],this.element.bind("t:select",pe.proxy(this.onSelect,this)).bind("t:cancel",pe.proxy(this.onCancel,this)).bind("t:retry",pe.proxy(this.onRetry,this)).bind("t:remove",pe.proxy(this.onRemove,this)).bind("t:saveSelected",pe.proxy(this.onSaveSelected,this)).bind("t:abort",pe.proxy(this.onAbort,this))},Ye._frameId=0,Re.prototype={onSelect:function(Xe){var Qe=this.upload,$e=pe(Xe.target),Je=this.prepareUpload($e);Qe.options.async.autoUpload?this.performUpload(Je):(Qe._supportsRemove()&&this.upload._fileAction(Je,Ge),Qe._showUploadButton())},prepareUpload:function(Xe){var Ze=this.upload,ea=pe(Ze.element),ta=Ze.options.async.saveField||Xe.attr("name"),Qe,$e,Je;return Ze._addInput(Xe.clone().val("")),Xe.attr("name",ta),Qe=this.createFrame(Ze.name+"_"+Ye._frameId++),this.registerFrame(Qe),$e=this.createForm(Ze.options.async.saveUrl,Qe.attr("name")).append(ea),Je=Ze._enqueueFile(_e(Xe),{frame:Qe,relatedInput:ea,fileNames:xe(Xe)}),Qe.data({form:$e,file:Je}),Je},performUpload:function(Xe){var Ze={files:Xe.data("fileNames")},ea=Xe.data("frame"),ta=this.upload,Qe,$e,Je;if(ta.trigger(Be,Ze))ta._removeFileEntry(ea.data("file")),this.cleanupFrame(ea),this.unregisterFrame(ea);else{for($e in ta._hideUploadButton(),ea.appendTo(document.body),Qe=ea.data("form").appendTo(document.body),Ze.data=pe.extend({},Ze.data,Pe()),Ze.data)Je=Qe.find("input[name='"+$e+"']"),0===Je.length&&(Je=pe("<input>",{type:"hidden",name:$e}).appendTo(Qe)),Je.val(Ze.data[$e]);ta._fileAction(Xe,je),ta._fileState(Xe,"uploading"),ea.one("load",pe.proxy(this.onIframeLoad,this)),Qe[0].submit()}},onSaveSelected:function(){var Xe=this;pe(".k-file",this.element).each(function(){var Qe=pe(this),$e=Fe(Qe);$e||Xe.performUpload(Qe)})},onIframeLoad:function(Xe){var $e=pe(Xe.target),Qe;try{Qe=$e.contents().text()}catch(Je){Qe="Error trying to get server response: "+Je}this.processResponse($e,Qe)},processResponse:function(Xe,Qe){var $e=Xe.data("file"),Je=this,Ze={responseText:Qe};Te(Qe,function(ea){pe.extend(Ze,{statusText:"OK",status:"200"}),$e.trigger("t:progress",[100]),$e.trigger("t:upload-success",[ea,Ze]),Je.cleanupFrame(Xe),Je.unregisterFrame(Xe)},function(){pe.extend(Ze,{statusText:"error",status:"500"}),$e.trigger("t:upload-error",[Ze])})},onCancel:function(Xe){var Qe=pe(Xe.target).data("frame");this.stopFrameSubmit(Qe),this.cleanupFrame(Qe),this.unregisterFrame(Qe),this.upload._removeFileEntry(Qe.data("file"))},onRetry:function(Xe){var Qe=Ie(Xe);this.performUpload(Qe)},onRemove:function(Xe,Qe){var $e=Ie(Xe),Je=$e.data("frame");Je?(this.unregisterFrame(Je),this.upload._removeFileEntry($e),this.cleanupFrame(Je)):Ce($e,this.upload,Qe)},onAbort:function(){var Xe=this.element,Qe=this;pe.each(this.iframes,function(){pe("input",this.data("form")).appendTo(Xe),Qe.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(Xe){return pe("<iframe name='"+Xe+"' id='"+Xe+"' style='display:none;' />")},createForm:function(Xe,Qe){return pe("<form enctype='multipart/form-data' method='POST' action='"+Xe+"' target='"+Qe+"'/>")},stopFrameSubmit:function(Xe){Xe.stop===me?Xe.document&&Xe.document.execCommand("Stop"):Xe.stop()},registerFrame:function(Xe){this.iframes.push(Xe)},unregisterFrame:function(Xe){this.iframes=pe.grep(this.iframes,function(Qe){return Qe.attr("name")!=Xe.attr("name")})},cleanupFrame:function(Xe){var Qe=Xe.data("form");Xe.data("file").data("frame",null),setTimeout(function(){Qe.remove(),Xe.remove()},1)}},Ee=function(Xe){this.name="formDataUploadModule",this.element=Xe.wrapper,this.upload=Xe,this.element.bind("t:select",pe.proxy(this.onSelect,this)).bind("t:cancel",pe.proxy(this.onCancel,this)).bind("t:remove",pe.proxy(this.onRemove,this)).bind("t:retry",pe.proxy(this.onRetry,this)).bind("t:saveSelected",pe.proxy(this.onSaveSelected,this)).bind("t:abort",pe.proxy(this.onAbort,this))},Ee.prototype={onSelect:function(Xe,Qe){var $e=this.upload,Je=this,Ze=pe(Xe.target),ea=Qe?ye(Qe):this.inputFiles(Ze),ta=this.prepareUpload(Ze,ea);pe.each(ta,function(){$e.options.async.autoUpload?Je.performUpload(this):($e._supportsRemove()&&$e._fileAction(this,Ge),$e._showUploadButton())})},prepareUpload:function(Xe,Qe){var $e=this.enqueueFiles(Qe);return Xe.is("input")&&(pe.each($e,function(){pe(this).data("relatedInput",Xe)}),Xe.data("relatedFileEntries",$e),this.upload._addInput(Xe.clone().val(""))),$e},enqueueFiles:function(Xe){var ea=this.upload,ta=Xe.length,aa=[],Qe,$e,Je,Ze;if(!0===ea.options.async.batch)Qe=pe.map(Xe,function(oa){return oa.name}).join(", "),Ze=ea._enqueueFile(Qe,{fileNames:Xe}),Ze.data("files",Xe),aa.push(Ze);else for($e=0;ta>$e;$e++)Je=Xe[$e],Qe=Je.name,Ze=ea._enqueueFile(Qe,{fileNames:[Je]}),Ze.data("files",[Je]),aa.push(Ze);return aa},inputFiles:function(Xe){return xe(Xe)},performUpload:function(Xe){var $e=this.upload,Je=this.createFormData(Xe.data("files")),Ze=new XMLHttpRequest,ea={files:Xe.data("fileNames"),XMLHttpRequest:Ze},Qe;if($e.trigger(Be,ea))this.removeFileEntry(Xe);else{for(Qe in $e._fileAction(Xe,je),$e._hideUploadButton(),ea.data=pe.extend({},ea.data,Pe()),ea.data)Je.append(Qe,ea.data[Qe]);$e._fileState(Xe,"uploading"),this.postFormData($e.options.async.saveUrl,Je,Xe,Ze)}},onSaveSelected:function(){var Xe=this;pe(".k-file",this.element).each(function(){var Qe=pe(this),$e=Fe(Qe);$e||Xe.performUpload(Qe)})},onCancel:function(Xe){var Qe=Ie(Xe);this.stopUploadRequest(Qe),this.removeFileEntry(Qe)},onRetry:function(Xe){var Qe=Ie(Xe);this.performUpload(Qe)},onRemove:function(Xe,Qe){var $e=Ie(Xe);$e.children(".k-icon").is(".k-success")?Ce($e,this.upload,Qe):this.removeFileEntry($e)},postFormData:function(Xe,Qe,$e,Je){var Ze=this;$e.data("request",Je),Je.addEventListener("load",function(ea){Ze.onRequestSuccess.call(Ze,ea,$e)},!1),Je.addEventListener(We,function(ea){Ze.onRequestError.call(Ze,ea,$e)},!1),Je.upload.addEventListener("progress",function(ea){Ze.onRequestProgress.call(Ze,ea,$e)},!1),Je.open("POST",Xe),Je.withCredentials="true",Je.send(Qe)},createFormData:function(Xe){var $e=new FormData,Je=this.upload,Ze=Xe.length,Qe;for(Qe=0;Ze>Qe;Qe++)$e.append(Je.options.async.saveField||Je.name,Xe[Qe].rawFile);return $e},onRequestSuccess:function(Xe,Qe){function $e(){Qe.trigger("t:upload-error",[Je])}var Je=Xe.target,Ze=this;200<=Je.status&&299>=Je.status?Te(Je.responseText,function(ea){Qe.trigger("t:progress",[100]),Qe.trigger("t:upload-success",[ea,Je]),Ze.cleanupFileEntry(Qe)},$e):$e()},onRequestError:function(Xe,Qe){var $e=Xe.target;Qe.trigger("t:upload-error",[$e])},cleanupFileEntry:function(Xe){var Qe=Xe.data("relatedInput"),$e=!0;Qe&&(pe.each(Qe.data("relatedFileEntries")||[],function(){0<this.parent().length&&this[0]!=Xe[0]&&($e=$e&&this.children(".k-icon").is(".k-success"))}),$e&&Qe.remove())},removeFileEntry:function(Xe){this.cleanupFileEntry(Xe),this.upload._removeFileEntry(Xe)},onRequestProgress:function(Xe,Qe){var $e=Math.round(100*Xe.loaded/Xe.total);Qe.trigger("t:progress",[$e])},stopUploadRequest:function(Xe){Xe.data("request").abort()}},He.ui.plugin(Ye)})(window.kendo.jQuery);;(function(pe,me){function _e(Za){var Fo={top:0,right:0,bottom:0,left:0};return"number"==typeof Za?Fo[qa]=Fo[Ua]=Fo[Ta]=Fo[Oa]=Za:(Fo[qa]=Za[qa]||0,Fo[Ua]=Za[Ua]||0,Fo[Ta]=Za[Ta]||0,Fo[Oa]=Za[Oa]||0),Fo}function xe(Za,Fo){return fa.extend({init:function(Mo){this.view=Mo},decorate:function(Mo){var Wo=this,Uo=Wo.view,jo=Mo.options.animation,No;return jo&&jo.type===Za&&Uo.options.transitions&&(No=Mo._animation=new Fo(Mo,jo),Uo.animations.push(No)),Mo}})}function ye(Za,Fo,Mo){var Jo=ke(Fo),Zo=Za+Jo+Mo,er=ye.cache.get(Zo),tr={width:0,height:0,baseline:0},No,Wo,Uo,jo,qo,Go,Yo,Ko,Xo,Qo,$o;if(er)return er;for(Uo in No=ye.measureBox,Wo=ye.baselineMarker.cloneNode(!1),No&&No.parentNode||(No=ye.measureBox=pe("<div style='position: absolute; top: -4000px; left: -4000px;line-height: normal; visibility: hidden;' />").appendTo(ga.body)[0]),Fo)No.style[Uo]=Fo[Uo];return No.innerHTML=Za,No.appendChild(Wo),(Za+"").length&&(tr={width:No.offsetWidth-wa,height:No.offsetHeight,baseline:Wo.offsetTop+wa}),Mo&&(jo=tr.width,qo=tr.height,Go=jo/2,Yo=qo/2,Ko=Ce(0,0,Go,Yo,Mo),Xo=Ce(jo,0,Go,Yo,Mo),Qo=Ce(jo,qo,Go,Yo,Mo),$o=Ce(0,qo,Go,Yo,Mo),tr.normalWidth=jo,tr.normalHeight=qo,tr.width=ba.max(Ko.x,Xo.x,Qo.x,$o.x)-ba.min(Ko.x,Xo.x,Qo.x,$o.x),tr.height=ba.max(Ko.y,Xo.y,Qo.y,$o.y)-ba.min(Ko.y,Xo.y,Qo.y,$o.y)),ye.cache.put(Zo,tr),tr}function be(Za,Fo){var Uo=Fo-Za,Mo,No,Wo;if(0==Uo){if(0===Fo)return 0.1;Uo=ba.abs(Fo)}return Mo=ba.pow(10,ba.floor(ba.log(Uo)/ba.log(10))),No=Pe(Uo/Mo,Ia),Wo=1,Wo=1.904762>No?0.2:4.761904>No?0.5:9.523809>No?1:2,Pe(Mo*Wo,Ia)}function ke(Za){var Mo=[],Fo;for(Fo in Za)Mo.push(Fo+Za[Fo]);return Mo.sort().join(" ")}function we(){return da.current.alloc()}function Ce(Za,Fo,Mo,No,Wo){var Uo=Wo*Ra;return{x:Mo+(Za-Mo)*ba.cos(Uo)+(Fo-No)*ba.sin(Uo),y:No-(Za-Mo)*ba.sin(Uo)+(Fo-No)*ba.cos(Uo)}}function Te(Za,Fo){if(Za.x1==Fo.x1&&Za.y1==Fo.y1&&Za.x2==Fo.x2&&Za.y2==Fo.y2)return Fo;var Mo=ba.min(Za.x1,Fo.x1),No=ba.max(Za.x1,Fo.x1),Wo=ba.min(Za.x2,Fo.x2),Uo=ba.max(Za.x2,Fo.x2),jo=ba.min(Za.y1,Fo.y1),qo=ba.max(Za.y1,Fo.y1),Go=ba.min(Za.y2,Fo.y2),Yo=ba.max(Za.y2,Fo.y2),Ko=[];return Ko[0]=Le(No,jo,Wo,qo),Ko[1]=Le(Mo,qo,No,Go),Ko[2]=Le(Wo,qo,Uo,Go),Ko[3]=Le(No,Go,Wo,Yo),Za.x1==Mo&&Za.y1==jo||Fo.x1==Mo&&Fo.y1==jo?(Ko[4]=Le(Mo,jo,No,qo),Ko[5]=Le(Wo,Go,Uo,Yo)):(Ko[4]=Le(Wo,jo,Uo,qo),Ko[5]=Le(Mo,Go,No,Yo)),pe.grep(Ko,function(Xo){return 0<Xo.height()&&0<Xo.width()})[0]}function Se(Za,Fo){return-1!=ya(Za,Fo)}function Ae(Za){return Za[Za.length-1]}function De(Za,Fo){[].push.apply(Za,Fo)}function Fe(Za,Fo){return Pe(ba.ceil(Za/Fo)*Fo,Ia)}function Ie(Za,Fo){return Pe(ba.floor(Za/Fo)*Fo,Ia)}function Pe(Za,Fo){var Mo=ba.pow(10,Fo||0);return ba.round(Za*Mo)/Mo}function Re(Za,Fo,Mo){return Pe(Za+(Fo-Za)*Mo,Aa)}function Ee(Za){return"undefined"!=typeof Za}function He(Za,Fo){return Za-Fo}function ze(Za,Fo,Mo){var Wo=Za.length,No;for(No=0;Wo>No;No++)Za[No][Fo]=Mo}function Oe(Za,Fo){return Za.match(Ea)?ua.format.apply(this,arguments):ua.toString(Fo,Za)}function Me(Za){return ga.getElementById(Za)}function Ne(Za){for(var Fo=Za.parentNode;Fo&&Fo.parentNode;)Fo=Fo.parentNode;return Fo!==ga}var ga=document,ua=window.kendo,ma=ua.dataviz={},fa=ua.Class,ha=ua.template,_a=pe.map,xa=pe.noop,ya=pe.inArray,ba=Math,va=ua.deepExtend,ka="axisLabelClick",wa=1,Ca="#000",Ta="bottom",Sa="center",Aa=3,Da="12px sans-serif",Fa=400,Ia=6,Pa=600,Ra=ba.PI/180,Ea=/\{\d+:?/,Ha="height",za=600,Oa="left",Ma="linear",Na=Number.MAX_VALUE,La=-Number.MAX_VALUE,Ba="none",Va="outside",Wa="radial",Ua="right",ja="swing",qa="top",Ga=/([A-Z])/g,Ya="width",Ka="#fff",Xa="x",Qa="y",$a=0.2,Ja=function(Za,Fo){var Mo=this;return Mo instanceof Ja?(Mo.x=Pe(Za||0,Aa),Mo.y=Pe(Fo||0,Aa),me):new Ja(Za,Fo)},Le,Be,Ve,We,Ue,je,qe,Ge,Ye,Ke,Xe,Qe,$e,Je,Ze,ea,ta,aa,oa,na,ia,ra,la,sa,da,pa,ca;Ja.fn=Ja.prototype={clone:function(){var Za=this;return new Ja(Za.x,Za.y)}},Le=function(Za,Fo,Mo,No){var Wo=this;return Wo instanceof Le?(Wo.x1=Za||0,Wo.x2=Mo||0,Wo.y1=Fo||0,Wo.y2=No||0,me):new Le(Za,Fo,Mo,No)},Le.fn=Le.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(Za,Fo){var Mo=this;return Mo.x1+=Za,Mo.x2+=Za,Mo.y1+=Fo,Mo.y2+=Fo,Mo},move:function(Za,Fo){var Mo=this,No=Mo.height(),Wo=Mo.width();return Mo.x1=Za,Mo.y1=Fo,Mo.x2=Mo.x1+Wo,Mo.y2=Mo.y1+No,Mo},wrap:function(Za){var Fo=this;return Fo.x1=ba.min(Fo.x1,Za.x1),Fo.y1=ba.min(Fo.y1,Za.y1),Fo.x2=ba.max(Fo.x2,Za.x2),Fo.y2=ba.max(Fo.y2,Za.y2),Fo},wrapPoint:function(Za){return this.wrap(new Le(Za.x,Za.y,Za.x,Za.y)),this},snapTo:function(Za,Fo){var Mo=this;return Fo!=Xa&&Fo||(Mo.x1=Za.x1,Mo.x2=Za.x2),Fo!=Qa&&Fo||(Mo.y1=Za.y1,Mo.y2=Za.y2),Mo},alignTo:function(Za,Fo){var Wo=this,Uo=Wo.height(),jo=Wo.width(),qo=Fo==qa||Fo==Ta?Qa:Xa,Go=qo==Qa?Uo:jo,Mo,No;return Fo===Sa?(Mo=Za.center(),No=Wo.center(),Wo.x1+=Mo.x-No.x,Wo.y1+=Mo.y-No.y):Wo[qo+1]=Fo===qa||Fo===Oa?Za[qo+1]-Go:Za[qo+2],Wo.x2=Wo.x1+jo,Wo.y2=Wo.y1+Uo,Wo},shrink:function(Za,Fo){var Mo=this;return Mo.x2-=Za,Mo.y2-=Fo,Mo},expand:function(Za,Fo){return this.shrink(-Za,-Fo),this},pad:function(Za){var Fo=this,Mo=_e(Za);return Fo.x1-=Mo.left,Fo.x2+=Mo.right,Fo.y1-=Mo.top,Fo.y2+=Mo.bottom,Fo},unpad:function(Za){var Fo=this,Mo=_e(Za);return Mo.left=-Mo.left,Mo.top=-Mo.top,Mo.right=-Mo.right,Mo.bottom=-Mo.bottom,Fo.pad(Mo)},clone:function(){var Za=this;return new Le(Za.x1,Za.y1,Za.x2,Za.y2)},center:function(){var Za=this;return{x:Za.x1+Za.width()/2,y:Za.y1+Za.height()/2}},containsPoint:function(Za){var Fo=this;return Za.x>=Fo.x1&&Za.x<=Fo.x2&&Za.y>=Fo.y1&&Za.y<=Fo.y2},points:function(){var Za=this;return[new Ja(Za.x1,Za.y1),new Ja(Za.x2,Za.y1),new Ja(Za.x2,Za.y2),new Ja(Za.x1,Za.y2)]},getHash:function(){var Za=this;return[Za.x1,Za.y1,Za.x2,Za.y2].join(",")}},Be=fa.extend({init:function(Za,Fo,Mo,No,Wo){var Uo=this;Uo.c=Za,Uo.ir=Fo,Uo.r=Mo,Uo.startAngle=No,Uo.angle=Wo},clone:function(){var Za=this;return new Be(Za.c,Za.ir,Za.r,Za.startAngle,Za.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(Za,Fo){var Mo=this;return Fo?Mo.ir=Za:Mo.r=Za,Mo},point:function(Za,Fo){var Mo=this,No=Za*Ra,Wo=ba.cos(No),Uo=ba.sin(No),jo=Fo?Mo.ir:Mo.r,qo=Mo.c.x-Wo*jo,Go=Mo.c.y-Uo*jo;return new Ja(qo,Go)},getBBox:function(){var No=this,Wo=new Le(Na,Na,La,La),Uo=Pe(No.startAngle%360),jo=Pe((Uo+No.angle)%360),qo=No.ir,Go=[0,90,180,270,Uo,jo].sort(He),Yo=ya(Uo,Go),Ko=ya(jo,Go),Za,Fo,Mo;for(Za=Uo==jo?Go:Ko>Yo?Go.slice(Yo,Ko+1):[].concat(Go.slice(0,Ko+1),Go.slice(Yo,Go.length)),Fo=0;Za.length>Fo;Fo++)Mo=No.point(Za[Fo]),Wo.wrapPoint(Mo),Wo.wrapPoint(Mo,qo);return qo||Wo.wrapPoint(No.c),Wo},expand:function(Za){return this.r+=Za,this}}),Ve=Be.extend({init:function(Za,Fo,Mo,No){Be.fn.init.call(this,Za,0,Fo,Mo,No)},expand:function(Za){return Be.fn.expand.call(this,Za)},clone:function(){var Za=this;return new Ve(Za.c,Za.r,Za.startAngle,Za.angle)},radius:function(Za){return Be.fn.radius.call(this,Za)},point:function(Za){return Be.fn.point.call(this,Za)}}),We=fa.extend({init:function(Za){va(this,{height:40,rotation:90,radius:10,arcAngle:10},Za)}}),Ue=fa.extend({init:function(Za){var Fo=this;Fo.children=[],Fo.options=va({},Fo.options,Za)},reflow:function(Za){var Wo=this,Uo=Wo.children,Fo,Mo,No;for(Mo=0;Uo.length>Mo;Mo++)No=Uo[Mo],No.reflow(Za),Fo=Fo?Fo.wrap(No.box):No.box.clone();Wo.box=Fo||Za},getViewElements:function(Za){var Wo=this,Uo=Wo.options,jo=Uo.modelId,qo=[],Go=Wo.children,Yo=Go.length,Fo,Mo,No;for(Mo=0;Yo>Mo;Mo++)No=Go[Mo],No.discoverable||(No.options=No.options||{},No.options.modelId=jo),qo.push.apply(qo,No.getViewElements(Za));return Wo.discoverable&&(Fo=Wo.getRoot(),Fo&&(Fo.modelMap[jo]=Wo)),qo},enableDiscovery:function(){var Za=this,Fo=Za.options;Fo.modelId=da.current.alloc(),Za.discoverable=!0},destroy:function(){var Fo=this,Mo=Fo.children,No=Fo.getRoot(),Wo=Fo.options.modelId,Za;for(No&&Wo&&(No.modelMap[Wo]&&da.current.free(Wo),No.modelMap[Wo]=me),Za=0;Mo.length>Za;Za++)Mo[Za].destroy()},getRoot:function(){var Za=this.parent;return Za?Za.getRoot():null},translateChildren:function(Za,Fo){var No=this,Wo=No.children,Uo=Wo.length,Mo;for(Mo=0;Uo>Mo;Mo++)Wo[Mo].box.translate(Za,Fo)},append:function(){var Fo=this,Mo=arguments.length,Za;for(De(Fo.children,arguments),Za=0;Mo>Za;Za++)arguments[Za].parent=Fo}}),je=Ue.extend({init:function(Za){var Fo=this;Fo.modelMap={},Ue.fn.init.call(Fo,Za)},options:{width:Pa,height:Fa,background:Ka,border:{color:Ca,width:0},margin:_e(5),zIndex:-2},reflow:function(){var Fo=this,Mo=Fo.options,No=Fo.children,Wo=new Le(0,0,Mo.width,Mo.height),Za;for(Fo.box=Wo.unpad(Mo.margin),Za=0;No.length>Za;Za++)No[Za].reflow(Wo),Wo=Te(Wo,No[Za].box)},getViewElements:function(Za){var Fo=this,Mo=Fo.options,No=Mo.border||{},Wo=Fo.box.clone().pad(Mo.margin).unpad(No.width),Uo=[Za.createRect(Wo,{stroke:No.width?No.color:"",strokeWidth:No.width,dashType:No.dashType,fill:Mo.background,fillOpacity:Mo.opacity,zIndex:Mo.zIndex})];return Uo.concat(Ue.fn.getViewElements.call(Fo,Za))},getRoot:function(){return this}}),qe=Ue.extend({init:function(Za){Ue.fn.init.call(this,Za)},options:{align:Oa,vAlign:qa,margin:{},padding:{},border:{color:Ca,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(Za){function Fo(){Wo.align(Za,Xa,Uo.align),Wo.align(Za,Qa,Uo.vAlign),Wo.paddingBox=Mo.clone().unpad(jo).unpad(Go)}var Wo=this,Uo=Wo.options,jo=_e(Uo.margin),qo=_e(Uo.padding),Go=Uo.border.width,Mo,No;Ue.fn.reflow.call(Wo,Za),Mo=Uo.width&&Uo.height?Wo.box=new Le(0,0,Uo.width,Uo.height):Wo.box,Uo.shrinkToFit?(Fo(),No=Wo.contentBox=Wo.paddingBox.clone().unpad(qo)):(No=Wo.contentBox=Mo.clone(),Mo.pad(qo).pad(Go).pad(jo),Fo()),Wo.translateChildren(Mo.x1-No.x1+jo.left+Go+qo.left,Mo.y1-No.y1+jo.top+Go+qo.top)},align:function(Za,Fo,Mo){var No=this,Wo=No.box,Uo=Fo+1,jo=Fo+2,qo=Fo===Xa?Ya:Ha,Go=Wo[qo]();Se(Mo,[Oa,qa])?(Wo[Uo]=Za[Uo],Wo[jo]=Wo[Uo]+Go):Se(Mo,[Ua,Ta])?(Wo[jo]=Za[jo],Wo[Uo]=Wo[jo]-Go):Mo==Sa&&(Wo[Uo]=Za[Uo]+(Za[qo]()-Go)/2,Wo[jo]=Wo[Uo]+Go)},hasBox:function(){var Za=this.options;return Za.border.width||Za.background},getViewElements:function(Za,Fo){var Mo=this,No=Mo.options,Wo=[];return No.visible?(Mo.hasBox()&&Wo.push(Za.createRect(Mo.paddingBox,va(Mo.elementStyle(),Fo))),Wo.concat(Ue.fn.getViewElements.call(Mo,Za))):[]},elementStyle:function(){var Za=this,Fo=Za.options,Mo=Fo.border||{};return{id:Fo.id,stroke:Mo.width?Mo.color:"",strokeWidth:Mo.width,dashType:Mo.dashType,strokeOpacity:Fo.opacity,fill:Fo.background,fillOpacity:Fo.opacity,animation:Fo.animation,zIndex:Fo.zIndex,data:{modelId:Fo.modelId}}}}),Ge=Ue.extend({init:function(Za,Fo){var Mo=this;Ue.fn.init.call(Mo,Fo),Mo.content=Za,Mo.reflow(new Le)},options:{font:Da,color:Ca,align:Oa,vAlign:""},reflow:function(Za){var No=this,Wo=No.options,Fo,Mo;Fo=Wo.size=ye(No.content,{font:Wo.font},Wo.rotation),No.baseline=Fo.baseline,Wo.align==Oa?No.box=new Le(Za.x1,Za.y1,Za.x1+Fo.width,Za.y1+Fo.height):Wo.align==Ua?No.box=new Le(Za.x2-Fo.width,Za.y1,Za.x2,Za.y1+Fo.height):Wo.align==Sa&&(Mo=(Za.width()-Fo.width)/2,No.box=new Le(Pe(Za.x1+Mo,Aa),Za.y1,Pe(Za.x2-Mo,Aa),Za.y1+Fo.height)),Wo.vAlign==Sa?(Mo=(Za.height()-Fo.height)/2,No.box=new Le(No.box.x1,Za.y1+Mo,No.box.x2,Za.y2-Mo)):Wo.vAlign==Ta?No.box=new Le(No.box.x1,Za.y2-Fo.height,No.box.x2,Za.y2):Wo.vAlign==qa&&(No.box=new Le(No.box.x1,Za.y1,No.box.x2,Za.y1+Fo.height))},getViewElements:function(Za){var Fo=this,Mo=Fo.options;return Ue.fn.getViewElements.call(this,Za),[Za.createText(Fo.content,va({},Mo,{x:Fo.box.x1,y:Fo.box.y1,baseline:Fo.baseline,data:{modelId:Mo.modelId}}))]}}),Ye=qe.extend({init:function(Za,Fo){var No=this,Mo;qe.fn.init.call(No,Fo),Fo=No.options,Mo=new Ge(Za,va({},Fo,{align:Oa,vAlign:qa})),No.append(Mo),No.hasBox()&&(Mo.options.id=we()),No.reflow(new Le)}}),Ke=Ue.extend({init:function(Za){var Fo=this;Ue.fn.init.call(Fo,Za),Za=Fo.options,Fo.append(new Ye(Za.text,va({},Za,{vAlign:Za.position})))},options:{color:Ca,position:qa,align:Sa,margin:_e(5),padding:_e(5)},reflow:function(Za){var Fo=this;Ue.fn.reflow.call(Fo,Za),Fo.box.snapTo(Za,Xa)}}),Ke.buildTitle=function(Za,Fo,Mo){var No;return"string"==typeof Za&&(Za={text:Za}),Za=va({visible:!0},Mo,Za),Za&&Za.visible&&Za.text&&(No=new Ke(Za),Fo.append(No)),No},Xe=Ye.extend({init:function(Za,Fo,Mo,No){var Wo=this,Uo=Za;No.template?(Wo.template=ha(No.template),Uo=Wo.template({value:Za,dataItem:Mo})):No.format&&(Uo=Wo.formatValue(Za,No)),Wo.text=Uo,Wo.value=Za,Wo.index=Fo,Wo.dataItem=Mo,Ye.fn.init.call(Wo,Uo,va({id:we()},No)),Wo.enableDiscovery()},formatValue:function(Za,Fo){return Oe(Fo.format,Za)},click:function(Za,Fo){var Mo=this;Za.trigger(ka,{element:pe(Fo.target),value:Mo.value,text:Mo.text,index:Mo.index,dataItem:Mo.dataItem,axis:Mo.parent.options})}}),Qe=Ue.extend({init:function(Za){var Fo=this;Ue.fn.init.call(Fo,Za),Fo.options.visible||(Fo.options=va({},Fo.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),Fo.options.minorTicks=va({},{color:Fo.options.line.color,width:Fo.options.line.width,visible:Fo.options.minorTickType!=Ba},Fo.options.minorTicks,{size:Fo.options.minorTickSize,align:Fo.options.minorTickType}),Fo.options.majorTicks=va({},{color:Fo.options.line.color,width:Fo.options.line.width,visible:Fo.options.majorTickType!=Ba},Fo.options.majorTicks,{size:Fo.options.majorTickSize,align:Fo.options.majorTickType}),Fo.createLabels(),Fo.createTitle()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Ca,visible:!0},title:{visible:!0,position:Sa},majorTicks:{align:Va,size:4},minorTicks:{align:Va,size:3},axisCrossingValue:0,majorTickType:Va,minorTickType:Ba,minorGridLines:{visible:!1,width:1,color:Ca},margin:5,visible:!0,reverse:!1,justified:!0,_alignLines:!0},createLabels:function(){var No=this,Wo=No.options,Uo=Wo.vertical?Ua:Sa,jo=va({},Wo.labels,{align:Uo,zIndex:Wo.zIndex,modelId:Wo.modelId}),qo=jo.step,Za,Fo,Mo;if(No.labels=[],jo.visible)for(Mo=No.labelsCount(),Fo=jo.skip;Mo>Fo;Fo+=qo)Za=No.createAxisLabel(Fo,jo),No.append(Za),No.labels.push(Za)},destroy:function(){var Fo=this,Mo=Fo.labels,Za;for(Za=0;Mo.length>Za;Za++)Mo[Za].destroy();Ue.fn.destroy.call(Fo)},lineBox:function(){var Za=this,Fo=Za.options,Mo=Za.box,No=Fo.vertical,Wo=Za.labels,Uo=No?Ha:Ya,jo=Fo.justified,qo=Fo.labels.mirror,Go=qo?Mo.x1:Mo.x2,Yo=qo?Mo.y2:Mo.y1,Ko=0,Xo=Fo.line.width;return jo&&1<Wo.length&&(Ko=Wo[0].box[Uo]()/2,Xo=Ae(Wo).box[Uo]()/2),No?new Le(Go,Mo.y1+Ko,Go,Mo.y2-Xo):new Le(Mo.x1+Ko,Yo,Mo.x2-Xo,Yo)},createTitle:function(){var Fo=this,Mo=Fo.options,No=va({rotation:Mo.vertical?-90:0,text:"",zIndex:1},Mo.title),Za;No.visible&&No.text&&(Za=new Ye(No.text,No),Fo.append(Za),Fo.title=Za)},renderTicks:function(Za){function Fo(Xo,Qo,$o,Jo,Zo){var tr=Xo.length,er;if(Jo)for(er=0;tr>er;er++)0!=er%(Zo/Qo)&&(Mo=Ko?Yo.x2:Yo.x2-$o.size,No=Ko?Yo.y1-$o.size:Yo.y1,Wo=Xo[er],Uo={strokeWidth:$o.width,stroke:$o.color,align:Go._alignLines},Go.vertical?qo.push(Za.createLine(Mo,Wo,Mo+$o.size,Wo,Uo)):qo.push(Za.createLine(Wo,No,Wo,No+$o.size,Uo)))}var jo=this,qo=[],Go=jo.options,Yo=jo.lineBox(),Ko=Go.labels.mirror,Mo,No,Wo,Uo;return Fo(jo.getMajorTickPositions(),Go.majorUnit,Go.majorTicks,Go.majorTicks.visible),Fo(jo.getMinorTickPositions(),Go.minorUnit,Go.minorTicks,Go.minorTicks.visible,Go.majorTicks.visible?Go.majorUnit:0),qo},getViewElements:function(Za){var Mo=this,No=Mo.options,Wo=No.line,Uo=Mo.lineBox(),jo=Ue.fn.getViewElements.call(Mo,Za),Fo;return 0<Wo.width&&Wo.visible&&(Fo={strokeWidth:Wo.width,stroke:Wo.color,dashType:Wo.dashType,zIndex:Wo.zIndex,align:No._alignLines},jo.push(Za.createLine(Uo.x1,Uo.y1,Uo.x2,Uo.y2,Fo)),De(jo,Mo.renderTicks(Za))),De(jo,Mo.renderPlotBands(Za)),jo},getActualTickSize:function(){var Za=this,Fo=Za.options,Mo=0;return Fo.majorTicks.visible&&Fo.minorTicks.visible?Mo=ba.max(Fo.majorTicks.size,Fo.minorTicks.size):Fo.majorTicks.visible?Mo=Fo.majorTicks.size:Fo.minorTicks.visible&&(Mo=Fo.minorTicks.size),Mo},renderPlotBands:function(Za){var Uo=this,jo=Uo.options,qo=jo.plotBands||[],Go=jo.vertical,Yo=[],Ko=Uo.plotArea,Fo,Mo,No,Wo;return qo.length&&(Yo=_a(qo,function(Xo){return No=Ee(Xo.from)?Xo.from:La,Wo=Ee(Xo.to)?Xo.to:Na,Go?(Fo=Ko.axisX.lineBox(),Mo=Uo.getSlot(Xo.from,Xo.to)):(Fo=Uo.getSlot(Xo.from,Xo.to),Mo=Ko.axisY.lineBox()),Za.createRect(new Le(Fo.x1,Mo.y1,Fo.x2,Mo.y2),{fill:Xo.color,fillOpacity:Xo.opacity,zIndex:-1})})),Yo},renderGridLines:function(Za,Fo){var Mo=this,No=Mo.plotArea.options.modelId,Wo=Mo.options,Uo=Wo.vertical,jo=Fo.lineBox(),qo=jo[Uo?"x1":"y1"],Go=jo[Uo?"x2":"y2"],Yo=Mo.getMajorTickPositions(),Ko=[],Xo=function(Qo,$o){return{pos:Qo,options:$o}};return Wo.majorGridLines.visible&&(Ko=_a(Yo,function(Qo){return Xo(Qo,Wo.majorGridLines)})),Wo.minorGridLines.visible&&(Ko=Ko.concat(_a(Mo.getMinorTickPositions(),function(Qo){return Wo.majorGridLines.visible?Se(Qo,Yo)?me:Xo(Qo,Wo.minorGridLines):Xo(Qo,Wo.minorGridLines)}))),_a(Ko,function(Qo){var $o={data:{modelId:No},strokeWidth:Qo.options.width,stroke:Qo.options.color,dashType:Qo.options.dashType,zIndex:-1},Jo=Pe(Qo.pos),Zo=Fo.lineBox();if(Uo){if(!Fo.options.line.visible||Zo.y1!==Jo)return Za.createLine(qo,Jo,Go,Jo,$o);}else if(!Fo.options.line.visible||Zo.x1!==Jo)return Za.createLine(Jo,qo,Jo,Go,$o)})},reflow:function(Za){var No=this,Wo=No.options,Uo=Wo.vertical,jo=No.labels,qo=jo.length,Go=No.getActualTickSize()+Wo.margin,Yo=0,Ko=0,Xo=No.title,Fo,Mo;for(Mo=0;qo>Mo;Mo++)Fo=jo[Mo],Yo=ba.max(Yo,Fo.box.height()),Ko=ba.max(Ko,Fo.box.width());Xo&&(Uo?Ko+=Xo.box.width():Yo+=Xo.box.height()),No.box=Uo?new Le(Za.x1,Za.y1,Za.x1+Ko+Go,Za.y2):new Le(Za.x1,Za.y1,Za.x2,Za.y1+Yo+Go),No.arrangeTitle(),No.arrangeLabels(Ko,Yo)},arrangeLabels:function(){var Xo=this,Qo=Xo.options,$o=Qo.labels,Jo=Xo.labels,Zo=!Qo.justified,er=Qo.vertical,tr=Xo.lineBox(),ar=Qo.labels.mirror,or=Xo.getMajorTickPositions(),nr=Xo.getActualTickSize()+Qo.margin,Za,Fo,Mo,No,Wo,Uo,jo,qo,Go,Yo,Ko;for(Mo=0;Jo.length>Mo;Mo++)qo=Jo[Mo],Go=$o.skip+$o.step*Mo,Yo=er?qo.box.height():qo.box.width(),Ko=or[Go]-Yo/2,er?(Zo&&(No=or[Go],Wo=or[Go+1],Uo=No+(Wo-No)/2,Ko=Uo-Yo/2),jo=tr.x2,ar?jo+=nr:jo-=nr+qo.box.width(),Za=qo.box.move(jo,Ko)):(Zo?(No=or[Go],Wo=or[Go+1]):(No=Ko,Wo=Ko+Yo),Fo=tr.y1,ar?Fo-=nr+qo.box.height():Fo+=nr,Za=new Le(No,Fo,Wo,Fo+qo.box.height())),qo.reflow(Za)},arrangeTitle:function(){var Za=this,Fo=Za.options,Mo=Fo.labels.mirror,No=Fo.vertical,Wo=Za.title;Wo&&(No?(Wo.options.align=Mo?Ua:Oa,Wo.options.vAlign=Wo.options.position):(Wo.options.align=Wo.options.position,Wo.options.vAlign=Mo?qa:Ta),Wo.reflow(Za.box))},alignTo:function(Za){var Fo=this,Mo=Za.lineBox(),No=Fo.options.vertical,Wo=No?Qa:Xa;Fo.box.snapTo(Mo,Wo),No?Fo.box.shrink(0,Fo.lineBox().height()-Mo.height()):Fo.box.shrink(Fo.lineBox().width()-Mo.width(),0),Fo.box[Wo+1]-=Fo.lineBox()[Wo+1]-Mo[Wo+1],Fo.box[Wo+2]-=Fo.lineBox()[Wo+2]-Mo[Wo+2]}}),$e=Qe.extend({init:function(Za,Fo,Mo){var No=this,Wo=No.initDefaults(Za,Fo,Mo);Qe.fn.init.call(No,Wo)},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Ca},zIndex:1},initDefaults:function(Za,Fo,Mo){var Wo=this,Uo=Mo.narrowRange,jo=Wo.autoAxisMin(Za,Fo,Uo),qo=Wo.autoAxisMax(Za,Fo,Uo),Go=be(jo,qo),Yo={majorUnit:Go},No;return 0>jo&&(jo-=Go),0<qo&&(qo+=Go),Yo.min=Ie(jo,Go),Yo.max=Fe(qo,Go),Mo&&(No=Ee(Mo.min)||Ee(Mo.max),No&&Mo.min===Mo.max&&(0<Mo.min?Mo.min=0:Mo.max=1),Mo.majorUnit?(Yo.min=Ie(Yo.min,Mo.majorUnit),Yo.max=Fe(Yo.max,Mo.majorUnit)):No&&(Mo=va(Yo,Mo),Yo.majorUnit=be(Mo.min,Mo.max))),Yo.minorUnit=(Mo.majorUnit||Yo.majorUnit)/5,va(Yo,Mo)},range:function(){var Za=this.options;return{min:Za.min,max:Za.max}},autoAxisMax:function(Za,Fo,Mo){var No,Wo;if(!Za&&!Fo)return 1;if(0>=Za&&0>=Fo){if(Fo=Za==Fo?0:Fo,Wo=ba.abs((Fo-Za)/Fo),!Mo&&Wo>$a)return 0;No=ba.min(0,Fo-(Za-Fo)/2)}else Za=Za==Fo?0:Za,No=Fo;return No},autoAxisMin:function(Za,Fo,Mo){var No,Wo;if(!Za&&!Fo)return 0;if(0<=Za&&0<=Fo){if(Za=Za==Fo?0:Za,Wo=(Fo-Za)/Fo,!Mo&&Wo>$a)return 0;No=ba.max(0,Za-(Fo-Za)/2)}else Fo=Za==Fo?0:Fo,No=Za;return No},getDivisions:function(Za){var Fo=this.options,Mo=Fo.max-Fo.min;return ba.floor(Pe(Mo/Za,Aa))+1},getTickPositions:function(Za){var Mo=this,No=Mo.options,Wo=No.vertical,Uo=No.reverse,jo=Mo.lineBox(),qo=Wo?jo.height():jo.width(),Go=No.max-No.min,Yo=Mo.getDivisions(Za),Ko=(Wo?-1:1)*(Uo?-1:1),Xo=1==Ko?1:2,Qo=jo[(Wo?Qa:Xa)+Xo],$o=[],Fo;for(Fo=0;Yo>Fo;Fo++)$o.push(Pe(Qo,Aa)),Qo+=Za*(qo/Go)*Ko;return $o},getMajorTickPositions:function(){var Za=this;return Za.getTickPositions(Za.options.majorUnit)},getMinorTickPositions:function(){var Za=this;return Za.getTickPositions(Za.options.minorUnit)},getSlot:function(Za,Fo){var Wo=this,Uo=Wo.options,jo=Uo.reverse,qo=Uo.vertical,Go=qo?Qa:Xa,Yo=Wo.lineBox(),Ko=Yo[Go+(jo?2:1)],Xo=qo?Yo.height():Yo.width(),Qo=jo?-1:1,$o=Qo*(Xo/(Uo.max-Uo.min)),Jo=new Le(Yo.x1,Yo.y1,Yo.x1,Yo.y1),Mo,No;return Ee(Za)||(Za=Fo||0),Ee(Fo)||(Fo=Za||0),Za=ba.max(ba.min(Za,Uo.max),Uo.min),Fo=ba.max(ba.min(Fo,Uo.max),Uo.min),qo?(Mo=Uo.max-ba.max(Za,Fo),No=Uo.max-ba.min(Za,Fo)):(Mo=ba.min(Za,Fo)-Uo.min,No=ba.max(Za,Fo)-Uo.min),Jo[Go+1]=Ko+$o*(jo?No:Mo),Jo[Go+2]=Ko+$o*(jo?Mo:No),Jo},getValue:function(Za){var Mo=this,No=Mo.options,Wo=No.reverse,Uo=No.vertical,jo=1*No.max,qo=1*No.min,Go=Uo?Qa:Xa,Yo=Mo.lineBox(),Ko=Yo[Go+(Wo?2:1)],Xo=Uo?Yo.height():Yo.width(),Qo=Wo?-1:1,$o=Qo*(Za[Go]-Ko),Jo=$o*((jo-qo)/Xo),Fo;return 0>$o||$o>Xo?null:(Fo=Uo?jo-Jo:qo+Jo,Pe(Fo,Ia))},translateRange:function(Za){var Fo=this,Mo=Fo.options,No=Fo.lineBox(),Wo=Mo.vertical,Uo=Mo.reverse,jo=Wo?No.height():No.width(),qo=Mo.max-Mo.min,Go=Pe(Za/(jo/qo),Ia);return!Wo&&!Uo||Wo&&Uo||(Go=-Go),{min:Mo.min+Go,max:Mo.max+Go}},scaleRange:function(Za){var Fo=this,Mo=Fo.options,No=-Za*Mo.majorUnit;return{min:Mo.min-No,max:Mo.max+No}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(Za,Fo){var Mo=this,No=Mo.options,Wo=Pe(No.min+Za*No.majorUnit,Ia);return new Xe(Wo,Za,null,Fo)}}),Je=fa.extend({init:function(Za){var Fo=this;Fo.children=[],Fo.options=va({},Fo.options,Za)},render:function(){return this.template(this)},renderContent:function(){var Fo=this,Mo="",No=Fo.sortChildren(),Wo=No.length,Za;for(Za=0;Wo>Za;Za++)Mo+=No[Za].render();return Mo},sortChildren:function(){var Mo=this,No=Mo.children,Za,Fo;for(Fo=0,Za=No.length;Za>Fo;Fo++)No[Fo]._childIndex=Fo;return No.slice(0).sort(Mo.compareChildren)},refresh:pe.noop,compareChildren:function(Za,Fo){var Mo=Za.options.zIndex||0,No=Fo.options.zIndex||0;return Mo===No?Za._childIndex-Fo._childIndex:Mo-No},renderId:function(){var Za=this,Fo="";return Za.options.id&&(Fo=Za.renderAttr("id",Za.options.id)),Fo},renderAttr:function(Za,Fo){return Ee(Fo)?" "+Za+"='"+Fo+"' ":""},renderDataAttributes:function(){var Mo=this,No=Mo.options.data,Wo="",Za,Fo;for(Za in No)Fo="data-"+Za.replace(Ga,"-$1").toLowerCase(),Wo+=Mo.renderAttr(Fo,No[Za]);return Wo}}),Ze=Je.extend({init:function(Za){var Fo=this;Je.fn.init.call(Fo,Za),Fo.definitions={},Fo.decorators=[],Fo.animations=[]},destroy:function(){for(var Za=this.animations;0<Za.length;)Za.shift().destroy()},renderDefinitions:function(){var Fo=this.definitions,Mo="",Za;for(Za in Fo)Fo.hasOwnProperty(Za)&&(Mo+=Fo[Za].render());return Mo},decorate:function(Za){var No=this.decorators,Wo=No.length,Fo,Mo;for(Fo=0;Wo>Fo;Fo++)Mo=No[Fo],this._decorateChildren(Mo,Za),Za=Mo.decorate.call(Mo,Za);return Za},_decorateChildren:function(Za,Fo){var No=this,Wo=Fo.children,Uo=Wo.length,Mo;for(Mo=0;Uo>Mo;Mo++)No._decorateChildren(Za,Wo[Mo]),Wo[Mo]=Za.decorate.call(Za,Wo[Mo])},setupAnimations:function(){for(var Za=0;this.animations.length>Za;Za++)this.animations[Za].setup()},playAnimations:function(){for(var Za=0;this.animations.length>Za;Za++)this.animations[Za].play()},buildGradient:function(Za){var Wo=this,Uo=Wo._gradientCache,Fo,Mo,No;return Uo||(Uo=Wo._gradientCache=[]),Za&&(Fo=ke(Za),Mo=Uo[Fo],No=ma.Gradients[Za.gradient],!Mo&&No&&(Mo=va({id:we()},No,Za),Uo[Fo]=Mo)),Mo},setDefaults:function(Za){var Fo=this.options;return Za=Za||{},Ee(Za.inline)||(Za.inline=Fo.inline),Ee(Za.align)||(Za.align=Fo.align),Za}}),ma.Gradients={glass:{type:Ma,rotation:0,stops:[{offset:0,color:Ka,opacity:0},{offset:0.25,color:Ka,opacity:0.3},{offset:1,color:Ka,opacity:0}]},sharpBevel:{type:Wa,stops:[{offset:0,color:Ka,opacity:0.55},{offset:0.65,color:Ka,opacity:0},{offset:0.95,color:Ka,opacity:0.25}]},roundedBevel:{type:Wa,stops:[{offset:0.33,color:Ka,opacity:0.06},{offset:0.83,color:Ka,opacity:0.2},{offset:0.95,color:Ka,opacity:0}]},roundedGlass:{type:Wa,supportVML:!1,stops:[{offset:0,color:Ka,opacity:0},{offset:0.5,color:Ka,opacity:0.3},{offset:0.99,color:Ka,opacity:0}]},sharpGlass:{type:Wa,supportVML:!1,stops:[{offset:0,color:Ka,opacity:0.2},{offset:0.15,color:Ka,opacity:0.15},{offset:0.17,color:Ka,opacity:0.35},{offset:0.85,color:Ka,opacity:0.05},{offset:0.87,color:Ka,opacity:0.15},{offset:0.99,color:Ka,opacity:0}]}},ea=fa.extend({init:function(Za,Fo){var Mo=this;Mo.options=va({},Mo.options,Fo),Mo.element=Za},options:{duration:za,easing:ja},play:function(){var Uo=this,jo=Uo.options,qo=Uo.element,Go=qo.options.id,Yo=jo.delay||0,Ko=+new Date+Yo,Xo=jo.duration,Qo=pe.easing[jo.easing],Za,Fo,Mo,No,Wo;setTimeout(function(){var $o=function(){Uo._stopped||(Fo=+new Date,Mo=ba.min(Fo-Ko,Xo),No=Mo/Xo,Wo=Qo(No,Mo,0,1,Xo),Uo.step(Wo),(!Za||Ne(Za))&&(Za=Me(Go)),qo.refresh(Za),Ko+Xo>Fo?ma.requestFrame($o):Uo.destroy())};$o()},Yo)},abort:function(){this._stopped=!0},destroy:function(){this.abort()},setup:xa,step:xa}),ta=ea.extend({options:{duration:200,easing:Ma},setup:function(){var Za=this,Fo=Za.element.options;Za.targetFillOpacity=Fo.fillOpacity,Za.targetStrokeOpacity=Fo.strokeOpacity,Fo.fillOpacity=Fo.strokeOpacity=0},step:function(Za){var Fo=this,Mo=Fo.element.options;Mo.fillOpacity=Za*Fo.targetFillOpacity,Mo.strokeOpacity=Za*Fo.targetStrokeOpacity}}),aa=ea.extend({options:{size:0,easing:Ma},setup:function(){var Za=this.element.points;Za[1].x=Za[2].x=Za[0].x},step:function(Za){var Fo=this.options,Mo=Re(0,Fo.size,Za),No=this.element.points;No[1].x=No[2].x=No[0].x+Mo},destroy:function(){ea.fn.destroy.call(this),this.element.destroy()}}),oa=ea.extend({options:{easing:Ma,duration:900},setup:function(){var Mo=this,No=Mo.element,Wo=No.options,Uo=Mo.options,jo=Uo.center,Za,Fo;Wo.rotation&&(Za=Uo.startAngle,Fo=Wo.rotation[0],Uo.duration=ba.max(1000*(ba.abs(Za-Fo)/Uo.speed),1),Mo.endState=Fo,Wo.rotation=[Za,jo.x,jo.y])},step:function(Za){var Fo=this,Mo=Fo.element;Mo.options.rotation&&(Mo.options.rotation[0]=Re(Fo.options.startAngle,Fo.endState,Za))}}),na=ea.extend({options:{easing:ja},setup:function(){var Fo=this,Mo=Fo.element,No=Mo.points,Wo=Mo.options,Uo=Wo.vertical?Qa:Xa,jo=Wo.stackBase,qo=Wo.aboveAxis,Go=Fo.endState={top:No[0].y,right:No[1].x,bottom:No[3].y,left:No[0].x},Za;Za=Uo==Qa?Ee(jo)?jo:Go[qo?Ta:qa]:Ee(jo)?jo:Go[qo?Oa:Ua],Fo.startPosition=Za,ze(No,Uo,Za)},step:function(Za){var Fo=this,Mo=Fo.startPosition,No=Fo.endState,Wo=Fo.element,Uo=Wo.points;Wo.options.vertical?(Uo[0].y=Uo[1].y=Re(Mo,No.top,Za),Uo[2].y=Uo[3].y=Re(Mo,No.bottom,Za)):(Uo[0].x=Uo[3].x=Re(Mo,No.left,Za),Uo[1].x=Uo[2].x=Re(Mo,No.right,Za))}}),ia=ea.extend({options:{easing:ja,duration:1000},setup:function(){var No=this,Wo=No.element,Uo=Wo.points,jo=Wo.options.animation,qo=jo.vertical,Go=jo.reverse,Yo=No.axis=qo?"y":"x",Ko=No.options.endPosition,Xo=No.initialState={top:Uo[0].y,right:Uo[1].x,bottom:Uo[3].y,left:Uo[0].x},Qo=!Ee(No.options.endPosition),Za,Fo,Mo;qo?(Mo=Go?"y2":"y1",Za=Xo[Qo&&!Go?Ta:qa],Fo=Qo?Xo[Go?Ta:qa]:Ko[Mo]):(Mo=Go?"x1":"x2",Za=Xo[Qo&&!Go?Oa:Ua],Fo=Qo?Xo[Go?Oa:Ua]:Ko[Mo]),No.start=Za,No.end=Fo,Qo?ze(Uo,Yo,No.start):jo.speed&&(No.options.duration=ba.max(1000*(ba.abs(No.start-No.end)/jo.speed),1))},step:function(Za){var Fo=this,Mo=Fo.start,No=Fo.end,Wo=Fo.element,Uo=Wo.points,jo=Fo.axis;Wo.options.animation.vertical?Uo[0][jo]=Uo[1][jo]=Re(Mo,No,Za):Uo[1][jo]=Uo[2][jo]=Re(Mo,No,Za)}}),ra=ea.extend({options:{easing:ja,duration:1000},setup:function(){var No=this,Wo=No.element,Uo=Wo.points,jo=Wo.options.animation,qo=jo.vertical,Go=jo.reverse,Yo=qo?"y":"x",Ko=Yo+(Go?"1":"2"),Xo=Yo+(Go?"2":"1"),Qo=jo.startPosition[qo?Ko:Xo],$o=jo.size/2,Jo=Uo.length,Zo=!Ee(No.options.endPosition),er=$o,Za,Fo,Mo;for(No.axis=Yo,No.endPositions=[],No.startPositions=[],Zo||(Qo=Uo[1][Yo],Fo=No.options.endPosition[qo?Xo:Ko],jo.speed&&(No.options.duration=ba.max(1000*(ba.abs(Qo-Fo)/jo.speed),1))),Mo=0;Jo>Mo;Mo++)Za=va({},Uo[Mo]),Zo?(No.endPositions[Mo]=Za[Yo],Uo[Mo][Yo]=Qo-er):No.endPositions[Mo]=Fo-er,No.startPositions[Mo]=Uo[Mo][Yo],er-=$o},step:function(Za){var Mo=this,No=Mo.startPositions,Wo=Mo.endPositions,Uo=Mo.element,jo=Uo.points,qo=Mo.axis,Go=jo.length,Fo;for(Fo=0;Go>Fo;Fo++)jo[Fo][qo]=Re(No[Fo],Wo[Fo],Za)}}),la=xe("fadeIn",ta),sa=function(Za){var jo=this,qo=sa.formats,Fo,Mo,No,Wo,Uo;if(1===arguments.length)for(Za=jo.resolveColor(Za),Wo=0;qo.length>Wo;Wo++)Fo=qo[Wo].re,Mo=qo[Wo].process,No=Fo.exec(Za),No&&(Uo=Mo(No),jo.r=Uo[0],jo.g=Uo[1],jo.b=Uo[2]);else jo.r=arguments[0],jo.g=arguments[1],jo.b=arguments[2];jo.r=jo.normalizeByte(jo.r),jo.g=jo.normalizeByte(jo.g),jo.b=jo.normalizeByte(jo.b)},sa.prototype={toHex:function(){var Za=this,Fo=Za.padDigit,Mo=Za.r.toString(16),No=Za.g.toString(16),Wo=Za.b.toString(16);return"#"+Fo(Mo)+Fo(No)+Fo(Wo)},resolveColor:function(Za){return Za=Za||Ca,"#"==Za.charAt(0)&&(Za=Za.substr(1,6)),Za=Za.replace(/ /g,""),Za=Za.toLowerCase(),Za=sa.namedColors[Za]||Za},normalizeByte:function(Za){return 0>Za||isNaN(Za)?0:255<Za?255:Za},padDigit:function(Za){return 1===Za.length?"0"+Za:Za},brightness:function(Za){var Fo=this,Mo=ba.round;return Fo.r=Mo(Fo.normalizeByte(Fo.r*Za)),Fo.g=Mo(Fo.normalizeByte(Fo.g*Za)),Fo.b=Mo(Fo.normalizeByte(Fo.b*Za)),Fo},percBrightness:function(){var Za=this;return ba.sqrt(0.241*Za.r*Za.r+0.691*Za.g*Za.g+0.068*Za.b*Za.b)}},sa.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(Za){return[parseInt(Za[1],10),parseInt(Za[2],10),parseInt(Za[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(Za){return[parseInt(Za[1],16),parseInt(Za[2],16),parseInt(Za[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(Za){return[parseInt(Za[1]+Za[1],16),parseInt(Za[2]+Za[2],16),parseInt(Za[3]+Za[3],16)]}}],sa.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},da=fa.extend({init:function(Za,Fo,Mo){this._pool=[],this._freed={},this._size=Za,this._id=Mo,this._prefix=Fo},alloc:function(){var Fo=this,Mo=Fo._pool,Za;return 0<Mo.length?(Za=Mo.pop(),Fo._freed[Za]=!1):Za=Fo._prefix+Fo._id++,Za},free:function(Za){var Fo=this,Mo=Fo._pool,No=Fo._freed;Mo.length<Fo._size&&!No[Za]&&(Mo.push(Za),No[Za]=!0)}}),da.current=new da(1000,"k",10000),pa=fa.extend({init:function(Za){this._size=Za,this._length=0,this._map={}},put:function(Za,Fo){var Mo=this,No=Mo._map,Wo={key:Za,value:Fo};No[Za]=Wo,Mo._head?(Mo._tail.newer=Wo,Wo.older=Mo._tail,Mo._tail=Wo):Mo._head=Mo._tail=Wo,Mo._length>=Mo._size?(No[Mo._head.key]=null,Mo._head=Mo._head.newer,Mo._head.older=null):Mo._length++},get:function(Za){var Fo=this,Mo=Fo._map[Za];return Mo?(Mo===Fo._head&&Mo!==Fo._tail&&(Fo._head=Mo.newer,Fo._head.older=null),Mo!==Fo._tail&&(Mo.older&&(Mo.older.newer=Mo.newer,Mo.newer.older=Mo.older),Mo.older=Fo._tail,Mo.newer=null,Fo._tail.newer=Mo,Fo._tail=Mo),Mo.value):me}}),ye.cache=new pa(1000),ye.baselineMarker=pe("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+wa+"px; height: "+wa+"px;overflow: hidden;' />")[0],ca=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Za){setTimeout(Za,10)},ma.requestFrame=function(Za,Fo){return ca(Za,Fo)},va(ua.dataviz,{init:function(Za){ua.init(Za,ua.dataviz.ui)},ui:{roles:{},themes:{},views:[],defaultView:function(){var Fo=ma.ui.views,Mo=Fo.length,Za;for(Za=0;Mo>Za;Za++)if(Fo[Za].available())return Fo[Za];ua.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG or VML. User agent: "+navigator.userAgent+"\n- The kendo.dataviz.svg.js or kendo.dataviz.vml.js scripts are not loaded")},registerView:function(Za){var Fo=ma.ui.views[0];!Fo||Za.preference>Fo.preference?ma.ui.views.unshift(Za):ma.ui.views.push(Za)},plugin:function(Za){ua.ui.plugin(Za,ma.ui)}},AXIS_LABEL_CLICK:ka,COORD_PRECISION:Aa,DEFAULT_PRECISION:Ia,DEFAULT_WIDTH:Pa,DEFAULT_HEIGHT:Fa,DEFAULT_FONT:Da,INITIAL_ANIMATION_DURATION:za,CLIP:"clip",Axis:Qe,AxisLabel:Xe,Box2D:Le,BoxElement:qe,ChartElement:Ue,Color:sa,ElementAnimation:ea,ExpandAnimation:aa,ArrowAnimation:ra,BarAnimation:na,BarIndicatorAnimatin:ia,FadeAnimation:ta,FadeAnimationDecorator:la,IDPool:da,LRUCache:pa,NumericAxis:$e,Point2D:Ja,Ring:Be,Pin:We,RootElement:je,RotationAnimation:oa,Sector:Ve,Text:Ge,TextBox:Ye,Title:Ke,ViewBase:Ze,ViewElement:Je,animationDecorator:xe,append:De,autoFormat:Oe,autoMajorUnit:be,boxDiff:Te,defined:Ee,getElement:Me,getSpacing:_e,inArray:Se,interpolateValue:Re,last:Ae,measureText:ye,rotatePoint:Ce,round:Pe,ceil:Fe,floor:Ie,supportsSVG:function(){return ga.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},renderTemplate:function(Za){return ha(Za,{useWithBlock:!1,paramName:"d"})},uniqueId:we})})(window.kendo.jQuery);;(function(){function pe(da){this.view=da}function me(da){this.view=da}function _e(da){return Me.round(da)+0.5}function xe(da,pa){var ua=[],ca,ga;if(da=da?da.toLowerCase():null,da&&da!=na){for(ca=la[da],ga=0;ca.length>ga;ga++)ua.push(ca[ga]*(pa||1));return"stroke-dasharray='"+ua.join(" ")+"' "}return""}var ze=jQuery,Oe=document,Me=Math,Ne=window.kendo,Le=Ne.Class,Be=Ne.dataviz,Ve=Be.Box2D,We=Be.ExpandAnimation,Ue=Be.Point2D,je=Be.ViewBase,qe=Be.ViewElement,Ge=Ne.deepExtend,Ye=Be.defined,Ke=Be.round,Xe=Be.renderTemplate,Qe=Be.rotatePoint,$e=Be.uniqueId,Je=Be.CLIP,Ze=Be.COORD_PRECISION,ea=Be.DEFAULT_WIDTH,ta=Be.DEFAULT_HEIGHT,aa=Be.DEFAULT_FONT,oa="none",na="solid",ia="square",ra="http://www.w3.org/2000/svg",la={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},sa=je.extend({init:function(da){var pa=this;je.fn.init.call(pa,da),pa.decorators.push(new pe(pa),new me(pa)),Be.ui.Chart&&pa.decorators.push(new Be.BarAnimationDecorator(pa),new Be.PieAnimationDecorator(pa),new Be.BubbleAnimationDecorator(pa)),pa.decorators.push(new Ee(pa),new Be.FadeAnimationDecorator(pa)),Be.Gauge&&pa.decorators.push(new Be.RadialPointerAnimationDecorator(pa),new Be.ArrowPointerAnimationDecorator(pa),new Be.BarIndicatorAnimationDecorator(pa)),pa.defsId=$e(),pa.template=sa.template,pa.display=pa.options.inline?"inline":"block",pa.template||(pa.template=sa.template=Xe("<?xml version='1.0' ?><svg xmlns='"+ra+"' version='1.1' width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'>#= d.renderDefinitions() ##= d.renderContent() #</svg>"))},options:{width:ea,height:ta},renderTo:function(da){var ca=this,pa;return ca.setupAnimations(),Be.renderSVG(da,ca.render()),pa=da.firstElementChild,ca.alignToScreen(pa),ca.playAnimations(),pa},renderDefinitions:function(){var da=this,pa=da.defsId,ca=je.fn.renderDefinitions.call(da);return"<defs id='"+pa+"'>"+ca+"</defs>"},renderElement:function(da){var ga=this,ua=Oe.createElement("div"),ma=Oe.getElementById(ga.defsId),pa,ca;return Be.renderSVG(ua,"<?xml version='1.0' ?><svg xmlns='"+ra+"' version='1.1'>"+ga.renderDefinitions()+da.render()+"</svg>"),pa=ua.firstElementChild.firstChild,ca=ua.firstElementChild.lastChild,ma&&ma.textContent!==pa.textContent&&ma.parentNode.replaceChild(pa,ma),ca},createGroup:function(da){return this.decorate(new Ae(da))},createText:function(da,pa){return this.decorate(new ye(da,pa))},createRect:function(da,pa){return this.decorate(new ke(da.points(),!0,this.setDefaults(pa)))},createLine:function(da,pa,ca,ga,ua){return this.decorate(new ke([new Ue(da,pa),new Ue(ca,ga)],!1,this.setDefaults(ua)))},createPolyline:function(da,pa,ca){return this.decorate(new ke(da,pa,this.setDefaults(ca)))},createCircle:function(da,pa,ca){return this.decorate(new Se(da,pa,ca))},createSector:function(da,pa){return this.decorate(new Te(da,pa))},createRing:function(da,pa){return this.decorate(new we(da,pa))},createPin:function(da,pa){return this.decorate(new Ce(da,pa))},createGradient:function(da){return"radial"===da.type?Ye(da.ir)?new Re(da):new Pe(da):new Ie(da)},alignToScreen:function(da){var pa,ca,ga,ua;try{pa=da.getScreenCTM?da.getScreenCTM():null}catch(ma){}pa&&(ca=-pa.e%1,ga=-pa.f%1,ua=da.style,(0!==ca||0!==ga)&&(ua.left=ca+"px",ua.top=ga+"px"))}}),ye,be,ke,we,Ce,Te,Se,Ae,De,Fe,Ie,Pe,Re,Ee,He;sa.fromModel=function(da){var pa=new sa(da.options);return[].push.apply(pa.children,da.getViewElements(pa)),pa},sa.available=Be.supportsSVG,sa.preference=100,Be.ui.registerView(sa),ye=qe.extend({init:function(da,pa){var ca=this;qe.fn.init.call(ca,pa),ca.content=da,ca.template=ye.template,ca.template||(ca.template=ye.template=Xe("<text #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' #= d.options.rotation ? d.renderRotation() : '' # style='font: #= d.options.font #; #= d.renderCursor() #' fill='#= d.options.color #'>#= d.content #</text>"))},options:{x:0,y:0,baseline:0,font:aa,size:{width:0,height:0},fillOpacity:1,cursor:{}},refresh:function(da){var pa=this.options;ze(da).attr({"fill-opacity":pa.fillOpacity})},clone:function(){var da=this;return new ye(da.content,Ge({},da.options))},renderCursor:function(){var da=this.options,pa="";return Ye(da.cursor.style)&&(pa+="cursor: "+da.cursor.style+";"),pa},renderRotation:function(){var da=this,pa=da.options,ca=pa.size,ga=Ke(pa.x+ca.normalWidth/2,Ze),ua=Ke(pa.y+ca.normalHeight/2,Ze),ma=Ke(pa.x+ca.width/2,Ze),fa=Ke(pa.y+ca.height/2,Ze),ha=Ke(ma-ga,Ze),_a=Ke(fa-ua,Ze);return"transform='translate("+ha+","+_a+") rotate("+pa.rotation+","+ga+","+ua+")'"}}),be=qe.extend({init:function(da){var pa=this;qe.fn.init.call(pa,da),pa.template=be.template,pa.template||(pa.template=be.template=Xe("<path #= d.renderId() #style='display: #= d.renderDisplay() #; #= d.renderCursor() #' #= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],strokeLineCap:ia,visible:!0,cursor:{}},refresh:function(da){var pa=this.options;ze(da).attr({d:this.renderPoints(),"fill-opacity":pa.fillOpacity,"stroke-opacity":pa.strokeOpacity}).css("display",this.renderDisplay())},clone:function(){return new be(Ge({},this.options))},renderPoints:function(){},renderCursor:function(){var da=this.options,pa="";return Ye(da.cursor.style)&&(pa+="cursor: "+da.cursor.style+";"),pa},renderDashType:function(){var da=this,pa=da.options;return xe(pa.dashType,pa.strokeWidth)},renderLinecap:function(){var da=this.options,pa=da.dashType,ca=da.strokeLineCap;return pa&&pa!=na?"butt":ca},renderFill:function(){var da=this.options.fill;return da&&"transparent"!==da?da:oa},renderDisplay:function(){return this.options.visible?"block":"none"},destroy:function(){}}),ke=be.extend({init:function(da,pa,ca){var ga=this;be.fn.init.call(ga,ca),ga.points=da,ga.closed=pa},renderPoints:function(){var pa=this,ca=pa.points,ga=ca.length,ua=function(fa){var ha=pa.options.rotation;return Qe(fa.x,fa.y,ha[1],ha[2],-ha[0])},ma="M"+pa._print(ua(ca[0])),da;for(da=1;ga>da;da++)ma+=" "+pa._print(ua(ca[da]));return pa.closed&&(ma+=" z"),ma},clone:function(){var da=this;return new ke(Ge([],da.points),da.closed,Ge({},da.options))},_print:function(da){var pa=this,ca=pa.options,ga=ca.strokeWidth,ua=!1!==ca.align&&ga&&0!=ga%2,ma=ua?_e:Ke;return ma(da.x,Ze)+" "+ma(da.y,Ze)}}),we=be.extend({init:function(da,pa){var ca=this;be.fn.init.call(ca,pa),ca.pathTemplate=we.pathTemplate,ca.pathTemplate||(ca.pathTemplate=we.pathTemplate=Xe("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")),ca.config=da||{}},renderPoints:function(){var ca=this,ga=ca.config,ua=ga.startAngle,ma=ga.angle+ua,fa=180<ma-ua,ha=Me.max(ga.r,0),_a=Me.max(ga.ir,0),xa=ga.c,ya=ga.point(ua),ba=ga.point(ua,!0),da,pa;return Ke(ua)%360==Ke(ma)%360&&(ma-=0.05),da=ga.point(ma),pa=ga.point(ma,!0),ca.pathTemplate({firstOuterPoint:ya,secondOuterPoint:da,isReflexAngle:fa,r:ha,ir:_a,cx:xa.x,cy:xa.y,firstInnerPoint:ba,secondInnerPoint:pa})},clone:function(){var da=this;return new we(Ge({},da.config),Ge({},da.options))}}),Ce=be.extend({init:function(da,pa){var ca=this;be.fn.init.call(ca,pa),ca.pathTemplate=Ce.pathTemplate,ca.pathTemplate||(ca.pathTemplate=Ce.pathTemplate=Xe("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")),ca.config=da||new Be.Pin},renderPoints:function(){var da=this,pa=da.config,ca=pa.radius,ga=Me.PI/180,ua=pa.arcAngle,ma=ca*Me.sin(ua*ga/2),fa=pa.height-ca*(1-Me.cos(ua*ga/2)),ha=pa.origin,_a={x:ha.x+ma,y:ha.y-fa},xa={x:ha.x-ma,y:ha.y-fa},ya=function(ba,va){var ka=da.options.rotation,wa=pa.rotation;return ba=Qe(ba.x,ba.y,ka[1],ka[2],-ka[0]),va&&(ba=Qe(ba.x,ba.y,ha.x,ha.y,wa)),ba};return ha=ya(ha),da.pathTemplate({origin:ha,as:ya(_a,!0),ae:ya(xa,!0),r:ca,isReflexAngle:180<ua})}}),Te=we.extend({init:function(da,pa){var ca=this;we.fn.init.call(ca,da,pa),ca.pathTemplate=Te.pathTemplate,ca.pathTemplate||(ca.pathTemplate=Te.pathTemplate=Xe("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,strokeLineCap:ia},clone:function(){var da=this;return new Te(Ge({},da.config),Ge({},da.options))}}),Se=qe.extend({init:function(da,pa,ca){var ga=this;qe.fn.init.call(ga,ca),ga.c=da,ga.r=pa,ga.template=Se.template,ga.template||(ga.template=Se.template=Xe("<circle #= d.renderId() # #= d.renderDataAttributes() #cx='#= d.c.x #' cy='#= d.c.y #' r='#= d.r #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1},refresh:function(da){ze(da).attr({r:Me.max(0,this.r),"fill-opacity":this.options.fillOpacity})},clone:function(){var da=this;return new Se(Ge({},da.c),da.r,Ge({},da.options))}}),Ae=qe.extend({init:function(da){var pa=this;qe.fn.init.call(pa,da),pa.template=Ae.template,pa.template||(pa.template=Ae.template=Xe("<g#= d.renderId() ##= d.renderDataAttributes() ##= d.renderAttr(\"clip-path\", d.options.clipPath) #>#= d.renderContent() #</g>"))}}),De=qe.extend({init:function(da){var pa=this;qe.fn.init.call(pa,da),pa.template=De.template,pa.template||(pa.template=De.template=Xe("<clipPath#= d.renderAttr(\"id\", d.options.id) #>#= d.renderContent() #</clipPath>"))}}),Fe=qe.extend({init:function(da){var pa=this;qe.fn.init.call(pa,da)},options:{id:""},renderStops:function(){var ca=this,ga=ca.options.stops,ua=ca.stopTemplate,ma=ga.length,fa="",da,pa;for(da=0;ma>da;da++)pa=ga[da],fa+=ua(pa);return fa}}),Ie=Fe.extend({init:function(da){var pa=this;Fe.fn.init.call(pa,da),pa.template=Ie.template,pa.stopTemplate=Ie.stopTemplate,pa.template||(pa.template=Ie.template=Xe("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>"),pa.stopTemplate=Ie.stopTemplate=Xe("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{rotation:0}}),Pe=Fe.extend({init:function(da){var pa=this;Fe.fn.init.call(pa,da),pa.template=Pe.template,pa.stopTemplate=Pe.stopTemplate,pa.template||(pa.template=Pe.template=Xe("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),pa.stopTemplate=Pe.stopTemplate=Xe("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))}}),Re=qe.extend({init:function(da){var pa=this;qe.fn.init.call(pa,da),pa.template=Re.template,pa.stopTemplate=Re.stopTemplate,pa.template||(pa.template=Re.template=Xe("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),pa.stopTemplate=Re.stopTemplate=Xe("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{id:""},renderStops:function(){var ca=this,ga=ca.options,ua=ga.stops,ma=ca.stopTemplate,fa=100*(ga.ir/ga.r),ha=ua.length,_a="",da,pa;for(pa=Ge({},ua[0]),pa.offset=fa,_a+=ma(pa),da=1;ha>da;da++)pa=Ge({},ua[da]),pa.offset=pa.offset*(100-fa)+fa,_a+=ma(pa);return _a}}),pe.prototype={decorate:function(da){var ga=this,ua=ga.view,ma=da.options,fa=ma.id,pa,ca;return ma.overlay?(da.options.id=$e(),pa=ua.createGroup(),ca=da.clone(),pa.children.push(da,ca),ca.options.id=fa,ca.options.fill=ma.overlay,pa):da}},me.prototype={decorate:function(da){var pa=this,ca=da.options;return ca.fill=pa.getPaint(ca.fill),da},getPaint:function(da){var ua=this,ma=ua.view,fa=ma.definitions,pa,ca,ga;return da&&Ye(da.gradient)?(pa=ma.buildGradient(da),pa?(ca=pa.id,ga=fa[ca],ga||(ga=ma.createGradient(pa),fa[ca]=ga),"url("+ua.baseUrl()+"#"+ga.options.id+")"):oa):da},baseUrl:function(){var da=Oe.getElementsByTagName("base")[0],pa="",ca=Oe.location.href,ga=ca.indexOf("#");return da&&!Ne.support.browser.msie&&(-1!==ga&&(ca=ca.substring(0,ga)),pa=ca),pa}},Ee=Le.extend({init:function(da){this.view=da},decorate:function(da){var ga=this,ua=ga.view,ma=ga.clipId,fa=ua.options,ha=da.options.animation,_a=ua.definitions,pa,ca;return ha&&ha.type===Je&&fa.transitions&&(ma||(ga.clipId=ma=$e()),pa=_a[ma],pa||(pa=new De({id:ma}),ca=ua.createRect(new Ve(0,0,fa.width,fa.height),{id:$e()}),pa.children.push(ca),_a[ma]=pa,ua.animations.push(new We(ca,{size:fa.width}))),da.options.clipPath="url(#"+ma+")"),da}}),He=function(da,pa){da.innerHTML=pa},function(){var da=Oe.createElement("div"),pa="undefined"!=typeof DOMParser;da.innerHTML="<svg xmlns='"+ra+"'></svg>",pa&&da.firstChild.namespaceURI!=ra&&(He=function(ca,ga){var ua=new DOMParser,ma=ua.parseFromString(ga,"text/xml"),fa=Oe.adoptNode(ma.documentElement);ca.innerHTML="",ca.appendChild(fa)})}(),Ge(Be,{renderSVG:He,SVGCircle:Se,SVGClipAnimationDecorator:Ee,SVGClipPath:De,SVGGradientDecorator:me,SVGGroup:Ae,SVGLine:ke,SVGLinearGradient:Ie,SVGOverlayDecorator:pe,SVGPath:be,SVGRadialGradient:Pe,SVGDonutGradient:Re,SVGRing:we,SVGSector:Te,SVGText:ye,SVGView:sa})})(window.kendo.jQuery);;(function(pe,me){function _e(fs,hs,_s){function xs(vs,ks,ws){var Ts=typeof ks,Cs;return Cs=Ts===Fl?Ga[ks](vs):"function"==Ts?ks(vs,ws,_s):Ga.max(vs)}var bs=hs.aggregate,ys;return ys="object"==typeof bs?function(ks,ws,Cs){var As=Ve(Cs.type),Ds=As.length,Fs=ks.length,Is=[],Ps=[],vs,Ts,Ss;for(vs=0;Ds>vs;vs++){for(Ss=As[vs],Ts=0;Fs>Ts;Ts++)Ps.push(ks[Ts][Ss]);Is.push(xs(Ps,ws[Ss],Cs)),Ps=[]}return Is}(fs,bs,hs):xs(fs,bs,hs)}function xe(fs){return be(fs).min}function ye(fs){return be(fs).max}function be(fs){var xs=dl,ys=pl,bs=fs.length,hs,_s;for(hs=0;bs>hs;hs++)_s=fs[hs],null!==_s&&isFinite(_s)&&(xs=$a.min(xs,_s),ys=$a.max(ys,_s));return{min:xs===dl?me:xs,max:ys===pl?me:ys}}function ke(fs,hs,_s,xs){var vs=(xs.x-_s.x)*(fs.y-_s.y)-(xs.y-_s.y)*(fs.x-_s.x),ks=(xs.y-_s.y)*(hs.x-fs.x)-(xs.x-_s.x)*(hs.y-fs.y),ys,bs;return 0!=ks&&(bs=vs/ks,ys=new or(fs.x+bs*(hs.x-fs.x),fs.y+bs*(hs.y-fs.y))),ys}function we(fs,hs){var ys=fs.series,bs=ys.length,vs=fs.seriesDefaults,ks=qo({},fs.seriesDefaults),ws=hs?qo({},hs.seriesDefaults):{},Cs=qo({},ws),_s,xs;for(Ce(ks),Ce(Cs),_s=0;bs>_s;_s++)xs=ys[_s].type||fs.seriesDefaults.type,ys[_s]=qo({},Cs,ws[xs],{tooltip:fs.tooltip},ks,vs[xs],ys[_s])}function Ce(fs){delete fs.bar,delete fs.column,delete fs.line,delete fs.verticalLine,delete fs.pie,delete fs.donut,delete fs.area,delete fs.verticalArea,delete fs.scatter,delete fs.scatterLine,delete fs.bubble,delete fs.candlestick,delete fs.ohlc,delete fs.bullet,delete fs.verticalBullet}function Te(fs){var _s=fs.series,xs=_s.length,ys=fs.seriesColors||[],hs;for(hs=0;xs>hs;hs++)_s[hs].color=_s[hs].color||ys[hs%ys.length]}function Se(fs){var hs;Ka([Er,Bl,Gl,Yl],function(){hs=this+"Axes",fs[hs]&&(fs[this+"Axis"]=fs[hs],delete fs[hs])})}function Ae(fs,hs){var _s=(hs||{}).axisDefaults||{};Ka([Er,Bl,Gl,Yl],function(){var xs=this+"Axis",ys=[].concat(fs[xs]),bs=fs.axisDefaults||{};ys=pe.map(ys,function(vs){var ks=(vs||{}).color,ws=qo({},_s,_s[xs],bs,bs[xs],{line:{color:ks},labels:{color:ks},title:{color:ks}},vs);return delete ws[xs],ws}),fs[xs]=1<ys.length?ys:ys[0]})}function De(fs,hs,_s){fs[hs]=(fs[hs]||0)+_s}function Fe(fs){var _s=fs.length,xs=0,hs;for(hs=0;_s>hs;hs++)xs=$a.max(xs,fs[hs].data.length);return xs}function Ie(fs){return fs*fs}function Pe(fs,hs){if(null===hs)return hs;var _s=Go(fs,!0);return _s(hs)}function Re(fs){var hs,_s,xs;if(fs instanceof Date)hs=fs;else if(typeof fs===Fl)_s=Ur.exec(fs),hs=new Date(_s?parseInt(_s[1],10):fs);else if(fs)if(fs.length)for(hs=[],xs=0;fs.length>xs;xs++)hs.push(Re(fs[xs]));else hs=new Date(fs);return hs}function Ee(fs){return Xa(fs)?Qa(fs,Ee):fs?Re(fs).getTime():me}function He(fs,hs,_s,xs){var ys=fs;return fs&&(fs=Re(fs),_s===Kl?ys=new Date(fs.getFullYear()+hs,0,1):_s===gl?ys=new Date(fs.getFullYear(),fs.getMonth()+hs,1):_s===jl?ys=He(ze(fs,xs),7*hs,jr):_s===jr?ys=new Date(fs.getFullYear(),fs.getMonth(),fs.getDate()+hs):_s===al?(ys=new Date(fs.getFullYear(),fs.getMonth(),fs.getDate(),fs.getHours()+hs),0<hs&&Qe(fs,ys)&&(ys=He(fs,hs+1,_s,xs))):_s===cl&&(ys=new Date(fs.getTime()+hs*Il),ys.setSeconds(0))),ys}function ze(fs,hs){var _s=fs.getDay(),xs=0;for(hs=hs||0;_s!==hs;)0===_s?_s=6:_s--,xs++;return Le(fs,-xs*Rl)}function Oe(fs,hs,_s){return fs=Re(fs),He(fs,0,hs,_s)}function Me(fs,hs,_s){return fs=Re(fs),fs&&Oe(fs,hs,_s).getTime()===fs.getTime()?fs:He(fs,1,hs,_s)}function Ne(fs,hs){var _s=fs.getTime()-hs,xs=fs.getTimezoneOffset()-hs.getTimezoneOffset();return _s-xs*Il}function Le(fs,hs){var _s=fs.getTimezoneOffset(),xs=new Date(fs.getTime()+hs),ys=xs.getTimezoneOffset()-_s;return new Date(xs.getTime()+ys*Il)}function Be(fs,hs,_s){var xs;return xs=_s===Kl?hs.getFullYear()-fs.getFullYear():_s===gl?12*Be(fs,hs,Kl)+hs.getMonth()-fs.getMonth():_s===jr?$a.floor(Ne(hs,fs)/Rl):$a.floor((hs-fs)/Ol[_s])}function Ve(fs){var hs=[Bl];return fr(fs,[Rr,hl])?hs=["open","high","low","close"]:fr(fs,[Pr,Wl])?hs=["current","target"]:fr(fs,es)&&(hs=[Gl,Yl],fs===Ir&&hs.push("size")),hs}function We(fs,hs,_s){var ks=fs.data[hs],ws={},Cs=Ve(fs.type),Ts={value:ks},xs,ys,bs,vs;return gr(ks)?Xa(ks)?(xs=ks.slice(Cs.length),vs=Ue(ks,Cs),ws=Ue(xs,_s)):"object"==typeof ks&&(ys=qe(fs,Cs),bs=qe(fs,_s),vs=je(ks,Cs,ys),ws=je(ks,_s,bs)):vs=je({},Cs),gr(vs)&&(1===Cs.length&&(vs=vs[Cs[0]]),Ts.value=vs),Ts.fields=ws,Ts}function Ue(fs,hs){var ys={},_s,xs;if(hs)for(xs=$a.min(hs.length,fs.length),_s=0;xs>_s;_s++)ys[hs[_s]]=fs[_s];return ys}function je(fs,hs,_s){var ks={},xs,ys,bs,vs;if(hs)for(ys=hs.length,_s=_s||hs,xs=0;ys>xs;xs++)bs=hs[xs],vs=_s[xs],ks[bs]=Pe(vs,fs);return ks}function qe(fs,hs){var _s,xs,ys,bs,vs;if(hs)for(xs=hs.length,bs=[],_s=0;xs>_s;_s++)ys=hs[_s],vs=ys===Bl?"field":ys+"Field",bs.push(fs[vs]||ys);return bs}function Ge(fs){return 1===fs.length?fs[0]:fs}function Ye(fs,hs,_s){return $a.max($a.min(fs,_s),hs)}function Ke(fs){var ys=fs.length,hs,_s,xs;if(0<ys)for(_s=0;ys>_s;_s++)xs=fs[_s].box,hs?hs.wrap(xs):hs=xs.clone();return hs||$o()}function Xe(fs,hs){return fs&&hs?fs.toLowerCase()===hs.toLowerCase():fs===hs}function Qe(fs,hs){return fs&&hs?Ee(fs)===Ee(hs):fs===hs}function $e(fs){for(var _s=fs.length,hs;_s--;)if(hs=fs[_s],gr(hs)&&null!==hs)return hs}function Je(fs,hs){null!==hs&&fs.push(hs)}function Ze(fs,hs){for(var ys=0,bs=fs.length-1,_s,xs;bs>=ys;)if(_s=$a.floor((ys+bs)/2),xs=fs[_s],hs>xs)ys=_s+1;else{if(!(xs>hs))return _s;bs=_s-1}return hs>=fs[_s]?_s:_s-1}function ea(fs){var xs=!0,ys=fs.length,hs,_s;for(hs=0;ys>hs;hs++)if(_s=fs[hs],"number"!=typeof _s||isNaN(_s)){xs=!1;break}return xs}function ta(fs){var ys={},hs,_s,xs;for(hs=0;fs.length>hs;hs++)_s=fs[hs],xs=_s.options.name,xs&&(ys[xs]=_s.range());return ys}function aa(fs){var hs=fs.originalEvent,_s=0;return hs.wheelDelta&&(_s=-hs.wheelDelta/120,_s=0<_s?$a.ceil(_s):$a.floor(_s)),hs.detail&&(_s=xr(hs.detail/3)),_s}function oa(fs,hs){var bs=[],vs=hs.length,_s,xs,ys;for(fs.groupNameTemplate&&(_s=jo(fs.groupNameTemplate)),xs=0;vs>xs;xs++)ys=qo({},fs),ys.color=me,ys._groupIx=xs,bs.push(ys),_s&&(ys.name=_s({series:ys,group:hs[xs]}));return bs}var Ka=pe.each,Xa=pe.isArray,Qa=pe.map,$a=Math,Ja=pe.extend,Za=pe.proxy,Fo=window.kendo,Mo=Fo.Class,No=Fo.Observable,Wo=Fo.data.DataSource,Uo=Fo.ui.Widget,jo=Fo.template,qo=Fo.deepExtend,Go=Fo.getter,Yo=Fo.dataviz,Ko=Yo.Axis,Xo=Yo.AxisLabel,Qo=Yo.BarAnimation,$o=Yo.Box2D,Jo=Yo.BoxElement,Zo=Yo.ChartElement,er=Yo.Color,tr=Yo.ElementAnimation,ar=Yo.NumericAxis,or=Yo.Point2D,nr=Yo.RootElement,ir=Yo.Ring,rr=Yo.Text,lr=Yo.TextBox,sr=Yo.Title,dr=Yo.animationDecorator,pr=Yo.append,cr=Yo.autoFormat,gr=Yo.defined,ur=Yo.getElement,mr=Yo.getSpacing,fr=Yo.inArray,hr=Yo.interpolateValue,_r=Yo.last,xr=Yo.round,yr=Yo.renderTemplate,br=Yo.uniqueId,vr=".kendoChart",kr="above",wr="area",Cr="fit",Tr=Yo.AXIS_LABEL_CLICK,Sr="bar",Ar=0.8,Dr="#000",Fr="bottom",Ir="bubble",Pr="bullet",Rr="candlestick",Er="category",Hr="center",zr="change",Or="circle",Mr=Yo.CLIP,Nr="column",Lr=Yo.COORD_PRECISION,Br="k-",Vr="dataBound",Wr="date",Ur=/^\/Date\((.*?)\)\/$/,jr="days",qr=Yo.DEFAULT_FONT,Gr=Yo.DEFAULT_HEIGHT,Yr=Yo.DEFAULT_PRECISION,Kr=Yo.DEFAULT_WIDTH,Xr=$a.PI/180,Qr="donut",$r="drag",Jr="dragEnd",Zr="dragStart",el="fadeIn",tl="glass",al="hours",ol=Yo.INITIAL_ANIMATION_DURATION,nl="insideEnd",il="left",rl="legendItemClick",ll="legendItemHover",sl="line",dl=Number.MAX_VALUE,pl=-Number.MAX_VALUE,cl="minutes",gl="months",ul="mousemove.tracking",ml=150,fl="DOMMouseScroll"+vr+" mousewheel"+vr,hl="ohlc",_l="outsideEnd",xl="pie",yl="plotAreaClick",bl="pointer",vl="right",kl="scatter",wl="scatterLine",Cl="selectStart",Tl="select",Sl="selectEnd",Al="seriesClick",Dl="seriesHover",Fl="string",Il=60000,Pl=60*Il,Rl=24*Pl,El=7*Rl,Hl=31*Rl,zl=365*Rl,Ol={years:zl,months:Hl,weeks:El,days:Rl,hours:Pl,minutes:Il},Ml="top",Nl=5,Ll="tooltip-inverse",Bl="value",Vl="verticalArea",Wl="verticalBullet",Ul="verticalLine",jl="weeks",ql="#fff",Gl="x",Yl="y",Kl="years",Xl="zero",Ql="zoomStart",$l="zoom",Jl="zoomEnd",Zl=[Sr,Nr,sl,Ul,wr,Vl,Rr,hl,Pr,Wl],es=[kl,wl,Ir],ts=[cl,al,jr,jl,gl,Kl],as={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},os=Uo.extend({init:function(fs,hs){var vs=this,ks=Yo.ui.themes||{},_s,xs,ys,bs;Fo.destroy(fs),Uo.fn.init.call(vs,fs),_s=qo({},vs.options,hs),vs.element.addClass(Br+_s.name.toLowerCase()).css("position","relative"),vs._originalOptions=qo({},_s),bs=_s.theme,ys=ks[bs]||ks[bs.toLowerCase()],xs=bs&&ys?ys.chart:{},Se(_s),vs._applyDefaults(_s,xs),vs.options=qo({},xs,_s),Te(vs.options),vs.bind(vs.events,vs.options),vs.wrapper=vs.element,vs._initDataSource(hs),Fo.notify(vs,Yo.ui)},_initDataSource:function(fs){var hs=this,_s=(fs||{}).dataSource;hs._dataChangeHandler=Za(hs._onDataChanged,hs),hs.dataSource=Wo.create(_s).bind(zr,hs._dataChangeHandler),hs._redraw(),hs._attachEvents(),_s&&hs.options.autoBind&&hs.dataSource.fetch()},setDataSource:function(fs){var hs=this;hs.dataSource.unbind(zr,hs._dataChangeHandler),hs.dataSource=fs,fs.bind(zr,hs._dataChangeHandler),hs.options.autoBind&&fs.fetch()},events:[Vr,Al,Dl,Tr,rl,ll,yl,Zr,$r,Jr,Ql,$l,Jl,Cl,Tl,Sl],items:function(){return pe()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Nr,data:[],highlight:{visible:!0},groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var fs=this;fs._applyDefaults(fs.options),Te(fs.options),fs._bindSeries(),fs._bindCategories(),fs.trigger(Vr),fs._redraw()},redraw:function(fs){var xs=this,hs,_s;xs._applyDefaults(xs.options),fs?(_s=xs._model._plotArea,hs=_s.findPane(fs),_s.redraw(hs)):xs._redraw()},_redraw:function(){var hs=this,_s=hs._getModel(),xs=Yo.ui.defaultView(),fs;hs._destroyView(),hs._model=_s,hs._plotArea=_s._plotArea,xs&&(fs=hs._view=xs.fromModel(_s),hs._viewElement=hs._renderView(fs),hs._tooltip=hs._createTooltip(),hs._highlight=new Ba(fs,hs._viewElement),hs._setupSelection())},_sharedTooltip:function(){var fs=this,hs=fs.options;return fs._plotArea instanceof Ia&&hs.tooltip.shared},_createTooltip:function(){var hs=this,_s=hs.options,xs=hs.element,fs;return fs=hs._sharedTooltip()?new Ua(xs,hs._plotArea,_s.tooltip):new Wa(xs,_s.tooltip)},_renderView:function(){var fs=this;return fs._view.renderTo(fs.element[0])},svg:function(){var fs=this._getModel(),hs=Yo.SVGView.fromModel(fs);return hs.render()},_applyDefaults:function(fs,hs){Ae(fs,hs),we(fs,hs)},_getModel:function(){var hs=this,_s=hs.options,xs=new nr(hs._modelOptions()),fs;return xs.parent=hs,sr.buildTitle(_s.title,xs),fs=xs._plotArea=hs._createPlotArea(),_s.legend.visible&&xs.append(new rs(fs.options.legend)),xs.append(fs),xs.reflow(),xs},_modelOptions:function(){var fs=this,hs=fs.options,_s=fs.element,xs=$a.floor(_s.height()),ys=$a.floor(_s.width());return qo({width:ys||Kr,height:xs||Gr,transitions:hs.transitions},hs.chartArea)},_createPlotArea:function(){var xs=this,ys=xs.options,bs=ys.series,vs=bs.length,ks=[],ws=[],Cs=[],Ts=[],Ss=[],fs,hs,_s;for(fs=0;vs>fs;fs++)hs=bs[fs],fr(hs.type,Zl)?ks.push(hs):fr(hs.type,es)?ws.push(hs):hs.type===xl?Cs.push(hs):hs.type===Qr?Ts.push(hs):hs.type===Pr&&Ss.push(hs);return _s=0<Cs.length?new Ea(Cs,ys):0<Ts.length?new Ha(Ts,ys):0<ws.length?new Ra(ws,ys):new Ia(ks,ys)},_setupSelection:function(){var vs=this,ks=vs._plotArea,ws=ks.axes,Cs=vs._selections=[],fs,hs,_s,xs,ys,bs;for(vs._selectStartHandler||(vs._selectStartHandler=Za(vs._selectStart,vs),vs._selectHandler=Za(vs._select,vs),vs._selectEndHandler=Za(vs._selectEnd,vs)),hs=0;ws.length>hs;hs++)_s=ws[hs],bs=_s.options,_s instanceof ls&&bs.select&&!bs.vertical&&(xs=0,ys=bs.categories.length-1,_s instanceof ds&&(xs=bs.categories[xs],ys=bs.categories[ys]),bs.justified||(_s instanceof ds?ys=He(ys,1,bs.baseUnit,bs.weekStartDay):ys++),fs=new Ya(vs,_s,qo({min:xs,max:ys},bs.select)),fs.bind(Cl,vs._selectStartHandler),fs.bind(Tl,vs._selectHandler),fs.bind(Sl,vs._selectEndHandler),Cs.push(fs))},_selectStart:function(fs){return this.trigger(Cl,fs)},_select:function(fs){return this.trigger(Tl,fs)},_selectEnd:function(fs){return this.trigger(Sl,fs)},_attachEvents:function(){var fs=this,hs=fs.element;hs.on("click"+vr,Za(fs._click,fs)),hs.on("mouseover"+vr,Za(fs._mouseover,fs)),hs.on("mouseout"+vr,Za(fs._mouseout,fs)),hs.on(fl,Za(fs._mousewheel,fs)),hs.on("touchstart"+vr,Za(fs._tap,fs)),hs.on("mouseleave"+vr,Za(fs._mouseleave,fs)),(fs._plotArea.crosshairs.length||fs._tooltip&&fs._sharedTooltip())&&hs.on("mousemove"+vr,Za(fs._mousemove,fs)),Fo.UserEvents&&(fs._userEvents=new Fo.UserEvents(hs,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:Za(fs._start,fs),move:Za(fs._move,fs),end:Za(fs._end,fs)}))},_mouseout:function(fs){var hs=this,_s=hs._model.modelMap[fs.target.getAttribute("data-model-id")];_s&&_s.leave&&_s.leave(hs,fs)},_start:function(fs){var hs=this,_s=hs._events;gr(_s[Zr]||_s[$r]||_s[Jr])&&hs._startNavigation(fs,Zr)},_move:function(fs){var ks=this,ws=ks._navState,Cs={},hs,_s,xs,ys,bs,vs;if(ws){for(fs.preventDefault(),hs=ws.axes,_s=0;hs.length>_s;_s++)xs=hs[_s],ys=xs.options.name,ys&&(bs=xs.options.vertical?fs.y:fs.x,vs=bs.startLocation-bs.location,0!==vs&&(Cs[xs.options.name]=xs.translateRange(vs)));ws.axisRanges=Cs,ks.trigger($r,{axisRanges:Cs,originalEvent:fs})}},_end:function(fs){this._endNavigation(fs,Jr)},_mousewheel:function(fs){var ks=this,ws=fs.originalEvent,Cs=aa(fs),Ts=ks._navState,Ss={},hs,_s,xs,ys,bs,vs;if(Ts||(hs=ks._startNavigation(ws,Ql),hs||(Ts=ks._navState)),Ts){for(_s=Ts.totalDelta||Cs,Ts.totalDelta=_s+Cs,xs=ks._navState.axes,ys=0;xs.length>ys;ys++)bs=xs[ys],vs=bs.options.name,vs&&(Ss[vs]=bs.scaleRange(_s));ks.trigger($l,{delta:Cs,axisRanges:Ss,originalEvent:fs}),ks._mwTimeout&&clearTimeout(ks._mwTimeout),ks._mwTimeout=setTimeout(function(){ks._endNavigation(fs,Jl)},ml)}},_startNavigation:function(fs,hs){var bs=this,vs=bs._eventCoordinates(fs),ks=bs._model._plotArea,ws=ks.findPointPane(vs),Cs=ks.axes.slice(0),Ts=!1,_s,xs,ys;if(ws){for(_s=0;Cs.length>_s;_s++)if(xs=Cs[_s],xs.box.containsPoint(vs)){Ts=!0;break}!Ts&&ks.backgroundBox().containsPoint(vs)&&(ys=bs.trigger(hs,{axisRanges:ta(Cs),originalEvent:fs}),ys?bs._userEvents.cancel():(bs._suppressHover=!0,bs._unsetActivePoint(),bs._navState={pane:ws,axes:Cs}))}},_endNavigation:function(fs,hs){var _s=this;_s._navState&&(_s.trigger(hs,{axisRanges:_s._navState.axisRanges,originalEvent:fs}),_s._suppressHover=!1,_s._navState=null)},_getChartElement:function(fs){var _s=this,xs=pe(fs.target).data("modelId"),ys=_s._model,hs;return xs&&(hs=ys.modelMap[xs]),hs&&hs.aliasFor&&(hs=hs.aliasFor(fs,_s._eventCoordinates(fs))),hs},_eventCoordinates:function(fs){var hs=this,_s=gr((fs.x||{}).client),xs=_s?fs.x.client:fs.clientX,ys=_s?fs.y.client:fs.clientY;return hs._toModelCoordinates(xs,ys)},_toModelCoordinates:function(fs,hs){var _s=this.element,xs=_s.offset(),ys=parseInt(_s.css("paddingLeft"),10),bs=parseInt(_s.css("paddingTop"),10),vs=pe(window);return new or(fs-xs.left-ys+vs.scrollLeft(),hs-xs.top-bs+vs.scrollTop())},_click:function(fs){for(var hs=this,_s=hs._getChartElement(fs);_s;)_s.click&&_s.click(hs,fs),_s=_s.parent},_startHover:function(fs){var _s=this,xs=_s._tooltip,ys=_s._highlight,bs=_s.options.tooltip,hs;if(!_s._suppressHover&&ys&&!fr(fs.target,ys._overlays)&&!_s._sharedTooltip())return hs=_s._getChartElement(fs),hs&&hs.hover&&(hs.hover(_s,fs),!fs.isDefaultPrevented())?(_s._activePoint=hs,bs=qo({},bs,hs.options.tooltip),bs.visible&&xs.show(hs),ys.show(hs),!0):me},_mouseover:function(fs){var hs=this;hs._startHover(fs)&&pe(document).on(ul,Za(hs._mouseMoveTracking,hs))},_mouseMoveTracking:function(fs){var ys=this,bs=ys.options,vs=ys._tooltip,ks=ys._highlight,ws=ys._eventCoordinates(fs),Cs=ys._activePoint,hs,_s,xs;ys._plotArea.box.containsPoint(ws)?Cs&&Cs.series&&(Cs.series.type===sl||Cs.series.type===wr)&&(_s=Cs.parent,xs=_s.getNearestPoint(ws.x,ws.y,Cs.seriesIx),xs&&xs!=Cs&&(xs.hover(ys,fs),ys._activePoint=xs,hs=qo({},bs.tooltip,Cs.options.tooltip),hs.visible&&vs.show(xs),ks.show(xs))):(pe(document).off(ul),ys._unsetActivePoint())},_mousemove:function(fs){var _s=this,xs=new Date,ys=_s._mousemove.timestamp,hs;(!ys||20<xs-ys)&&(hs=_s._eventCoordinates(fs),_s._trackCrosshairs(hs),_s._sharedTooltip()&&_s._trackSharedTooltip(hs),_s._mousemove.timestamp=xs)},_trackCrosshairs:function(fs){var xs=this._plotArea.crosshairs,hs,_s;for(hs=0;xs.length>hs;hs++)_s=xs[hs],_s.box.containsPoint(fs)?_s.showAt(fs):_s.hide()},_trackSharedTooltip:function(fs){var xs=this,ys=xs.options,bs=xs._plotArea,vs=bs.categoryAxis,ks=xs._tooltip,ws=ys.tooltip,Cs=xs._highlight,hs,_s;hs=vs.getCategoryIndex(fs),hs!==xs._tooltipCategoryIx&&(_s=bs.pointsByCategoryIndex(hs),0<_s.length?(ws.visible&&ks.showAt(_s,fs),Cs.show(_s)):ks.hide(),xs._tooltipCategoryIx=hs)},_mouseleave:function(){var hs=this,_s=hs._plotArea,xs=_s.crosshairs,ys=hs._tooltip,bs=hs._highlight,fs;for(fs=0;xs.length>fs;fs++)xs[fs].hide();setTimeout(Za(ys.hide,ys),100),bs.hide(),hs._tooltipCategoryIx=null},_unsetActivePoint:function(){var fs=this,hs=fs._tooltip,_s=fs._highlight;fs._activePoint=null,hs&&hs.hide(),_s&&_s.hide()},_onDataChanged:function(){var _s=this,xs=_s.options,ys=_s._sourceSeries||xs.series,bs=ys.length,vs=_s.dataSource.view(),ks=0<(_s.dataSource.group()||[]).length,ws=[],fs,hs;for(fs=0;bs>fs;fs++)hs=ys[fs],_s._isBindable(hs)&&ks?pr(ws,oa(hs,vs)):ws.push(hs||[]);_s._sourceSeries=ys,xs.series=ws,Te(_s.options),_s._bindSeries(),_s._bindCategories(),_s.trigger(Vr),_s._redraw()},_bindSeries:function(){var ys=this,bs=ys.dataSource.view(),vs=ys.options.series,ks=vs.length,fs,hs,_s,xs;for(fs=0;ks>fs;fs++)hs=vs[fs],ys._isBindable(hs)&&(_s=hs._groupIx,xs=gr(_s)?(bs[_s]||{}).items:bs,!1!==hs.autoBind&&(hs.data=xs))},_bindCategories:function(){var _s=this,xs=_s.dataSource.view(),ys=0<(_s.dataSource.group()||[]).length,bs=(ys?xs[0].items:xs)||[],vs=_s.options,ks=[].concat(vs.categoryAxis),fs,hs;for(fs=0;ks.length>fs;fs++)hs=ks[fs],!1!==hs.autoBind&&_s._bindCategoryAxis(hs,bs)},_bindCategoryAxis:function(fs,hs){var _s,xs,ys;if(fs.field)for(fs.categories=[],_s=0;hs.length>_s;_s++)ys=hs[_s],xs=Pe(fs.field,ys),0===_s?(fs.categories=[xs],fs.dataItems=[ys]):(fs.categories.push(xs),fs.dataItems.push(ys))},_isBindable:function(fs){var xs=Ve(fs.type),ys=!0,hs,_s;for(_s=0;xs.length>_s;_s++)if(hs=xs[_s],hs===Bl?hs="field":hs+="Field",!fs[hs]){ys=!1;break}return ys},_tap:function(fs){var hs=this;hs._startHover(fs)||hs._unsetActivePoint(),hs._click(fs)},_legendItemClick:function(fs,hs){var ys=this,bs=ys._plotArea,vs=(bs.srcSeries||bs.series)[fs],_s,xs;fr(vs.type,[xl,Qr])?(_s=vs.data[hs],_s.visible=!!gr(_s.visible)&&!_s.visible):vs.visible=!vs.visible,ys.options.transitions&&(ys.options.transitions=!1,xs=!0),ys.redraw(),xs&&(ys.options.transitions=!0)},_legendItemHover:function(fs,hs){var xs=this,ys=xs._plotArea,bs=xs._highlight,vs=(ys.srcSeries||ys.series)[fs],_s;_s=fr(vs.type,[xl,Qr])?ys.charts[0].segments[hs]:ys.pointsBySeriesIndex(fs),bs.show(_s)},destroy:function(){var fs=this,hs=fs.dataSource;fs.element.off(vr),hs.unbind(zr,fs._dataChangeHandler),pe(document).off(ul),fs._userEvents&&fs._userEvents.destroy(),fs._destroyView(),Uo.fn.destroy.call(fs)},_destroyView:function(){var fs=this,hs=Yo.IDPool.current,_s=fs._model,xs=fs._view,ys=fs._viewElement,bs=fs._selections;if(_s&&_s.destroy(),xs&&xs.destroy(),ys&&pe("[id]",ys).each(function(){hs.free(pe(this).attr("id"))}),bs)for(;0<bs.length;)bs.shift().destroy()}}),ns=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.append(new lr(fs,_s.options))},options:{position:_l,margin:mr(3),padding:mr(4),color:Dr,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:el,delay:ol},zIndex:1},reflow:function(fs){var hs=this,_s=hs.options,xs=_s.vertical,ys=_s.aboveAxis,bs=hs.children[0],vs=bs.box,ks=bs.options.padding;bs.options.align=xs?Hr:il,bs.options.vAlign=xs?Ml:Hr,_s.position==nl?xs?(bs.options.vAlign=Ml,!ys&&vs.height()<fs.height()&&(bs.options.vAlign=Fr)):bs.options.align=ys?vl:il:_s.position==Hr?(bs.options.vAlign=Hr,bs.options.align=Hr):"insideBase"==_s.position?xs?bs.options.vAlign=ys?Fr:Ml:bs.options.align=ys?il:vl:_s.position==_l&&(xs?fs=ys?new $o(fs.x1,fs.y1-vs.height(),fs.x2,fs.y1):new $o(fs.x1,fs.y2,fs.x2,fs.y2+vs.height()):(bs.options.align=Hr,fs=ys?new $o(fs.x2+vs.width(),fs.y1,fs.x2,fs.y2):new $o(fs.x1-vs.width(),fs.y1,fs.x1,fs.y2))),xs?ks.left=ks.right=(fs.width()-bs.contentBox.width())/2:ks.top=ks.bottom=(fs.height()-bs.contentBox.height())/2,bs.reflow(fs)}}),is=rr.extend({init:function(fs,hs){var _s=this;_s.item=fs,rr.fn.init.call(_s,fs.text,qo({id:br(),cursor:{style:bl}},hs)),_s.enableDiscovery()},click:function(fs,hs){var _s=this.item;hs.preventDefault(),fs.trigger(rl,{element:pe(hs.target),text:_s.text,series:_s.series,seriesIndex:_s.series.index,pointIndex:_s.pointIndex}),fs._legendItemClick(_s.series.index,_s.pointIndex)},hover:function(fs,hs){var _s=this.item;hs.preventDefault(),fs.trigger(ll,{element:pe(hs.target),text:_s.text,series:_s.series,seriesIndex:_s.series.index,pointIndex:_s.pointIndex}),fs._legendItemHover(_s.series.index,_s.pointIndex)},leave:function(fs){fs._unsetActivePoint()}}),rs=Zo.extend({init:function(fs){var hs=this;Zo.fn.init.call(hs,fs),hs.createLabels()},options:{position:vl,items:[],labels:{},offsetX:0,offsetY:0,margin:mr(10),padding:mr(5),border:{color:Dr,width:0},background:"",zIndex:1,markers:{border:{width:1}}},createLabels:function(){var _s=this,xs=_s.options.items,ys=xs.length,fs,hs;for(fs=0;ys>fs;fs++)hs=xs[fs],_s.append(new is(hs,qo({},_s.options.labels,{color:hs.labelColor})))},reflow:function(fs){var hs=this,_s=hs.options,xs=hs.children.length;return 0===xs?(hs.box=fs.clone(),me):"custom"==_s.position?(hs.customLayout(fs),me):(_s.position==Ml||_s.position==Fr?hs.horizontalLayout(fs):hs.verticalLayout(fs),me)},getViewElements:function(fs){var ws=this,Cs=ws.children,Ts=ws.options,Ss=Ts.items,As=Ss.length,Ds=ws.markerSize(),Fs=fs.createGroup({zIndex:Ts.zIndex}),Is=Ts.border||{},hs,_s,xs,ys,bs,vs,ks;for(pr(Fs.children,Zo.fn.getViewElements.call(ws,fs)),ks=0;As>ks;ks++)ys=Ss[ks].markerColor,bs=Cs[ks],_s=$o(),vs=bs.box,xs=xs?xs.wrap(vs):vs.clone(),_s.x1=vs.x1-2*Ds,_s.x2=_s.x1+Ds,_s.y1=Ts.position==Ml||Ts.position==Fr?vs.y1+Ds/2:vs.y1+(vs.height()-Ds)/2,_s.y2=_s.y1+Ds,Fs.children.push(fs.createRect(_s,{fill:ys,stroke:ys,strokeWidth:Ts.markers.border.width,data:{modelId:bs.options.modelId},cursor:{style:bl}}));return 0<Cs.length&&(hs=mr(Ts.padding),hs.left+=2*Ds,xs.pad(hs),Fs.children.unshift(fs.createRect(xs,{stroke:Is.width?Is.color:"",strokeWidth:Is.width,dashType:Is.dashType,fill:Ts.background}))),[Fs]},verticalLayout:function(fs){var vs=this,ks=vs.options,ws=vs.children,Cs=ws.length,Ts=ws[0].box.clone(),Ss=mr(ks.margin),As=2*vs.markerSize(),hs,_s,xs,ys,bs;for(ys=1;Cs>ys;ys++)xs=vs.children[ys],xs.box.alignTo(vs.children[ys-1].box,Fr),Ts.wrap(xs.box);ks.position==il?(hs=fs.x1+As+Ss.left,_s=(fs.y2-Ts.height())/2,Ts.x2+=As+Ss.left+Ss.right):(hs=fs.x2-Ts.width()-Ss.right,_s=(fs.y2-Ts.height())/2,Ts.translate(hs,_s),Ts.x1-=As+Ss.left),vs.translateChildren(hs+ks.offsetX,_s+ks.offsetY),bs=Ts.width(),Ts.x1=$a.max(fs.x1,Ts.x1),Ts.x2=Ts.x1+bs,Ts.y1=fs.y1,Ts.y2=fs.y2,vs.box=Ts},horizontalLayout:function(fs){var bs=this,vs=bs.options,ks=bs.children,ws=ks.length,Cs=ks[0].box.clone(),Ts=3*bs.markerSize(),Ss=mr(vs.margin),As=ks[0].box.width()+Ts,Ds=fs.width(),Fs=0,hs,_s,xs,ys;for(ys=1;ws>ys;ys++)xs=ks[ys],As+=xs.box.width()+Ts,As>Ds-Ts?(xs.box=$o(Cs.x1,Cs.y2,Cs.x1+xs.box.width(),Cs.y2+xs.box.height()),As=xs.box.width()+Ts,Fs=xs.box.y1):(xs.box.alignTo(ks[ys-1].box,vl),xs.box.y2=Fs+xs.box.height(),xs.box.y1=Fs,xs.box.translate(Ts,0)),Cs.wrap(xs.box);hs=(fs.width()-Cs.width()+Ts)/2,vs.position===Ml?(_s=fs.y1+Ss.top,Cs.y2=fs.y1+Cs.height()+Ss.top+Ss.bottom,Cs.y1=fs.y1):(_s=fs.y2-Cs.height()-Ss.bottom,Cs.y1=fs.y2-Cs.height()-Ss.top-Ss.bottom,Cs.y2=fs.y2),bs.translateChildren(hs+vs.offsetX,_s+vs.offsetY),Cs.x1=fs.x1,Cs.x2=fs.x2,bs.box=Cs},customLayout:function(fs){var _s=this,xs=_s.options,ys=_s.children,bs=ys.length,vs=ys[0].box.clone(),ks=2*_s.markerSize(),hs;for(hs=1;bs>hs;hs++)vs=_s.children[hs].box,vs.alignTo(_s.children[hs-1].box,Fr),vs.wrap(vs);_s.translateChildren(xs.offsetX+ks,xs.offsetY),_s.box=fs},markerSize:function(){var fs=this,hs=fs.children;return 0<hs.length?hs[0].box.height()/2:0}}),ls=Ko.extend({init:function(fs){var hs=this;Ko.fn.init.call(hs,fs),fs=hs.options,fs.categories=fs.categories.slice(0),hs._ticks={}},options:{type:Er,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Dr},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(fs){var _s=this,xs=_s.options,ys=xs.vertical,bs=xs.justified,vs=_s.lineBox(),ks=ys?vs.height():vs.width(),ws=fs-(bs?1:0),Cs=ys?Yl:Gl,Ts=vs[Cs+1],Ss=[],hs;for(hs=0;fs>hs;hs++)Ss.push(xr(Ts,Lr)),Ts+=ks/ws;return bs||Ss.push(vs[Cs+2]),xs.reverse?Ss.reverse():Ss},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var hs=this,_s=hs._ticks,xs=hs.options,ys=xs.categories.length,bs=xs.reverse,vs=xs.justified,ks=hs.lineBox(),fs;return fs=ks.getHash()+ys+bs+vs,_s._hash!==fs&&(_s._hash=fs,_s.majorTicks=hs.getTickPositions(ys),_s.minorTicks=hs.getTickPositions(2*ys)),_s},getSlot:function(fs,hs){var bs=this,vs=bs.options,ks=bs.getMajorTickPositions(),ws=vs.reverse,Cs=vs.justified,Ts=vs.vertical?Yl:Gl,Ss=bs.lineBox(),As=Ss[Ts+(ws?2:1)],Ds=Ss[Ts+(ws?1:2)],Fs=Ss.clone(),Is=$a.max(1,ks.length-(Cs?0:1)),_s,xs,ys;return fs=gr(fs)?fs:0,hs=gr(hs)?hs:fs,fs=Ye(fs,0,Is),hs=Ye(hs-1,fs,Is),hs=$a.max(fs,hs),_s=0===fs?As:ks[fs],xs=Cs?_s:ks[hs],ys=hs-fs,(0<ys||fs===hs)&&(xs=ks[hs+1]||Ds),Cs&&(fs===Is?_s=xs:xs=_s),Fs[Ts+1]=ws?xs:_s,Fs[Ts+2]=ws?_s:xs,Fs},getCategoryIndex:function(fs){var bs=this,vs=bs.options,ks=vs.reverse,ws=vs.vertical,Cs=ws?Yl:Gl,Ts=bs.lineBox(),Ss=Ts[Cs+1],As=Ts[Cs+2],Ds=fs[Cs],Fs=bs.getMajorTickPositions(),Is=dl,hs,_s,xs,ys;if(Ss>Ds||Ds>As)return null;for(xs=0;Fs.length>xs;xs++)if(hs=Fs[xs],_s=Fs[xs+1],gr(_s)||(_s=ks?Ss:As),ks&&(hs=_s,_s=Fs[xs]),vs.justified){if(Ds===_s){ys=$a.max(0,ws?Fs.length-xs-1:xs+1);break}Is>$a.abs(Ds-hs)&&(Is=Ds-hs,ys=xs)}else if(Ds>=hs&&_s>=Ds){ys=xs;break}return ys},getCategory:function(fs){var hs=this.getCategoryIndex(fs);return null===hs?null:this.options.categories[hs]},translateRange:function(fs){var hs=this,_s=hs.options,xs=hs.lineBox(),ys=_s.vertical?xs.height():xs.width(),bs=_s.categories.length,vs=xr(fs/(ys/bs),Yr);return{min:vs,max:bs+vs}},scaleRange:function(fs){var hs=this,_s=hs.options,xs=_s.categories.length,ys=fs*xs;return{min:-ys,max:xs+ys}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(fs,hs){var _s=this,xs=_s.options,ys=xs.dataItems?xs.dataItems[fs]:null,bs=gr(xs.categories[fs])?xs.categories[fs]:"";return new Xo(bs,fs,ys,hs)}}),ss=Xo.extend({formatValue:function(fs,hs){return Fo.toString(fs,hs.format,hs.culture)}}),ds=ls.extend({init:function(fs){var xs=this,hs,_s;fs=fs||{},fs=qo({roundToBaseUnit:!0},fs,{min:Re(fs.min),max:Re(fs.max)}),fs.categories&&0<fs.categories.length&&(hs=(fs.baseUnit||"").toLowerCase(),_s=hs!==Cr&&!fr(hs,ts),_s&&(fs.baseUnit=xs.defaultBaseUnit(fs)),(hs===Cr||"auto"===fs.baseUnitStep)&&xs.autoBaseUnit(fs),xs.groupCategories(fs)),ls.fn.init.call(xs,fs)},options:{type:Wr,labels:{dateFormats:as},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(fs){var hs=this,_s=ls.fn.translateRange.call(hs,fs),xs=hs.options,ys=xs.baseUnit,bs=$a.round(_s.min),vs=xs.weekStartDay;return{min:He(xs.min,bs,ys,vs),max:He(xs.max,bs,ys,vs)}},scaleRange:function(fs){for(var xs=this,ys=xs.options,bs=$a.abs(fs),vs=ys.min,ks=ys.max,hs,_s;bs--;)hs=Ne(vs,ks),_s=$a.round(0.1*hs),0>fs?(vs=Le(vs,_s),ks=Le(ks,-_s)):(vs=Le(vs,-_s),ks=Le(ks,_s));return{min:vs,max:ks}},defaultBaseUnit:function(fs){var vs=fs.categories,ks=gr(vs)?vs.length:0,ws=dl,hs,_s,xs,ys,bs;for(hs=0;ks>hs;hs++)_s=Re(vs[hs]),_s&&ys&&(xs=Ne(_s,ys),0<xs&&(ws=$a.min(ws,xs),bs=ws>=zl?Kl:ws>=Hl-3*Rl?gl:ws>=El?jl:ws>=Rl?jr:ws>=Pl?al:cl)),ys=_s;return bs||jr},range:function(fs){fs=fs||this.options;var hs=Re(fs.categories),_s=fs.baseUnit===Cr,xs=_s?ts[0]:fs.baseUnit,ys=Ee(fs.min),bs=Ee(fs.max),vs=be(hs),ks=Ee(vs.min),ws=Ee(vs.max);return fs.roundToBaseUnit?{min:He(ys||ks,0,xs,fs.weekStartDay),max:He(bs||ws,1,xs,fs.weekStartDay)}:{min:Re(ys||ks),max:Re(bs||ws)}},autoBaseUnit:function(fs){for(var ys=this,bs=ys.range(fs),vs=fs.baseUnit===Cr,ks=0,ws=vs?ts[ks++]:fs.baseUnit,Cs=bs.max-bs.min,Ts=Cs/Ol[ws],Ss=Ts,As=fs.maxDateGroups||ys.options.maxDateGroups,Ds=qo({},ys.options.autoBaseUnitSteps,fs.autoBaseUnitSteps),hs,_s,xs;!_s||Ts>As;)if(hs=hs||Ds[ws].slice(0),xs=hs.shift())_s=xs,Ts=Ss/_s;else{if(ws===_r(ts)){_s=$a.ceil(Ss/As);break}if(!vs){Ts>As&&(_s=$a.ceil(Ss/As));break}ws=ts[ks++]||_r(ts),Ss=Cs/Ol[ws],hs=null}fs.baseUnitStep=_s,fs.baseUnit=ws},getMajorTickPositions:function(){var Rs=this,Es=Rs.options,Hs=Es.categories,zs=[],fs,hs,_s,xs,ys,bs,vs,ks,ws,Cs,Ts,Ss,As,Ds,Fs,Is,Ps;if(Es.roundToBaseUnit||0===Hs.length)zs=ls.fn.getMajorTickPositions.call(Rs);else{for(_s=Es.vertical,xs=Es.reverse,ys=Rs.lineBox(),bs=_s?ys.height():ys.width(),vs=Hs[0].getTime(),ks=Rs.range(Rs.options),ws=ks.max-ks.min,Cs=bs/ws,Ts=Hs.length,Ss=(_s?-1:1)*(xs?-1:1),As=1===Ss?1:2,Ds=1===Ss?2:1,Fs=ys[(_s?Yl:Gl)+As],Is=ys[(_s?Yl:Gl)+Ds],Ps=Fs,fs=0;Ts>fs;fs++)hs=Hs[fs]-vs,Ps=Fs+hs*Cs*Ss,zs.push(xr(Ps,Lr));_r(zs)!==Is&&zs.push(Is)}return zs},groupCategories:function(fs){var ks=this,ws=Re(fs.categories),Cs=fs.baseUnit,Ts=fs.baseUnitStep||1,Ss=ks.range(fs),As=fs.roundToBaseUnit,Ds=[],Fs=ks.categoryMap=[],Is=[],hs,_s,xs,ys,bs,vs;for(hs=As?He(Ss.max,Ts-1,Cs,fs.weekStartDay):Ss.max,Qe(Ss.min,Ss.max)&&(hs=Re(Ee(hs)+1)),_s=Ss.min;hs>_s;_s=xs){for(xs=He(_s,Ts,Cs,fs.weekStartDay),Ds.push(_s),ys=[],bs=Ze(ws,_s);ws.length>bs;bs++)if(vs=ws[bs],vs&&vs>=_s)if(xs>vs)fs.justified&&Qe(vs,hs)?Is.push(bs):ys.push(bs);else{if(As||!Qe(xs,hs))break;Is.push(bs)}Fs.push(ys)}Is.length&&(Ds.push(hs),Fs.push(Is)),fs.max||0!==(_r(Fs)||[]).length||(Fs.pop(),Ds.pop()),fs.min=Ds[0],fs.max=As?_r(Ds):hs,fs.categories=Ds},createAxisLabel:function(fs,hs){var xs=this.options,ys=xs.dataItems?xs.dataItems[fs]:null,bs=xs.categories[fs],vs=xs.baseUnit,ks=!0,ws=hs.dateFormats[vs],_s;return xs.justified&&(_s=Oe(bs,vs,xs.weekStartDay),ks=Qe(_s,bs)),hs=qo({format:ws},hs,{visible:ks}),new ss(bs,fs,ys,hs)}}),ps=Ko.extend({init:function(fs,hs,_s){var xs=this;_s=_s||{},qo(_s,{min:Re(_s.min),max:Re(_s.max),axisCrossingValue:Re(_s.axisCrossingValues||_s.axisCrossingValue)}),_s=xs.applyDefaults(Re(fs),Re(hs),_s),Ko.fn.init.call(xs,_s)},options:{type:Wr,labels:{dateFormats:as}},applyDefaults:function(fs,hs,_s){var xs=this,ys=_s.min||fs,bs=_s.max||hs,vs=_s.baseUnit||xs.timeUnits(bs-ys),ks=Ol[vs],ws=Oe(Ee(ys)-1,vs)||Re(bs),Cs=Me(Ee(bs)+1,vs),Ts=_s.majorUnit?_s.majorUnit:me,Ss=Ts||Yo.ceil(Yo.autoMajorUnit(ws.getTime(),Cs.getTime()),ks)/ks,As=Be(ws,Cs,vs),Ds=Yo.ceil(As,Ss),Fs=Ds-As,Is=$a.floor(Fs/2);return _s.baseUnit||delete _s.baseUnit,qo({baseUnit:vs,min:He(ws,-Is,vs),max:He(Cs,Fs-Is,vs),minorUnit:Ss/5},_s,{majorUnit:Ss})},range:function(){var fs=this.options;return{min:fs.min,max:fs.max}},getDivisions:function(fs){var hs=this.options;return $a.floor(Be(hs.min,hs.max,hs.baseUnit)/fs+1)},getTickPositions:function(fs){var _s=this,xs=_s.options,ys=xs.vertical,bs=xs.reverse,vs=_s.lineBox(),ks=ys?vs.height():vs.width(),ws=Be(xs.min,xs.max,xs.baseUnit),Cs=_s.getDivisions(fs),Ts=(ys?-1:1)*(bs?-1:1),Ss=1==Ts?1:2,As=vs[(ys?Yl:Gl)+Ss],Ds=[],hs;for(hs=0;Cs>hs;hs++)Ds.push(xr(As,Lr)),As+=fs*(ks/ws)*Ts;return Ds},getMajorTickPositions:function(){var fs=this;return fs.getTickPositions(fs.options.majorUnit)},getMinorTickPositions:function(){var fs=this;return fs.getTickPositions(fs.options.minorUnit)},getSlot:function(fs,hs){return ar.fn.getSlot.call(this,Re(fs),Re(hs))},getValue:function(fs){var hs=ar.fn.getValue.call(this,fs);return null===hs?null:Re(hs)},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(fs,hs){var _s=this.options,xs=fs*_s.majorUnit,ys=He(_s.min,xs,_s.baseUnit),bs=hs.dateFormats[_s.baseUnit];return hs.format=hs.format||bs,new ss(ys,fs,null,hs)},timeUnits:function(fs){var hs=al;return fs>=zl?hs=Kl:fs>=Hl?hs=gl:fs>=El?hs=jl:fs>=Rl&&(hs=jr),hs},translateRange:function(fs){var hs=this,_s=hs.options,xs=_s.baseUnit,ys=_s.weekStartDay,bs=hs.lineBox(),vs=_s.vertical?bs.height():bs.width(),ks=hs.range(),ws=vs/(ks.max-ks.min),Cs=xr(fs/ws,Yr),Ts=Le(_s.min,Cs),Ss=Le(_s.max,Cs);return{min:He(Ts,0,xs,ys),max:He(Ss,0,xs,ys)}},scaleRange:function(fs){for(var xs=this,ys=xs.options,bs=ys.baseUnit,vs=ys.weekStartDay,ks=$a.abs(fs),ws=ys.min,Cs=ys.max,hs,_s;ks--;)hs=Ne(ws,Cs),_s=$a.round(0.1*hs),0>fs?(ws=Le(ws,_s),Cs=Le(Cs,-_s)):(ws=Le(ws,-_s),Cs=Le(Cs,_s)),ws=He(ws,0,bs,vs),Cs=He(Cs,1,bs,vs);return{min:ws,max:Cs}}}),cs=Zo.extend({init:function(fs){var hs=this;Zo.fn.init.call(hs,fs)},options:{vertical:!1,gap:0,spacing:0},reflow:function(fs){var xs=this,ys=xs.options,bs=ys.vertical,vs=bs?Yl:Gl,ks=xs.children,ws=ys.gap,Cs=ys.spacing,Ts=ks.length,Ss=(bs?fs.height():fs.width())/(Ts+ws+Cs*(Ts-1)),As=fs[vs+1]+Ss*(ws/2),hs,_s;for(_s=0;Ts>_s;_s++)hs=(ks[_s].box||fs).clone(),hs[vs+1]=As,hs[vs+2]=As+Ss,ks[_s].reflow(hs),Ts-1>_s&&(As+=Ss*Cs),As+=Ss}}),gs=Zo.extend({init:function(fs){var hs=this;Zo.fn.init.call(hs,fs)},options:{vertical:!0,isReversed:!1},reflow:function(fs){var bs=this,vs=bs.options,ks=vs.vertical,ws=ks?Gl:Yl,Cs=ks?Yl:Gl,Ts=fs[Cs+2],Ss=bs.children,As=bs.box=new $o,Ds=Ss.length,hs,_s,xs,ys;for(hs=vs.isReversed?ks?Fr:il:ks?Ml:vl,_s=0;Ds>_s;_s++)xs=Ss[_s],ys=xs.box.clone(),ys.snapTo(fs,ws),xs.options&&(xs.options.stackBase=Ts),0===_s?As=bs.box=ys.clone():ys.alignTo(Ss[_s-1].box,hs),xs.reflow(ys),As.wrap(ys)}}),us={click:function(fs,hs){var _s=this;fs.trigger(Al,{value:_s.value,category:_s.category,series:_s.series,dataItem:_s.dataItem,element:pe(hs.target)})},hover:function(fs,hs){var _s=this;fs.trigger(Dl,{value:_s.value,category:_s.category,series:_s.series,dataItem:_s.dataItem,element:pe(hs.target)})}},ms=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.value=fs,0>fs&&hs.negativeColor&&(_s.options.color=hs.negativeColor),_s.options.id=br(),_s.enableDiscovery()},options:{color:ql,border:{width:1},vertical:!0,overlay:{gradient:tl},aboveAxis:!0,labels:{visible:!1},animation:{type:Sr},opacity:1},render:function(){var hs=this,_s=hs.value,xs=hs.options,ys=xs.labels,bs=_s,fs;hs._rendered||(hs._rendered=!0,ys.visible&&_s&&(ys.template?(fs=jo(ys.template),bs=fs({dataItem:hs.dataItem,category:hs.category,value:hs.value,series:hs.series})):ys.format&&(bs=cr(ys.format,bs)),hs.append(new ns(bs,qo({vertical:xs.vertical,id:br()},xs.labels)))))},reflow:function(fs){this.render();var hs=this,_s=hs.options,xs=hs.children,ys=xs[0];hs.box=fs,ys&&(ys.options.aboveAxis=_s.aboveAxis,ys.reflow(fs))},getViewElements:function(fs){var hs=this,_s=hs.options,xs=_s.vertical,ys=0<_s.border.width?{stroke:hs.getBorderColor(),strokeWidth:_s.border.width,strokeOpacity:_s.border.opacity,dashType:_s.border.dashType}:{},bs=hs.box,vs=qo({id:_s.id,fill:_s.color,fillOpacity:_s.opacity,strokeOpacity:_s.opacity,vertical:_s.vertical,aboveAxis:_s.aboveAxis,stackBase:_s.stackBase,animation:_s.animation,data:{modelId:_s.modelId}},ys),ks=[];return 0<bs.width()&&0<bs.height()&&(_s.overlay&&(vs.overlay=qo({rotation:xs?0:90},_s.overlay)),ks.push(fs.createRect(bs,vs))),pr(ks,Zo.fn.getViewElements.call(hs,fs)),ks},highlightOverlay:function(fs,hs){var _s=this,xs=_s.box;return hs=qo({data:{modelId:_s.options.modelId}},hs),hs.id=null,fs.createRect(xs,hs)},getBorderColor:function(){var fs=this,hs=fs.options,_s=hs.color,xs=hs.border,ys=xs.color,bs=xs._brightness||Ar;return gr(ys)||(ys=new er(_s).brightness(bs).toHex()),ys},tooltipAnchor:function(fs,hs){var ys=this,bs=ys.options,vs=ys.box,ks=bs.vertical,ws=bs.aboveAxis,_s,xs;return ks?(_s=vs.x2+Nl,xs=ws?vs.y1:vs.y2-hs):bs.isStacked?(_s=ws?vs.x2-fs:vs.x1,xs=vs.y1-hs-Nl):(_s=ws?vs.x2+Nl:vs.x1-fs-Nl,xs=vs.y1),new or(_s,xs)},formatValue:function(fs){var hs=this;return hs.owner.formatPointValue(hs,fs)}}),na,ia,ra,la,sa,da,pa,ca,ga,ua,ma,fa,ha,_a,xa,ya,ba,va,ka,wa,Ca,Ta,Sa,Aa,Da,Fa,Ia,Pa,Ra,Ea,Ha,za,Oa,Ma,Na,La,Ba,Va,Wa,Ua,ja,qa,Ga,Ya;qo(ms.fn,us),na=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.plotArea=fs,_s.categoryAxis=fs.seriesCategoryAxis(hs.series[0]),_s.valueAxisRanges={},_s.points=[],_s.categoryPoints=[],_s.seriesPoints=[],_s.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var fs=this;fs.traverseDataPoints(Za(fs.addValue,fs))},addValue:function(fs,hs,_s,xs,ys){var vs=this,ks=fs.value,ws=vs.categoryPoints[_s],Cs=vs.seriesPoints[ys],bs;ws||(vs.categoryPoints[_s]=ws=[]),Cs||(vs.seriesPoints[ys]=Cs=[]),vs.updateRange(ks,_s,xs),bs=vs.createPoint(fs,hs,_s,xs,ys),bs&&(bs.category=hs,bs.series=xs,bs.seriesIx=ys,bs.owner=vs,bs.dataItem=xs.data[_s]),vs.points.push(bs),Cs.push(bs),ws.push(bs)},updateRange:function(fs,hs,_s){var xs=this,ys=_s.axis,bs=xs.valueAxisRanges[ys];gr(fs)&&!isNaN(fs)&&(bs=xs.valueAxisRanges[ys]=bs||{min:dl,max:pl},bs.min=$a.min(bs.min,fs),bs.max=$a.max(bs.max,fs))},seriesValueAxis:function(fs){var hs=this.plotArea,_s=fs.axis,xs=_s?hs.namedValueAxes[_s]:hs.valueAxis;if(!xs)throw Error("Unable to locate value axis with name "+_s);return xs},reflow:function(fs){var bs=this,vs=bs.options,ks=vs.invertAxes,ws=0,Cs=bs.categorySlots=[],Ts=bs.points,Ss=bs.categoryAxis,hs,_s,xs,ys;bs.traverseDataPoints(function(As,Ds,Fs,Is){if(!1!==Is.visible){hs=bs.pointValue(As),_s=bs.seriesValueAxis(Is),xs=bs.categoryAxisCrossingValue(_s),ys=Ts[ws++],ys&&ys.plotValue&&(hs=ys.plotValue);var Ps=bs.categorySlot(Ss,Fs,_s),Rs=bs.valueSlot(_s,hs,xs),Es=ks?Rs:Ps,Hs=ks?Ps:Rs,zs=new $o(Es.x1,Hs.y1,Es.x2,Hs.y2),Os=_s.options.reverse?xs>hs:hs>=xs;ys&&(ys.options.aboveAxis=Os,ys.reflow(zs)),Cs[Fs]||(Cs[Fs]=Ps)}}),bs.reflowCategories(Cs),bs.box=fs},categoryAxisCrossingValue:function(fs){var hs=this.categoryAxis,_s=fs.options,xs=[].concat(_s.axisCrossingValues||_s.axisCrossingValue);return xs[hs.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(fs,hs,_s){return fs.getSlot(hs,_s)},categorySlot:function(fs,hs){return fs.getSlot(hs)},traverseDataPoints:function(fs){var vs=this,ks=vs.options,ws=ks.series,Cs=vs.categoryAxis.options.categories||[],Ts=Fe(ws),Ss=vs.bindableFields(),As=ws.length,hs,_s,xs,ys,bs;for(hs=0;Ts>hs;hs++)for(_s=0;As>_s;_s++)bs=ws[_s],ys=Cs[hs],xs=We(bs,hs,Ss),fs(xs,ys,hs,bs,_s)},bindableFields:function(){return[]},formatPointValue:function(fs,hs){return cr(hs,fs.value)},pointValue:function(fs){return fs.value}}),ia=na.extend({init:function(fs,hs){var _s=this;_s._groupTotals={},_s._groups=[],na.fn.init.call(_s,fs,hs)},render:function(){var fs=this;na.fn.render.apply(fs),fs.computeAxisRanges()},createPoint:function(fs,hs,_s,xs){var Cs=this,Ts=fs.value,Ss=Cs.options,As=Cs.children,Ds=Cs.options.isStacked,Fs=qo({},xs.labels),ys,bs,vs,ks,ws;return Ds&&Fs.position==_l&&(Fs.position=nl),ys=new ms(Ts,qo({},{vertical:!Ss.invertAxes,overlay:xs.overlay,labels:Fs,isStacked:Ds},xs,{color:fs.fields.color||me})),bs=As[_s],bs||(bs=new cs({vertical:Ss.invertAxes,gap:Ss.gap,spacing:Ss.spacing}),Cs.append(bs)),Ds?(ws=Cs.getStackWrap(xs,bs),0===ws.children.length?(vs=new gs({vertical:!Ss.invertAxes}),ks=new gs({vertical:!Ss.invertAxes,isReversed:!0}),ws.append(vs,ks)):(vs=ws.children[0],ks=ws.children[1]),0<Ts?vs.append(ys):ks.append(ys)):bs.append(ys),ys},getStackWrap:function(fs,hs){var ys=hs.children,bs=fs.stack,vs=ys.length,_s,xs;if(typeof bs==Fl){for(xs=0;vs>xs;xs++)if(ys[xs]._stackGroup===bs){_s=ys[xs];break}}else _s=ys[0];return _s||(_s=new Zo,_s._stackGroup=bs,hs.append(_s)),_s},updateRange:function(fs,hs,_s){var ys=this,bs=ys.options.isStacked,xs;gr(fs)&&(bs?(xs=ys.groupTotals(_s.stack),De(0<fs?xs.positive:xs.negative,hs,fs)):na.fn.updateRange.apply(ys,arguments))},computeAxisRanges:function(){var _s=this,xs=_s.options.isStacked,fs,hs;xs&&(fs=_s.options.series[0].axis,hs=_s.categoryTotals(),_s.valueAxisRanges[fs]={min:xe(hs.negative.concat(0)),max:ye(hs.positive.concat(0))})},seriesValueAxis:function(fs){var hs=this,_s=hs.options;return na.fn.seriesValueAxis.call(hs,_s.isStacked?hs.options.series[0]:fs)},valueSlot:function(fs,hs,_s){return fs.getSlot(hs,this.options.isStacked?0:_s)},categorySlot:function(fs,hs,_s){var bs=this,vs=bs.options,ks=fs.getSlot(hs),xs,ys;return vs.isStacked&&(ys=_s.getSlot(0,0),xs=vs.invertAxes?Gl:Yl,ks[xs+1]=ks[xs+2]=ys[xs+1]),ks},reflow:function(fs){var hs=this;hs.setStacksDirection(),na.fn.reflow.call(hs,fs)},setStacksDirection:function(){var Cs=this,Ts=Cs.options,Ss=Ts.series,As=Fe(Ss),Ds=Cs.children,Fs=Ss.length,fs,hs,_s,xs,ys,bs,vs,ks,ws;for(hs=0;Fs>hs;hs++)for(_s=Ss[hs],xs=Cs.seriesValueAxis(_s),fs=0;As>fs;fs++)ys=Ds[fs],bs=Cs.getStackWrap(_s,ys),vs=bs.children,ks=vs[0],ws=vs[1],ks&&ws&&(ks.options.isReversed=xs.options.reverse,ws.options.isReversed=!xs.options.reverse)},reflowCategories:function(fs){var _s=this,xs=_s.children,ys=xs.length,hs;for(hs=0;ys>hs;hs++)xs[hs].reflow(fs[hs])},groupTotals:function(fs){var xs=this,hs,_s;return hs=typeof fs==Fl?fs:xs._groups[0]||"default",_s=xs._groupTotals[hs],_s||(_s=xs._groupTotals[hs]={positive:[],negative:[]},xs._groups.push(hs)),_s},categoryTotals:function(){var xs=this,ys=xs._groups,bs=xs._groupTotals,vs={positive:[],negative:[]},ks=ys.length,fs,hs,_s;for(_s=0;ks>_s;_s++)fs=ys[_s],hs=bs[fs],pr(vs.positive,hs.positive),pr(vs.negative,hs.negative);return vs},bindableFields:function(){return["color"]}}),ra=na.extend({init:function(fs,hs){var _s=this;_s.wrapData(hs),na.fn.init.call(_s,fs,hs)},wrapData:function(fs){var ys=fs.series,hs,_s,xs;for(hs=0;ys.length>hs;hs++)xs=ys[hs],_s=xs.data,_s&&!Xa(_s[0])&&"object"!=typeof _s[0]&&(xs.data=[_s])},addValue:function(fs,hs,_s,xs,ys){var vs=this,ks=vs.categoryPoints[_s],ws=vs.seriesPoints[ys],bs;ks||(vs.categoryPoints[_s]=ks=[]),ws||(vs.seriesPoints[ys]=ws=[]),vs.updateRange(fs.value,_s,xs),bs=vs.createPoint(fs.value,_s,xs),bs&&(bs.category=hs,bs.series=xs,bs.seriesIx=ys,bs.owner=vs,bs.dataItem=xs.data[_s]),vs.points.push(bs),ws.push(bs),ks.push(bs)},reflowCategories:function(fs){var _s=this,xs=_s.children,ys=xs.length,hs;for(hs=0;ys>hs;hs++)xs[hs].reflow(fs[hs])},createPoint:function(fs,hs,_s){var bs=this,vs=bs.options,ks=bs.children,xs,ys;return xs=new la(fs,qo({},{vertical:!vs.invertAxes,overlay:_s.overlay,categoryIx:hs,invertAxes:vs.invertAxes},_s)),ys=ks[hs],ys||(ys=new cs({vertical:vs.invertAxes,gap:vs.gap,spacing:vs.spacing}),bs.append(ys)),ys.append(xs),xs},updateRange:function(fs,hs,_s){var xs=this,ys=_s.axis,bs=fs.current,vs=fs.target,ks=xs.valueAxisRanges[ys];gr(bs)&&!isNaN(bs)&&gr(vs&&!isNaN(vs))&&(ks=xs.valueAxisRanges[ys]=ks||{min:dl,max:pl},ks.min=$a.min.apply($a,[ks.min,bs,vs]),ks.max=$a.max.apply($a,[ks.max,bs,vs]))},formatPointValue:function(fs,hs){return cr(hs,fs.value.current,fs.value.target)},pointValue:function(fs){return fs.value.current}}),la=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.value=fs,_s.options.id=br(),_s.enableDiscovery(),_s.render()},options:{color:ql,border:{width:1},vertical:!1,animation:{type:Sr},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var fs=this,hs=fs.options;fs.target=new da({id:fs.options.id,type:hs.target.shape,background:hs.target.color||hs.color,opacity:hs.opacity,zIndex:hs.zIndex,border:hs.target.border,vAlign:Ml,align:vl}),fs.append(fs.target)},reflow:function(fs){var hs=this,_s=hs.options,xs=hs.owner,ys=hs.target,bs=_s.invertAxes,vs=xs.seriesValueAxis(hs.options),ks=xs.categorySlot(xs.categoryAxis,_s.categoryIx,vs),ws=xs.valueSlot(vs,hs.value.target,hs.value.target),Cs=bs?ws:ks,Ts=bs?ks:ws,Ss=new $o(Cs.x1,Ts.y1,Cs.x2,Ts.y2);ys.options.height=bs?Ss.height():_s.target.line.width,ys.options.width=bs?_s.target.line.width:Ss.width(),ys.reflow(Ss),hs.box=fs},getViewElements:function(fs){var hs=this,_s=hs.options,xs=_s.vertical,ys=0<_s.border.width?{stroke:_s.border.color||_s.color,strokeWidth:_s.border.width,dashType:_s.border.dashType}:{},bs=hs.box,vs=qo({id:_s.id,fill:_s.color,fillOpacity:_s.opacity,strokeOpacity:_s.opacity,vertical:_s.vertical,aboveAxis:_s.aboveAxis,animation:_s.animation,data:{modelId:_s.modelId}},ys),ks=[];return 0<bs.width()&&0<bs.height()&&(_s.overlay&&(vs.overlay=qo({rotation:xs?0:90},_s.overlay)),ks.push(fs.createRect(bs,vs))),pr(ks,Zo.fn.getViewElements.call(hs,fs)),ks},tooltipAnchor:function(fs,hs){var ys=this,bs=ys.options,vs=ys.box,ks=bs.vertical,ws=bs.aboveAxis,_s,xs;return ks?(_s=vs.x2+Nl,xs=ws?vs.y1:vs.y2-hs):bs.isStacked?(_s=ws?vs.x2-fs:vs.x1,xs=vs.y1-hs-Nl):(_s=ws?vs.x2+Nl:vs.x1-fs-Nl,xs=vs.y1),new or(_s,xs)},highlightOverlay:function(fs,hs){var _s=this,xs=_s.box;return hs=qo({data:{modelId:_s.options.modelId}},hs),hs.id=null,fs.createRect(xs,hs)},formatValue:function(fs){var hs=this;return hs.owner.formatPointValue(hs,fs)}}),qo(la.fn,us),sa=Jo.extend({options:{type:Or,align:Hr,vAlign:Hr},getViewElements:function(fs,hs){var ys=this,bs=ys.options,vs=bs.type,ks=ys.paddingBox,ws=ks.width()/2,_s,xs;return bs.visible&&ys.hasBox()?(xs=qo(ys.elementStyle(),hs),_s="triangle"===vs?fs.createPolyline([new or(ks.x1+ws,ks.y1),new or(ks.x1,ks.y2),new or(ks.x2,ks.y2)],!0,xs):vs===Or?fs.createCircle(new or(xr(ks.x1+ws,Lr),xr(ks.y1+ks.height()/2,Lr)),ws,xs):fs.createRect(ks,xs),[_s]):[]}}),da=sa.extend(),qo(da.fn,us),pa=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.value=fs,_s.options.id=br(),_s.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:ql,size:8,type:Or,border:{width:2},opacity:1},labels:{visible:!1,position:kr,margin:mr(3),padding:mr(4),animation:{type:el,delay:ol}}},render:function(){var hs=this,_s=hs.options,xs=_s.markers,ys=_s.labels,bs=xs.background,vs=qo({},xs.border),ks=hs.value,fs;hs._rendered||(hs._rendered=!0,gr(vs.color)||(vs.color=new er(bs).brightness(Ar).toHex()),hs.marker=new sa({id:hs.options.id,visible:xs.visible&&xs.size,type:xs.type,width:xs.size,height:xs.size,background:bs,border:vs,opacity:xs.opacity,zIndex:xs.zIndex,animation:xs.animation}),hs.append(hs.marker),ys.visible&&(ys.template?(fs=jo(ys.template),ks=fs({dataItem:hs.dataItem,category:hs.category,value:hs.value,series:hs.series})):ys.format&&(ks=hs.formatValue(ys.format)),hs.label=new lr(ks,qo({id:br(),align:Hr,vAlign:Hr,margin:{left:5,right:5}},ys)),hs.append(hs.label)))},markerBox:function(){return this.marker.box},reflow:function(fs){var _s=this,xs=_s.options,ys=xs.vertical,bs=xs.aboveAxis,hs;_s.render(),_s.box=fs,hs=fs.clone(),ys?bs?hs.y1-=hs.height():hs.y2+=hs.height():bs?hs.x1+=hs.width():hs.x2-=hs.width(),_s.marker.reflow(hs),_s.reflowLabel(hs)},reflowLabel:function(fs){var hs=this,_s=hs.options,xs=hs.marker,ys=hs.label,bs=_s.labels.position;ys&&(bs=bs===kr?Ml:bs,bs="below"===bs?Fr:bs,ys.reflow(fs),ys.box.alignTo(xs.box,bs),ys.reflow(ys.box))},highlightOverlay:function(fs,hs){var _s=this,xs=_s.marker;return hs=qo({data:{modelId:_s.options.modelId}},hs),xs.getViewElements(fs,qo(hs,{id:null,fill:xs.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(fs,hs){var _s=this,xs=_s.marker.box,ys=_s.options.aboveAxis;return new or(xs.x2+Nl,ys?xs.y1-hs:xs.y2)},formatValue:function(fs){var hs=this;return hs.owner.formatPointValue(hs,fs)}}),qo(pa.fn,us),ca=pa.extend({init:function(fs,hs){var _s=this;pa.fn.init.call(_s,fs,hs),_s.category=fs.category},options:{labels:{position:Hr},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(fs){var hs=this,_s=hs.options,xs=_s.highlight,ys=xs.border.width,bs=_s.markers,vs=hs.box.center(),ks=bs.size/2-ys/2,ws=xs.border.color||new er(bs.background).brightness(Ar).toHex();return fs.createCircle(vs,ks,{id:null,data:{modelId:hs.options.modelId},stroke:ws,strokeWidth:ys,strokeOpacity:xs.border.opacity})},toggleHighlight:function(fs){var _s=this,xs=_s.options.highlight.opacity,hs;_s.highlighted=!_s.highlighted,hs=_s.marker.getViewElements(fs,{fillOpacity:_s.highlighted?xs:me})[0],hs.refresh(ur(this.options.id))}}),ga=Zo.extend({init:function(fs,hs,_s){var xs=this;Zo.fn.init.call(xs),xs.linePoints=fs,xs.series=hs,xs.seriesIx=_s,xs.options.id=br(),xs.enableDiscovery()},options:{},points:function(fs){var xs=this,ys=xs.linePoints.concat(fs||[]),bs=[],vs=ys.length,hs,_s;for(hs=0;vs>hs;hs++)_s=ys[hs].markerBox().center(),bs.push(new or(_s.x,_s.y));return bs},getViewElements:function(fs){var hs=this,_s=hs.series;return Zo.fn.getViewElements.call(hs,fs),[fs.createPolyline(hs.points(),!1,{id:hs.options.id,stroke:_s.color,strokeWidth:_s.width,strokeOpacity:_s.opacity,fill:"",dashType:_s.dashType,data:{modelId:hs.options.modelId},zIndex:-1})]},aliasFor:function(fs,hs){var _s=this,xs=_s.seriesIx;return _s.parent.getNearestPoint(hs.x,hs.y,xs)}}),ua={renderSegments:function(){var ks=this,ws=ks.options,Cs=ws.series,Ts=ks.seriesPoints,Ss=Ts.length,As=[],fs,hs,_s,xs,ys,bs,vs;for(hs=0;Ss>hs;hs++){for(fs=Cs[hs],_s=Ts[hs],vs=_s.length,xs=[],bs=0;vs>bs;bs++)ys=_s[bs],ys?xs.push(ys):"interpolate"!==ks.seriesMissingValues(fs)&&(1<xs.length&&As.push(ks.createSegment(xs,fs,hs,_r(As))),xs=[]);1<xs.length&&As.push(ks.createSegment(xs,fs,hs,_r(As)))}ks._segments=As,ks.append.apply(ks,As)},seriesMissingValues:function(fs){var hs=fs.missingValues,_s=!hs&&this.options.isStacked;return _s?Xl:hs},createSegment:function(fs,hs,_s){return new ga(fs,hs,_s)},getNearestPoint:function(fs,hs,_s){var ws=this,Cs=ws.options.invertAxes,Ts=Cs?Yl:Gl,Ss=Cs?hs:fs,As=ws.seriesPoints[_s],Ds=dl,Fs=As.length,xs,ys,bs,vs,ks;for(ks=0;Fs>ks;ks++)xs=As[ks],xs&&gr(xs.value)&&null!==xs.value&&(ys=xs.box,bs=$a.abs(ys.center()[Ts]-Ss),Ds>bs&&(vs=xs,Ds=bs));return vs}},ma=na.extend({init:function(fs,hs){var _s=this;_s._stackAxisRange={min:dl,max:pl},_s._categoryTotals=[],_s.enableDiscovery(),na.fn.init.call(_s,fs,hs)},render:function(){var fs=this;na.fn.render.apply(fs),fs.computeAxisRanges(),fs.renderSegments()},createPoint:function(fs,hs,_s,xs){var vs=this,ks=fs.value,ws=vs.options,Cs=ws.isStacked,Ts=vs.categoryPoints[_s],Ss=vs.seriesMissingValues(xs),As=0,Ds=fs.fields,ys,bs;if(!gr(ks)||null===ks){if(Ss!==Xl)return null;ks=0}return bs=new pa(ks,qo({vertical:!ws.invertAxes,markers:{border:{color:xs.color}}},xs,{color:Ds.color,markers:{border:{color:Ds.color}}})),Cs&&(ys=$e(Ts),ys&&(As=ys.plotValue),bs.plotValue=ks+As),vs.append(bs),bs},updateRange:function(fs,hs){var xs=this,ys=xs.options.isStacked,bs=xs._stackAxisRange,vs=xs._categoryTotals,_s;gr(fs)&&(ys?(De(vs,hs,fs),_s=be(vs),bs.min=$a.min(bs.min,_s.min),bs.max=$a.max(bs.max,_s.max)):na.fn.updateRange.apply(xs,arguments))},computeAxisRanges:function(){var hs=this,_s=hs.options.isStacked,fs;_s&&(fs=hs.options.series[0].axis,hs.valueAxisRanges[fs]=hs._stackAxisRange)},getViewElements:function(fs){var hs=this,_s=na.fn.getViewElements.call(hs,fs),xs=fs.createGroup({animation:{type:Mr}});return xs.children=_s,[xs]},bindableFields:function(){return["color"]}}),qo(ma.fn,ua),fa=ga.extend({init:function(fs,hs,_s,xs){var ys=this;ys.stackPoints=hs,ga.fn.init.call(ys,fs,_s,xs)},points:function(){var _s=this,xs=_s.parent,ys=xs.plotArea,bs=xs.options.invertAxes,vs=xs.seriesValueAxis(_s.series),ks=vs.lineBox(),ws=ys.seriesCategoryAxis(_s.series),Cs=ws.lineBox(),Ts=bs?Cs.x1:Cs.y1,Ss=_s.stackPoints,As=ga.fn.points.call(_s,Ss),Ds=bs?Gl:Yl,fs,hs;return Ts=Ye(Ts,ks[Ds+1],ks[Ds+2]),!_s.stackPoints&&1<As.length&&(fs=As[0],hs=_r(As),bs?(As.unshift(or(Ts,fs.y)),As.push(or(Ts,hs.y))):(As.unshift(or(fs.x,Ts)),As.push(or(hs.x,Ts)))),As},getViewElements:function(fs){var hs=this,_s=hs.series,xs=qo({color:_s.color,opacity:_s.opacity},_s.line),ys=ga.fn.points.call(hs),bs=hs.points();return Zo.fn.getViewElements.call(hs,fs),[fs.createPolyline(bs,!1,{id:hs.options.id,fillOpacity:_s.opacity,fill:_s.color,stack:_s.stack,data:{modelId:hs.options.modelId},zIndex:-1}),fs.createPolyline(ys,!1,{stroke:xs.color,strokeWidth:xs.width,strokeOpacity:xs.opacity,dashType:xs.dashType,data:{modelId:hs.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),ha=ma.extend({createSegment:function(fs,hs,_s,xs){var bs=this,vs=bs.options,ys;return vs.isStacked&&0<_s&&xs&&(ys=xs.linePoints.slice(0).reverse()),new fa(fs,ys,hs,_s)},seriesMissingValues:function(fs){return fs.missingValues||Xl}}),_a=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.plotArea=fs,_s.xAxisRanges={},_s.yAxisRanges={},_s.points=[],_s.seriesPoints=[],_s.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var fs=this;fs.traverseDataPoints(Za(fs.addValue,fs))},addValue:function(fs,hs){var xs=this,ys=fs.x,bs=fs.y,vs=hs.seriesIx,ks=xs.seriesPoints[vs],_s;xs.updateRange(fs,hs.series),gr(ys)&&null!==ys&&gr(bs)&&null!==bs&&(_s=xs.createPoint(fs,hs.series,vs,hs),_s&&Ja(_s,hs)),xs.points.push(_s),ks.push(_s)},updateRange:function(fs,hs){var _s=this,xs=fs.x,ys=fs.y,bs=hs.xAxis,vs=hs.yAxis,ks=_s.xAxisRanges[bs],ws=_s.yAxisRanges[vs];gr(xs)&&null!==xs&&(ks=_s.xAxisRanges[bs]=ks||{min:dl,max:pl},typeof xs==Fl&&(xs=Re(xs)),ks.min=$a.min(ks.min,xs),ks.max=$a.max(ks.max,xs)),gr(ys)&&null!==ys&&(ws=_s.yAxisRanges[vs]=ws||{min:dl,max:pl},typeof ys==Fl&&(ys=Re(ys)),ws.min=$a.min(ws.min,ys),ws.max=$a.max(ws.max,ys))},createPoint:function(fs,hs,_s,xs){var bs=this,ys;return ys=new pa(fs,qo({markers:{border:{color:hs.color},opacity:hs.opacity},tooltip:{format:bs.options.tooltip.format},labels:{format:bs.options.labels.format}},hs,{color:xs.color,markers:{border:{color:xs.color}}})),bs.append(ys),ys},seriesAxes:function(fs){var hs=this.plotArea,_s=fs.xAxis,xs=_s?hs.namedXAxes[_s]:hs.axisX,ys=fs.yAxis,bs=ys?hs.namedYAxes[ys]:hs.axisY;if(!xs)throw Error("Unable to locate X axis with name "+_s);if(!bs)throw Error("Unable to locate Y axis with name "+ys);return{x:xs,y:bs}},reflow:function(fs){var xs=this,ys=xs.points,bs=0,hs,_s;xs.traverseDataPoints(function(vs,ks){hs=ys[bs++],_s=xs.seriesAxes(ks.series);var ws=_s.x.getSlot(vs.x,vs.x),Cs=_s.y.getSlot(vs.y,vs.y),Ts=new $o(ws.x1,Cs.y1,ws.x2,Cs.y2);hs&&hs.reflow(Ts)}),xs.box=fs},getViewElements:function(fs){var hs=this,_s=Zo.fn.getViewElements.call(hs,fs),xs=fs.createGroup({animation:{type:Mr}});return xs.children=_s,[xs]},traverseDataPoints:function(fs){var ws=this,Cs=ws.options,Ts=Cs.series,Ss=ws.seriesPoints,As=ws.bindableFields(),hs,_s,xs,ys,bs,vs,ks;for(_s=0;Ts.length>_s;_s++)for(xs=Ts[_s],ys=Ss[_s],ys||(Ss[_s]=[]),hs=0;xs.data.length>hs;hs++)bs=We(xs,hs,As),vs=bs.value,ks=bs.fields,fs(vs,qo({pointIx:hs,series:xs,seriesIx:_s,dataItem:xs.data[hs],owner:ws},ks))},bindableFields:function(){return["color"]},formatPointValue:function(fs,hs){var _s=fs.value;return cr(hs,_s.x,_s.y)}}),xa=_a.extend({render:function(){var fs=this;_a.fn.render.call(fs),fs.renderSegments()}}),qo(xa.fn,ua),ya=_a.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(fs,hs){var xs=this,ys=hs.series,bs=ys.negativeValues,vs=xs.plotArea.options.seriesColors||[],ks=!0,_s;_s=hs.color||ys.color||vs[hs.pointIx%vs.length],0>fs.size&&(_s=bs.color||_s,ks=bs.visible),hs.color=_s,ks&&_a.fn.addValue.call(this,fs,hs)},reflow:function(fs){var hs=this;hs.updateBubblesSize(fs),_a.fn.reflow.call(hs,fs)},createPoint:function(fs,hs,_s,xs){var bs=this,vs=hs.data.length,ks=xs.pointIx*(ol/vs),ws={delay:ks,duration:ol-ks,type:Ir},ys;return ys=new ca(fs,qo({tooltip:{format:bs.options.tooltip.format},labels:{format:bs.options.labels.format,animation:ws}},hs,{color:xs.color,markers:{type:Or,background:xs.color,border:hs.border,opacity:hs.opacity,animation:ws}})),bs.append(ys),ys},updateBubblesSize:function(fs){var Rs=this,Es=Rs.options,Hs=Es.series,zs=$a.min(fs.width(),fs.height()),hs,_s,xs,ys,bs,vs,ks,ws,Cs,Ts,Ss,As,Ds,Fs,Is,Ps;for(hs=0;Hs.length>hs;hs++)for(xs=Hs[hs],ys=Rs.seriesPoints[hs],bs=Rs.maxSize(ys),vs=xs.minSize||$a.max(0.02*zs,10),ks=xs.maxSize||0.2*zs,ws=vs/2,Cs=ks/2,Ts=$a.PI*ws*ws,Ss=$a.PI*Cs*Cs,As=Ss-Ts,Ds=As/bs,_s=0;ys.length>_s;_s++)Fs=ys[_s],Is=$a.abs(Fs.value.size)*Ds,Ps=$a.sqrt((Ts+Is)/$a.PI),qo(Fs.options,{markers:{size:2*Ps,zIndex:Cs-Ps},labels:{zIndex:Cs-Ps+1}})},maxSize:function(fs){var xs=fs.length,ys=0,hs,_s;for(hs=0;xs>hs;hs++)_s=fs[hs].value.size,ys=$a.max(ys,$a.abs(_s));return ys},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(fs){var hs=this,_s=Zo.fn.getViewElements.call(hs,fs),xs=fs.createGroup();return xs.children=_s,[xs]},formatPointValue:function(fs,hs){var _s=fs.value;return cr(hs,_s.x,_s.y,_s.size,fs.category)}}),ba=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.value=fs,_s.options.id=br(),_s.enableDiscovery()},options:{border:{_brightness:0.8},line:{width:2},overlay:{gradient:tl},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(fs){var ys=this,bs=ys.options,vs=ys.owner,ks=ys.value,ws=vs.seriesValueAxis(bs),Cs=[],hs,_s,xs;_s=ws.getSlot(ks.open,ks.close),xs=ws.getSlot(ks.low,ks.high),_s.x1=xs.x1=fs.x1,_s.x2=xs.x2=fs.x2,ys.realBody=_s,hs=xs.center().x,Cs.push([new or(hs,xs.y1),new or(hs,_s.y1)]),Cs.push([new or(hs,_s.y2),new or(hs,xs.y2)]),ys.lowHighLinePoints=Cs,ys.box=xs.clone().wrap(_s)},getViewElements:function(fs){var hs=this,_s=hs.options,xs=[],ys=0<_s.border.width?{stroke:hs.getBorderColor(),strokeWidth:_s.border.width,dashType:_s.border.dashType,strokeOpacity:gr(_s.border.opacity)?_s.border.opacity:_s.opacity}:{},bs=qo({fill:_s.color,fillOpacity:_s.opacity},ys),vs={strokeOpacity:gr(_s.line.opacity)?_s.line.opacity:_s.opacity,strokeWidth:_s.line.width,stroke:_s.line.color||_s.color,dashType:_s.line.dashType,strokeLineCap:"butt"},ks=fs.createGroup({animation:{type:Mr}});return _s.overlay&&(bs.overlay=qo({rotation:0},_s.overlay)),xs.push(fs.createRect(hs.realBody,bs)),xs.push(fs.createPolyline(hs.lowHighLinePoints[0],!1,vs)),xs.push(fs.createPolyline(hs.lowHighLinePoints[1],!1,vs)),xs.push(hs.createOverlayRect(fs,_s)),pr(xs,Zo.fn.getViewElements.call(hs,fs)),ks.children=xs,[ks]},getBorderColor:function(){var fs=this,hs=fs.options,_s=hs.border,xs=_s.color;return gr(xs)||(xs=new er(hs.color).brightness(_s._brightness).toHex()),xs},createOverlayRect:function(fs,hs){return fs.createRect(this.box,{data:{modelId:hs.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(fs,hs){var _s=this,xs=_s.options,ys=xs.highlight,bs=ys.border,vs=_s.getBorderColor(),ks=ys.line,ws={data:{modelId:xs.modelId}},Cs=qo({},ws,hs,{stroke:vs,strokeOpacity:bs.opacity,strokeWidth:bs.width}),Ts=qo({},ws,{stroke:ks.color||vs,strokeWidth:ks.width,strokeOpacity:ks.opacity,strokeLineCap:"butt"}),Ss=fs.createGroup();return Ss.children.push(fs.createRect(_s.realBody,Cs)),Ss.children.push(fs.createPolyline(_s.lowHighLinePoints[0],!1,Ts)),Ss.children.push(fs.createPolyline(_s.lowHighLinePoints[1],!1,Ts)),Ss},tooltipAnchor:function(){var fs=this,hs=fs.box;return new or(hs.x2+Nl,hs.y1+Nl)},formatValue:function(fs){var hs=this;return hs.owner.formatPointValue(hs,fs)}}),qo(ba.fn,us),va=na.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(fs){var _s=this,xs=_s.children,ys=xs.length,hs;for(hs=0;ys>hs;hs++)xs[hs].reflow(fs[hs])},addValue:function(fs,hs,_s,xs,ys){var ks=this,ws=ks.options,Cs=fs.value,Ts=ks.children,Ss=fs.fields.color||xs.color,As=this.splitValue(Cs),Ds=ea(As),Fs=ks.categoryPoints[_s],bs,vs;Fs||(ks.categoryPoints[_s]=Fs=[]),Ds&&(xs.type==Rr&&Cs.open>Cs.close&&(Ss=fs.fields.downColor||xs.downColor),bs=ks.createPoint(Cs,qo({},xs,{color:Ss}))),vs=Ts[_s],vs||(vs=new cs({vertical:ws.invertAxes,gap:ws.gap,spacing:ws.spacing}),ks.append(vs)),bs&&(ks.updateRange(Cs,_s,xs),vs.append(bs),bs.categoryIx=_s,bs.category=hs,bs.series=xs,bs.seriesIx=ys,bs.owner=ks,bs.dataItem=xs.data[_s]),ks.points.push(bs),Fs.push(bs)},createPoint:function(fs,hs){return new ba(fs,hs)},splitValue:function(fs){return[fs.low,fs.open,fs.close,fs.high]},updateRange:function(fs,hs,_s){var xs=this,ys=_s.axis,bs=xs.valueAxisRanges[ys],vs=xs.splitValue(fs);bs=xs.valueAxisRanges[ys]=bs||{min:dl,max:pl},bs=xs.valueAxisRanges[ys]={min:$a.min.apply($a,vs.concat([bs.min])),max:$a.max.apply($a,vs.concat([bs.max]))}},formatPointValue:function(fs,hs){var _s=fs.value;return cr(hs,_s.open,_s.high,_s.low,_s.close,fs.category)}}),ka=ba.extend({reflow:function(fs){var bs=this,vs=bs.options,ks=bs.owner,ws=bs.value,Cs=ks.seriesValueAxis(vs),Ts=[],Ss=[],As=[],hs,_s,xs,ys;ys=Cs.getSlot(ws.low,ws.high),_s=Cs.getSlot(ws.open,ws.open),xs=Cs.getSlot(ws.close,ws.close),_s.x1=xs.x1=ys.x1=fs.x1,_s.x2=xs.x2=ys.x2=fs.x2,hs=ys.center().x,Ts.push(new or(_s.x1,_s.y1)),Ts.push(new or(hs,_s.y1)),Ss.push(new or(hs,xs.y1)),Ss.push(new or(xs.x2,xs.y1)),As.push(new or(hs,ys.y1)),As.push(new or(hs,ys.y2)),bs.oPoints=Ts,bs.cPoints=Ss,bs.lhPoints=As,bs.box=ys.clone().wrap(_s.clone().wrap(xs))},getViewElements:function(fs){var hs=this,_s=hs.options,xs=[],ys={strokeOpacity:_s.opacity,zIndex:-1,strokeWidth:_s.width,stroke:_s.color,dashType:_s.dashType},bs=fs.createGroup({animation:{type:Mr}});return xs.push(hs.createOverlayRect(fs,_s)),xs.push(fs.createPolyline(hs.oPoints,!0,ys)),xs.push(fs.createPolyline(hs.cPoints,!0,ys)),xs.push(fs.createPolyline(hs.lhPoints,!0,ys)),pr(xs,Zo.fn.getViewElements.call(hs,fs)),bs.children=xs,[bs]},highlightOverlay:function(fs){var hs=this,_s=hs.options,xs=_s.highlight,ys={data:{modelId:_s.modelId}},bs=qo(ys,{strokeWidth:xs.line.width,strokeOpacity:xs.line.opacity,stroke:xs.line.color||hs.color}),vs=fs.createGroup();return vs.children.push(fs.createPolyline(hs.oPoints,!0,bs)),vs.children.push(fs.createPolyline(hs.cPoints,!0,bs)),vs.children.push(fs.createPolyline(hs.lhPoints,!0,bs)),vs}}),wa=va.extend({createPoint:function(fs,hs){return new ka(fs,hs)},bindableFields:function(){return["color"]}}),Ca=Zo.extend({init:function(fs,hs,_s){var xs=this;xs.value=fs,xs.sector=hs,xs.enableDiscovery(),Zo.fn.init.call(xs,_s)},options:{color:ql,overlay:{gradient:"roundedBevel"},border:{width:0.5},labels:{visible:!1,distance:35,font:qr,margin:mr(0.5),align:Or,zIndex:1,position:_l},animation:{type:xl},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var hs=this,_s=hs.options,xs=_s.labels,ys=hs.value,fs;hs._rendered||!1===hs.visible||(hs._rendered=!0,xs.template?(fs=jo(xs.template),ys=fs({dataItem:hs.dataItem,category:hs.category,value:hs.value,series:hs.series,percentage:hs.percentage})):xs.format&&(ys=cr(xs.format,ys)),xs.visible&&ys&&(hs.label=new lr(ys,qo({},xs,{id:br(),align:Hr,vAlign:"",animation:{type:el,delay:hs.animationDelay}})),hs.append(hs.label)))},reflow:function(fs){var hs=this;hs.render(),hs.box=fs,hs.reflowLabel()},reflowLabel:function(){var ys=this,bs=ys.sector.clone(),vs=ys.options,ks=ys.label,ws=vs.labels,Cs=ws.distance,Ts=bs.middle(),fs,hs,_s,xs;ks&&(xs=ks.box.height(),_s=ks.box.width(),ws.position==Hr?(bs.r=$a.abs((bs.r-xs)/2)+xs,fs=bs.point(Ts),ks.reflow($o(fs.x,fs.y-xs/2,fs.x,fs.y))):ws.position==nl?(bs.r=bs.r-xs/2,fs=bs.point(Ts),ks.reflow($o(fs.x,fs.y-xs/2,fs.x,fs.y))):(fs=bs.clone().expand(Cs).point(Ts),fs.x>=bs.c.x?(hs=fs.x+_s,ks.orientation=vl):(hs=fs.x-_s,ks.orientation=il),ks.reflow($o(hs,fs.y-xs,fs.x,fs.y))))},getViewElements:function(fs){var hs=this,_s=hs.sector,xs=hs.options,ys=xs.border||{},bs=0<ys.width?{stroke:ys.color,strokeWidth:ys.width,strokeOpacity:ys.opacity,dashType:ys.dashType}:{},vs=[],ks=xs.overlay;return ks&&(ks=qo({},xs.overlay,{r:_s.r,ir:_s.ir,cx:_s.c.x,cy:_s.c.y,bbox:_s.getBBox()})),hs.value&&vs.push(hs.createSegment(fs,_s,qo({id:xs.id,fill:xs.color,overlay:ks,fillOpacity:xs.opacity,strokeOpacity:xs.opacity,animation:qo(xs.animation,{delay:hs.animationDelay}),data:{modelId:xs.modelId},zIndex:xs.zIndex,singleSegment:1===(hs.options.data||[]).length},bs))),pr(vs,Zo.fn.getViewElements.call(hs,fs)),vs},createSegment:function(fs,hs,_s){return _s.singleSegment?fs.createCircle(hs.c,hs.r,_s):fs.createSector(hs,_s)},highlightOverlay:function(fs,hs){var xs=this,ys=xs.options.highlight||{},bs=ys.border||{},vs=xs.options.id+"_outline",_s;return hs=qo({},hs,{id:vs}),0!==xs.value&&(_s=xs.createSegment(fs,xs.sector,qo({},hs,{fill:ys.color,fillOpacity:ys.opacity,strokeOpacity:bs.opacity,strokeWidth:bs.width,stroke:bs.color,id:null,data:{modelId:xs.options.modelId}}))),_s},tooltipAnchor:function(fs,hs){var _s=this,xs=_s.sector.clone().expand(Nl),ys=fs/2,bs=hs/2,vs=xs.middle(),ks=vs*Xr,ws=xs.point(vs),Cs=ws.x-ys,Ts=ws.y-bs,Ss=$a.sin(ks),As=$a.cos(ks);return 0.9>$a.abs(Ss)&&(Cs+=ys*-As/$a.abs(As)),0.9>$a.abs(As)&&(Ts+=bs*-Ss/$a.abs(Ss)),new or(Cs,Ts)},formatValue:function(fs){var hs=this;return hs.owner.formatPointValue(hs,fs)}}),qo(Ca.fn,us),Ta=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.plotArea=fs,_s.segments=[],_s.legendItems=[],_s.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var fs=this;fs.traverseDataPoints(Za(fs.addValue,fs))},traverseDataPoints:function(fs){var Ds=this,Fs=Ds.options,Is=Ds.plotArea.options.seriesColors||[],Ps=Is.length,Rs=Fs.series,Es=Rs.length,Hs=br(),zs=Ds.bindableFields(),Os=0,hs,_s,xs,ys,bs,vs,ks,ws,Cs,Ts,Ss,As;for(ys=0;Es>ys;ys++){for(hs=Rs[ys],vs=hs.data,Ts=Ds.pointsTotal(hs,zs),ks=360/Ts,Ss=gr(hs.startAngle)?hs.startAngle:Fs.startAngle,ys!=Es-1&&hs.labels.position==_l&&(hs.labels.position=Hr),As=0;vs.length>As;As++)_s=We(hs,As,zs),ws=_s.value,xs=_s.fields,bs=xr(ws*ks,Yr),Cs=1!=vs.length&&!!xs.explode,hs.color=xs.color||Is[As%Ps],fs(ws,new ir(null,0,0,Ss,bs),{owner:Ds,category:xs.category||"",index:Os,series:hs,seriesIx:ys,dataItem:vs[As],percentage:ws/Ts,explode:Cs,visibleInLegend:xs.visibleInLegend,visible:xs.visible,overlay:{id:Hs+ys},zIndex:Es-ys,animationDelay:Ds.animationDelay(As,ys,Es)}),!1!==_s.fields.visible&&(Ss+=bs),Os++;Os=0}},bindableFields:function(){return["category","color","explode","visibleInLegend","visible"]},addValue:function(fs,hs,_s){var ys=this,xs;ys.createLegendItem(fs,_s),!1!==_s.visible&&(xs=new Ca(fs,hs,_s.series),xs.options.id=br(),Ja(xs,_s),ys.append(xs),ys.segments.push(xs))},createLegendItem:function(fs,hs){var vs=this,ks=(vs.options.legend||{}).labels||{},ws=(vs.options.legend||{}).inactiveItems||{},_s,xs,ys,bs;hs&&!1!==hs.visibleInLegend&&(_s=hs.category||"",(ks||{}).template&&(xs=jo(ks.template),_s=xs({text:_s,series:hs.series,dataItem:hs.dataItem,percentage:hs.percentage,value:fs})),!1===hs.visible?(ys=(ws.markers||{}).color,bs=(ws.labels||{}).color):(ys=(hs.series||{}).color,bs=ks.color),vs.legendItems.push({pointIndex:hs.index,text:_s,series:hs.series,markerColor:ys,labelColor:bs}))},pointsTotal:function(fs,hs){var bs=fs.data,vs=bs.length,ks=0,_s,xs,ys;for(xs=0;vs>xs;xs++)ys=We(fs,xs,hs),_s=ys.value,_s&&!1!==ys.fields.visible&&(ks+=_s);return ks},reflow:function(fs){var Cs=this,Ts=Cs.options,Ss=fs.clone(),As=5,Ds=$a.min(Ss.width(),Ss.height()),Fs=Ds/2,Is=gr(Ts.padding)?Ts.padding:Ds-0.85*Ds,Ps=$o(Ss.x1,Ss.y1,Ss.x1+Ds,Ss.y1+Ds),Rs=Ps.center(),Es=Cs.seriesConfigs||[],Hs=Ss.center(),zs=Cs.segments,Os=zs.length,Ms=Ts.series.length,Ns=[],Ls=[],hs,_s,xs,ys,bs,vs,ks,ws;for(Is=Is>Fs-As?Fs-As:Is,Ps.translate(Hs.x-Rs.x,Hs.y-Rs.y),vs=Fs-Is,ws=or(vs+Ps.x1+Is,vs+Ps.y1+Is),ks=0;Os>ks;ks++)ys=zs[ks],bs=ys.sector,bs.r=vs,bs.c=ws,_s=ys.seriesIx,Es.length&&(hs=Es[_s],bs.ir=hs.ir,bs.r=hs.r),_s==Ms-1&&ys.explode&&(bs.c=bs.clone().radius(0.15*bs.r).point(bs.middle())),ys.reflow(Ps),xs=ys.label,xs&&xs.options.position===_l&&_s==Ms-1&&(xs.orientation===vl?Ls.push(xs):Ns.push(xs));0<Ns.length&&(Ns.sort(Cs.labelComparator(!0)),Cs.leftLabelsReflow(Ns)),0<Ls.length&&(Ls.sort(Cs.labelComparator(!1)),Cs.rightLabelsReflow(Ls)),Cs.box=Ps},leftLabelsReflow:function(fs){var hs=this,_s=hs.distanceBetweenLabels(fs);hs.distributeLabels(_s,fs)},rightLabelsReflow:function(fs){var hs=this,_s=hs.distanceBetweenLabels(fs);hs.distributeLabels(_s,fs)},distanceBetweenLabels:function(fs){var ys=this,bs=ys.segments,vs=bs[bs.length-1],ks=vs.sector,ws=fs[0].box,Cs=fs.length-1,Ts=ks.r+vs.options.labels.distance,Ss=[],hs,_s,xs;for(_s=xr(ws.y1-(ks.c.y-Ts-ws.height()-ws.height()/2)),Ss.push(_s),xs=0;Cs>xs;xs++)ws=fs[xs].box,hs=fs[xs+1].box,_s=xr(hs.y1-ws.y2),Ss.push(_s);return _s=xr(ks.c.y+Ts-fs[Cs].box.y2-fs[Cs].box.height()/2),Ss.push(_s),Ss},distributeLabels:function(fs,hs){var vs=this,ks=fs.length,_s,xs,ys,bs;for(bs=0;ks>bs;bs++)for(xs=ys=bs,_s=-fs[bs];0<_s&&(0<=xs||ks>ys);)_s=vs._takeDistance(fs,bs,--xs,_s),_s=vs._takeDistance(fs,bs,++ys,_s);vs.reflowLabels(fs,hs)},_takeDistance:function(fs,hs,_s,xs){if(0<fs[_s]){var ys=$a.min(fs[_s],xs);xs-=ys,fs[_s]-=ys,fs[hs]+=ys}return xs},reflowLabels:function(fs,hs){var vs=this,ks=vs.segments,ws=ks[ks.length-1],Cs=ws.sector,Ts=hs.length,Ss=ws.options.labels,As=Ss.distance,Ds=Cs.c.y-(Cs.r+As)-hs[0].box.height(),_s,xs,ys,bs;for(fs[0]+=2,bs=0;Ts>bs;bs++)_s=hs[bs],Ds+=fs[bs],ys=_s.box,xs=vs.hAlignLabel(ys.x2,Cs.clone().expand(As),Ds,Ds+ys.height(),_s.orientation==vl),_s.orientation==vl?(Ss.align!==Or&&(xs=Cs.r+Cs.c.x+As),_s.reflow(new $o(xs+ys.width(),Ds,xs,Ds))):(Ss.align!==Or&&(xs=Cs.c.x-Cs.r-As),_s.reflow(new $o(xs-ys.width(),Ds,xs,Ds))),Ds+=ys.height()},getViewElements:function(fs){var Ps=this,Rs=Ps.options,Es=Rs.connectors,Hs=Ps.segments,zs=[],Os=Hs.length,Ms=4,hs,_s,xs,ys,bs,vs,ks,ws,Cs,Ts,Ss,As,Ds,Fs,Is;for(ws=0;Os>ws;ws++)bs=Hs[ws],_s=bs.sector,xs=_s.middle(),ks=bs.label,vs={seriesId:bs.seriesIx},ks&&(ys=[],ks.options.position===_l&&0!==bs.value&&(As=ks.box,Ds=_s.c,Fs=_s.point(xs),Is=or(As.x1,As.center().y),Fs=_s.clone().expand(Es.padding).point(xs),ys.push(Fs),ks.orientation==vl?(Ts=or(As.x1-Es.padding,As.center().y),Ss=ke(Ds,Fs,Is,Ts),Is=or(Ts.x-Ms,Ts.y),Ss=Ss||Is,Ss.x=$a.min(Ss.x,Is.x),Ps.pointInCircle(Ss,_s.c,_s.r+Ms)||Ss.x<_s.c.x?(Cs=_s.c.x+_s.r+Ms,bs.options.labels.align===Nr?ys.push(or(Cs,Fs.y)):Is.x>Cs?ys.push(or(Cs,Fs.y)):ys.push(or(Fs.x+2*Ms,Fs.y)),ys.push(or(Is.x,Ts.y))):(Ss.y=Ts.y,ys.push(Ss))):(Ts=or(As.x2+Es.padding,As.center().y),Ss=ke(Ds,Fs,Is,Ts),Is=or(Ts.x+Ms,Ts.y),Ss=Ss||Is,Ss.x=$a.max(Ss.x,Is.x),Ps.pointInCircle(Ss,_s.c,_s.r+Ms)||Ss.x>_s.c.x?(Cs=_s.c.x-_s.r-Ms,bs.options.labels.align===Nr?ys.push(or(Cs,Fs.y)):Cs>Is.x?ys.push(or(Cs,Fs.y)):ys.push(or(Fs.x-2*Ms,Fs.y)),ys.push(or(Is.x,Ts.y))):(Ss.y=Ts.y,ys.push(Ss))),ys.push(Ts),hs=fs.createPolyline(ys,!1,{id:br(),stroke:Es.color,strokeWidth:Es.width,animation:{type:el,delay:bs.animationDelay},data:{modelId:bs.options.modelId}}),zs.push(hs)));return pr(zs,Zo.fn.getViewElements.call(Ps,fs)),zs},labelComparator:function(fs){return fs=fs?-1:1,function(hs,_s){return hs=(hs.parent.sector.middle()+270)%360,_s=(_s.parent.sector.middle()+270)%360,(hs-_s)*fs}},hAlignLabel:function(fs,hs,_s,xs,ys){var bs=hs.c.x,vs=hs.c.y,ks=hs.r,ws=$a.min($a.abs(vs-_s),$a.abs(vs-xs));return ws>ks?fs:bs+$a.sqrt(ks*ks-ws*ws)*(ys?1:-1)},pointInCircle:function(fs,hs,_s){return Ie(hs.x-fs.x)+Ie(hs.y-fs.y)<Ie(_s)},formatPointValue:function(fs,hs){return cr(hs,fs.value)},animationDelay:function(fs){return 70*fs}}),Sa=Ca.extend({options:{overlay:{gradient:"roundedGlass"},labels:{position:Hr},animation:{type:xl}},reflowLabel:function(){var _s=this,xs=_s.sector.clone(),ys=_s.options,bs=_s.label,vs=ys.labels,ks=xs.middle(),fs,hs;bs&&(hs=bs.box.height(),vs.position==Hr?(xs.r-=(xs.r-xs.ir)/2,fs=xs.point(ks),bs.reflow(new $o(fs.x,fs.y-hs/2,fs.x,fs.y))):Ca.fn.reflowLabel.call(_s))},createSegment:function(fs,hs,_s){return fs.createRing(hs,_s)}}),qo(Sa.fn,us),Aa=Ta.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(fs,hs,_s){var ys=this,xs;ys.createLegendItem(fs,_s),fs&&!1!==_s.visible&&(xs=new Sa(fs,hs,_s.series),xs.options.id=br(),Ja(xs,_s),ys.append(xs),ys.segments.push(xs))},reflow:function(fs){var ks=this,ws=ks.options,Cs=fs.clone(),Ts=5,Ss=$a.min(Cs.width(),Cs.height()),As=Ss/2,Ds=gr(ws.padding)?ws.padding:Ss-0.85*Ss,Fs=ws.series,Is=Fs.length,Ps=0,Rs=0,Es=0,Hs=0,hs,_s,xs,ys,bs,vs;for(ks.seriesConfigs=[],Ds=Ds>As-Ts?As-Ts:Ds,xs=As-Ds,bs=0;Is>bs;bs++)hs=Fs[bs],0===bs&&gr(hs.holeSize)&&(_s=hs.holeSize,xs-=hs.holeSize),gr(hs.size)?xs-=hs.size:Ps++,gr(hs.margin)&&bs!=Is-1&&(xs-=hs.margin);for(gr(_s)||(Hs=(As-Ds)/(Is+0.75),_s=0.75*Hs,xs-=_s),Es=_s,bs=0;Is>bs;bs++)hs=Fs[bs],ys=gr(hs.size)?hs.size:xs/Ps,Es+=Rs,vs=Es+ys,ks.seriesConfigs.push({ir:Es,r:vs}),Rs=hs.margin||0,Es=vs;Ta.fn.reflow.call(ks,fs)},animationDelay:function(fs,hs,_s){return 50*fs+ol*(hs+1)/(_s+1)}}),Da=Jo.extend({init:function(fs){var hs=this;Jo.fn.init.call(hs,fs),fs=hs.options,fs.id=br(),hs.title=sr.buildTitle(fs.title,hs,Da.fn.options.title),hs.content=new Zo,hs.append(hs.content),hs.axes=[],hs.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:il},visible:!0},appendAxis:function(fs){var hs=this;hs.content.append(fs),hs.axes.push(fs),fs.pane=hs},appendChart:function(fs){var hs=this;hs.charts.push(fs),hs.content.append(fs),fs.pane=hs},empty:function(){var hs=this,_s=hs.parent,fs;if(_s){for(fs=0;hs.axes.length>fs;fs++)_s.removeAxis(hs.axes[fs]);for(fs=0;hs.charts.length>fs;fs++)_s.removeChart(hs.charts[fs])}hs.axes=[],hs.charts=[],hs.content.destroy(),hs.content.children=[]},reflow:function(fs){var hs=this;_r(hs.children)===hs.content&&hs.children.pop(),Jo.fn.reflow.call(hs,fs),hs.title&&(hs.contentBox.y1+=hs.title.box.height())},getViewElements:function(fs){var hs=this,_s=na.fn.getViewElements.call(hs,fs),xs=fs.createGroup({id:hs.options.id}),ys=[];return xs.children=_s.concat(hs.renderGridLines(fs),hs.content.getViewElements(fs)),hs.view=fs,hs.options.visible&&(ys=[xs]),ys},renderGridLines:function(fs){var ks=this,ws=ks.axes,Cs=ws.concat(ks.parent.axes),Ts=[],Ss=[],hs,_s,xs,ys,bs,vs;for(_s=0;ws.length>_s;_s++)for(ys=ws[_s],bs=ys.options.vertical,hs=bs?Ts:Ss,xs=0;Cs.length>xs;xs++)0===hs.length&&(vs=Cs[xs],bs!==vs.options.vertical&&pr(hs,ys.renderGridLines(fs,vs,ys)));return Ts.concat(Ss)},refresh:function(){var fs=this,hs=fs.view,_s=ur(fs.options.id);hs&&_s&&_s.parentNode.replaceChild(hs.renderElement(fs.getViewElements(hs)[0]),_s)}}),Fa=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.series=fs,_s.setSeriesIndexes(),_s.charts=[],_s.options.legend.items=[],_s.axes=[],_s.crosshairs=[],_s.options.id=br(),_s.enableDiscovery(),_s.createPanes(),_s.render(),_s.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Dr,width:0},legend:{}},setSeriesIndexes:function(){var _s=this.series,fs,hs;for(fs=0;_s.length>fs;fs++)hs=_s[fs],hs.index=fs},createPanes:function(){var _s=this,xs=[],ys=_s.options.panes||[],bs=$a.max(ys.length,1),fs,hs;for(fs=0;bs>fs;fs++)hs=new Da(ys[fs]),hs.paneIndex=fs,xs.push(hs),_s.append(hs);_s.panes=xs},destroy:function(){var hs=this,_s=hs.charts,xs=hs.axes,fs;for(fs=0;_s.length>fs;fs++)_s[fs].destroy();for(fs=0;xs.length>fs;fs++)xs[fs].destroy();Zo.fn.destroy.call(hs)},createCrosshairs:function(){var bs=this,vs=bs.panes,fs,hs,_s,xs,ys;for(fs=0;vs.length>fs;fs++)for(_s=vs[fs],hs=0;_s.axes.length>hs;hs++)xs=_s.axes[hs],xs.options.crosshair&&xs.options.crosshair.visible&&(ys=new ja(xs,xs.options.crosshair),bs.crosshairs.push(ys),bs.append(ys))},findPane:function(fs){var xs=this,ys=xs.panes,hs,_s;for(hs=0;ys.length>hs;hs++)if(ys[hs].options.name===fs){_s=ys[hs];break}return _s||ys[0]},findPointPane:function(fs){var xs=this,ys=xs.panes,hs,_s;for(hs=0;ys.length>hs;hs++)if(ys[hs].box.containsPoint(fs)){_s=ys[hs];break}return _s},appendAxis:function(fs){var hs=this,_s=hs.findPane(fs.options.pane);_s.appendAxis(fs),hs.axes.push(fs),fs.plotArea=hs},removeAxis:function(fs){var xs=this,ys=[],hs,_s;for(hs=0;xs.axes.length>hs;hs++)_s=xs.axes[hs],fs!==_s&&ys.push(_s);xs.axes=ys},appendChart:function(fs,hs){var _s=this;_s.charts.push(fs),hs?hs.appendChart(fs):_s.append(fs)},removeChart:function(fs){var xs=this,ys=[],hs,_s;for(hs=0;xs.charts.length>hs;hs++)_s=xs.charts[hs],_s!==fs&&ys.push(_s);xs.charts=ys},addToLegend:function(fs){var vs=fs.length,ks=[],ws=this.options.legend,Cs=ws.labels||{},Ts=ws.inactiveItems||{},hs,_s,xs,ys,bs;for(hs=0;vs>hs;hs++)_s=fs[hs],!1!==_s.visibleInLegend&&(xs=_s.name||"",Cs.template&&(xs=jo(Cs.template)({text:xs,series:_s})),!1===_s.visible?(ys=Ts.labels.color,bs=Ts.markers.color):(ys=Cs.color,bs=_s.color),ks.push({text:xs,labelColor:ys,markerColor:bs,series:_s,active:_s.visible}));pr(ws.items,ks)},groupAxes:function(fs){var bs=[],vs=[],hs,_s,xs,ys;for(xs=0;fs.length>xs;xs++)for(hs=fs[xs].axes,ys=0;hs.length>ys;ys++)_s=hs[ys],_s.options.vertical?vs.push(_s):bs.push(_s);return{x:bs,y:vs,any:bs.concat(vs)}},groupSeriesByPane:function(){var xs=this,ys=xs.series,bs={},fs,hs,_s;for(fs=0;ys.length>fs;fs++)_s=ys[fs],hs=xs.seriesPaneName(_s),bs[hs]?bs[hs].push(_s):bs[hs]=[_s];return bs},filterSeriesByType:function(fs,hs){var ys=[],_s,xs;for(hs=[].concat(hs),_s=0;fs.length>_s;_s++)xs=fs[_s],fr(xs.type,hs)&&ys.push(xs);return ys},filterVisibleSeries:function(fs){var xs=[],hs,_s;for(hs=0;fs.length>hs;hs++)_s=fs[hs],!1!==_s.visible&&xs.push(_s);return xs},reflow:function(fs){var hs=this,_s=hs.options.plotArea,xs=hs.panes,ys=mr(_s.margin);hs.box=fs.clone().unpad(ys),hs.reflowPanes(),hs.reflowAxes(xs),hs.reflowCharts(xs)},redraw:function(fs){var _s=this,hs;for(fs=[].concat(fs),hs=0;fs.length>hs;hs++)fs[hs].empty();for(_s.render(fs),_s.reflowAxes(_s.panes),_s.reflowCharts(fs),hs=0;fs.length>hs;hs++)fs[hs].refresh()},axisCrossingValues:function(fs,hs){var xs=fs.options,ys=[].concat(xs.axisCrossingValues||xs.axisCrossingValue),bs=hs.length-ys.length,vs=ys[0]||0,_s;for(_s=0;bs>_s;_s++)ys.push(vs);return ys},alignAxisTo:function(fs,hs,_s,xs){var ys=fs.getSlot(_s,_s),bs=fs.options.reverse?2:1,vs=hs.getSlot(xs,xs),ks=hs.options.reverse?2:1,ws=fs.box.translate(vs[Gl+ks]-ys[Gl+bs],vs[Yl+ks]-ys[Yl+bs]);fs.pane!==hs.pane&&ws.translate(0,fs.pane.box.y1-hs.pane.box.y1),fs.reflow(ws)},alignAxes:function(fs,hs){var vs=this,ks=fs[0],ws=hs[0],Cs=vs.axisCrossingValues(ks,hs),Ts=vs.axisCrossingValues(ws,fs),Ss={},As={},Ds={},Fs={},_s,xs,ys,bs;for(bs=0;hs.length>bs;bs++)ys=hs[bs],_s=ys.pane,xs=_s.options.id,vs.alignAxisTo(ys,ks,Ts[bs],Cs[bs]),ys.options._overlap||(xr(ys.lineBox().x1)===xr(ks.lineBox().x1)&&(Ss[xs]&&ys.reflow(ys.box.alignTo(Ss[xs].box,il).translate(-ys.options.margin,0)),Ss[xs]=ys),xr(ys.lineBox().x2)===xr(ks.lineBox().x2)&&(ys._mirrored||(ys.options.labels.mirror=!ys.options.labels.mirror,ys._mirrored=!0),vs.alignAxisTo(ys,ks,Ts[bs],Cs[bs]),As[xs]&&ys.reflow(ys.box.alignTo(As[xs].box,vl).translate(ys.options.margin,0)),As[xs]=ys),0!==bs&&ws.pane===ys.pane&&ys.alignTo(ws));for(bs=0;fs.length>bs;bs++)ys=fs[bs],_s=ys.pane,xs=_s.options.id,vs.alignAxisTo(ys,ws,Cs[bs],Ts[bs]),ys.options._overlap||(xr(ys.lineBox().y1)===xr(ws.lineBox().y1)&&(ys._mirrored||(ys.options.labels.mirror=!ys.options.labels.mirror,ys._mirrored=!0),vs.alignAxisTo(ys,ws,Cs[bs],Ts[bs]),Ds[xs]&&ys.reflow(ys.box.alignTo(Ds[xs].box,Ml).translate(0,-ys.options.margin)),Ds[xs]=ys),xr(ys.lineBox().y2,Lr)===xr(ws.lineBox().y2,Lr)&&(Fs[xs]&&ys.reflow(ys.box.alignTo(Fs[xs].box,Fr).translate(0,ys.options.margin)),Fs[xs]=ys),0!==bs&&ys.alignTo(ks))},shrinkAxisWidth:function(fs){var ys=this,bs=ys.groupAxes(fs).any,vs=Ke(bs),ks=0,hs,_s,xs;for(hs=0;fs.length>hs;hs++)_s=fs[hs],0<_s.axes.length&&(ks=$a.max(ks,vs.width()-_s.contentBox.width()));for(hs=0;bs.length>hs;hs++)xs=bs[hs],xs.options.vertical||xs.reflow(xs.box.shrink(ks,0))},shrinkAxisHeight:function(fs){var hs,_s,xs,ys,bs,vs;for(hs=0;fs.length>hs;hs++)for(_s=fs[hs],xs=_s.axes,ys=$a.max(0,Ke(xs).height()-_s.contentBox.height()),bs=0;xs.length>bs;bs++)vs=xs[bs],vs.options.vertical&&vs.reflow(vs.box.shrink(0,ys))},fitAxes:function(fs){var Cs=this,Ts=Cs.groupAxes(fs).any,Ss=0,hs,_s,xs,ys,bs,vs,ks,ws;for(ks=0;fs.length>ks;ks++)if(bs=fs[ks],hs=bs.axes,_s=bs.contentBox,0<hs.length)for(xs=Ke(hs),Ss=$a.max(Ss,_s.x1-xs.x1),ys=$a.max(_s.y1-xs.y1,_s.y2-xs.y2),ws=0;hs.length>ws;ws++)vs=hs[ws],vs.reflow(vs.box.translate(0,ys));for(ks=0;Ts.length>ks;ks++)vs=Ts[ks],vs.reflow(vs.box.translate(Ss,0))},reflowAxes:function(fs){var _s=this,xs=_s.groupAxes(fs),hs;for(hs=0;fs.length>hs;hs++)_s.reflowPaneAxes(fs[hs]);0<xs.x.length&&0<xs.y.length&&(_s.alignAxes(xs.x,xs.y),_s.shrinkAxisWidth(fs),_s.alignAxes(xs.x,xs.y),_s.shrinkAxisHeight(fs),_s.alignAxes(xs.x,xs.y),_s.fitAxes(fs))},reflowPaneAxes:function(fs){var _s=fs.axes,xs=_s.length,hs;if(0<xs)for(hs=0;xs>hs;hs++)_s[hs].reflow(fs.contentBox)},reflowCharts:function(fs){var xs=this,ys=xs.charts,bs=ys.length,vs=xs.box,hs,_s;for(_s=0;bs>_s;_s++)hs=ys[_s].pane,(!hs||fr(hs,fs))&&ys[_s].reflow(vs)},reflowPanes:function(){var bs=this,vs=bs.box,ks=bs.panes,ws=ks.length,Cs=vs.height(),Ts=ws,Ss=0,As=vs.y1,fs,hs,_s,xs,ys;for(fs=0;ws>fs;fs++)hs=ks[fs],xs=hs.options.height,hs.options.width=vs.width(),hs.options.height?(xs.indexOf&&xs.indexOf("%")&&(ys=parseInt(xs,10)/100,hs.options.height=ys*vs.height()),hs.reflow(vs.clone()),Cs-=hs.options.height):Ss++;for(fs=0;ws>fs;fs++)hs=ks[fs],hs.options.height||(hs.options.height=Cs/Ss);for(fs=0;ws>fs;fs++)hs=ks[fs],_s=vs.clone().move(vs.x1,As),hs.reflow(_s),Ts--,As+=hs.options.height},backgroundBox:function(){var vs=this,ks=vs.axes,ws=ks.length,fs,hs,_s,xs,ys,bs;for(_s=0;ws>_s;_s++)for(ys=ks[_s],xs=0;ws>xs;xs++)bs=ks[xs],ys.options.vertical!==bs.options.vertical&&(fs=ys.lineBox().clone().wrap(bs.lineBox()),hs=hs?hs.wrap(fs):fs);return hs||vs.box},getViewElements:function(fs){var hs=this,_s=hs.backgroundBox(),xs=hs.options,ys=xs.plotArea,bs=ys.border||{},vs=Zo.fn.getViewElements.call(hs,fs);return pr(vs,[fs.createRect(_s,{fill:ys.background,fillOpacity:ys.opacity,zIndex:-2,strokeWidth:0.1}),fs.createRect(_s,{id:xs.id,data:{modelId:xs.modelId},stroke:bs.width?bs.color:"",strokeWidth:bs.width,fill:ql,fillOpacity:0,zIndex:-1,dashType:bs.dashType})]),vs},pointsByCategoryIndex:function(fs){var vs=this.charts,ks=[],hs,_s,xs,ys,bs;if(null!==fs)for(hs=0;vs.length>hs;hs++)if(bs=vs[hs],"_navigator"!==bs.pane.options.name&&(xs=vs[hs].categoryPoints[fs],xs&&xs.length))for(_s=0;xs.length>_s;_s++)ys=xs[_s],ys&&gr(ys.value)&&null!==ys.value&&ks.push(ys);return ks},pointsBySeriesIndex:function(fs){var vs=this.charts,ks=[],hs,_s,xs,ys,bs;for(xs=0;vs.length>xs;xs++)for(bs=vs[xs],hs=bs.points,ys=0;hs.length>ys;ys++)_s=hs[ys],_s.options.index===fs&&ks.push(_s);return ks},paneByPoint:function(fs){var xs=this,ys=xs.panes,hs,_s;for(_s=0;ys.length>_s;_s++)if(hs=ys[_s],hs.box.containsPoint(fs))return hs}}),Ia=Fa.extend({init:function(fs,hs){var _s=this;_s.namedCategoryAxes={},_s.namedValueAxes={},_s.valueAxisRangeTracker=new Pa,0<fs.length&&(_s.invertAxes=fr(fs[0].type,[Sr,Pr,Ul,Vl])),Fa.fn.init.call(_s,fs,hs)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(fs){var hs=this;fs=fs||hs.panes,hs.createCategoryAxes(fs),hs.aggregateDateSeries(fs),hs.createCharts(fs),hs.createValueAxes(fs)},removeAxis:function(fs){var hs=this,_s=fs.options.name;Fa.fn.removeAxis.call(hs,fs),fs instanceof ls?delete hs.namedCategoryAxes[_s]:(hs.valueAxisRangeTracker.reset(_s),delete hs.namedValueAxes[_s]),fs===hs.categoryAxis&&delete hs.categoryAxis,fs===hs.valueAxis&&delete hs.valueAxis},createCharts:function(fs){var bs=this,vs=bs.groupSeriesByPane(),hs,_s,xs,ys;for(hs=0;fs.length>hs;hs++)_s=fs[hs],xs=vs[_s.options.name||"default"]||[],bs.addToLegend(xs),ys=bs.filterVisibleSeries(xs),ys&&(bs.createAreaChart(bs.filterSeriesByType(ys,[wr,Vl]),_s),bs.createBarChart(bs.filterSeriesByType(ys,[Nr,Sr]),_s),bs.createLineChart(bs.filterSeriesByType(ys,[sl,Ul]),_s),bs.createCandlestickChart(bs.filterSeriesByType(ys,Rr),_s),bs.createOHLCChart(bs.filterSeriesByType(ys,hl),_s),bs.createBulletChart(bs.filterSeriesByType(ys,[Pr,Wl]),_s))},aggregateDateSeries:function(fs){var Es=this,Hs=Es.srcSeries||Es.series,zs=[],hs,_s,xs,ys,bs,vs,ks,ws,Cs,Ts,Ss,As,Ds,Fs,Is,Ps,Rs;for(ks=0;Hs.length>ks;ks++){if(ws=Hs[ks],Cs=qo({},ws),hs=Es.seriesCategoryAxis(ws),_s=Es.findPane(hs.options.pane),fr(_s,fs)&&Xe(hs.options.type,Wr))for(xs=hs.options.categories,ys=hs.categoryMap,Ts=Cs.data,Cs.data=Ss=[],bs=0;xs.length>bs;bs++){for(vs=ys[bs],As=[],Rs=[],Ds=0;vs.length>Ds;Ds++)Fs=vs[Ds],Is=We(ws,Fs),Ps=Is.value,gr(Ps)&&As.push(Is.value),Rs.push(ws.data[Fs]);Ss[bs]=1<As.length?_e(As,ws,Rs):Ts[vs[0]]}zs.push(Cs)}Es.srcSeries=Hs,Es.series=zs},appendChart:function(fs,hs){for(var _s=this,xs=fs.options.series,ys=_s.seriesCategoryAxis(xs[0]),bs=ys.options.categories,vs=$a.max(0,Fe(xs)-bs.length);vs--;)bs.push("");_s.valueAxisRangeTracker.update(fs.valueAxisRanges),Fa.fn.appendChart.call(_s,fs,hs)},seriesPaneName:function(fs){var hs=this,_s=hs.options,xs=fs.axis,ys=[].concat(_s.valueAxis),bs=pe.grep(ys,function(Cs){return Cs.name===xs})[0],vs=_s.panes||[{}],ks=(vs[0]||{}).name||"default",ws=(bs||{}).pane||ks;return ws},seriesCategoryAxis:function(fs){var hs=this,_s=fs.categoryAxis,xs=_s?hs.namedCategoryAxes[_s]:hs.categoryAxis;if(!xs)throw Error("Unable to locate category axis with name "+_s);return xs},createBarChart:function(fs,hs){if(0!==fs.length){var _s=this,xs=fs[0],ys=new ia(_s,{series:fs,invertAxes:_s.invertAxes,isStacked:xs.stack&&1<fs.length,gap:xs.gap,spacing:xs.spacing});_s.appendChart(ys,hs)}},createBulletChart:function(fs,hs){if(0!==fs.length){var _s=this,xs=fs[0],ys=new ra(_s,{series:fs,invertAxes:_s.invertAxes,gap:xs.gap,spacing:xs.spacing});_s.appendChart(ys,hs)}},createLineChart:function(fs,hs){if(0!==fs.length){var _s=this,xs=fs[0],ys=new ma(_s,{invertAxes:_s.invertAxes,isStacked:xs.stack&&1<fs.length,series:fs});_s.appendChart(ys,hs)}},createAreaChart:function(fs,hs){if(0!==fs.length){var _s=this,xs=fs[0],ys=new ha(_s,{invertAxes:_s.invertAxes,isStacked:xs.stack&&1<fs.length,series:fs});_s.appendChart(ys,hs)}},createOHLCChart:function(fs,hs){if(0!==fs.length){var _s=this,xs=fs[0],ys=new wa(_s,{invertAxes:_s.invertAxes,gap:xs.gap,series:fs,spacing:xs.spacing});_s.appendChart(ys,hs)}},createCandlestickChart:function(fs,hs){if(0!==fs.length){var _s=this,xs=fs[0],ys=new va(_s,{invertAxes:_s.invertAxes,gap:xs.gap,series:fs,spacing:xs.spacing});_s.appendChart(ys,hs)}},axisRequiresRounding:function(fs,hs){var ys=this,bs=ys.filterSeriesByType(ys.series,[Sr,Nr,hl,Rr]),_s,xs;for(_s=0;bs.length>_s;_s++)if(xs=bs[_s].categoryAxis||"",xs===fs||!xs&&0===hs)return!0},createCategoryAxes:function(fs){var Ts=this,Ss=Ts.invertAxes,As=[].concat(Ts.options.categoryAxis),Ds=[],hs,_s,xs,ys,bs,vs,ks,ws,Cs;for(hs=0;As.length>hs;hs++)if(_s=As[hs],xs=Ts.findPane(_s.pane),fr(xs,fs)){if(vs=_s.name,ys=_s.categories||[],ks=ys[0]instanceof Date,bs=_s.type||"",_s=qo({vertical:Ss,axisCrossingValue:Ss?dl:0},_s),gr(_s.justified)||(_s.justified=Ts.inJustified()),Ts.axisRequiresRounding(vs,hs)&&(_s.justified=!1,_s.roundToBaseUnit=!0),ws=!bs&&ks||Xe(bs,Wr)?new ds(_s):new ls(_s),vs){if(Ts.namedCategoryAxes[vs])throw Error("Category axis with name "+vs+" is already defined");Ts.namedCategoryAxes[vs]=ws}ws.axisIndex=hs,Ds.push(ws),Ts.appendAxis(ws)}Cs=Ts.categoryAxis||Ds[0],Ts.categoryAxis=Cs,Ss?Ts.axisY=Cs:Ts.axisX=Cs},inJustified:function(){var _s=this,xs=_s.series,fs,hs;for(fs=0;xs.length>fs;fs++)if(hs=xs[fs],hs.type!==wr)return!1;return!0},createValueAxes:function(fs){var ws=this,Cs=ws.valueAxisRangeTracker,Ts=Cs.query(),Ss=[].concat(ws.options.valueAxis),As=ws.invertAxes,Ds={vertical:!As},Fs=[],hs,_s,xs,ys,bs,vs,ks;for(ks=0;Ss.length>ks;ks++)if(hs=Ss[ks],_s=ws.findPane(hs.pane),fr(_s,fs)){if(vs=hs.name,bs=Cs.query(vs)||Ts||{min:0,max:1},0===ks&&bs&&Ts&&(bs.min=$a.min(bs.min,Ts.min),bs.max=$a.max(bs.max,Ts.max)),xs=new ar(bs.min,bs.max,qo({},Ds,hs)),vs){if(ws.namedValueAxes[vs])throw Error("Value axis with name "+vs+" is already defined");ws.namedValueAxes[vs]=xs}xs.axisIndex=ks,Fs.push(xs),ws.appendAxis(xs)}ys=ws.valueAxis||Fs[0],ws.valueAxis=ys,As?ws.axisX=ys:ws.axisY=ys},click:function(fs,hs){var bs=this,vs=fs._eventCoordinates(hs),ks=new or(vs.x,vs.y),ws=bs.pointPane(ks),Cs=[],Ts=[],_s,xs,ys;if(ws){for(_s=ws.axes,xs=0;_s.length>xs;xs++)ys=_s[xs],ys.getValue?Je(Ts,ys.getValue(ks)):Je(Cs,ys.getCategory(ks));0===Cs.length&&Je(Cs,bs.categoryAxis.getCategory(ks)),0<Cs.length&&0<Ts.length&&fs.trigger(yl,{element:pe(hs.target),category:Ge(Cs),value:Ge(Ts)})}},pointPane:function(fs){var xs=this,ys=xs.panes,hs,_s;for(_s=0;ys.length>_s;_s++)if(hs=ys[_s],hs.contentBox.containsPoint(fs))return hs}}),Pa=Mo.extend({init:function(){var fs=this;fs.axisRanges={}},update:function(fs){var ys=this,bs=ys.axisRanges,hs,_s,xs;for(xs in fs)hs=bs[xs],_s=fs[xs],bs[xs]=hs=hs||{min:dl,max:pl},hs.min=$a.min(hs.min,_s.min),hs.max=$a.max(hs.max,_s.max)},reset:function(fs){this.axisRanges[fs]=me},query:function(fs){return this.axisRanges[fs]}}),Ra=Fa.extend({init:function(fs,hs){var _s=this;_s.namedXAxes={},_s.namedYAxes={},_s.xAxisRangeTracker=new Pa,_s.yAxisRangeTracker=new Pa,Fa.fn.init.call(_s,fs,hs)},options:{xAxis:{},yAxis:{}},render:function(fs){var bs=this,vs=bs.groupSeriesByPane(),hs,_s,xs,ys;for(fs=fs||bs.panes,hs=0;fs.length>hs;hs++)_s=fs[hs],xs=vs[_s.options.name||"default"]||[],bs.addToLegend(xs),ys=bs.filterVisibleSeries(xs),ys&&(bs.createScatterChart(bs.filterSeriesByType(ys,kl),_s),bs.createScatterLineChart(bs.filterSeriesByType(ys,wl),_s),bs.createBubbleChart(bs.filterSeriesByType(ys,Ir),_s));bs.createAxes(fs)},appendChart:function(fs,hs){var _s=this;_s.xAxisRangeTracker.update(fs.xAxisRanges),_s.yAxisRangeTracker.update(fs.yAxisRanges),Fa.fn.appendChart.call(_s,fs,hs)},removeAxis:function(fs){var hs=this,_s=fs.options.name;Fa.fn.removeAxis.call(hs,fs),fs.options.vertical?(hs.yAxisRangeTracker.reset(_s),delete hs.namedYAxes[_s]):(hs.xAxisRangeTracker.reset(_s),delete hs.namedXAxes[_s]),fs===hs.axisX&&delete hs.axisX,fs===hs.axisY&&delete hs.axisY},seriesPaneName:function(fs){var hs=this,_s=hs.options,xs=fs.xAxis,ys=[].concat(_s.xAxis),bs=pe.grep(ys,function(As){return As.name===xs})[0],vs=fs.yAxis,ks=[].concat(_s.yAxis),ws=pe.grep(ks,function(As){return As.name===vs})[0],Cs=_s.panes||[{}],Ts=Cs[0].name||"default",Ss=(bs||{}).pane||(ws||{}).pane||Ts;return Ss},createScatterChart:function(fs,hs){var _s=this;0<fs.length&&_s.appendChart(new _a(_s,{series:fs}),hs)},createScatterLineChart:function(fs,hs){var _s=this;0<fs.length&&_s.appendChart(new xa(_s,{series:fs}),hs)},createBubbleChart:function(fs,hs){var _s=this;0<fs.length&&_s.appendChart(new ya(_s,{series:fs}),hs)},createXYAxis:function(fs,hs,_s){var Ts=this,Ss=fs.name,As=hs?Ts.namedYAxes:Ts.namedXAxes,Ds=hs?Ts.yAxisRangeTracker:Ts.xAxisRangeTracker,Fs=Ds.query(),Is=Ds.query(Ss)||Fs||{min:0,max:1},Ps=qo({},fs,{vertical:hs}),Rs=Ts.series,Es=[Ps.min,Ps.max],xs,ys,bs,vs,ks,ws,Cs;for(ys=0;Rs.length>ys;ys++)if(bs=Rs[ys],vs=bs[hs?"yAxis":"xAxis"],vs==Ps.name||0===_s&&!vs){ks=We(bs,0).value,Es.push(ks[hs?"y":"x"]);break}for(0===_s&&Fs&&(Is.min=$a.min(Is.min,Fs.min),Is.max=$a.max(Is.max,Fs.max)),Cs=0;Es.length>Cs;Cs++)if(Es[Cs]instanceof Date){ws=!0;break}if(xs=Xe(Ps.type,Wr)||!Ps.type&&ws?new ps(Is.min,Is.max,Ps):new ar(Is.min,Is.max,Ps),Ss){if(As[Ss])throw Error((hs?"Y":"X")+" axis with name "+Ss+" is already defined");As[Ss]=xs}return Ts.appendAxis(xs),xs},createAxes:function(fs){var _s=this,xs=_s.options,ys=[].concat(xs.xAxis),bs=[],vs=[].concat(xs.yAxis),ks=[],hs;Ka(ys,function(ws){hs=_s.findPane(this.pane),fr(hs,fs)&&bs.push(_s.createXYAxis(this,!1,ws))}),Ka(vs,function(ws){hs=_s.findPane(this.pane),fr(hs,fs)&&ks.push(_s.createXYAxis(this,!0,ws))}),_s.axisX=_s.axisX||bs[0],_s.axisY=_s.axisY||ks[0]},click:function(fs,hs){var vs=this,ks=fs._eventCoordinates(hs),ws=new or(ks.x,ks.y),Cs=vs.axes,Ts=Cs.length,Ss=[],As=[],_s,xs,ys,bs;for(_s=0;Ts>_s;_s++)xs=Cs[_s],bs=xs.options.vertical?As:Ss,ys=xs.getValue(ws),null!==ys&&bs.push(ys);0<Ss.length&&0<As.length&&fs.trigger(yl,{element:pe(hs.target),x:Ge(Ss),y:Ge(As)})}}),Ea=Fa.extend({render:function(){var fs=this,hs=fs.series;fs.createPieChart(hs)},createPieChart:function(fs){var hs=this,_s=fs[0],xs=new Ta(hs,{series:fs,padding:_s.padding,startAngle:_s.startAngle,connectors:_s.connectors,legend:hs.options.legend});hs.appendChart(xs)},appendChart:function(fs,hs){Fa.fn.appendChart.call(this,fs,hs),pr(this.options.legend.items,fs.legendItems)}}),Ha=Ea.extend({render:function(){var fs=this,hs=fs.series;fs.createDonutChart(hs)},createDonutChart:function(fs){var hs=this,_s=fs[0],xs=new Aa(hs,{series:fs,padding:_s.padding,connectors:_s.connectors,legend:hs.options.legend});hs.appendChart(xs)}}),za=tr.extend({options:{easing:"easeOutElastic",duration:ol},setup:function(){var hs=this.element,_s=hs.config,fs;hs.options.singleSegment&&(_s=hs),this.endRadius=_s.r,fs=this.startRadius=_s.ir||0,_s.r=fs},step:function(fs){var hs=this,_s=hs.element,xs=hs.endRadius,ys=_s.config,bs=hs.startRadius;_s.options.singleSegment&&(ys=_s),ys.r=hr(bs,xs,fs)}}),Oa=tr.extend({options:{easing:"easeOutElastic",duration:ol},setup:function(){var fs=this.element;fs.endRadius=fs.radius,fs.radius=0},step:function(fs){var hs=this.element,_s=hs.endRadius;hs.radius=hr(0,_s,fs)}}),Ma=dr(Sr,Qo),Na=dr(xl,za),La=dr(Ir,Oa),Ba=Mo.extend({init:function(fs,hs,_s){var xs=this;xs.options=qo({},xs.options,_s),xs.view=fs,xs.viewElement=hs,xs._overlays=[]},options:{fill:ql,fillOpacity:0.2,stroke:ql,strokeWidth:1,strokeOpacity:0.2},show:function(fs){var vs=this,ks=vs.view,ws=vs.viewElement,Cs=vs._overlays,hs,_s,xs,ys,bs;for(vs.hide(),vs._points=fs=[].concat(fs),xs=0;fs.length>xs;xs++)ys=fs[xs],ys&&(bs=ys.options,(!bs||(bs.highlight||{}).visible)&&(ys.highlightOverlay&&(hs=ys.highlightOverlay(ks,vs.options),hs&&(_s=ks.renderElement(hs),ws.appendChild(_s),Cs.push(_s))),ys.toggleHighlight&&ys.toggleHighlight(ks)))},hide:function(){for(var ys=this,bs=ys._points,vs=ys._overlays,fs,hs,_s,xs;vs.length;)fs=ys._overlays.pop(),fs.parentNode.removeChild(fs);if(bs)for(hs=0;bs.length>hs;hs++)_s=bs[hs],_s&&(xs=_s.options,(!xs||(xs.highlight||{}).visible)&&_s.toggleHighlight&&_s.toggleHighlight(ys.view));ys._points=[]}}),Va=Mo.extend({init:function(fs,hs){var _s=this;_s.options=qo({},_s.options,hs),_s.chartElement=fs,_s.chartPadding={top:parseInt(fs.css("paddingTop"),10),left:parseInt(fs.css("paddingLeft"),10)},_s.template=Va.template,_s.template||(_s.template=Va.template=yr("<div class='"+Br+"tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),_s.element=pe(_s.template(_s.options)).appendTo(fs),_s._moveProxy=Za(_s.move,_s)},options:{border:{width:1},opacity:1,animation:{duration:150}},move:function(){var fs=this,hs=fs.options,_s=fs.element,xs=fs._offset();fs.visible||_s.css({top:xs.top,left:xs.left}),_s.stop(!0,!0).show().animate({left:xs.left,top:xs.top},hs.animation.duration),fs.visible=!0},_offset:function(){var fs=this,hs=fs.element,_s=fs.anchor,xs=fs.chartPadding,ys=xr(_s.y+xs.top),bs=xr(_s.x+xs.left),vs=Fo.support.zoomLevel(),ks=pe(window),ws=window.pageYOffset||document.documentElement.scrollTop||0,Cs=window.pageXOffset||document.documentElement.scrollLeft||0;return ws=fs.chartElement.offset().top-ws,Cs=fs.chartElement.offset().left-Cs,ys+=fs._currentPosition(ys+ws,hs.outerHeight(),ks.outerHeight()/vs),bs+=fs._currentPosition(bs+Cs,hs.outerWidth(),ks.outerWidth()/vs),{top:ys,left:bs}},setStyle:function(fs){this.element.css({backgroundColor:fs.background,borderColor:fs.border.color||fs.background,font:fs.font,color:fs.color,opacity:fs.opacity,borderWidth:fs.border.width})},show:function(){var fs=this;fs.showTimeout=setTimeout(fs._moveProxy,100)},hide:function(){var fs=this;clearTimeout(fs.showTimeout),fs.visible&&(fs._hideElement(),fs.point=null,fs.visible=!1,fs.index=null)},_hideElement:function(){this.element.fadeOut()},_pointContent:function(fs){var xs=this,ys=qo({},xs.options,fs.options.tooltip),hs,_s;return gr(fs.value)&&(hs=""+fs.value),ys.template?(_s=jo(ys.template),hs=_s({value:fs.value,category:fs.category,series:fs.series,dataItem:fs.dataItem,percentage:fs.percentage})):ys.format&&(hs=fs.formatValue(ys.format)),hs},_pointAnchor:function(fs){var hs=this,_s=hs.element;return fs.tooltipAnchor(_s.outerWidth(),_s.outerHeight())},_currentPosition:function(fs,hs,_s){var xs=0;return fs+hs>_s&&(xs=_s-(fs+hs)),0>fs&&(xs=-fs),xs},_updateStyle:function(fs,hs){if(gr(fs.background)||(fs.background=hs.color),!gr(fs.color)){var _s=this,xs=_s.element,ys=new er(fs.background).percBrightness();180<ys?xs.addClass(Br+Ll):xs.removeClass(Br+Ll)}}}),Wa=Va.extend({show:function(fs){var hs=this,_s=qo({},hs.options,fs.options.tooltip);fs&&(hs.element.html(hs._pointContent(fs)),hs.anchor=hs._pointAnchor(fs),hs._updateStyle(_s,fs.options),hs.setStyle(_s),Va.fn.show.call(hs,fs))}}),Ua=Va.extend({init:function(fs,hs,_s){var xs=this;Va.fn.init.call(xs,fs,_s),xs.plotArea=hs},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { #<td>#= point.series.name #:</td> # } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(fs,hs){var xs=this,ys=xs.options,bs=xs.plotArea,vs=bs.categoryAxis,ks=vs.getCategoryIndex(hs),ws=vs.getCategory(hs),Cs=vs.getSlot(ks),_s;_s=xs._content(fs,ws),xs.element.html(_s),xs.anchor=xs._slotAnchor(hs,Cs),xs._updateStyle(ys,fs[0].options),xs.setStyle(ys),Va.fn.show.call(xs)},_slotAnchor:function(fs,hs){var xs=this,ys=xs.plotArea,bs=ys.categoryAxis,vs=fs.y-xs.element.height()/2,_s;return _s=bs.options.vertical?or(fs.x,vs):or(hs.center().x,vs)},_content:function(fs,hs){var ys=this,_s,xs;return _s=Fo.template(ys.options.sharedTemplate),xs=_s({points:fs,category:hs,categoryText:cr(ys.options.categoryFormat,hs),content:ys._pointContent})}}),ja=Zo.extend({init:function(fs,hs){var _s=this;Zo.fn.init.call(_s,hs),_s.axis=fs,_s.options.id||(_s.options.id=br()),_s._visible=!1,_s.stickyMode=fs instanceof ls},options:{color:Dr,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var fs=this,hs=fs.element;fs.getViewElements(fs._view),hs=fs.element,hs.refresh(ur(fs.options.id))},showAt:function(fs){var hs=this;hs.updateAxisReference(),hs._visible=!0,hs.point=fs,hs.repaint(),hs.options.tooltip.visible&&(hs.tooltip||(hs.tooltip=new qa(hs,qo({},hs.options.tooltip,{stickyMode:hs.stickyMode}))),hs.tooltip.showAt(fs))},hide:function(){var fs=this;fs._visible&&(fs._visible=!1,fs.repaint(),fs.tooltip&&fs.tooltip.hide())},linePoints:function(){var xs=this,ys=xs.axis,bs=ys.options.vertical,vs=xs.getBox(),ks=xs.point,ws=bs?Yl:Gl,fs,hs,_s;return hs=or(vs.x1,vs.y1),_s=bs?or(vs.x2,vs.y1):or(vs.x1,vs.y2),ks&&(xs.stickyMode?(fs=ys.getSlot(ys.getCategoryIndex(ks)),hs[ws]=_s[ws]=fs.center()[ws]):hs[ws]=_s[ws]=ks[ws]),xs.box=vs,[hs,_s]},getBox:function(){var xs=this,ys=xs.axis,bs=ys.pane.axes,vs=bs.length,ks=ys.options.vertical,ws=ys.lineBox().clone(),Cs=ks?Gl:Yl,fs,hs,_s;for(_s=0;vs>_s;_s++)hs=bs[_s],hs.options.vertical!=ks&&(fs?fs.wrap(hs.lineBox()):fs=hs.lineBox().clone());return ws[Cs+1]=fs[Cs+1],ws[Cs+2]=fs[Cs+2],ws},getViewElements:function(fs){var hs=this,_s=hs.options,xs=[];return hs.points=hs.linePoints(),hs.element=fs.createPolyline(hs.points,!1,{id:_s.id,stroke:_s.color,strokeWidth:_s.width,strokeOpacity:_s.opacity,dashType:_s.dashType,zIndex:_s.zIndex,visible:hs._visible}),xs.push(hs.element),hs._view=fs,pr(xs,Zo.fn.getViewElements.call(hs,fs)),xs},updateAxisReference:function(){var _s=this,xs=_s.axis,ys=xs.plotArea,bs=ys.axes,fs,hs;for(hs=0;bs.length>hs;hs++)if(fs=bs[hs],gr(xs.axisIndex)&&xs instanceof ar!=fs instanceof ls&&xs.axisIndex===fs.axisIndex){_s.axis=fs;break}}}),qa=Va.extend({init:function(fs,hs){var _s=this,xs=fs.axis.getRoot().parent.element;_s.crosshair=fs,Va.fn.init.call(_s,xs,qo({},_s.options,{background:fs.axis.plotArea.options.seriesColors[0]},hs)),_s._updateStyle(_s.options,{}),_s.setStyle(_s.options)},options:{padding:10},showAt:function(fs){var hs=this,_s=hs.element;hs.point=fs,hs.element.html(hs.content(fs)),hs.anchor=hs.getAnchor(_s.outerWidth(),_s.outerHeight()),hs.move()},move:function(){var fs=this,hs=fs.element,_s=fs._offset();hs.css({top:_s.top,left:_s.left}).show()},content:function(fs){var ys=this,bs=ys.options,vs=ys.crosshair.axis,ks=vs.options,hs,_s,xs;return _s=hs=vs[bs.stickyMode?"getCategory":"getValue"](fs),bs.template?(xs=jo(bs.template),hs=xs({value:_s})):bs.format?hs=cr(bs.format,_s):ks.type===Wr&&(hs=cr(ks.labels.dateFormats[ks.baseUnit],_s)),hs},getAnchor:function(fs,hs){var ys=this,bs=ys.options,vs=bs.position,ks=ys.crosshair.axis.options.vertical,ws=ys.crosshair.points,Cs=ws[0],Ts=ws[1],Ss=fs/2,As=hs/2,Ds=bs.padding,_s,xs;return ks?vs===il?(_s=Cs.x-fs-Ds,xs=Cs.y-As):(_s=Ts.x+Ds,xs=Ts.y-As):vs===Fr?(_s=Ts.x-Ss,xs=Ts.y+Ds):(_s=Cs.x-Ss,xs=Cs.y-hs-Ds),or(_s,xs)},hide:function(){this.element.hide(),this.point=null}}),Ga={max:function(fs){var hs=$a.max.apply($a,fs);return isNaN(hs)?ye(fs):hs},min:function(fs){var hs=$a.min.apply($a,fs);return isNaN(hs)?xe(fs):hs},sum:function(fs){var xs=fs.length,ys=0,hs,_s;for(hs=0;xs>hs;hs++)_s=fs[hs],gr(_s)&&!isNaN(_s)&&(ys+=_s);return ys},count:function(fs){return fs.length},avg:function(fs){return Ga.sum(fs)/Ga.count(fs)}},Ya=No.extend({init:function(fs,hs,_s){var bs=this,vs=fs.element,ks=hs.lineBox(),ws=bs.getValueAxis(hs),Cs=ws.lineBox(),Ts="."+Br,xs,ys;No.fn.init.call(bs),bs.options=qo({},bs.options,_s),_s=bs.options,bs.chart=fs,bs.chartElement=vs,bs.categoryAxis=hs,bs._dateAxis=bs.categoryAxis instanceof ds,bs.valueAxis=ws,bs._dateAxis&&qo(_s,{min:Re(_s.min),max:Re(_s.max),from:Re(_s.from),to:Re(_s.to)}),bs.template=Ya.template,bs.template||(bs.template=Ya.template=yr("<div class='"+Br+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+Br+"mask'></div><div class='"+Br+"mask'></div><div class='"+Br+"selection'><div class='"+Br+"selection-bg'></div><div class='"+Br+"handle "+Br+"leftHandle'><div></div></div><div class='"+Br+"handle "+Br+"rightHandle'><div></div></div></div></div>")),ys={left:parseInt(vs.css("paddingLeft"),10),right:parseInt(vs.css("paddingTop"),10)},bs.options=qo({},{width:ks.width(),height:Cs.height(),padding:ys,offset:{left:Cs.x2+ys.left,top:Cs.y1+ys.right},from:_s.min,to:_s.max},_s),bs.options.visible&&(bs.wrapper=xs=pe(bs.template(bs.options)).appendTo(vs),bs.selection=xs.find(Ts+"selection"),bs.leftMask=xs.find(Ts+"mask").first(),bs.rightMask=xs.find(Ts+"mask").last(),bs.leftHandle=xs.find(Ts+"leftHandle"),bs.rightHandle=xs.find(Ts+"rightHandle"),bs.options.selection={border:{left:parseFloat(bs.selection.css("border-left-width"),10),right:parseFloat(bs.selection.css("border-right-width"),10)}},bs.leftHandle.css("top",(bs.selection.height()-bs.leftHandle.height())/2),bs.rightHandle.css("top",(bs.selection.height()-bs.rightHandle.height())/2),bs.set(bs._index(_s.from),bs._index(_s.to)),bs.bind(bs.events,bs.options),bs.wrapper[0].style.cssText=bs.wrapper[0].style.cssText,bs.wrapper.on(fl,Za(bs._mousewheel,bs)),Fo.UserEvents?bs.userEvents=new Fo.UserEvents(bs.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:Za(bs._start,bs),move:Za(bs._move,bs),end:Za(bs._end,bs),tap:Za(bs._tap,bs),gesturestart:Za(bs._gesturechange,bs),gesturechange:Za(bs._gesturechange,bs)}):bs.leftHandle.add(bs.rightHandle).removeClass(Br+"handle"))},events:[Cl,Tl,Sl],options:{visible:!0,mousewheel:{zoom:"both"},min:pl,max:dl},destroy:function(){var fs=this,hs=fs.userEvents;hs&&hs.destroy()},_rangeEventArgs:function(fs){var hs=this;return{axis:hs.categoryAxis.options,from:hs._value(fs.from),to:hs._value(fs.to)}},_start:function(fs){var _s=this,xs=_s.options,ys=pe(fs.event.target),hs;!_s._state&&ys&&(_s.chart._unsetActivePoint(),_s._state={moveTarget:ys.parents(".k-handle").add(ys).first(),startLocation:fs.x?fs.x.location:0,range:{from:_s._index(xs.from),to:_s._index(xs.to)}},hs=_s._rangeEventArgs({from:_s._index(xs.from),to:_s._index(xs.to)}),_s.trigger(Cl,hs)&&(_s.userEvents.cancel(),_s._state=null))},_move:function(fs){if(this._state){var hs=this,_s=hs._state,xs=hs.options,ys=hs.categoryAxis.options.categories,bs=hs._index(xs.from),vs=hs._index(xs.to),ks=hs._index(xs.min),ws=hs._index(xs.max),Cs=_s.startLocation-fs.x.location,Ts=_s.range,Ss={from:Ts.from,to:Ts.to},As=Ts.to-Ts.from,Ds=_s.moveTarget,Fs=hs.wrapper.width()/(ys.length-1),Is=$a.round(Cs/Fs);Ds&&(fs.preventDefault(),Ds.is(".k-selection, .k-selection-bg")?(Ts.from=$a.min($a.max(ks,bs-Is),ws-As),Ts.to=$a.min(Ts.from+As,ws)):Ds.is(".k-leftHandle")?(Ts.from=$a.min($a.max(ks,bs-Is),ws-1),Ts.to=$a.max(Ts.from+1,Ts.to)):Ds.is(".k-rightHandle")&&(Ts.to=$a.min($a.max(ks+1,vs-Is),ws),Ts.from=$a.min(Ts.to-1,Ts.from)),(Ts.from!==Ss.from||Ts.to!==Ss.to)&&(hs.move(Ts.from,Ts.to),hs.trigger(Tl,hs._rangeEventArgs(Ts))))}},_end:function(){var fs=this,hs=fs._state.range;delete fs._state,fs.set(hs.from,hs.to),fs.trigger(Sl,fs._rangeEventArgs(hs))},_gesturechange:function(fs){if(this._state){var hs=this,_s=hs.chart,xs=hs._state,ys=hs.options,bs=hs.categoryAxis,vs=xs.range,ks=_s._toModelCoordinates(fs.touches[0].x.location).x,ws=_s._toModelCoordinates(fs.touches[1].x.location).x,Cs=$a.min(ks,ws),Ts=$a.max(ks,ws);fs.preventDefault(),xs.moveTarget=null,vs.from=bs.getCategoryIndex(new Yo.Point2D(Cs))||ys.min,vs.to=bs.getCategoryIndex(new Yo.Point2D(Ts))||ys.max,hs.move(vs.from,vs.to)}},_tap:function(fs){var hs=this,_s=hs.options,xs=hs.chart._eventCoordinates(fs),ys=hs.categoryAxis,bs=ys.getCategoryIndex(new Yo.Point2D(xs.x,ys.box.y1)),vs=hs._index(_s.from),ks=hs._index(_s.to),ws=hs._index(_s.min),Cs=hs._index(_s.max),Ts=ks-vs,Ss=$a.round(vs+Ts/2-bs),As={},Ds=3===fs.event.which;hs._state||Ds||(fs.preventDefault(),hs.chart._unsetActivePoint(),ys.options.justified||Ss--,As.from=$a.min($a.max(ws,vs-Ss),Cs-Ts),As.to=$a.min(As.from+Ts,Cs),hs._start(fs),hs._state&&(hs._state.range=As,hs.trigger(Tl,hs._rangeEventArgs(As)),hs._end()))},_mousewheel:function(fs){var _s=this,xs=_s.options,ys=aa(fs),hs;_s._start({event:{target:_s.selection}}),_s._state&&(hs=_s._state.range,fs.preventDefault(),fs.stopPropagation(),1<$a.abs(ys)&&(ys*=3),xs.mousewheel.reverse&&(ys*=-1),_s.expand(ys)&&_s.trigger(Tl,{axis:_s.categoryAxis.options,delta:ys,originalEvent:fs,from:_s._value(hs.from),to:_s._value(hs.to)}),_s._mwTimeout&&clearTimeout(_s._mwTimeout),_s._mwTimeout=setTimeout(function(){_s._end()},ml))},_index:function(fs){var hs=this,_s=hs.categoryAxis,xs=_s.options.categories,ys=fs;return fs instanceof Date&&(ys=Ze(xs,fs),!_s.options.justified&&fs>_r(xs)&&(ys+=1)),ys},_value:function(fs){var hs=this,_s=this.categoryAxis,xs=_s.options.categories,ys=fs;return hs._dateAxis&&(ys=fs>xs.length-1?hs.options.max:xs[fs]),ys},_slot:function(fs){var hs=this,_s=this.categoryAxis;return _s.getSlot(hs._index(fs))},move:function(fs,hs){var vs=this,ks=vs.options,ws=ks.offset,Cs=ks.padding,Ts=ks.selection.border,_s,xs,ys,bs;ys=vs._slot(fs),_s=xr(ys.x1-ws.left+Cs.left),vs.leftMask.width(_s),vs.selection.css("left",_s),ys=vs._slot(hs),xs=xr(ks.width-(ys.x1-ws.left+Cs.left)),vs.rightMask.width(xs),bs=ks.width-xs,bs!=ks.width&&(bs+=Ts.right),vs.rightMask.css("left",bs),vs.selection.width($a.max(ks.width-(_s+xs)-Ts.right,0))},set:function(fs,hs){var _s=this,xs=_s.options,ys=_s._index(xs.min),bs=_s._index(xs.max);fs=Ye(_s._index(fs),ys,bs),hs=Ye(_s._index(hs),fs+1,bs),xs.visible&&_s.move(fs,hs),xs.from=_s._value(fs),xs.to=_s._value(hs)},expand:function(fs){var hs=this,_s=hs.options,xs=hs._index(_s.min),ys=hs._index(_s.max),bs=_s.mousewheel.zoom,vs=hs._index(_s.from),ks=hs._index(_s.to),ws={from:vs,to:ks},Cs=qo({},ws);return hs._state&&(ws=hs._state.range),bs!==vl&&(ws.from=Ye(Ye(vs-fs,0,ks-1),xs,ys)),bs!==il&&(ws.to=Ye(Ye(ks+fs,ws.from+1,ys),xs,ys)),ws.from!==Cs.from||ws.to!==Cs.to?(hs.set(ws.from,ws.to),!0):me},getValueAxis:function(fs){var xs=fs.pane.axes,ys=xs.length,hs,_s;for(hs=0;ys>hs;hs++)if(_s=xs[hs],_s.options.vertical!==fs.options.vertical)return _s}}),Ja(pe.easing,{easeOutElastic:function(fs,hs,_s,xs){var ys=1.70158,bs=0,vs=xs;return 0===fs?_s:1===fs?_s+xs:(bs||(bs=0.5),$a.abs(xs)>vs?(vs=xs,ys=bs/4):ys=bs/(2*$a.PI)*$a.asin(xs/vs),vs*$a.pow(2,-10*fs)*$a.sin(1.1*(1*fs-ys)*$a.PI/bs)+xs+_s)}}),Yo.ui.plugin(os),qo(Yo,{Aggregates:Ga,AreaChart:ha,Bar:ms,BarAnimationDecorator:Ma,BarChart:ia,BarLabel:ns,BubbleAnimationDecorator:La,BubbleChart:ya,CandlestickChart:va,Candlestick:ba,CategoricalPlotArea:Ia,CategoryAxis:ls,ClusterLayout:cs,Crosshair:ja,CrosshairTooltip:qa,DateCategoryAxis:ds,DateValueAxis:ps,DonutChart:Aa,DonutPlotArea:Ha,DonutSegment:Sa,Highlight:Ba,SharedTooltip:Ua,Legend:rs,LineChart:ma,LinePoint:pa,Pane:Da,PieAnimation:za,PieAnimationDecorator:Na,PieChart:Ta,PiePlotArea:Ea,PieSegment:Ca,ScatterChart:_a,ScatterLineChart:xa,Selection:Ya,ShapeElement:sa,StackLayout:gs,Tooltip:Wa,OHLCChart:wa,OHLCPoint:ka,XYPlotArea:Ra,addDuration:He,axisGroupBox:Ke,validNumbers:ea,bindPoint:We,categoriesCount:Fe,ceilDate:Me,duration:Be,floorDate:Oe,lteDateIndex:Ze,sparseArrayLimits:be,toDate:Re,toTime:Ee})})(window.kendo.jQuery);;(function(){var pe=window.kendo,me=pe.dataviz.ui,_e=pe.deepExtend,xe=1.5,ye=0.4,be="#000",ke="Arial,Helvetica,sans-serif",we="12px "+ke,Ce="16px "+ke,Te="#fff",Se={title:{font:Ce},legend:{labels:{font:we}},seriesDefaults:{visible:!0,labels:{font:"11px "+ke},donut:{margin:1},line:{width:4},area:{line:{opacity:1,width:0}},candlestick:{line:{width:1,color:be},border:{width:1,_brightness:0.8},gap:1,spacing:0.3,downColor:Te,aggregate:{open:"max",high:"max",low:"min",close:"max"},highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:0.3,aggregate:{open:"max",high:"max",low:"min",close:"max"},highlight:{line:{width:3,opacity:1}}},bubble:{opacity:0.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:xe,spacing:ye},column:{gap:xe,spacing:ye},bullet:{gap:xe,spacing:ye,target:{color:"#ff0000"}},verticalBullet:{gap:xe,spacing:ye,target:{color:"#ff0000"}}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:we},title:{font:Ce,margin:5},crosshair:{tooltip:{font:we}}},tooltip:{font:we},navigator:{pane:{height:90,margin:{top:10}}}},Ae={scale:{labels:{font:we}}},De=me.themes,Fe=me.registerTheme=function(Ie,Pe){var Ee={},Re;Ee.chart=_e({},Se,Pe.chart),Ee.gauge=_e({},Ae,Pe.gauge),Re=Ee.chart.seriesDefaults,Re.verticalLine=_e({},Re.line),Re.verticalArea=_e({},Re.area),De[Ie]=Ee};Fe("black",{chart:{title:{color:Te},legend:{labels:{color:Te},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:Te},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},area:{opacity:0.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#555",line:{color:Te},border:{_brightness:1.5,opacity:1},highlight:{border:{color:Te,opacity:0.2}}},ohlc:{line:{color:Te}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:Te},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:Te},crosshair:{color:"#8e8e8e"}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:Te},minorTicks:{color:Te},majorTicks:{color:Te},line:{color:Te}}}}),Fe("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:be,background:Te,opacity:0.5},area:{opacity:0.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}}}),Fe("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:0.5,markers:{visible:!1,size:6}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}}}),Fe("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:be,background:Te,opacity:0.5},area:{opacity:0.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}}}),Fe("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:0.5},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},area:{opacity:0.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}}}),Fe("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:be},area:{opacity:0.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}}}),Fe("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:0.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},area:{opacity:0.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}}}),Fe("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:0.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:0.3,markers:{visible:!1,size:6}},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:Te,opacity:0.2}}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:Te},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}}}),Fe("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:0.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:0.3,markers:{visible:!1,size:6}},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:0.2}}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}}}),Fe("bootstrap",{chart:{title:{color:"#343434"},legend:{labels:{color:"#343434"},inactiveItems:{labels:{color:"#9A9A9A"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#343434"},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:0.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:0.3,markers:{visible:!1,size:6}},candlestick:{downColor:"#d0d0d0",line:{color:"#d0d0d0"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:0.2}}},ohlc:{line:{color:"#d0d0d0"}}},chartArea:{background:"#ffffff"},seriesColors:["#006dcc","#49AFCD","#5BB75B","#FAA732","#DA4F49","#363636"],axisDefaults:{line:{color:"#b8b8b8"},minorTicks:{color:"#dddddd"},majorTicks:{color:"#b8b8b8"},labels:{color:"#343434"},majorGridLines:{color:"#b8b8b8"},minorGridLines:{color:"#dddddd"},title:{color:"#343434"},crosshair:{color:"#b8b8b8"}}},gauge:{pointer:{color:"#0044cc"},scale:{rangePlaceholderColor:"#b8b8b8",labels:{color:"#343434"},minorTicks:{color:"#dddddd"},majorTicks:{color:"#b8b8b8"},line:{color:"#b8b8b8"}}}})})(window.kendo.jQuery);;
//# sourceMappingURL=__rx.min.js.map
