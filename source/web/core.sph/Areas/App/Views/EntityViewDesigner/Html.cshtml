@{
    Layout = null;
}
<h2>View Designer</h2>
<div class="row">
    <form class="form-horizontal" data-bind="with : view">
        <div class="form-group">
            <label for="view-name" class="col-lg-2 control-label">Name</label>
            <div class="col-lg-6">
                <input type="text" data-bind="value: Name" 
                       required pattern="^[A-Za-z_][A-Za-z0-9_ ]*$" 
                       placeholder="Name for the view"
                       class="form-control" id="view-name">
            </div>
        </div>
        <div class="form-group">
            <label for="view-route" class="col-lg-2 control-label">Route</label>
            <div class="col-lg-6">
                <input type="text" data-bind="value: Route" 
                       required pattern="^[A-Za-z_][A-Za-z0-9_-]*$" 
                       placeholder="route url"
                       class="form-control" id="view-route">
            </div>
        </div>
    </form>
</div>
<div class="row" data-bind="with : view">

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Field</th>
                <th>Term</th>
                <th></th>
            </tr>
        </thead>
        <tbody data-bind="foreach :FilterCollection">
            <tr>
                <td>
                    <input class="form-control" type="text" data-bind="value:Term" required pattern="^[A-Za-z][A-Za-z0-9_]*$" />
                </td>
                <td>
                    <input class="form-control" type="text" data-bind="value:Field" required pattern="^[A-Za-z][A-Za-z0-9_]*$" />
                <td>
                    <a href="#" data-bind="click : $parent.removeFilter.call($parent,$data)">
                        <span class="glyphicon glyphicon-remove"></span>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
    <button class="btn btn-default" data-bind="click : addFilter">+ Filter</button>
</div>
<div class="row" data-bind="with : view">

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Path</th>
                <th>Header</th>
                <th></th>
            </tr>
        </thead>
        <tbody data-bind="foreach :ViewColumnCollection">
            <tr>
                <td>
                    <input class="form-control" type="text" data-bind="value:Path,entityTypeaheadPath :$root.entity().EntityDefinitionId()" required pattern="^[A-Za-z][A-Za-z0-9_.]*$" />
                </td>
                <td>
                    <input class="form-control" type="text" data-bind="value:Header" required/>
                <td>
                    <a href="#" data-bind="click : $parent.removeViewColumn.call($parent,$data)">
                        <span class="glyphicon glyphicon-remove"></span>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
    <button class="btn btn-default" data-bind="click : addViewColumn">+ Column</button>
</div>