<h1 class="row"><span data-bind="text: title"></span></h1>
<div class="row">
    <div class="col-lg-8">
        <form class="form-horizontal" data-bind="with: rentalapplication">
            <div id="div-application">
                <div>
                    <a data-bind="click: $parent.showDetailsCommand" href="#details-panel" class="btn btn-link pull-right">
                        <i class="icon-camera"></i>Maklumat Lanjut
                    </a>
                </div>
                <h2>Maklumat Pemohon</h2>

                <div class="form-group">
                    <label class="col-lg-2">No Pendaftaran</label><label class="col-lg-1">:</label>
                    <div>
                        <span data-bind="text: RegistrationNo" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-2">Nama Pegawai</label><label class="col-lg-1">:</label>
                    <div>
                        <span data-bind="text: Contact().Name" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-2">No. Telefon Pejabat</label><label class="col-lg-1">:</label>
                    <div>
                        <span data-bind="text: Contact().OfficeNo" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-2">No. Telefon Bimbit</label><label class="col-lg-1">:</label>
                    <div>
                        <span data-bind="text: Contact().MobileNo" />
                    </div>
                </div>
                <div class="form-group" data-bind="visible: IsCompany()">
                    <label class="col-lg-2">Nama Syarikat</label><label class="col-lg-1">:</label>
                    <div>
                        <span data-bind="text: CompanyName" />
                    </div>
                </div>
                <div class="form-group" data-bind="visible: IsCompany()">
                    <label class="col-lg-2">No. SSM</label><label class="col-lg-1">:</label>
                    <div>
                        <span data-bind="text: CompanyRegistrationNo" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-2">Alamat</label><label class="col-lg-1">:</label>
                    <div data-bind="with: Address">
                        <span data-bind="text: UnitNo" />
                        <span data-bind="text: Street" />,
                        <span data-bind="text: Postcode" />
                        <span data-bind="text: City" />,
                        <span data-bind="text: State" />
                    </div>
                </div>
            </div>
        </form>
        <form class="form">
            <h2>Dokumen sokongan</h2>
            <div>
                <a data-bind="click: addAttachmentCommand, visible: rentalapplication().Status() == 'Baru'" class="btn btn-link pull-right">
                    <i class="icon-file-alt"></i>+ Dokumen
                </a>
            </div>
            <div>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Jenis</th>
                            <th>Nama</th>
                            <th>Terima</th>
                            <th>Perlu</th>
                            <th>Lengkap</th>
                            <th>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: rentalapplication().AttachmentCollection">
                        <tr>
                            <td>
                                <input class="form-control" type="text" data-bind="value: Type, uniqueName: true" />
                            </td>
                            <td>
                                <input class="form-control" type="text" data-bind="value: Name, uniqueName: true" />
                            </td>
                            <td>
                                <input type="checkbox" class="checkbox" data-bind="checked: IsReceived" />
                            </td>
                            <td>
                                <input type="checkbox" class="checkbox" data-bind="checked: IsRequired" />
                            </td>
                            <td>
                                <input type="checkbox" class="checkbox" data-bind="checked: IsCompleted" />
                            </td>
                            <td>
                                <a class="btn btn-link" data-bind="click: $root.removeAttachmentCommand">Buang </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
        <form>
            <label class="control-label">Nota</label>
            <div class="">
                <textarea class="form-control" data-bind="value: rentalapplication().Remarks" rows="5" cols="3" />
            </div>
        </form>
    </div>
    <div class="col-lg-4">
        <div class="panel panel-default" id="space">
            <div class="panel-heading">
                <h3 class="panel-title">Maklumat Ruang</h3>
            </div>
            <div class="panel-body">
                <form class="form-inline">
                    <div id="space-Detail" data-bind="with: space">
                        <div class="form-group">
                            <label>Negeri :</label>
                            <span data-bind="text: State" />
                        </div>
                        <div class="form-group">
                            <label>Bandar :</label>
                            <span data-bind="text: City" />
                        </div>
                        <div class="form-group">
                            <label>Nama Bangunan :</label>
                            <span data-bind="text: BuildingName" />
                        </div>
                        <div class="form-group">
                            <label>Tingkat :</label>
                            <span data-bind="text: FloorName" />
                        </div>
                        <div class="form-group">
                            <label>No. Unit :</label>
                            <span data-bind="text: UnitNo" />
                        </div>
                        <div class="form-group">
                            <label>Jenis Ruang :</label>
                            <span data-bind="text: Category" />
                        </div>
                        <div class="form-group">
                            <label>Saiz :</label>
                            <span data-bind="text: Size" />
                        </div>
                        <div class="form-group">
                            <label>Kadar Sewa :</label>
                            <span>RM </span><span data-bind="money: RentalRate" />
                        </div>
                        <div class="form-group">
                            <img alt="map" data-bind="attr: { src: staticMap }" class="thumbnail" src="/Images/accent.png" />
                        </div>
                    </div>
                    <h3>Tambahan</h3>
                    <div data-bind="foreach: rentalapplication().FeatureCollection">
                        <div class="form-group">
                            <span data-bind="text: Name"></span>,
                            <span data-bind="text: Quantity"></span>
                            <span> Unit</span>,
                            <span>RM</span>
                            <span data-bind="money: Charge" />
                        </div>
                    </div>
                    <div class="form-group pull-right">
                        <span class="bold large text-right">JUMLAH SEWAAN :</span>
                        <span class="bold large text-left">RM</span>
                        <span class="bold large text-left" data-bind="money: $root.totalRate" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="details-panel">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <a class="btn btn-mini pull-right" data-dismiss="modal">X</a>
                <h2>Maklumat Lanjut</h2>
            </div>
            <div class="modal-body" data-bind="with: rentalapplication">
                <div class="form-group">
                    <label class="control-label"><strong>No. Permohonan :</strong> </label>
                    <span data-bind="text: RegistrationNo" id="space.RegistrationNo" />
                </div>
                <div class="form-group">
                    <span class="control-label"><strong>Tarikh Permohonan : </strong></span>
                    <span data-bind="date: { value: ApplicationDate, format: 'DD/MM/YYYY' }" />
                </div>
                <div class="form-group" data-bind="with: Contact">
                    <span class="control-label"><strong>Nama Pegawai : </strong></span>
                    <span data-bind="text: Name" id="Contact.Name" />
                </div>
                <div class="form-group" data-bind="visible: IsCompany">
                    <span class="control-label"><strong>Nama Syarikat : </strong></span>
                    <span data-bind="text: CompanyName" />
                </div>
                <div class="form-group" data-bind="with: Contact">
                    <span class="control-label"><strong>No. Telefon (Pejabat) : </strong></span>
                    <span data-bind="text: OfficeNo" />
                </div>
                <div class="form-group" data-bind="with: Contact">
                    <span class="control-label"><strong>No. Telefon (Bimbit) :</strong></span>
                    <span data-bind="text: MobileNo" />
                </div>
                <div class="form-group" data-bind="with: Contact">
                    <span class="control-label"><strong>Email : </strong></span>
                    <span data-bind="text: Email" />
                </div>
                <div class="form-group" data-bind="with: Address">
                    <span class="control-label"><strong>Alamat : </strong></span>
                    <span data-bind="text: Street" />,
                    <span data-bind="text: Postcode" />
                    <span data-bind="text: City" />,
                    <span data-bind="text: State" />
                </div>
                <div class="form-group">
                    <span class="control-label"><strong>Tujuan Permohonan : </strong></span>
                    <span data-bind="text: Purpose" />
                </div>
                <div class="form-group">
                    <span class="control-label"><strong>Pengalaman : </strong></span>
                    <span data-bind="text: Experience" />
                </div>

            </div>
            <div class="modal-footer">
                <input type="button" class="btn btn-default" value="OK" data-dismiss="modal" />
            </div>

        </div>
    </div>
</div>

<div class="modal fade" id="tenant-username-dialog">
    <div class="modal-header">Nama Pengguna</div>
    <div class="modal-body">
        <span>Nama pengguna untuk penyewa baru :</span>
        <input class="form-control" type="text" data-bind="value: username" />
    </div>
    <div class="modal-footer pull-right">
        <a class="btn btn-primary" data-bind="command: createTenantCommand" data-dismiss="modal">OK</a>
        <a class="btn btn-primary" data-dismiss="modal">Batal</a>
    </div>
</div>