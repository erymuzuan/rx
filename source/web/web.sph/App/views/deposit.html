<div>
    <h1>Senarai deposit : </h1>
    <div class="space-list-search-panel row row-fluid" data-bind="with: searchTerm">
        <div class="span10">

            <div class="span2">
                <label>No Pendaftaran</label>
                <input type="text" data-bind="value: registrationNo" />
            </div>
            <div class="span2">
                <label>Kata Kunci</label>
                <input type="text" data-bind="value: keyword" />
            </div>
            <div class="btn-search">
                <button class="btn btn-primary" data-bind="command: $root.searchCommand">
                    <i class="icon-search pull-left"></i>
                    Search
                </button>
            </div>
        </div>

    </div>
    <div>
        <table class="table table-striped" data-bind="filter: { path: 'tbody>tr' }, serverPaging: { entity: 'Deposit', query: 'IsPaid eq 0', list: depositCollection }">
            <thead>
                <tr>
                    <th>No Pendaftaran</th>
                    <th>Deposit (RM)</th>
                    <th>T.Akhir</th>
                    <th>Jumlah Dibayar (RM)</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: depositCollection">
                <tr>
                    <td>
                        <a data-bind="text: RegistrationNo, click: $parent.showDetailsCommand" href="#deposit-modal"></a>
                    </td>
                    <td data-bind="money: Amount"></td>
                    <td data-bind="date: { value: DueDate, format: 'DD/MM/YYYY' }"></td>
                    <td data-bind="money: DepositPaid"></td>
                </tr>
            </tbody>
        </table>
    </div>

</div>
<section id="deposit-modal" class="modal hide fade" style="margin-left: -500px; width: 940px">
    <div class="modal-header">
        <h2>Maklumat Deposit</h2>
    </div>
    <div class="modal-body" style="width: 900px; height: 500px; max-height: 500px">
        <form class="form-horizontal" data-bind="with: deposit">
            <div class="control-group">
                <label class="control-group span1">Deposit : </label>
                <span class="add-on">RM </span>
                <span data-bind="money: Amount" id="Deposit" />
            </div>
            <div class="control-group">
                <label class="control-group span1">Dibayar :</label>
                <span class="add-on">RM </span>
                <span data-bind="money: DepositPaid" id="DepositPaid" />
            </div>
            <div class="control-group">
                <label class="control-group span1">Baki :</label>
                <span class="add-on">RM </span>
                <span data-bind="money: DepositBalance" id="Balance" />
            </div>
        </form>
        <div id="deposit-payment">
            <h2>Pembayaran</h2>
            <a href="#" id="add-deposit-button" data-bind="click: addPaymentCommand" class="pull-right">+ Bayaran
            </a>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>No Resit</th>
                        <th>Jumlah (RM)</th>
                        <th>Tarikh</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody data-bind=" foreach: deposit().DepositPaymentCollection">
                    <tr>
                        <td>
                            <input type="text" class="input-deposit-receiptno" data-bind="value: ReceiptNo, uniqueName: true" /></td>
                        <td>
                            <input type="text" class="input-deposit-amount" data-bind="value: Amount, uniqueName: true" /></td>
                        <td>
                            <input id="offer.Date" class="input-deposit-date" name="Date" type="text" data-bind="kendoDate: Date" /></td>
                        <td>
                            <a href="#" id="remove-deposit-payment" data-bind="click: $root.removeDepositPaymentCommand">- </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <input type="button" value="Simpan" class="save-deposit-payment-button" data-bind="click: saveCommand" data-dismiss="modal" />
        <input type="button" value="Batal" class="close-deposit-payment-button" data-dismiss="modal" />
    </div>
</section>
