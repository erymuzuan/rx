
<link href="/Content/jstree/style.min.css" rel="stylesheet" />
<h1>Web Page Operation Details</h1>
<div class="row">
    <form class="form-horizontal" data-bind="with : operation">

        <div class="form-group">
            <label for="http-method" class="col-lg-2 control-label">HTTP Method</label>

            <div class="col-lg-6">
                <input type="text" data-bind="value: HttpMethod"
                       required="" readonly="readonly"
                       class="form-control" id="http-method">
            </div>
        </div>
        <div class="form-group">
            <label for="url" class="col-lg-2 control-label">Url</label>

            <div class="col-lg-6">
                <input type="text" data-bind="value: Url"
                       required
                       readonly="readonly"
                       class="form-control" id="url">
            </div>
        </div>

        <div class="form-group">
            <label for="name" class="col-lg-2 control-label">Name</label>

            <div class="col-lg-6">
                <input type="text" data-bind="value: Name"
                       required="" pattern="^[A-Za-z_][A-Za-z0-9_]*$"
                       placeholder="Operation name"
                       class="form-control" id="name">
            </div>
        </div>

        <div class="form-group">
            <label for="method-name" class="col-lg-2 control-label">Method Name</label>

            <div class="col-lg-6">
                <input type="text" data-bind="value: MethodName"
                       required="" pattern="^[A-Za-z_][A-Za-z0-9_]*$"
                       placeholder="Method name in the adapter class"
                       class="form-control" id="method-name">
            </div>
        </div>

        <div class="form-group">
            <label for="timeout" class="col-lg-2 control-label">Timeout</label>

            <div class="col-lg-6">
                <input type="text" data-bind="value: Timeout"
                       required="" pattern="^[0-9]*$"
                       placeholder="Timeout in miliseconds"
                       class="form-control" id="timeout">
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-6">
                <div class="checkbox">
                    <label>
                        <input data-bind="checked: IsLoginOperation" id="login-operation" type="checkbox"
                               name="IsLoginOperation"/>
                        Login Operation
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-6">
                <div class="checkbox">
                    <label>
                        <input data-bind="checked: IsLoginPage" id="login-page" type="checkbox" name="IsLoginPage"/>
                        Login Page
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-6">
                <div class="checkbox">
                    <label>
                        <input data-bind="checked: IsLoginRequired" id="login-required" type="checkbox"
                               name="IsLoginRequired"/>
                        Login Required
                    </label>
                </div>
            </div>
        </div>

    </form>
</div>

<div class="row" id="members-panel">
    <h3>Request Schema Designer</h3>
    <div class="col-sm-8">
        <input style="margin: 5px" placeholder="Filter members...." class="form-control" type="search" id="search-box-tree" value="" />
        <div data-bind="tree : {entity: requestSchema, selected: member, searchbox: '#search-box-tree'}">
        </div>
    </div>

    <div class="col-sm-4" data-bind="with: member">
        <h3>Member properties</h3>

        <form class="form" role="form" data-bind="visible:Name()">
            <div class="form-group">
                <label for="member_name">Name</label>
                <input class="form-control" id="member_name" name="member.name" type="text" required data-bind="value: Name" />
            </div>

            <div class="form-group">
                <label for="member-type">Type</label>

                <select class="form-control" id="member-type" data-bind="value:TypeName">
                    <option value="">[Please Select]</option>
                    <option value="System.String, mscorlib">String</option>
                    <option value="System.Int32, mscorlib">Integer</option>
                    <option value="System.Decimal, mscorlib">Decimal</option>
                    <option value="System.DateTime, mscorlib">DateTime</option>
                    <option value="System.Boolean, mscorlib">Boolean</option>
                    <option value="System.Object, mscorlib">Complex</option>
                    <option value="System.Array, mscorlib">Collection</option>
                </select>

            </div>


            <div class="form-group" data-bind="visible: !(TypeName() === 'System.Object, mscorlib'||TypeName() === 'System.Array, mscorlib')">
                <label for="member-default-value" class="control-label">Default Value</label>
                <div class="btn-group" id="member-default-value">
                    <a data-bind="with : DefaultValue, bootstrapDropDown : {}" class="btn btn-link dropdown" href="#">
                        <img data-bind="fieldImage : $type" class="pull-left" alt="." />
                        <!-- ko text : Name -->
                        <!-- /ko -->
                        <i class="fa fa-caret-down"></i>
                    </a>

                    <ul class="dropdown-menu">
                        <li data-bind="with : DefaultValue">
                            <a class="btn btn-link" data-bind="visible: Name() !== '+ Field',unwrapClick: $parent.editField.call($parent, $data, $parent.DefaultValue)">
                                <i class="fa fa-edit"></i>
                                Edit Default Value
                            </a>
                        </li>

                        <li>
                            <a data-bind="unwrapClick: addField,field : 'Constant', accessor : $data.DefaultValue" href="#">
                                <img src="/images/ConstantField.png" alt=" constantfield" class="pull-left" />
                                + Constant Field
                            </a>
                        </li>
                        <li>
                            <a data-bind="unwrapClick: addField,field : 'Function', accessor : $data.DefaultValue" href="#">
                                <img src="/images/FunctionField.png" alt=" FunctionField" class="pull-left" />
                                + Function Field
                            </a>
                        </li>
                    </ul>
                </div>

            </div>

        </form>
    </div>
</div>