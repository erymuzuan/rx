<rules>
  <!-- ace editor -->
  <rule name="ace.mode-csharp">
    <match url="mode-csharp.js" />
    <action type="Rewrite" url="scripts/ace/mode-csharp.js" />
  </rule>
  <rule name="ace.theme-twilight.js">
    <match url="theme-twilight.js" />
    <action type="Rewrite" url="scripts/ace/theme-twilight.js" />
  </rule>
  <rule name="ace.theme-textmate.js">
    <match url="theme-textmate.js" />
    <action type="Rewrite" url="scripts/ace/theme-textmate.js" />
  </rule>
  <rule name="ace.theme- monokai.js">
    <match url="theme- monokai.js" />
    <action type="Rewrite" url="scripts/ace/theme-monokai.js" />
  </rule>
  <rule name="ace.theme-crimson_editor.js">
    <match url="theme-crimson_editor.js" />
    <action type="Rewrite" url="scripts/ace/theme-crimson_editor.js" />
  </rule>
  <rule name="durandal.knockout.js">
    <match url="(Scripts|SphApp)/durandal/knockout.js" />
    <action type="Rewrite" url="resources/scripts/knockout-3.0.0.js" />
  </rule>

  <!-- workflows -->
  <rule name="screen.editor.js">
    <match url="SphApp/viewmodels/screen.editor.js" />
    <action type="Rewrite" url="App/ActivityScreen/Js" />
  </rule>
  <rule name="screen.editor.html">
    <match url="SphApp/views/screen.editor.html" />
    <action type="Rewrite" url="WorkflowDefinition/ScreenEditor" />
  </rule>
  
  <!-- reports definitions
  http://localhost:4436/SphApp/viewmodels/reportdefinition.execute-id.6.js
  http://localhost:4436/SphApp/views/reportdefinition.execute-id.6.html
  -->
  <rule name="rdl.js">
    <match ignoreCase="true" url="sphapp/viewmodels/reportdefinition.execute-id.([0-9]+).js" />
    <action type="Rewrite" url="app/ReportDefinitionExecute/Js/{R:1}" />
  </rule>
  <rule name="rdl.html">
    <match ignoreCase="true" url="sphapp/views/reportdefinition.execute-id([0-9]+).html" />
    <action type="Rewrite" url="app/ReportDefinitionExecute/Html/{R:1}" />
  </rule>
  
  <!-- resources in core.sph 
  <rule name="sphapp.config.js">
    <match ignoreCase="true" url="sphapp/services/config.js" />
    <action type="Rewrite" url="app/config/js" />
  </rule>
  <rule name="core.sph.scripts">
    <match ignoreCase="true" url="(scripts|content|images|sphapp|fonts)/([A-Z0-9_.-]+).(css|png|gif|js|map|woff|eot|html|ttf|svg)" />
    <action type="Rewrite" url="resources/{R:1}/{R:2}.{R:3}" />
  </rule>
  <rule name="core.sph.scripts.sub">
    <match ignoreCase="true" url="(scripts|kendo|content|images|sphapp|fonts)/([A-Z0-9_.]+)/([A-Z0-9_.-]+).(css|png|gif|js|map|woff|eot|html|ttf|svg)" />
    <action type="Rewrite" url="resources/{R:1}/{R:2}.{R:3}.{R:4}" />
  </rule>
  <rule name="core.sph.scripts.sub2">
    <match ignoreCase="true" url="(scripts|kendo|content|images|sphapp|fonts)/([A-Z]+)/([A-Z]+)/([A-Z0-9_.]+).(css|png|gif|js|map|woff|eot|html|ttf|svg)" />
    <action type="Rewrite" url="resources/{R:1}/{R:2}.{R:3}.{R:4}.{R:5}" />
  </rule>
  -->
  <!-- custom entities-->
  <rule name="lead.search">
    <match ignoreCase="true" url="search/(Lead|Account|Customer)" />
    <action type="Rewrite" url="{R:1}/search" />
  </rule>
  <rule name="entity.api">
    <match ignoreCase="true" url="api/(Lead|Account|Customer)" />
    <action type="Rewrite" url="api/index/{R:1}" />
  </rule>



</rules>
