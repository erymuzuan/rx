<div class="row-fluid">
    <div class="row">
        <h1 class="span12">Buat tawaran kontrak baru</h1>
    </div>
    <div class="row-fluid">
        <div class="span3">
        </div>
        <div class="span9">
            <div class="tabbable">
                <ul class="nav nav-tabs">
                    <li>
                        <a href="#am" data-toggle="tab">Am</a>
                    </li>
                    <li>
                        <a href="#clauses" data-toggle="tab">Klaus</a>
                    </li>
                    <li>
                        <a href="#documents" data-toggle="tab">Dokumen</a>
                    </li>
                    <li>
                        <a href="#history" data-toggle="tab">Sejarah</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="am" class="tab-pane active">
                        <form class="form-horizontal">

                            <div class="control-group">
                                <label for="contract.Type" class="control-label">Jenis Contract</label>
                                <div class="controls">
                                    <select data-bind="options: contractTypeOptions, optionsText: '[Please select contract type]', optionsText: 'Item2', optionsValue: 'Item1', value: selectedTemplateId" id="contract.Type" name="contract.Type">
                                    </select>
                                </div>
                            </div>
                            <div>
                                <button class="btn btn-primary" data-bind="command: generateContractCommand"
                                    data-loading-text="processing..."
                                    data-complete-text="Done!">
                                    Generate</button>
                            </div>
                        </form>

                        <form class="form-horizontal">
                            <h3>maklumat Kontak</h3>
                            <div class="control-group">
                                <label for="contract.Title" class="control-label">Tajuk Perjanjian</label>
                                <div class="controls">
                                    <input data-bind="value: contract.Title" class="input-xxlarge" id="contract.Title" type="text" name="contract.Title" />
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="contract.ReferenceNo" class="control-label">No Rujukan</label>
                                <div class="controls">
                                    <input class="input-large" data-bind="value: contract.ReferenceNo" id="contract.ReferenceNo" type="text" name="contract.ReferenceNo" />
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="contract.Date" class="control-label">Tarikh</label>
                                <div class="controls">
                                    <input data-bind="value: contract.Date" id="contract.Date" type="text" class="k-datepicker" name="contract.Date" />
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="contract.Value" class="control-label">Nilai</label>
                                <div class="controls">
                                    <div class="input-prepend">
                                        <span class="add-on">RM</span>
                                        <input data-bind="value: contract.Value" id="contract.Value" type="text" name="contract.Value" />
                                    </div>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="contract.Period" class="control-label">Tempoh</label>
                                <div class="controls">
                                    <div class="input-append">
                                        <input data-bind="value: contract.Period" id="contract.Period" type="number" name="contract.Period" />
                                        <span class="add-on" data-bind="text: contract.PeriodUnit "></span>
                                    </div>
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="contract.Option" class="control-label">Pilihan</label>
                                <div class="controls">
                                    <input data-bind="value: contract.Option" id="contract.Option" type="number" name="contract.Option" />
                                </div>
                            </div>
                            <div class="form-horizontal">
                                <h3>Pemilik Kontrak</h3>
                                <div data-bind="with: contract.Owner">

                                    <div class="control-group">
                                        <label for="contract.Owner.Name" class="control-label">Nama</label>
                                        <div class="controls">
                                            <input data-bind="value: Name" id="contract.Owner.Name" type="text" name="contract.Owner.Name" />
                                        </div>
                                    </div>

                                    <div class="control-group">
                                        <label for="contractOwnerTelephone" class="control-label">Telefon</label>
                                        <div class="controls">
                                            <input data-bind="value: TelephoneNo" id="contractOwnerTelephone" type="text" name="Telephone" />
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label for="contractOwnerFax" class="control-label">No Fax</label>
                                        <div class="controls">
                                            <input data-bind="value: FaxNo" id="contractOwnerFax" type="text" name="FaxNo" />
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label for="contractOwnerEmail" class="control-label">Emel</label>
                                        <div class="controls">
                                            <input data-bind="value: Email" id="contractOwnerEmail" type="text" name="Email" />
                                        </div>
                                    </div>
                                    <h4>Alamat</h4>
                                    <div class="control-group">
                                        <label for="contractOwnerStreet" class="control-label">Jalan</label>
                                        <div class="controls">
                                            <input data-bind="value: Address.Street" id="contractOwnerStreet" type="text" name="Address.Street" />
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label for="contractOwnerCity" class="control-label">Bandar</label>
                                        <div class="controls">
                                            <input data-bind="value: Address.City" id="contractOwnerCity" type="text" name="Address.City" />
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label for="contractOwnerPostcode" class="control-label">Poskod</label>
                                        <div class="controls">
                                            <input data-bind="value: Address.Postcode" id="contractOwnerPostcode" type="text" name="Address.Postcode" />
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label for="contractOwnerState" class="control-label">Negeri</label>
                                        <div class="controls">
                                            <input data-bind="value: Address.State" id="contractOwnerState" type="text" name="Address.State" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h3>Penerima Kontrak</h3>
                            <div data-bind="with: contract.ContractingParty">
                                <div class="control-group">
                                    <label for="contractingPartyName" class="control-label">Nama</label>
                                    <div class="controls">
                                        <input data-bind="value: Name" id="contractingPartyName" type="text" name="Name" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="contractingPartyRegistrationNo" class="control-label">No Pendaftaran</label>
                                    <div class="controls">
                                        <input data-bind="value: RegistrationNo" id="contractingPartyRegistrationNo" type="text" name="RegistrationNo" />
                                    </div>
                                </div>
                                <h4>Pegawai Untuk dihubungi :  </h4>
                                <div class="control-group">
                                    <label for="Contact.Name" class="control-label">Nama</label>
                                    <div class="controls">
                                        <input data-bind="value: Contact.Name" id="Contact.Name" type="text" name="Contact.Name" />
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label for="Contact.Role" class="control-label">Jawatan</label>
                                    <div class="controls">
                                        <input data-bind="value: Contact.Role" id="Contact.Role" type="text" name="Contact.Role" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="Contact.MobileNo" class="control-label">No Telefon Bimbit</label>
                                    <div class="controls">
                                        <input data-bind="value: Contact.MobileNo" id="Contact.MobileNo" type="text" name="Contact.MobileNo" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="Contact.OfficeNo" class="control-label">No Telefon Pejabat</label>
                                    <div class="controls">
                                        <input data-bind="value: Contact.OfficeNo" id="Contact.OfficeNo" type="text" name="Contact.OfficeNo" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="Contact.Email" class="control-label">Emel</label>
                                    <div class="controls">
                                        <input data-bind="value: Contact.Email" id="Contact.Email" type="text" name="Contact.Email" />
                                    </div>
                                </div>
                                <h4>Alamat</h4>
                                <div class="control-group">
                                    <label for="ContractingParty.Address.Street" class="control-label">Jalan</label>
                                    <div class="controls">
                                        <input data-bind="value: Address.Street" id="ContractingParty.Address.Street" type="text" name="ContractingParty.Address.Street" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="ContractingParty.Address.City" class="control-label">Bandar</label>
                                    <div class="controls">
                                        <input data-bind="value: Address.City" id="ContractingParty.Address.City" type="text" name="ContractingParty.Address.City" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="ContractingParty.Address.Postcode" class="control-label">Poskod</label>
                                    <div class="controls">
                                        <input data-bind="value: Address.Postcode" id="ContractingParty.Address.Postcode" type="text" name="ContractingParty.Address.Postcode" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="ContractingParty.Address.State" class="control-label">Negeri</label>
                                    <div class="controls">
                                        <input data-bind="value: Address.State" id="ContractingParty.Address.State" type="text" name="ContractingParty.Address.State" />
                                    </div>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="contract.Remarks" class="control-label">Catatan</label>
                                <div class="controls">
                                    <input data-bind="value: contract.Remarks" id="contract.Remarks" type="text" name="Remarks" />
                                </div>
                            </div>
                        </form>

                    </div>
                    <div id="clauses" class="tab-pane">
                        <div class="container-fluid">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Topics</th>
                                        <th>Clauses
                                            
                                                <a href="#" data-bind="click: collapseDetailsCommand" class="pull-right">
                                                    <i class="icon-collapse"></i>Collapse
                                                </a>

                                        </th>
                                    </tr>
                                </thead>
                                <tbody data-bind="foreach: contract.TopicCollection">
                                    <tr>
                                        <td>
                                            <input type="text" class="input-large" data-bind="value: Title" />
                                            <textarea rows="5" class="input-large" data-bind="value: Text"></textarea>
                                        </td>
                                        <td>
                                            <ul data-bind="foreach: ClauseCollection">
                                                <li>
                                                    <input class="input-xxlarge" data-bind="value: Title" type="text" />

                                                    <textarea class="input-xxlarge" rows="8" data-bind="value: Text"></textarea>
                                                    <button data-bind="click: $root.removeClauseCommand.bind($data, $parent)" class="close">
                                                        &times;
                                                    </button>

                                                </li>
                                            </ul>
                                            <a class="btn" data-bind="click: $parent.startAddClauseCommand"
                                                href="#add-clause"
                                                data-toggle="modal">+Clause</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div>
                                <a class="btn" data-bind="click: startAddTopicCommand"
                                    href="#add-topic"
                                    data-toggle="modal">+ Topic</a>

                            </div>
                        </div>

                    </div>
                    <div id="documents" class="tab-pane">

                        <div class="container-fluid">
                            <div class="span7">

                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Title</th>
                                            <th>Entension</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: contract.DocumentCollection">
                                        <tr>
                                            <td data-bind="text: Title"></td>
                                            <td data-bind="text: Extension"></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="#documents-template" class="btn btn-inverse" data-bind="command: startGenerateDocumentCommand, enable : contract.ContractId"
                                        data-loading-text="getting templates.."
                                    data-toggle="modal"
                                    data-complete-text="Generate agreement document">
                                    Generate agreement document</a>
                            </div>

                            <div class="span2">
                                <h3>Versions</h3>
                            </div>
                        </div>
                    </div>
                    <div id="history" class="tab-pane">
                        <h2>hhh</h2>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div>
    <button class="btn btn-primary" data-bind="command: saveCommand"
        data-loading-text="Saving..."
        data-complete-text="Saved!!!!!">
        Save</button>
</div>



<section class="modal hide" id="add-topic">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3>Topic</h3>
    </div>
    <div class="modal-body">
        <form>
            <div class="control-group">
                <label for="topic.Title" class="control-label">Tajuk</label>
                <div class="controls">
                    <input data-bind="value: topic.Title" id="Text1" type="text" name="topic.Title" />
                </div>
            </div>
            <div class="control-group">
                <label for="topic.Text" class="control-label">Text</label>
                <div class="controls">
                    <textarea class="input-large input-block-level" rows="5" data-bind="value: topic.Text" id="Textarea1" name="topic.Text"></textarea>
                </div>
            </div>
            <div class="control-group">
                <label for="topic.Description" class="control-label">Nota</label>
                <div class="controls">
                    <textarea class="input-block-level" data-bind="value: topic.Description" id="Textarea2" rows="3" name="topic.Description" />
                </div>
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
        <input data-dismiss="modal" type="button" class="btn btn-primary" value="OK" data-bind="click: addTopicCommand" />
    </div>
</section>


<section class="modal hide" id="add-clause">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3>Klaus</h3>
    </div>
    <div class="modal-body">
        <form>
            <div class="control-group">
                <label for="clause.No" class="control-label">No</label>
                <div class="controls">
                    <input data-bind="value: clause.No" id="clause.No" type="text" name="clause.No" />
                </div>
            </div>
            <div class="control-group">
                <label for="clause.Title" class="control-label">Tajuk</label>
                <div class="controls">
                    <input data-bind="value: clause.Title" id="clause.Title" type="text" name="clause.Title" />
                </div>
            </div>
            <div class="control-group">
                <label for="clause.Text" class="control-label">Text</label>
                <div class="controls">
                    <textarea class="input-large input-block-level" rows="5" data-bind="value: clause.Text" id="clause.Text" name="topic.Text"></textarea>
                </div>
            </div>
            <div class="control-group">
                <label for="clause.Description" class="control-label">Nota</label>
                <div class="controls">
                    <textarea class="input-block-level" data-bind="value: clause.Description" id="clause.Description" rows="3" name="clause.Description" />
                </div>
            </div>

        </form>
    </div>

    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
        <input data-dismiss="modal" type="button" class="btn btn-primary" value="OK" data-bind="click: addClauseCommand" />
    </div>
</section>


<section class="modal hide" id="documents-template">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3>Pilih jenis template</h3>
    </div>
    <div class="modal-body">
        <label for="selectedDocumentTemplate">Templates</label>
        <select name="selectedDocumentTemplate" id="selectedDocumentTemplate" data-bind="options: documentTemplateCollection, value: selectedDocumentTemplate, optionsText: 'Name', optionsValue: 'StoreId', optionsCaption:'Sila pilih template'"></select>
    </div>

    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
        <input data-dismiss="modal" type="button" class="btn btn-primary" value="OK" data-bind="click: generateDocumentCommand" />
    </div>
</section>
