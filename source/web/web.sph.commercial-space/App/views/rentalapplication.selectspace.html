<h1 class="header">Ruang Untuk Disewa</h1>

<div class="row space-search-panel" data-bind="with: searchTerm">

    <div class="span4">
        <h3>Kategori</h3>
        <div>
            <a data-toggle="modal" href="#categories-dialog" class="btn btn-link">
                <i class="icon-caret-down pull-right"></i>
                <span data-bind="text: categories" class="pull-right"></span>
            </a>
        </div>

    </div>
    <div class="span4">
        <h3>Negeri</h3>
        <div>
            <a data-toggle="modal" href="#states-dialog" class="btn btn-link">
                <i class="icon-caret-down pull-right"></i>
                <span data-bind="text: states" class="pull-right"></span>
            </a>
        </div>
    </div>
    <div class="control-group span2">
        <button class="btn btn-primary" data-bind="command: $root.searchCommand">
            <i class="icon-search pull-left"></i>
            Search
        </button>
    </div>
</div>

<div class="row" data-bind="filter: { path: 'section>div' }">

    <section id="available-space-list" class="span12" data-bind="foreach: items">
        <h2 data-bind="text: name"></h2>
        <!-- ko foreach : spaces -->
        <div>
            <article>
                <div>

                    <!-- ko if: PhotoCollection().length > 0 -->
                    <div data-bind="with: PhotoCollection()[0]" class="space-image-panel">
                        <img data-bind="attr: { src: '/Image/Store/' + StoreId(), alt: Title }, text: Title" />

                    </div>
                    <!-- /ko -->
                      <!-- ko if: PhotoCollection().length === 0 -->
                    <div class="space-image-panel">
                        <img src="/Images/no-image.png" />
                    </div>
                    <!-- /ko -->
                    <span class="category" data-bind="text: Category" />di
                    <span class="building-name" data-bind="text: BuildingName" />
                    <form id="div-building">

                        <div>
                            <span class="location">Lokasi :</span>
                            <span class="lot-name" data-bind="text: LotName" />
                            <span class="floor-name" data-bind="text: FloorName" />,
                            <span class="building-name" data-bind="text: BuildingName" />,
                            <span class="city" data-bind="text: City" />,
                            <span class="state" data-bind="text: State" />.
                        </div>

                        <div>
                            <span class="label">Saiz :</span>
                            <span class="size" data-bind="text: Size" />mps
                       
                            <span class="label">Kadar Sewa :</span>
                            RM <span class="rental-rate" data-bind="money: RentalRate" />
                        </div>
                        <a class="btn btn-success" data-bind="attr: { href: '/#/application.detail-templateid.' + $parents[0].id + '/' + CommercialSpaceId() }">Mohon Sewa</a>

                    </form>
                    <!-- ko if: PhotoCollection().length > 0 -->
                    <h3>Gambar</h3>
                    <ul data-bind="foreach: PhotoCollection">
                        <li>
                            <a href="/#" data-bind="text: Title"></a>
                        </li>
                    </ul>

                    <!-- /ko -->

                </div>
            </article>
        </div>

        <!-- /ko -->

    </section>

</div>


<section class="modal hide" id="categories-dialog" data-bind="with: searchTerm">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3>Pilih kategori ruang</h3>
    </div>
    <div class="modal-body">
        <!-- ko  foreach: categoryOptions-->
        <label class="checkbox">
            <input type="checkbox" data-bind="value: $data, checked: $parent.categories" />
            <!-- ko text:$data -->
            <!-- /ko -->
        </label>
        <!-- /ko -->
    </div>

    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Tutup</a>
    </div>
</section>

<section class="modal hide" id="states-dialog" data-bind="with: searchTerm">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3>Pilih negeri ruang</h3>
    </div>
    <div class="modal-body">
        <!-- ko  foreach: stateOptions-->
        <label class="checkbox">
            <input type="checkbox" data-bind="value: $data, checked: $parent.states" />
            <!-- ko text:$data -->
            <!-- /ko -->
        </label>
        <!-- /ko -->
    </div>

    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Tutup</a>
    </div>
</section>
