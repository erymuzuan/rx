<div data-bind="visible: isBusy">
    <img src="/Images/spinner-md.gif" />
</div>
<section id="building-details" class="view">
    <div class="page-header">
        <h1 class="page-title" data-bind="text: title"></h1>
    </div>
    <div class="labelLeft">
        <label title="Name">Nama : </label>
        <input type="text" name="building.Name" data-bind="value: building.Name" />
    </div>
    <div class="labelLeft">
        <label title="LotNo">No. Lot : </label>
        <input type="text" name="building.LotNo" data-bind="value: building.LotNo" />
    </div>
    <div class="labelLeft">
        <label title="Street">Jalan : </label>
        <input type="text" name="building.Address.Street" data-bind="value: building.Address.Street" />
    </div>
    <div class="labelLeft">
        <label title="City">Bandar : </label>
        <input type="text" name="building.Address.City" data-bind="value: building.Address.City" />
    </div>
    <div class="labelLeft">
        <label title="Postcode">Poskod : </label>
        <input type="text" name="building.Address.Postcode" data-bind="value: building.Address.Postcode" />
    </div>
    <div class="labelLeft">
        <label title="State">Negeri : </label>
        <select name="building.Address.State" data-bind="value: building.Address.State">
            <option value="Kuala Lumpur">Kuala Lumpur</option>
            <option value="Selangor">Selangor</option>
            <option value="Perak">Perak</option>
            <option value="Pahang">Pahang</option>
            <option value="Pulau Pinang">Pulau Pinang</option>
            <option value="Melaka">Melaka</option>
            <option value="Johor">Johor</option>
            <option value="Kelantan">Kelantan</option>
            <option value="Perlis">Perlis</option>
            <option value="Sabah">Sabah</option>
            <option value="Sarawak">Sarawak</option>
            <option value="Terengganu">Terengganu</option>
            <option value="Kedah">Kedah</option>
            <option value="Negeri Sembilan">Negeri Sembilan</option>
        </select>
    </div>
    <div class="labelLeft">
        <label title="Size">Size (sq/ft) : </label>
        <input type="text" name="building.Size" data-bind="value: building.Size" />
    </div>
    <div class="labelLeft">
        <label title="Floors">Tingkat : </label>
        <input type="text" name="building.Floors" data-bind="value: building.Floors" />
    </div>
    <div class="labelLeft">
        <label title="Status">Status : </label>
        <select name="building.Status" data-bind="value: building.Status">
            <option value="Good">Good</option>
            <option value="Ready">Ready to Occupy</option>
            <option value="Damage">Damage</option>
            <option value="Maintenance">Under Maintenance</option>
        </select>
    </div>
    <a type="button" class="btn btn-success" data-toggle="modal" data-bind="click: showMapCommand" href="#map-panel">Show Map</a>
    <div class="labelLeft">
        <input type="button" name="add-floor-button" class="btn" data-bind="click: addFloorCommand" value="+ Floor" />
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Size</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody data-bind="foreach: building.FloorCollection">
                <tr>
                    <td>
                        <input type="text" data-bind="value: Name, uniqueName: true" /></td>
                    <td>
                        <input type="text" data-bind="value: Size, uniqueName: true" /></td>
                    <td>
                        <input type="button" data-bind="click: $parent.removeFloorCommand" class="btn btn-mini" value="-" /></td>
                    <td>
                        <input type="button" data-bind="click: $parent.addLotCommand" class="btn btn-mini" value="+Lot" /></td>
                    <td>
                        <input type="button" data-bind="click: $parent.viewFloorPlanCommand" class="btn btn-mini" value="Pelan Lantai" /></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div>
        <input type="button" class="btn btn-primary" value="Simpan" data-bind="command: saveCommand" data-loading-text="saving..." data-complete-text="Simpan" />
    </div>


</section>

<section class="modal hide google-maps" id="map-panel" style="margin-left: -500px;width: 940px">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3>Peta bangunan</h3>
    </div>
    <div class="modal-body" style="width: 900px; height: 700px; max-height: 700px">
        <div id="map" style="width: 900px; height: 700px"></div>
    </div>

    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
        <input data-dismiss="modal" type="button" class="btn btn-primary" value="save map" data-bind="click: saveMapCommand" />
    </div>
</section>

