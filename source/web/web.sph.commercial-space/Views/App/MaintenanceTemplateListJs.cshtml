@model dynamic

@{
    Layout = null;
}

<script type="text/javascript" data-script="true">
     define(['services/datacontext'], function (context) {
         var isBusy = ko.observable(false),
             activate = function () {
                 var query = String.format("MaintenanceTemplateId gt 0");
                 var tcs = new $.Deferred();
                 context.loadAsync("MaintenanceTemplate", query)
                     .then(function (lo) {
                         isBusy(false);
                         vm.maintenanceTemplates(lo.itemCollection);
                         tcs.resolve(true);
                     });
                 return tcs.promise();
             };


         var vm = {
             activate: activate,
             maintenanceTemplates: ko.observableArray(),
             toolbar: {
                 addNew: {
                     location: "/#/template.maintenance-id.0/0",
                     caption: "Tambah Template Penyelenggaraan"
                 }
             }
         };

         return vm;
     });

 </script>