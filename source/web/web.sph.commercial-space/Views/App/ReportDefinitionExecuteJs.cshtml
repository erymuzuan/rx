@model Bespoke.SphCommercialSpaces.Domain.ReportDefinition
@{
    Layout = null;
}

<script type="text/javascript" data-script="true">
    define(['services/datacontext'], function (context) {
        var isBusy = ko.observable(false),
            activate = function (routeData) {
                var id = parseInt(routeData.id),
                    query = String.format("ReportDefinitionId eq {0}", id),
                    tcs = new $.Deferred();


                context.loadOneAsync("ReportDefinition", query)
                    .done(vm.rdl)
                    .done(tcs.resolve);

                return tcs.promise();
            },
            viewAttached = function () {


            },
            exportCommand = function () {

            },
            print = function() {
                
            };


        var vm = {
            isBusy: isBusy,
            activate: activate,
            viewAttached: viewAttached,
            rdl: ko.observable(),
            toolbar: {
                exportCommand: exportCommand,
                printCommand : print
            }

        };
        return vm;
    });
</script>
