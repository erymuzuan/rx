{"log":{"pages":[], "comment":"exported @ 20/07/2014 6:41:52", "entries":[{"time":294, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":715, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Cache-Control", "value":"max-age=0"}, {"name":"Accept", "value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/web-api-clients/calling-a-web-api-from-a-net-client"}, {"name":"Accept-Encoding", "value":"gzip,deflate,sdch"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=%5B%5BB%5D%5D"}], "bodySize":0, "url":"http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"%5B%5BB%5D%5D"}], "method":"GET", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":294, "dns":0, "send":0, "connect":0}, "response":{"headersSize":263, "bodySize":10103, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":33228, "text":"\n \n<!DOCTYPE HTML>\n<!--[if IE]><![endif]-->\n<html>\n  <head>\n    <title>HttpClient Message Handlers | The ASP.NET Site</title>\n    <meta charset=\"UTF-8\" />\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"/> \n  \t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n  \t<meta name=\"application-name\" content=\"Microsoft ASP.NET Site\"/>\n  \t\r\n<meta name=\"twitter:card\" content=\"summary\" />\r\n<meta name=\"twitter:site\" content=\"@aspnet\" />\r\n<meta name=\"twitter:domain\" content=\"asp.net\" />\r\n<meta name=\"twitter:image:src\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta name=\"twitter:title\" content=\"HttpClient Message Handlers\" />\r\n<meta name=\"twitter:description\" content=\"A message handler is a class that receives an HTTP request and returns an HTTP response. Typically, a series of message handlers are chained together. The first handler receives an HTTP request, do...\" />\r\n<meta property=\"og:type\" content=\"article\" />\r\n<meta property=\"og:title\" content=\"HttpClient Message Handlers\" />\r\n<meta property=\"og:description\" content=\"A message handler is a class that receives an HTTP request and returns an HTTP response. Typically, a series of message handlers are chained together. The first handler receives an HTTP request, do...\" />\r\n<meta property=\"og:image\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta property=\"og:url\" content=\"http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers\" />\r\n<meta property=\"og:site_name\" content=\"The Official Microsoft ASP.NET Site\" />\r\n<meta property=\"fb:admins\" content=\"scott.hanselman\" />\r\n<meta property=\"fb:admins\" content=\"jon.galloway\" />\r\n<meta property=\"fb:admins\" content=\"robmcm\" />\n        \n    \n  <link href='http://i2.asp.net/umbraco-beta-css/articles.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"all\" />\n\n    <!--[if lte IE 7]>\n      <link href='http://i2.asp.net/umbraco-beta-css/lteIE7.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"screen\" />\n    <![endif]-->\n\t<!--[if lte IE 9]>\n      <script src='http://i1.asp.net/umbraco-beta-scripts/html5.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n    <![endif]-->\n    <link href='http://i2.asp.net/images/content/favicon.ico?cdn_id=2014-07-01-001' rel=\"shortcut icon\" />\n\t<link rel=\"alternate\" type=\"application/rss+xml\" title=\"Latest ASP.NET Content\" href=\"http://www.asp.net/rss/content\" />\n\t  \n\t<!-- Anti-Clickjacking script -->\n\t<style id=\"antiClickjack\">body{display:none !important;}</style>\n\t<script type=\"text/javascript\">\n\t\tif (self === top) {\n\t\t\tvar antiClickjack = document.getElementById(\"antiClickjack\");\n\t\t\tantiClickjack.parentNode.removeChild(antiClickjack);\n\t\t\t} else {\n\t\t\ttop.location = self.location;\n\t\t}\n\t </script>\n\t  \n  </head>\n  <body class=''>\n    \n    <div class='allcontent '>\n    <header>\n      <a href=\"http://www.asp.net/\" id=\"logo\" data-s-object-id=\"logo\">The ASP.NET Site</a><form method=\"post\" id=\"search-query-masthead\" action=\"/search\"><div class=\"search-header\"><input type=\"text\" class=\"search-input input-common\" value=\"Search ASP.NET\" data-uitext=\"Search ASP.NET\" data-uitype=\"autoreset\" name=\"searchterm\" /><input type=\"submit\" name=\"submit\" class=\"search-submit\" value=\"\" title=\"Search\" /></div></form>\n      <div class=\"language-translation\"><a href=\"javascript:;\" data-s-object-id=\"language\" class=\"language\">Language</a><div class=\"common-dropdown translator collapse\"><div id=\"MicrosoftTranslatorWidget\"><noscript><a href=\"https://ssl.microsofttranslator.com/bv.aspx?a=http%3a%2f%2fwww.asp.net%2f\">Translate this page</a><br />Powered by <a href=\"http://www.bing.com/translator\">Microsoft\u00ae Translator</a></noscript></div><script type=\"text/javascript\"> setTimeout(function() { var s = document.createElement(\"script\"); s.type = \"text/javascript\"; s.charset = \"UTF-8\"; s.src = ((location && location.href && location.href.indexOf('https') == 0) ? \"https://ssl.microsofttranslator.com\" : \"http://www.microsofttranslator.com\" ) + \"/ajax/v2/widget.aspx?siteData=VtgDR3VIw5EtyA5GLjVPQ4KJzPXxm9obABaIozZaC4rASMWk5L25KWUqh6Ar6NGqURTEzXUWnpx5iWdUN5sLtdEPpCp2cWHOJbvpyPB4G1CbqhzmBvRz5N5LcA3XLkI9&ctf=true&settings=manual&mode=manual&from=en&layout=ts&hideLanguages=ar,bg,ca,da,nl,et,fi,el,ht,he,hi,ms,mww,hu,id,lv,lt,no,fa,ro,sk,sl,sv,tlh,th,uk,ur,vi\"; var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild); }, 0);    \r\n\t\t  </script></div></div>\n\t  <script type=\"text/javascript\">var currentUsername = '';</script><div class=\"nav-user logged-out\"><p><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers\">Sign In</a><span class=\"separator\">|</span><a href=\"http://login.asp.net/login/createuser.aspx?ReturnUrl=http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers\">Join</a></p></div>   \n\t  <nav class=\"clearfix nav-main\"><ul><li><a href=\"http://www.asp.net/\" data-s-object-id=\"navbar\">Home</a></li><li><a href=\"http://www.asp.net/get-started\" data-s-object-id=\"navbar\">\r\n      Get Started\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"learnpulldown selected\">\r\n\t\t\tLearn <span class=\"icon-dropdown\"></span></a>\n\t    <div class=\"dropdown-learn\">\n\t<div class=\"col\">\n\t  <h2>WEB APPLICATIONS</h2>\n\t  <ul>\n\t\t<li><a href=\"http://www.asp.net/web-forms\" data-s-object-id=\"learn\">Web Forms</a></li>\n\t\t<li><a href=\"http://www.asp.net/mvc\" data-s-object-id=\"learn\">MVC</a></li>\n\t\t<li><a href=\"http://www.asp.net/web-pages\" data-s-object-id=\"learn\">Web Pages/Razor</a></li>\n\t\t<li><a href=\"http://www.asp.net/mobile\" data-s-object-id=\"learn\">Mobile</a></li>\n\t\t<li><a href=\"http://www.asp.net/single-page-application\" data-s-object-id=\"learn\">Single Page Apps</a></li>\n\t  </ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>WEB SERVICES / API's</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/web-api\" data-s-object-id=\"learn\">Web API</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>REAL TIME</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/signalr\" data-s-object-id=\"learn\">SignalR</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>DATA ACCESS</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/entity-framework\" data-s-object-id=\"learn\">Entity Framework</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>ONE ASP.NET</h2>\n\t\t<ul>\n                         <li><a href=\"http://www.asp.net/identity\" data-s-object-id=\"learn\">ASP.NET Identity</a></li>\n                         <li><a href=\"http://www.asp.net/aspnet\" data-s-object-id=\"learn\">Common ASP.NET Features</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio/overview/2013/aspnet-and-web-tools-20132-preview-for-visual-studio-2013-release-notes\" data-s-object-id=\"learn\">Current Release (2013.2)</a></li>\n                         <li><a href=\"http://www.asp.net/vnext\" data-s-object-id=\"learn\">Future Release</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio\" data-s-object-id=\"learn\">Tooling/IDE</a></li>\n\t\t</ul>\n\t</div>\n  </div>\n      </li><li><a href=\"http://www.asp.net/hosting\" data-s-object-id=\"navbar\">\r\n      Hosting\r\n    </a></li><li><a href=\"http://www.asp.net/downloads\" data-s-object-id=\"navbar\">\r\n      Downloads\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"communitypulldown\">\r\n\t\t\tCommunity <span class=\"icon-dropdown\"></span></a>\n\t  \n\t\t<div class=\"dropdown-community\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community\" data-s-object-id=\"community\">Overview</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/spotlight\" data-s-object-id=\"community\">Daily Spotlight</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/articles\" data-s-object-id=\"community\">Articles of the Day</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/news\" data-s-object-id=\"community\">News</a></li>\n\t\t\t\t\t<li><a href=\"http://weblogs.asp.net/\" data-s-object-id=\"community\">Community Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/microsoft-blogs\" data-s-object-id=\"community\">Microsoft Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/events\" data-s-object-id=\"community\">Events</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/recognition/hall-of-fame\" data-s-object-id=\"community\">Hall Of Fame</a></li>\n\t\t\t\t\t<li><a href=\"http://code.msdn.microsoft.com/site/search?f&#91;0&#93;.Type=Technology&amp;f&#91;0&#93;.Value=ASP.NET&amp;sortBy=Date\" data-s-object-id=\"community\">MSDN Samples</a></li>\n\t\t\t\t\t<li><a href=\"http://forums.asp.net/\" data-s-object-id=\"community\">Forums</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/websites\" data-s-object-id=\"community\">Community Websites</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/support\" data-s-object-id=\"community\">Community Support</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t  </li><li><a href=\"http://forums.asp.net/\" data-s-object-id=\"navbar\">Forums</a></li><li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"navbar\">Help</a></li></ul></nav><div class=\"social\"><span>Follow us on<a href=\"https://www.facebook.com/asp.net\" class=\"facebook\"></a><a href=\"http://twitter.com/aspnet\" class=\"twitter\"></a></span></div>\n    </header>\n      \n  <div class=\"content article-page article-content\">\n    <div class=\"learn-nav\"><ul class=\"common-tabs\"><li class=\"heading\">Web API:</li><li><a data-s-object-id=\"subnav\" href=\"/web-api/overview\" class=\"selected\">Overview<span></span></a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/tutorials\" class=\"\">Tutorials</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/videos\" class=\"\">Videos</a></li> <li><a data-s-object-id=\"subnav\" href=\"/aspnet/samples/aspnet-web-api\" class=\"\">Samples</a></li> <li><a data-s-object-id=\"subnav\" href=\"http://forums.asp.net/1246.aspx/1?ASP+NET+Web+API\" class=\"\">Forum</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/open-source\" class=\"\">Open Source</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/books\" class=\"\">Books</a></li>  </ul></div>  \n    <input type=\"hidden\" id=\"loggedIn\" value=\"False\" />\n      <div class=\"module-chapters extended clearfix\">\n        <div id=\"MicroText4\" data-adzoneid=\"0\" data-adtypeid=\"448\" class=\"ad-120x90 ad \" data-adwidth=\"209px\" data-adheight=\"130px\" style=\"width:209px;height:130px;\"></div> \n\t\t<div class=\"chapter-box toc-menu\"><ul class=\"chapters\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/getting-started-with-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Getting Started</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\">Getting Started with Web API 2 (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.apress.com/9781430247258\">Pro ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster.pdf\">ASP.NET Web API Poster</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster-grayscale.pdf\">ASP.NET Web API Poster (Grayscale)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/whitepapers/aspnet-data-access-content-map\">Recommended Resources for ASP.NET Data Access</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/releases\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Releases<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-22\">What's New in ASP.NET Web API 2.2<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-21\">What's New in ASP.NET Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/visual-studio/overview/2013/release-notes#TOC11\">What's New in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/identity/overview/migrations\">Upgrade from ASP.NET Membership to ASP.NET Identity</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis\" data-s-object-id=\"left sidebar\" class=\"\">Creating Web APIs</a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 2 with Entity Framework 6</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\">1. \r\n\t\t\t\tCreate the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-2\">2. \r\n\t\t\t\tAdd Models and Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-3\">3. \r\n\t\t\t\tSeed the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-4\">4. \r\n\t\t\t\tHandling Entity Relations</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-5\">5. \r\n\t\t\t\tCreate Data Transfer Objects (DTOs)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-6\">6. \r\n\t\t\t\tCreate the JavaScript Client</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-7\">7. \r\n\t\t\t\tCreate the View (UI)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-8\">8. \r\n\t\t\t\tDisplay Item Details</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-9\">9. \r\n\t\t\t\tAdd a New Item to the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-10\">10. \r\n\t\t\t\tPublish the App to Azure Websites</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" href=\"http://codebetter.com/howarddierking/2012/11/09/versioning-restful-services/\">Versioning RESTful Services</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://www.windowsazure.com/en-us/develop/net/tutorials/rest-service-using-web-api/#bkmk_createmvc4app\">Mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-aspnet-web-forms\">Using Web API with ASP.NET Web Forms</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-api-help-pages\">Creating Web API Help Pages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-a-web-api-that-supports-crud-operations\">Implementing CRUD Operations in Web API 1</a></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 1 with Entity Framework 5</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\">1. \r\n\t\t\t\tOverview and Creating the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-2\">2. \r\n\t\t\t\tCreating the Domain Models</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-3\">3. \r\n\t\t\t\tCreating an Admin Controller</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-4\">4. \r\n\t\t\t\tAdding an Admin View</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-5\">5. \r\n\t\t\t\tCreating a Dynamic UI with Knockout.js</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-6\">6. \r\n\t\t\t\tCreating Product and Order Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-7\">7. \r\n\t\t\t\tCreating the Main Page</a></li></ul></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow expanded\"><span></span></a><a href=\"/web-api/overview/web-api-clients\" data-s-object-id=\"left sidebar\" class=\"\">Web API Clients</a><ul class=\"articles active\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-a-web-api-from-a-net-client\">Calling a Web API From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hover\" href=\"/web-api/overview/web-api-clients/httpclient-message-handlers\">HttpClient Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-web-api-from-a-windows-phone-8-application\">Calling Web API from a Windows Phone 8 Application (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-routing-and-actions\" data-s-object-id=\"left sidebar\" class=\"\">Web API Routing and Actions</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api\">Routing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\">Attribute Routing in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-and-action-selection\">Routing and Action Selection</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/create-a-rest-api-with-attribute-routing\">Create a REST API with Attribute Routing</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/exception-handling\">Exception Handling in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/action-results\">Action Results in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/web-api-global-error-handling\">Web API Global Error Handling</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/working-with-http\" data-s-object-id=\"left sidebar\" class=\"\">Working with HTTP</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-message-handlers\">HTTP Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-1\">Sending HTML Form Data: Form-urlencoded Data</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Sending HTML Form Data: File Upload and Multipart MIME</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/2012/06/batching-handler-for-web-api.html\">Batching HTTP Messages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-cookies\">HTTP Cookies</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/formats-and-model-binding\" data-s-object-id=\"left sidebar\" class=\"\">Formats and Model Binding</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/media-formatters\">Media Formatters</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/json-and-xml-serialization\">JSON and XML Serialization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/bson-support-in-web-api-21\">BSON Support in Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/content-negotiation\">Content Negotiation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api\">Model Validation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\">Parameter Binding in Web API</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData<span class=\"new\"></span></a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData v4<span class=\"new\"></span></a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\">Create an OData v4 Endpoint <span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-client-app\">Create an OData v4 Client App (C#)<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/entity-relations-in-odata-v4\">Entity Relations in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-actions-and-functions\">Actions and Functions in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-containment-in-web-api-22\">Containment in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/using-a-singleton-in-an-odata-endpoint-in-web-api-22\">Create a Singleton in OData v4<span class=\"new\"></span></a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\" data-s-object-id=\"left sidebar\" class=\"\">OData v3</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\">Creating an OData v3 Endpoint</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/working-with-entity-relations\">Supporting Entity Relations in OData v3</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/odata-actions\">OData Actions in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/calling-an-odata-service-from-a-net-client\">Calling an OData Service From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://msdn.microsoft.com/en-us/magazine/dn201742.aspx\">A New Option for Creating OData: Web API</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/supporting-odata-query-options\">Supporting OData Query Options in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/using-$select,-$expand,-and-$value\">Using $select, $expand, and $value in Web API OData</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-routing-conventions\">OData Routing Conventions</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-security-guidance\">OData Security Guidance</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/security\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Security<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"/identity\">ASP.NET Identity</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api\">Authentication and Authorization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/individual-accounts-in-web-api\">Individual Accounts in Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/external-authentication-services\">External Authentication Services (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/basic-authentication\">Basic Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/forms-authentication\">Forms Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/integrated-windows-authentication\">Integrated Windows Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/security/enabling-cross-origin-requests-in-web-api\">Enabling Cross-Origin Requests<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/preventing-cross-site-request-forgery-(csrf)-attacks\">Preventing Cross-Site Request Forgery (CSRF) Attacks</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://vimeo.com/user22258446/review/79095048/9a4d62f61c\">Securing ASP.NET Web APIs</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/working-with-ssl-in-web-api\">Working with SSL</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/aspnet/overview/owin-and-katana\">OWIN and Katana</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/hosting-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Deployment and Hosting</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/use-owin-to-self-host-web-api\">Use OWIN to Self-Host Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/host-aspnet-web-api-in-an-azure-worker-role\">Host ASP.NET Web API 2 in an Azure Worker Role</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-rest-service-aspnet-api-sql-database/\">Create a mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-deploy/\">How to Deploy a Windows Azure Web Site</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/self-host-a-web-api\">Self-Host Web API 1 (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/testing-and-debugging\" data-s-object-id=\"left sidebar\" class=\"\">Testing and Debugging</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/tracing-in-aspnet-web-api\">Tracing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-with-aspnet-web-api\">Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-controllers-in-web-api\">Unit Testing Controllers in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/mocking-entity-framework-when-unit-testing-aspnet-web-api-2\">Mocking Entity Framework when Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/archive/2013/04/04/debugging-asp-net-web-api-with-route-debugger.aspx\">Debugging ASP.NET Web API with Route Debugger</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/\">Troubleshooting Windows Azure Web Sites in Visual Studio</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/troubleshooting-http-405-errors-after-publishing-web-api-applications\">Troubleshooting HTTP 405 Errors after Publishing Web API Applications</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/extensibility\" data-s-object-id=\"left sidebar\" class=\"\">Extensibility</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/configuring-aspnet-web-api\">Configuring Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/using-the-web-api-dependency-resolver\">Dependency Injection for Web API Controllers</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/resources\" data-s-object-id=\"left sidebar\" class=\"\">Additional Resources</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/\">.NET Web Development and Tools Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/aspnet/\">Brad Wilson's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/henrikn/\">Henrik's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/hongmeig1/\">Hongmei's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/kiranchalla/\">Kiran's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/jmstall/\">Mike Stall's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/yaohuang1/\">Yao's Blog</a></li></ul></li></ul></div>\n      </div>\n      <div class=\"col-right-learn\">\n        <span><div class=\"article-title keyline\"><h1><div itemprop=\"name\">HttpClient Message Handlers <span></span></div></h1><div class=\"details\"><div class=\"author-header\">\r\n\t\t  By\r\n         <a href=\"#author-36870\" itemprop=\"author\" class=\"print-no\">Mike Wasson</a><span class=\"print-only-inline\">Mike Wasson</span><span class=\"separator\">|</span><time datetime=\"2012-10-01\">October 1, 2012</time></div><div class=\"print-bar\"><a href=\"javascript:window.print();\">Print</a></div><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"HttpClient Message Handlers\" style=\"display:none;\">Tweet</a></span></div></div></div><p>A <em>message handler</em> is a class that receives an HTTP request and returns an HTTP response. </p>\r\n            \r\n<p>Typically, a series of message handlers are chained together. The first handler receives an HTTP request, does some processing, and gives the request to the next handler. At some point, the response is created and goes back up the chain. This pattern is called a <em>delegating</em> handler.</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i3.asp.net/media/3717192/webapi_handlers_01.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p>On the client side, the <strong>HttpClient</strong> class uses a message handler to process requests. The default handler is <strong>HttpClientHandler</strong>, which sends the request over the network and gets the response from the server. You can insert custom message handlers into the client pipeline:</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i2.asp.net/media/3718011/webapi_handlers_03.png?cdn_id=2014-07-01-001\" /></p>      \r\n\r\n<p class=\"note\">ASP.NET Web API also uses message handlers on the server side. For more information, see <a href=\"/web-api/overview/working-with-http/http-message-handlers\">HTTP Message Handlers</a>.</p>\r\n\r\n\r\n<h2>Custom Message Handlers</h2>\r\n\r\n<p>To write a custom message handler, derive from <strong> System.Net.Http.DelegatingHandler</strong> and override the <strong>SendAsync</strong> method. Here is the method signature:</p>\r\n\r\n<pre class=\"prettyprint\">Task&lt;HttpResponseMessage&gt; SendAsync(\r\n    HttpRequestMessage request, CancellationToken cancellationToken);</pre>\r\n\r\n<p>The method takes an <strong>HttpRequestMessage</strong> as input and asynchronously returns an \r\n<strong>HttpResponseMessage</strong>. A typical implementation does the following:</p>\r\n\r\n<ol>\r\n    <li>Process the request message.</li>\r\n    <li>Call <code>base.SendAsync</code> to send the request to the inner handler.</li>\r\n    <li>The inner handler returns a response message. (This step is asynchronous.)</li>\r\n    <li>Process the response and return it to the caller.</li>\r\n</ol>\r\n\r\n<p>The following example shows a message handler that adds a custom header to the outgoing request:</p>\r\n\r\n<pre class=\"prettyprint\">\r\nclass MessageHandler1 : DelegatingHandler\r\n{\r\n    private int _count = 0;\r\n\r\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, System.Threading.CancellationToken cancellationToken)\r\n    {\r\n        _count++;\r\n        request.Headers.Add(\"X-Custom-Header\", _count.ToString());\r\n        return base.SendAsync(request, cancellationToken);\r\n    }\r\n}</pre>\r\n\r\n<p>The call to <code>base.SendAsync</code> is asynchronous. If the handler does any work after this call, use the <strong>await</strong> keyword to resume execution after the method completes. The following example shows a handler that logs error codes. The logging itself is not very interesting, but the example shows how to get at the response inside the handler.</p>\r\n\r\n<pre class=\"prettyprint\">\r\nclass LoggingHandler : DelegatingHandler\r\n{\r\n    StreamWriter _writer;\r\n\r\n    public LoggingHandler(Stream stream)\r\n    {\r\n        _writer = new StreamWriter(stream);\r\n    }\r\n\r\n    protected override <mark>async</mark> Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, System.Threading.CancellationToken cancellationToken)\r\n    {\r\n        var response = <mark>await</mark> base.SendAsync(request, cancellationToken);\r\n\r\n        if (!response.IsSuccessStatusCode)\r\n        {\r\n            _writer.WriteLine(\"{0}\\t{1}\\t{2}\", request.RequestUri, \r\n                (int)response.StatusCode, response.Headers.Date);\r\n        }\r\n        return response;\r\n    }\r\n\r\n    protected override void Dispose(bool disposing)\r\n    {\r\n        if (disposing)\r\n        {\r\n            _writer.Dispose();\r\n        }\r\n        base.Dispose(disposing);\r\n    }\r\n}\r\n</pre>\r\n\r\n<h2>Adding Message Handlers to the Client Pipeline</h2>\r\n\r\n<p>To add custom handlers to <strong>HttpClient</strong>, use the <strong>HttpClientFactory.Create</strong> method:</p>\r\n\r\n<pre class=\"prettyprint\">\r\nHttpClient client = HttpClientFactory.Create(new Handler1(), new Handler2(), new Handler3());\r\n</pre>\r\n\r\n<p>Message handlers are called in the order that you pass them into the <strong>Create</strong> method. Because handlers are nested, the response message travels in the other direction. That is, the last handler is the first to get the response message.</p><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"HttpClient Message Handlers\" style=\"display:none;\">Tweet</a></span></div><h2>Author Information</h2><div id=\"author-36870\" class=\"author-box article clearfix\"><img src=\"http://i1.asp.net/media/3132378/mike-wasson.jpg?cdn_id=2014-07-01-001\" alt=\"Mike Wasson\"/><p><strong>Mike Wasson</strong>\u00a0&ndash;\u00a0Mike Wasson is a programmer-writer at Microsoft. </p></div></span>\t\t\n        <input type=\"hidden\" data-documentid=\"43130\" /><input type=\"hidden\" data-pickerid=\"43131\" /><div class=\"article-comments module-comment\"><div class=\"module-comment-header\"><div class=\"col-left\"><h2 class=\"icon-rss-head\">Comments (<span id=\"spanCommentCount\">0</span>) <a href=\"/rss/comments/43131\" class=\"icon\" title=\"RSS Feed\">RSS Feed</a></h2></div><div class=\"col-right\"><span id=\"leaveCommentHeader\" class=\"comments-status\"><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers\">You must be logged in to leave a comment.</a></span><span id=\"comments-toggle\"><a href=\"javascript:var x = 'show comments';\" class=\"show-comments\"> </a></span></div><div class=\"clear\"> </div></div><ul id=\"comment-list\" style=\"display: none;\"> </ul></div>        \n      </div>\n\t  <div class=\"clear\"></div>\n  </div>\n  <div class=\"clear\">\r\n</div>\r\n<div id=\"BottomAd\" data-adzoneid=\"0\" data-adtypeid=\"4\" class=\"ad-728x90 ad \" data-adwidth=\"728px\" data-adheight=\"90px\" style=\"width:728px;height:90px;\"></div> \n\n      <div class=\"footer\">\n<div class=\"clear\"></div>\n<ul class=\"footer-menu\">\n<li class=\"block\">\n<h2>This site is managed for Microsoft by Neudesic, LLC. | &copy; 2014 Microsoft. All rights reserved.</h2>\n</li>\n<li><a href=\"http://www.asp.net/privacy\" data-s-object-id=\"footer\">Privacy Statement</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/terms-of-use\" data-s-object-id=\"footer\">Terms of Use</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"footer\">Contact Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.neudesicmediagroup.com/Advertising.aspx?site=asp\" data-s-object-id=\"footer\">Advertise With Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.umbraco.org\" data-s-object-id=\"footer\">CMS by Umbraco</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://azure.microsoft.com/\">Hosted on Microsoft Azure</a></li></ul>\n<ul class=\"footer-menu last\">\n<li class=\"block\">\n<h2><a class=\"logo-microsoft\" title=\"Microsoft\" href=\"http://microsoft.com\" data-s-object-id=\"footer\">Microsoft</a></h2>\n</li>\n<li><a href=\"http://aspnet.uservoice.com\" data-s-object-id=\"footer\">Feedback on ASP.NET</a><span class=\"separator\">|</span></li>\n<li><a href=\"https://connect.microsoft.com/VisualStudio\" data-s-object-id=\"footer\">File Bugs</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/support\">Support Lifecycle</a></li>\n</ul>\n</div>\n    </div>    \n    <div class=\"modal modal-webpi\" style=\"display:none;\"><a href=\"javascript:;\" class=\"modal-close\" data-s-object-id=\"webpi (close)\">\u2716</a><div class=\"modal-contents\"><h2>Installs powered by the Microsoft Web Platform Installer</h2><p>The product(s) you are about to install leverage the Web Platform Installer (WebPI) for installation. By downloading and using the Web Platform Installer (WebPI), you agree to the <a href=\"http://go.microsoft.com/fwlink/?LinkId=251729\">license terms</a> and <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for WebPI. This installer will contact Microsoft over the Internet to retrieve product information.  WebPI uses the Microsoft Customer Experience Improvement Program (CEIP), which is turned on by default, see <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for more information.  Some of the Microsoft software obtained through WebPI may use CEIP. To view which software uses CEIP, see <a href=\"http://go.microsoft.com/?LinkID=9816722\">here</a>.</p><a href=\"javascript:;\" class=\"btn-install\" data-s-object-id=\"webpi (install)\">Accept and install</a></div></div><div class=\"modal-cover\" style=\"display:none;\"></div>\n\t\r\n<input type=\"hidden\" id=\"meta-contentType\" value=\"ArticleContentPicker\" />\r\n<input type=\"hidden\" id=\"meta-contentLiveDate\" value=\"2012-10-01\" />\r\n<input type=\"hidden\" id=\"meta-articleContentType\" value=\"Tutorial\" />\r\n<input type=\"hidden\" id=\"meta-articleContentTypeValue\" value=\"32\" />\n    \n  \r\n    \r\n  \r\n    <script id=\"tmpl-comment\" type=\"text/x-jquery-tmpl\">\r\n      <li id=\"comment_${id}\">\r\n        <a href=\"http://forums.asp.net/members/${username}.aspx\"><img src=\"${avatar}\" alt=\"${username}\" class=\"social-avatar\" /></a>\r\n        {{html comment}}\r\n        <p class=\"comment-details\"><span class=\"comment-details-left\"><a href=\"http://forums.asp.net/members/${username}.aspx\">${username}</a> - ${created}</span>\r\n\t\t\r\n        </p>\r\n      </li>  \r\n    </script>\r\n  \r\n\r\n  \n\n      <script src='http://i1.asp.net/umbraco-beta-scripts/jquery-1.7.2.min.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n      <script type=\"text/javascript\">$.ajaxSetup({ cache: false });var omni_guid=\"1efaa462-3923-48e0-8879-d9769349c02e\";</script>\n    \n    <script type=\"text/javascript\">var s=document.createElement('script');s.type='text/javascript';s.src='http://i1.asp.net/umbraco-beta-scripts/prod-article.min.js?cdn_id=2014-07-01-001';document.body.appendChild(s);</script>\n\n    <script type=\"text/javascript\">if ((Math.floor(Math.random()*100))<5){$.getScript(\"/scripts/prod-survey.min.js?cdn_id=2014-07-01-001\");}</script>\n    <noscript><a href=\"http://www.omniture.com\" title=\"Web Analytics\"><img src=\"http://msstonojsaspnet.112.2O7.net/b/ss/msstonojsaspnet/1/H.20.2--NS/0\" height=\"1\" width=\"1\" alt=\"omni\" /></a></noscript>\n  </body>\n</html>  ", "size":43331, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"10103"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:40:51 GMT"}]}, "startedDateTime":"2014-07-20T06:40:53.1656872+08:00", "cache":{}}, {"time":299, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":745, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Content-Length", "value":"0"}, {"name":"Cache-Control", "value":"max-age=0"}, {"name":"Accept", "value":"application/json, text/javascript, */*; q=0.01"}, {"name":"Origin", "value":"http://www.asp.net"}, {"name":"X-Requested-With", "value":"XMLHttpRequest"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers"}, {"name":"Accept-Encoding", "value":"gzip,deflate"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=%5B%5BB%5D%5D"}], "bodySize":0, "url":"http://www.asp.net/base/MscComment/GetCommentsCountForDocument/43130", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"%5B%5BB%5D%5D"}], "method":"POST", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":299, "dns":0, "send":0, "connect":0}, "response":{"headersSize":235, "bodySize":1, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":0, "text":"2", "size":1, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"1"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:40:52 GMT"}]}, "startedDateTime":"2014-07-20T06:40:53.8087219+08:00", "cache":{}}, {"time":552, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":703, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Cache-Control", "value":"max-age=0"}, {"name":"Accept", "value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/web-api-clients/httpclient-message-handlers"}, {"name":"Accept-Encoding", "value":"gzip,deflate,sdch"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=%5B%5BB%5D%5D"}], "bodySize":0, "url":"http://www.asp.net/web-api/overview/working-with-http/http-message-handlers", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"%5B%5BB%5D%5D"}], "method":"GET", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":552, "dns":0, "send":0, "connect":0}, "response":{"headersSize":263, "bodySize":12662, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":41307, "text":"\n \n<!DOCTYPE HTML>\n<!--[if IE]><![endif]-->\n<html>\n  <head>\n    <title>HTTP Message Handlers | The ASP.NET Site</title>\n    <meta charset=\"UTF-8\" />\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"/> \n  \t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n  \t<meta name=\"application-name\" content=\"Microsoft ASP.NET Site\"/>\n  \t\r\n<meta name=\"twitter:card\" content=\"summary\" />\r\n<meta name=\"twitter:site\" content=\"@aspnet\" />\r\n<meta name=\"twitter:domain\" content=\"asp.net\" />\r\n<meta name=\"twitter:image:src\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta name=\"twitter:title\" content=\"HTTP Message Handlers\" />\r\n<meta name=\"twitter:description\" content=\"A message handler is a class that receives an HTTP request and returns an HTTP response. Message handlers derive from the abstract HttpMessageHandler class. Typically, a series of message handlers...\" />\r\n<meta property=\"og:type\" content=\"article\" />\r\n<meta property=\"og:title\" content=\"HTTP Message Handlers\" />\r\n<meta property=\"og:description\" content=\"A message handler is a class that receives an HTTP request and returns an HTTP response. Message handlers derive from the abstract HttpMessageHandler class. Typically, a series of message handlers...\" />\r\n<meta property=\"og:image\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta property=\"og:url\" content=\"http://www.asp.net/web-api/overview/working-with-http/http-message-handlers\" />\r\n<meta property=\"og:site_name\" content=\"The Official Microsoft ASP.NET Site\" />\r\n<meta property=\"fb:admins\" content=\"scott.hanselman\" />\r\n<meta property=\"fb:admins\" content=\"jon.galloway\" />\r\n<meta property=\"fb:admins\" content=\"robmcm\" />\n        \n    \n  <link href='http://i2.asp.net/umbraco-beta-css/articles.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"all\" />\n\n    <!--[if lte IE 7]>\n      <link href='http://i2.asp.net/umbraco-beta-css/lteIE7.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"screen\" />\n    <![endif]-->\n\t<!--[if lte IE 9]>\n      <script src='http://i1.asp.net/umbraco-beta-scripts/html5.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n    <![endif]-->\n    <link href='http://i2.asp.net/images/content/favicon.ico?cdn_id=2014-07-01-001' rel=\"shortcut icon\" />\n\t<link rel=\"alternate\" type=\"application/rss+xml\" title=\"Latest ASP.NET Content\" href=\"http://www.asp.net/rss/content\" />\n\t  \n\t<!-- Anti-Clickjacking script -->\n\t<style id=\"antiClickjack\">body{display:none !important;}</style>\n\t<script type=\"text/javascript\">\n\t\tif (self === top) {\n\t\t\tvar antiClickjack = document.getElementById(\"antiClickjack\");\n\t\t\tantiClickjack.parentNode.removeChild(antiClickjack);\n\t\t\t} else {\n\t\t\ttop.location = self.location;\n\t\t}\n\t </script>\n\t  \n  </head>\n  <body class=''>\n    \n    <div class='allcontent '>\n    <header>\n      <a href=\"http://www.asp.net/\" id=\"logo\" data-s-object-id=\"logo\">The ASP.NET Site</a><form method=\"post\" id=\"search-query-masthead\" action=\"/search\"><div class=\"search-header\"><input type=\"text\" class=\"search-input input-common\" value=\"Search ASP.NET\" data-uitext=\"Search ASP.NET\" data-uitype=\"autoreset\" name=\"searchterm\" /><input type=\"submit\" name=\"submit\" class=\"search-submit\" value=\"\" title=\"Search\" /></div></form>\n      <div class=\"language-translation\"><a href=\"javascript:;\" data-s-object-id=\"language\" class=\"language\">Language</a><div class=\"common-dropdown translator collapse\"><div id=\"MicrosoftTranslatorWidget\"><noscript><a href=\"https://ssl.microsofttranslator.com/bv.aspx?a=http%3a%2f%2fwww.asp.net%2f\">Translate this page</a><br />Powered by <a href=\"http://www.bing.com/translator\">Microsoft\u00ae Translator</a></noscript></div><script type=\"text/javascript\"> setTimeout(function() { var s = document.createElement(\"script\"); s.type = \"text/javascript\"; s.charset = \"UTF-8\"; s.src = ((location && location.href && location.href.indexOf('https') == 0) ? \"https://ssl.microsofttranslator.com\" : \"http://www.microsofttranslator.com\" ) + \"/ajax/v2/widget.aspx?siteData=VtgDR3VIw5EtyA5GLjVPQ4KJzPXxm9obABaIozZaC4rASMWk5L25KWUqh6Ar6NGqURTEzXUWnpx5iWdUN5sLtdEPpCp2cWHOJbvpyPB4G1CbqhzmBvRz5N5LcA3XLkI9&ctf=true&settings=manual&mode=manual&from=en&layout=ts&hideLanguages=ar,bg,ca,da,nl,et,fi,el,ht,he,hi,ms,mww,hu,id,lv,lt,no,fa,ro,sk,sl,sv,tlh,th,uk,ur,vi\"; var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild); }, 0);    \r\n\t\t  </script></div></div>\n\t  <script type=\"text/javascript\">var currentUsername = '';</script><div class=\"nav-user logged-out\"><p><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/http-message-handlers\">Sign In</a><span class=\"separator\">|</span><a href=\"http://login.asp.net/login/createuser.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/http-message-handlers\">Join</a></p></div>   \n\t  <nav class=\"clearfix nav-main\"><ul><li><a href=\"http://www.asp.net/\" data-s-object-id=\"navbar\">Home</a></li><li><a href=\"http://www.asp.net/get-started\" data-s-object-id=\"navbar\">\r\n      Get Started\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"learnpulldown selected\">\r\n\t\t\tLearn <span class=\"icon-dropdown\"></span></a>\n\t    <div class=\"dropdown-learn\">\n\t<div class=\"col\">\n\t  <h2>WEB APPLICATIONS</h2>\n\t  <ul>\n\t\t<li><a href=\"http://www.asp.net/web-forms\" data-s-object-id=\"learn\">Web Forms</a></li>\n\t\t<li><a href=\"http://www.asp.net/mvc\" data-s-object-id=\"learn\">MVC</a></li>\n\t\t<li><a href=\"http://www.asp.net/web-pages\" data-s-object-id=\"learn\">Web Pages/Razor</a></li>\n\t\t<li><a href=\"http://www.asp.net/mobile\" data-s-object-id=\"learn\">Mobile</a></li>\n\t\t<li><a href=\"http://www.asp.net/single-page-application\" data-s-object-id=\"learn\">Single Page Apps</a></li>\n\t  </ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>WEB SERVICES / API's</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/web-api\" data-s-object-id=\"learn\">Web API</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>REAL TIME</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/signalr\" data-s-object-id=\"learn\">SignalR</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>DATA ACCESS</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/entity-framework\" data-s-object-id=\"learn\">Entity Framework</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>ONE ASP.NET</h2>\n\t\t<ul>\n                         <li><a href=\"http://www.asp.net/identity\" data-s-object-id=\"learn\">ASP.NET Identity</a></li>\n                         <li><a href=\"http://www.asp.net/aspnet\" data-s-object-id=\"learn\">Common ASP.NET Features</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio/overview/2013/aspnet-and-web-tools-20132-preview-for-visual-studio-2013-release-notes\" data-s-object-id=\"learn\">Current Release (2013.2)</a></li>\n                         <li><a href=\"http://www.asp.net/vnext\" data-s-object-id=\"learn\">Future Release</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio\" data-s-object-id=\"learn\">Tooling/IDE</a></li>\n\t\t</ul>\n\t</div>\n  </div>\n      </li><li><a href=\"http://www.asp.net/hosting\" data-s-object-id=\"navbar\">\r\n      Hosting\r\n    </a></li><li><a href=\"http://www.asp.net/downloads\" data-s-object-id=\"navbar\">\r\n      Downloads\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"communitypulldown\">\r\n\t\t\tCommunity <span class=\"icon-dropdown\"></span></a>\n\t  \n\t\t<div class=\"dropdown-community\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community\" data-s-object-id=\"community\">Overview</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/spotlight\" data-s-object-id=\"community\">Daily Spotlight</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/articles\" data-s-object-id=\"community\">Articles of the Day</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/news\" data-s-object-id=\"community\">News</a></li>\n\t\t\t\t\t<li><a href=\"http://weblogs.asp.net/\" data-s-object-id=\"community\">Community Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/microsoft-blogs\" data-s-object-id=\"community\">Microsoft Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/events\" data-s-object-id=\"community\">Events</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/recognition/hall-of-fame\" data-s-object-id=\"community\">Hall Of Fame</a></li>\n\t\t\t\t\t<li><a href=\"http://code.msdn.microsoft.com/site/search?f&#91;0&#93;.Type=Technology&amp;f&#91;0&#93;.Value=ASP.NET&amp;sortBy=Date\" data-s-object-id=\"community\">MSDN Samples</a></li>\n\t\t\t\t\t<li><a href=\"http://forums.asp.net/\" data-s-object-id=\"community\">Forums</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/websites\" data-s-object-id=\"community\">Community Websites</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/support\" data-s-object-id=\"community\">Community Support</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t  </li><li><a href=\"http://forums.asp.net/\" data-s-object-id=\"navbar\">Forums</a></li><li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"navbar\">Help</a></li></ul></nav><div class=\"social\"><span>Follow us on<a href=\"https://www.facebook.com/asp.net\" class=\"facebook\"></a><a href=\"http://twitter.com/aspnet\" class=\"twitter\"></a></span></div>\n    </header>\n      \n  <div class=\"content article-page article-content\">\n    <div class=\"learn-nav\"><ul class=\"common-tabs\"><li class=\"heading\">Web API:</li><li><a data-s-object-id=\"subnav\" href=\"/web-api/overview\" class=\"selected\">Overview<span></span></a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/tutorials\" class=\"\">Tutorials</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/videos\" class=\"\">Videos</a></li> <li><a data-s-object-id=\"subnav\" href=\"/aspnet/samples/aspnet-web-api\" class=\"\">Samples</a></li> <li><a data-s-object-id=\"subnav\" href=\"http://forums.asp.net/1246.aspx/1?ASP+NET+Web+API\" class=\"\">Forum</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/open-source\" class=\"\">Open Source</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/books\" class=\"\">Books</a></li>  </ul></div>  \n    <input type=\"hidden\" id=\"loggedIn\" value=\"False\" />\n      <div class=\"module-chapters extended clearfix\">\n        <div id=\"MicroText4\" data-adzoneid=\"0\" data-adtypeid=\"448\" class=\"ad-120x90 ad \" data-adwidth=\"209px\" data-adheight=\"130px\" style=\"width:209px;height:130px;\"></div> \n\t\t<div class=\"chapter-box toc-menu\"><ul class=\"chapters\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/getting-started-with-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Getting Started</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\">Getting Started with Web API 2 (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.apress.com/9781430247258\">Pro ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster.pdf\">ASP.NET Web API Poster</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster-grayscale.pdf\">ASP.NET Web API Poster (Grayscale)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/whitepapers/aspnet-data-access-content-map\">Recommended Resources for ASP.NET Data Access</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/releases\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Releases<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-22\">What's New in ASP.NET Web API 2.2<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-21\">What's New in ASP.NET Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/visual-studio/overview/2013/release-notes#TOC11\">What's New in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/identity/overview/migrations\">Upgrade from ASP.NET Membership to ASP.NET Identity</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis\" data-s-object-id=\"left sidebar\" class=\"\">Creating Web APIs</a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 2 with Entity Framework 6</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\">1. \r\n\t\t\t\tCreate the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-2\">2. \r\n\t\t\t\tAdd Models and Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-3\">3. \r\n\t\t\t\tSeed the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-4\">4. \r\n\t\t\t\tHandling Entity Relations</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-5\">5. \r\n\t\t\t\tCreate Data Transfer Objects (DTOs)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-6\">6. \r\n\t\t\t\tCreate the JavaScript Client</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-7\">7. \r\n\t\t\t\tCreate the View (UI)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-8\">8. \r\n\t\t\t\tDisplay Item Details</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-9\">9. \r\n\t\t\t\tAdd a New Item to the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-10\">10. \r\n\t\t\t\tPublish the App to Azure Websites</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" href=\"http://codebetter.com/howarddierking/2012/11/09/versioning-restful-services/\">Versioning RESTful Services</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://www.windowsazure.com/en-us/develop/net/tutorials/rest-service-using-web-api/#bkmk_createmvc4app\">Mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-aspnet-web-forms\">Using Web API with ASP.NET Web Forms</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-api-help-pages\">Creating Web API Help Pages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-a-web-api-that-supports-crud-operations\">Implementing CRUD Operations in Web API 1</a></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 1 with Entity Framework 5</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\">1. \r\n\t\t\t\tOverview and Creating the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-2\">2. \r\n\t\t\t\tCreating the Domain Models</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-3\">3. \r\n\t\t\t\tCreating an Admin Controller</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-4\">4. \r\n\t\t\t\tAdding an Admin View</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-5\">5. \r\n\t\t\t\tCreating a Dynamic UI with Knockout.js</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-6\">6. \r\n\t\t\t\tCreating Product and Order Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-7\">7. \r\n\t\t\t\tCreating the Main Page</a></li></ul></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-clients\" data-s-object-id=\"left sidebar\" class=\"\">Web API Clients</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-a-web-api-from-a-net-client\">Calling a Web API From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/httpclient-message-handlers\">HttpClient Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-web-api-from-a-windows-phone-8-application\">Calling Web API from a Windows Phone 8 Application (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-routing-and-actions\" data-s-object-id=\"left sidebar\" class=\"\">Web API Routing and Actions</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api\">Routing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\">Attribute Routing in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-and-action-selection\">Routing and Action Selection</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/create-a-rest-api-with-attribute-routing\">Create a REST API with Attribute Routing</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/exception-handling\">Exception Handling in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/action-results\">Action Results in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/web-api-global-error-handling\">Web API Global Error Handling</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow expanded\"><span></span></a><a href=\"/web-api/overview/working-with-http\" data-s-object-id=\"left sidebar\" class=\"\">Working with HTTP</a><ul class=\"articles active\"><li><a data-s-object-id=\"left sidebar\" class=\" hover\" href=\"/web-api/overview/working-with-http/http-message-handlers\">HTTP Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-1\">Sending HTML Form Data: Form-urlencoded Data</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Sending HTML Form Data: File Upload and Multipart MIME</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/2012/06/batching-handler-for-web-api.html\">Batching HTTP Messages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-cookies\">HTTP Cookies</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/formats-and-model-binding\" data-s-object-id=\"left sidebar\" class=\"\">Formats and Model Binding</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/media-formatters\">Media Formatters</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/json-and-xml-serialization\">JSON and XML Serialization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/bson-support-in-web-api-21\">BSON Support in Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/content-negotiation\">Content Negotiation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api\">Model Validation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\">Parameter Binding in Web API</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData<span class=\"new\"></span></a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData v4<span class=\"new\"></span></a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\">Create an OData v4 Endpoint <span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-client-app\">Create an OData v4 Client App (C#)<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/entity-relations-in-odata-v4\">Entity Relations in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-actions-and-functions\">Actions and Functions in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-containment-in-web-api-22\">Containment in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/using-a-singleton-in-an-odata-endpoint-in-web-api-22\">Create a Singleton in OData v4<span class=\"new\"></span></a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\" data-s-object-id=\"left sidebar\" class=\"\">OData v3</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\">Creating an OData v3 Endpoint</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/working-with-entity-relations\">Supporting Entity Relations in OData v3</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/odata-actions\">OData Actions in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/calling-an-odata-service-from-a-net-client\">Calling an OData Service From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://msdn.microsoft.com/en-us/magazine/dn201742.aspx\">A New Option for Creating OData: Web API</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/supporting-odata-query-options\">Supporting OData Query Options in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/using-$select,-$expand,-and-$value\">Using $select, $expand, and $value in Web API OData</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-routing-conventions\">OData Routing Conventions</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-security-guidance\">OData Security Guidance</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/security\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Security<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"/identity\">ASP.NET Identity</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api\">Authentication and Authorization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/individual-accounts-in-web-api\">Individual Accounts in Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/external-authentication-services\">External Authentication Services (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/basic-authentication\">Basic Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/forms-authentication\">Forms Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/integrated-windows-authentication\">Integrated Windows Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/security/enabling-cross-origin-requests-in-web-api\">Enabling Cross-Origin Requests<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/preventing-cross-site-request-forgery-(csrf)-attacks\">Preventing Cross-Site Request Forgery (CSRF) Attacks</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://vimeo.com/user22258446/review/79095048/9a4d62f61c\">Securing ASP.NET Web APIs</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/working-with-ssl-in-web-api\">Working with SSL</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/aspnet/overview/owin-and-katana\">OWIN and Katana</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/hosting-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Deployment and Hosting</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/use-owin-to-self-host-web-api\">Use OWIN to Self-Host Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/host-aspnet-web-api-in-an-azure-worker-role\">Host ASP.NET Web API 2 in an Azure Worker Role</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-rest-service-aspnet-api-sql-database/\">Create a mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-deploy/\">How to Deploy a Windows Azure Web Site</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/self-host-a-web-api\">Self-Host Web API 1 (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/testing-and-debugging\" data-s-object-id=\"left sidebar\" class=\"\">Testing and Debugging</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/tracing-in-aspnet-web-api\">Tracing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-with-aspnet-web-api\">Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-controllers-in-web-api\">Unit Testing Controllers in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/mocking-entity-framework-when-unit-testing-aspnet-web-api-2\">Mocking Entity Framework when Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/archive/2013/04/04/debugging-asp-net-web-api-with-route-debugger.aspx\">Debugging ASP.NET Web API with Route Debugger</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/\">Troubleshooting Windows Azure Web Sites in Visual Studio</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/troubleshooting-http-405-errors-after-publishing-web-api-applications\">Troubleshooting HTTP 405 Errors after Publishing Web API Applications</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/extensibility\" data-s-object-id=\"left sidebar\" class=\"\">Extensibility</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/configuring-aspnet-web-api\">Configuring Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/using-the-web-api-dependency-resolver\">Dependency Injection for Web API Controllers</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/resources\" data-s-object-id=\"left sidebar\" class=\"\">Additional Resources</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/\">.NET Web Development and Tools Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/aspnet/\">Brad Wilson's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/henrikn/\">Henrik's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/hongmeig1/\">Hongmei's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/kiranchalla/\">Kiran's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/jmstall/\">Mike Stall's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/yaohuang1/\">Yao's Blog</a></li></ul></li></ul></div>\n      </div>\n      <div class=\"col-right-learn\">\n        <span><div class=\"article-title keyline\"><h1><div itemprop=\"name\">HTTP Message Handlers <span></span></div></h1><div class=\"details\"><div class=\"author-header\">\r\n\t\t  By\r\n         <a href=\"#author-36870\" itemprop=\"author\" class=\"print-no\">Mike Wasson</a><span class=\"print-only-inline\">Mike Wasson</span><span class=\"separator\">|</span><time datetime=\"2012-02-13\">February 13, 2012</time></div><div class=\"print-bar\"><a href=\"javascript:window.print();\">Print</a></div><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"HTTP Message Handlers\" style=\"display:none;\">Tweet</a></span></div></div></div>       <p>A <em>message handler</em> is a class that receives an HTTP request and returns an HTTP response. Message handlers derive from the abstract <strong>HttpMessageHandler</strong> class.</p>\r\n            \r\n<p>Typically, a series of message handlers are chained together. The first handler receives an HTTP request, does some processing, and gives the request to the next handler. At some point, the response is created and goes back up the chain. This pattern is called a <em>delegating</em> handler.</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i3.asp.net/media/3717192/webapi_handlers_01.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<h2>Server-Side Message Handlers</h2>\r\n\r\n<p>On the server side, the Web API pipeline uses some built-in message handlers:</p>\r\n\r\n<ul>\r\n    <li><strong>HttpServer</strong> gets the request from the host.</li>\r\n    <li><strong>HttpRoutingDispatcher</strong> dispatches the request based on the route.</li>\r\n    <li><strong>HttpControllerDispatcher</strong> sends the request to a Web API controller.</li>\r\n</ul>\r\n\r\n<p>You can add custom handlers to the pipeline. Message handlers are good for cross-cutting concerns that operate at the level of HTTP messages (rather than controller actions). For example, a message handler might:</p>\r\n\r\n<ul>\r\n    <li>Read or modify request headers.</li>\r\n    <li>Add a response header to responses.</li>\r\n    <li>Validate requests before they reach the controller.</li>\r\n</ul>\r\n\r\n<p>This diagram shows two custom handlers inserted into the pipeline:</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i2.asp.net/media/3717198/webapi_handlers_02.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p class=\"note\">On the client side, HttpClient also uses message handlers. For more information, see <a href=\"/web-api/overview/web-api-clients/httpclient-message-handlers\">HttpClient Message Handlers</a>.</p>\r\n\r\n\r\n<h2>Custom Message Handlers</h2>\r\n\r\n <p>To write a custom message handler, derive from <strong> System.Net.Http.DelegatingHandler</strong> and override the <strong>SendAsync</strong> method. This method has the following signature:</p>\r\n\r\n<pre class=\"prettyprint\">Task&lt;HttpResponseMessage&gt; SendAsync(\r\n    HttpRequestMessage request, CancellationToken cancellationToken);</pre>\r\n\r\n<p>The method takes an <strong>HttpRequestMessage</strong> as input and asynchronously returns an \r\n<strong>HttpResponseMessage</strong>. A typical implementation does the following:</p>\r\n\r\n<ol>\r\n    <li>Process the request message.</li>\r\n    <li>Call <code>base.SendAsync</code> to send the request to the inner handler.</li>\r\n    <li>The inner handler returns a response message. (This step is asynchronous.)</li>\r\n    <li>Process the response and return it to the caller.</li>\r\n</ol>\r\n\r\n<p>Here is a trivial example:</p>\r\n\r\n<pre class=\"prettyprint\">\r\npublic class MessageHandler1 : DelegatingHandler\r\n{\r\n    protected async override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, CancellationToken cancellationToken)\r\n    {\r\n        Debug.WriteLine(\"Process request\");\r\n        // Call the inner handler.\r\n        var response = await base.SendAsync(request, cancellationToken);\r\n        Debug.WriteLine(\"Process response\");\r\n        return response;\r\n    }\r\n}\r\n</pre>\r\n\r\n<p class=\"note\">The call to <code>base.SendAsync</code> is asynchronous. If the handler does any work after this call, use the <strong>await</strong> keyword, as shown.</p>\r\n\r\n<p>A delegating handler can also skip the inner handler and directly create the response:</p>\r\n\r\n<pre class=\"prettyprint\">\r\npublic class MessageHandler2 : DelegatingHandler\r\n{\r\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, CancellationToken cancellationToken)\r\n    {\r\n        // Create the response.\r\n        var response = new HttpResponseMessage(HttpStatusCode.OK)\r\n        {\r\n            Content = new StringContent(\"Hello!\")\r\n        };\r\n\r\n        // Note: TaskCompletionSource creates a task that does not contain a delegate.\r\n        var tsc = new TaskCompletionSource&lt;HttpResponseMessage&gt;();\r\n        tsc.SetResult(response);   // Also sets the task state to \"RanToCompletion\"\r\n        return tsc.Task;\r\n    }\r\n}\r\n</pre>\r\n\r\n<p>If a delegating handler creates the response without calling <code>base.SendAsync</code>, the request skips the rest of the pipeline. This can be useful for a handler that validates the request (creating an error response).</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i1.asp.net/media/3717204/webapi_handlers_04.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<h2>Adding a Handler to the Pipeline</h2>\r\n\r\n<p>To add a message handler on the server side, add the handler to the <strong>HttpConfiguration.MessageHandlers</strong> collection. If you used the \"ASP.NET MVC 4 Web Application\" template to create the project, you can do this inside the <strong>WebApiConfig</strong> class:</p>\r\n\r\n<pre class=\"prettyprint\">\r\npublic static class WebApiConfig\r\n{\r\n    public static void Register(HttpConfiguration config)\r\n    {\r\n        config.MessageHandlers.Add(new MessageHandler1());\r\n        config.MessageHandlers.Add(new MessageHandler2());\r\n\r\n        // Other code not shown...\r\n    }\r\n}\r\n</pre>\r\n\r\n<p>Message handlers are called in the same order that they appear in <strong>MessageHandlers</strong> collection. Because they are nested, the response message travels in the other direction. That is, the last handler is the first to get the response message.</p>\r\n\r\n<p>Notice that you don't need to set the inner handlers; the Web API framework automatically connects the message handlers.</p>\r\n\r\n<p>If you are <a href=\"/web-api/overview/hosting-aspnet-web-api/self-host-a-web-api\">self-hosting</a>, create an instance of the <strong>HttpSelfHostConfiguration</strong> class and add the handlers to the <strong>\r\n    MessageHandlers</strong> collection. </p>\r\n    <pre class=\"prettyprint\">var config = new HttpSelfHostConfiguration(\"http://localhost\");\r\nconfig.MessageHandlers.Add(new MessageHandler1());\r\nconfig.MessageHandlers.Add(new MessageHandler2());\r\n</pre>\r\n\r\n<p>Now let's look at some examples of custom message handlers.</p>\r\n\r\n        <h2>Example: X-HTTP-Method-Override</h2>\r\n        <p>X-HTTP-Method-Override is a non-standard HTTP header. It is designed for clients \r\n            that cannot send certain HTTP request types, such as PUT or DELETE. Instead, the \r\n            client sends a POST request and sets the X-HTTP-Method-Override header to the \r\n            desired method. For example:</p>\r\n        <pre class=\"prettyprint\">X-HTTP-Method-Override: PUT</pre>\r\n\r\n        <p>Here is a message handler that adds support for \r\n            X-HTTP-Method-Override:</p>\r\n<pre class=\"prettyprint\">public class MethodOverrideHandler : DelegatingHandler      \r\n{\r\n    readonly string[] _methods = { &quot;DELETE&quot;, &quot;HEAD&quot;, \"PUT&quot; };\r\n    const string _header = \"X-HTTP-Method-Override\";\r\n\r\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, CancellationToken cancellationToken)\r\n    {\r\n        // Check for HTTP POST with the X-HTTP-Method-Override header.\r\n        if (request.Method == HttpMethod.Post &amp;&amp; request.Headers.Contains(_header))\r\n        {\r\n            // Check if the header value is in our methods list.\r\n            var method = request.Headers.GetValues(_header).FirstOrDefault();\r\n            if (_methods.Contains(method, StringComparer.InvariantCultureIgnoreCase))\r\n            {\r\n                // Change the request method.\r\n                request.Method = new HttpMethod(method);\r\n            }\r\n        }\r\n        return base.SendAsync(request, cancellationToken);\r\n    }\r\n}\r\n</pre>\r\n\r\n<p>In the <strong>SendAsync</strong> method, the handler checks whether the request message is a POST \r\n    request, and whether it contains the X-HTTP-Method-Override header. If so, it \r\n    validates the header value, and then modifies the request method. Finally, the \r\n    handler calls <code>base.SendAsync</code> to pass the message to the next handler.</p>\r\n            <p>When the request reaches the <strong>HttpControllerDispatcher</strong> \r\n                class, <strong>HttpControllerDispatcher</strong> will route the request based on \r\n                the updated request method.</p>\r\n            <h2>Example: Adding a Custom Response Header</h2>\r\n            <p>Here is a message handler that adds a custom header to every response message:</p>\r\n\r\n<pre class=\"prettyprint\">\r\n// .Net 4.5\r\npublic class CustomHeaderHandler : DelegatingHandler\r\n{\r\n    async protected override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n            HttpRequestMessage request, CancellationToken cancellationToken)\r\n    {\r\n        HttpResponseMessage response = await base.SendAsync(request, cancellationToken);\r\n        response.Headers.Add(\"X-Custom-Header\", \"This is my custom header.\");\r\n        return response;\r\n    }\r\n}\r\n</pre>\r\n            \r\n<p>First, the handler calls <code>base.SendAsync</code> to pass the request to the inner message handler. The inner handler returns a response message, but it does so asynchronously using a <strong>Task&lt;T&gt;</strong> object. The response message is not available until <code>base.SendAsync</code> completes asynchronously.</p>\r\n\r\n<p>This example uses the <strong>await</strong> keyword to perform work asynchronously after <code>SendAsync</code> completes. If you are targeting .NET Framework 4.0, use the <strong>Task</strong><T><strong>.ContinueWith</strong> method:</p>\r\n            \r\n<pre class=\"prettyprint\">public class CustomHeaderHandler : DelegatingHandler\r\n{\r\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, CancellationToken cancellationToken)\r\n    {\r\n        return base.SendAsync(request, cancellationToken).ContinueWith(\r\n            (task) =&gt;\r\n            {\r\n                HttpResponseMessage response = task.Result;\r\n                response.Headers.Add(\"X-Custom-Header\", \"This is my custom header.\");\r\n                return response;\r\n            }\r\n        );\r\n    }\r\n}\r\n</pre>\r\n            <h2>Example: Checking for an API Key</h2>\r\n            <p>Some web services require clients to include an API key in their request. \r\n                The following example shows how a message handler can check requests for a valid \r\n                API key:</p>\r\n            <pre class=\"prettyprint\">public class ApiKeyHandler : DelegatingHandler\r\n{\r\n    public string Key { get; set; }\r\n\r\n    public ApiKeyHandler(string key)\r\n    {\r\n        this.Key = key;\r\n    }\r\n\r\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(\r\n        HttpRequestMessage request, CancellationToken cancellationToken)\r\n    {\r\n        if (!ValidateKey(request))\r\n        {\r\n            var response = new HttpResponseMessage(HttpStatusCode.Forbidden);\r\n            var tsc = new TaskCompletionSource&lt;HttpResponseMessage&gt;();\r\n            tsc.SetResult(response);    \r\n            return tsc.Task;\r\n        }\r\n        return base.SendAsync(request, cancellationToken);\r\n    }\r\n\r\n    private bool ValidateKey(HttpRequestMessage message)\r\n    {\r\n        var query = message.RequestUri.ParseQueryString();\r\n        string key = query[\"key\"];\r\n        return (key == Key);\r\n    }\r\n}\r\n</pre>\r\n            <p>\r\n                This handler looks for the API key in the URI query string. (For this example, \r\n                we assume that the key is a static string. A real implementation would probably \r\n                use more complex validation.) If the query string contains the key, the handler \r\n                passes the request to the inner handler. </p>\r\n            <p>\r\n                If the request does not have a \r\n                valid key, the handler creates a response message with status 403, \r\n                Forbidden.\r\n                In this case, the handler does not call\r\n                <code>base.SendAsync</code>, so the inner handler never receives the request, \r\n                nor does the controller. Therefore, the controller can assume that \r\n                all incoming requests have a valid API key.</p>\r\n            <p class=\"note\">\r\n                If the API key applies only to certain controller \r\n                actions, consider using an action filter instead of a message handler. \r\n                Action filters run after URI routing is performed. </p>\r\n\r\n\r\n<h2>Per-Route Message Handlers</h2>\r\n\r\n<p>Handlers in the <strong>HttpConfiguration.MessageHandlers</strong> collection apply globally.</p>\r\n\r\n<p>Alternatively, you can add a message handler to a specific route when you define the route:</p>\r\n\r\n<pre class=\"prettyprint\">\r\npublic static class WebApiConfig\r\n{\r\n    public static void Register(HttpConfiguration config)\r\n    {\r\n        config.Routes.MapHttpRoute(\r\n            name: \"Route1\",\r\n            routeTemplate: \"api/{controller}/{id}\",\r\n            defaults: new { id = RouteParameter.Optional }\r\n        );\r\n\r\n        config.Routes.MapHttpRoute(\r\n            name: \"Route2\",\r\n            routeTemplate: \"api2/{controller}/{id}\",\r\n            defaults: new { id = RouteParameter.Optional },\r\n            constraints: null,\r\n            <mark>handler: new MessageHandler2()</mark>  // per-route message handler\r\n        );\r\n\r\n        config.MessageHandlers.Add(new MessageHandler1());  // global message handler\r\n    }\r\n}\r\n</pre>\r\n\r\n<p>In this example, if the request URI matches \"Route2\", the request is dispatched to <code>MessageHandler2</code>. The following diagram shows the pipeline for these two routes:</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i1.asp.net/media/3717210/webapi_handlers_05.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p>Notice that <code>MessageHandler2</code> replaces the default <strong>HttpControllerDispatcher</strong>. In this example, <code>MessageHandler2</code> creates the response, and requests that match \"Route2\" never go to a controller. This lets you replace the entire Web API controller mechanism with your own custom endpoint.</p>\r\n\r\n<p>Alternatively, a per-route message handler can delegate to <strong>HttpControllerDispatcher</strong>, which then dispatches to a controller.</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i1.asp.net/media/3717216/webapi_handlers_06.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p>The following code shows how to configure this route:</p>\r\n\r\n<pre class=\"prettyprint\">\r\n// List of delegating handlers.\r\nDelegatingHandler[] handlers = new DelegatingHandler[] {\r\n    new MessageHandler3()\r\n};\r\n\r\n// Create a message handler chain with an end-point.\r\nvar routeHandlers = HttpClientFactory.CreatePipeline(\r\n    new HttpControllerDispatcher(config), handlers);\r\n\r\nconfig.Routes.MapHttpRoute(\r\n    name: \"Route2\",\r\n    routeTemplate: \"api2/{controller}/{id}\",\r\n    defaults: new { id = RouteParameter.Optional },\r\n    constraints: null,\r\n    handler: routeHandlers\r\n);\r\n\r\n</pre><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"HTTP Message Handlers\" style=\"display:none;\">Tweet</a></span></div><h2>Author Information</h2><div id=\"author-36870\" class=\"author-box article clearfix\"><img src=\"http://i1.asp.net/media/3132378/mike-wasson.jpg?cdn_id=2014-07-01-001\" alt=\"Mike Wasson\"/><p><strong>Mike Wasson</strong>\u00a0&ndash;\u00a0Mike Wasson is a programmer-writer at Microsoft. </p></div></span>\t\t\n        <input type=\"hidden\" data-documentid=\"37110\" /><input type=\"hidden\" data-pickerid=\"37111\" /><div class=\"article-comments module-comment\"><div class=\"module-comment-header\"><div class=\"col-left\"><h2 class=\"icon-rss-head\">Comments (<span id=\"spanCommentCount\">0</span>) <a href=\"/rss/comments/37111\" class=\"icon\" title=\"RSS Feed\">RSS Feed</a></h2></div><div class=\"col-right\"><span id=\"leaveCommentHeader\" class=\"comments-status\"><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/http-message-handlers\">You must be logged in to leave a comment.</a></span><span id=\"comments-toggle\"><a href=\"javascript:var x = 'show comments';\" class=\"show-comments\"> </a></span></div><div class=\"clear\"> </div></div><ul id=\"comment-list\" style=\"display: none;\"> </ul></div>        \n      </div>\n\t  <div class=\"clear\"></div>\n  </div>\n  <div class=\"clear\">\r\n</div>\r\n<div id=\"BottomAd\" data-adzoneid=\"0\" data-adtypeid=\"4\" class=\"ad-728x90 ad \" data-adwidth=\"728px\" data-adheight=\"90px\" style=\"width:728px;height:90px;\"></div> \n\n      <div class=\"footer\">\n<div class=\"clear\"></div>\n<ul class=\"footer-menu\">\n<li class=\"block\">\n<h2>This site is managed for Microsoft by Neudesic, LLC. | &copy; 2014 Microsoft. All rights reserved.</h2>\n</li>\n<li><a href=\"http://www.asp.net/privacy\" data-s-object-id=\"footer\">Privacy Statement</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/terms-of-use\" data-s-object-id=\"footer\">Terms of Use</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"footer\">Contact Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.neudesicmediagroup.com/Advertising.aspx?site=asp\" data-s-object-id=\"footer\">Advertise With Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.umbraco.org\" data-s-object-id=\"footer\">CMS by Umbraco</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://azure.microsoft.com/\">Hosted on Microsoft Azure</a></li></ul>\n<ul class=\"footer-menu last\">\n<li class=\"block\">\n<h2><a class=\"logo-microsoft\" title=\"Microsoft\" href=\"http://microsoft.com\" data-s-object-id=\"footer\">Microsoft</a></h2>\n</li>\n<li><a href=\"http://aspnet.uservoice.com\" data-s-object-id=\"footer\">Feedback on ASP.NET</a><span class=\"separator\">|</span></li>\n<li><a href=\"https://connect.microsoft.com/VisualStudio\" data-s-object-id=\"footer\">File Bugs</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/support\">Support Lifecycle</a></li>\n</ul>\n</div>\n    </div>    \n    <div class=\"modal modal-webpi\" style=\"display:none;\"><a href=\"javascript:;\" class=\"modal-close\" data-s-object-id=\"webpi (close)\">\u2716</a><div class=\"modal-contents\"><h2>Installs powered by the Microsoft Web Platform Installer</h2><p>The product(s) you are about to install leverage the Web Platform Installer (WebPI) for installation. By downloading and using the Web Platform Installer (WebPI), you agree to the <a href=\"http://go.microsoft.com/fwlink/?LinkId=251729\">license terms</a> and <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for WebPI. This installer will contact Microsoft over the Internet to retrieve product information.  WebPI uses the Microsoft Customer Experience Improvement Program (CEIP), which is turned on by default, see <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for more information.  Some of the Microsoft software obtained through WebPI may use CEIP. To view which software uses CEIP, see <a href=\"http://go.microsoft.com/?LinkID=9816722\">here</a>.</p><a href=\"javascript:;\" class=\"btn-install\" data-s-object-id=\"webpi (install)\">Accept and install</a></div></div><div class=\"modal-cover\" style=\"display:none;\"></div>\n\t\r\n<input type=\"hidden\" id=\"meta-contentType\" value=\"ArticleContentPicker\" />\r\n<input type=\"hidden\" id=\"meta-contentLiveDate\" value=\"2012-02-13\" />\r\n<input type=\"hidden\" id=\"meta-articleContentType\" value=\"Tutorial\" />\r\n<input type=\"hidden\" id=\"meta-articleContentTypeValue\" value=\"32\" />\n    \n  \r\n    \r\n  \r\n    <script id=\"tmpl-comment\" type=\"text/x-jquery-tmpl\">\r\n      <li id=\"comment_${id}\">\r\n        <a href=\"http://forums.asp.net/members/${username}.aspx\"><img src=\"${avatar}\" alt=\"${username}\" class=\"social-avatar\" /></a>\r\n        {{html comment}}\r\n        <p class=\"comment-details\"><span class=\"comment-details-left\"><a href=\"http://forums.asp.net/members/${username}.aspx\">${username}</a> - ${created}</span>\r\n\t\t\r\n        </p>\r\n      </li>  \r\n    </script>\r\n  \r\n\r\n  \n\n      <script src='http://i1.asp.net/umbraco-beta-scripts/jquery-1.7.2.min.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n      <script type=\"text/javascript\">$.ajaxSetup({ cache: false });var omni_guid=\"d256e396-b03c-4f13-825b-0f478f416456\";</script>\n    \n    <script type=\"text/javascript\">var s=document.createElement('script');s.type='text/javascript';s.src='http://i1.asp.net/umbraco-beta-scripts/prod-article.min.js?cdn_id=2014-07-01-001';document.body.appendChild(s);</script>\n\n    <script type=\"text/javascript\">if ((Math.floor(Math.random()*100))<5){$.getScript(\"/scripts/prod-survey.min.js?cdn_id=2014-07-01-001\");}</script>\n    <noscript><a href=\"http://www.omniture.com\" title=\"Web Analytics\"><img src=\"http://msstonojsaspnet.112.2O7.net/b/ss/msstonojsaspnet/1/H.20.2--NS/0\" height=\"1\" width=\"1\" alt=\"omni\" /></a></noscript>\n  </body>\n</html>  ", "size":53969, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"12662"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:40:56 GMT"}]}, "startedDateTime":"2014-07-20T06:40:57.9259548+08:00", "cache":{}}, {"time":334, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":741, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Content-Length", "value":"0"}, {"name":"Cache-Control", "value":"max-age=0"}, {"name":"Accept", "value":"application/json, text/javascript, */*; q=0.01"}, {"name":"Origin", "value":"http://www.asp.net"}, {"name":"X-Requested-With", "value":"XMLHttpRequest"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/working-with-http/http-message-handlers"}, {"name":"Accept-Encoding", "value":"gzip,deflate"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=%5B%5BB%5D%5D"}], "bodySize":0, "url":"http://www.asp.net/base/MscComment/GetCommentsCountForDocument/37110", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"%5B%5BB%5D%5D"}], "method":"POST", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":334, "dns":0, "send":0, "connect":0}, "response":{"headersSize":260, "bodySize":32, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":-30, "text":"22", "size":2, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"32"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:40:57 GMT"}]}, "startedDateTime":"2014-07-20T06:40:58.8370065+08:00", "cache":{}}, {"time":1581, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":944, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Accept", "value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/working-with-http/http-message-handlers"}, {"name":"Accept-Encoding", "value":"gzip,deflate,sdch"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/http-message-handlers%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "bodySize":0, "url":"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/http-message-handlers%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "method":"GET", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":1580, "dns":0, "send":1, "connect":0}, "response":{"headersSize":263, "bodySize":12441, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":39279, "text":"\n \n<!DOCTYPE HTML>\n<!--[if IE]><![endif]-->\n<html>\n  <head>\n    <title>Sending HTML Form Data | The ASP.NET Site</title>\n    <meta charset=\"UTF-8\" />\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"/> \n  \t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n  \t<meta name=\"application-name\" content=\"Microsoft ASP.NET Site\"/>\n  \t\r\n<meta name=\"twitter:card\" content=\"summary\" />\r\n<meta name=\"twitter:site\" content=\"@aspnet\" />\r\n<meta name=\"twitter:domain\" content=\"asp.net\" />\r\n<meta name=\"twitter:image:src\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta name=\"twitter:title\" content=\"Sending HTML Form Data: Form-urlencoded Data\" />\r\n<meta name=\"twitter:description\" content=\"Part 1: Form-urlencoded Data This article shows how to post form-urlencoded data to a Web API controller. Overview of HTML Forms Sending Complex Types Sending Form Data via AJAX Sending Simple Type...\" />\r\n<meta property=\"og:type\" content=\"article\" />\r\n<meta property=\"og:title\" content=\"Sending HTML Form Data: Form-urlencoded Data\" />\r\n<meta property=\"og:description\" content=\"Part 1: Form-urlencoded Data This article shows how to post form-urlencoded data to a Web API controller. Overview of HTML Forms Sending Complex Types Sending Form Data via AJAX Sending Simple Type...\" />\r\n<meta property=\"og:image\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta property=\"og:url\" content=\"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1\" />\r\n<meta property=\"og:site_name\" content=\"The Official Microsoft ASP.NET Site\" />\r\n<meta property=\"fb:admins\" content=\"scott.hanselman\" />\r\n<meta property=\"fb:admins\" content=\"jon.galloway\" />\r\n<meta property=\"fb:admins\" content=\"robmcm\" />\n        \n    \n  <link href='http://i2.asp.net/umbraco-beta-css/articles.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"all\" />\n\n    <!--[if lte IE 7]>\n      <link href='http://i2.asp.net/umbraco-beta-css/lteIE7.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"screen\" />\n    <![endif]-->\n\t<!--[if lte IE 9]>\n      <script src='http://i1.asp.net/umbraco-beta-scripts/html5.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n    <![endif]-->\n    <link href='http://i2.asp.net/images/content/favicon.ico?cdn_id=2014-07-01-001' rel=\"shortcut icon\" />\n\t<link rel=\"alternate\" type=\"application/rss+xml\" title=\"Latest ASP.NET Content\" href=\"http://www.asp.net/rss/content\" />\n\t  \n\t<!-- Anti-Clickjacking script -->\n\t<style id=\"antiClickjack\">body{display:none !important;}</style>\n\t<script type=\"text/javascript\">\n\t\tif (self === top) {\n\t\t\tvar antiClickjack = document.getElementById(\"antiClickjack\");\n\t\t\tantiClickjack.parentNode.removeChild(antiClickjack);\n\t\t\t} else {\n\t\t\ttop.location = self.location;\n\t\t}\n\t </script>\n\t  \n  </head>\n  <body class=''>\n    \n    <div class='allcontent '>\n    <header>\n      <a href=\"http://www.asp.net/\" id=\"logo\" data-s-object-id=\"logo\">The ASP.NET Site</a><form method=\"post\" id=\"search-query-masthead\" action=\"/search\"><div class=\"search-header\"><input type=\"text\" class=\"search-input input-common\" value=\"Search ASP.NET\" data-uitext=\"Search ASP.NET\" data-uitype=\"autoreset\" name=\"searchterm\" /><input type=\"submit\" name=\"submit\" class=\"search-submit\" value=\"\" title=\"Search\" /></div></form>\n      <div class=\"language-translation\"><a href=\"javascript:;\" data-s-object-id=\"language\" class=\"language\">Language</a><div class=\"common-dropdown translator collapse\"><div id=\"MicrosoftTranslatorWidget\"><noscript><a href=\"https://ssl.microsofttranslator.com/bv.aspx?a=http%3a%2f%2fwww.asp.net%2f\">Translate this page</a><br />Powered by <a href=\"http://www.bing.com/translator\">Microsoft\u00ae Translator</a></noscript></div><script type=\"text/javascript\"> setTimeout(function() { var s = document.createElement(\"script\"); s.type = \"text/javascript\"; s.charset = \"UTF-8\"; s.src = ((location && location.href && location.href.indexOf('https') == 0) ? \"https://ssl.microsofttranslator.com\" : \"http://www.microsofttranslator.com\" ) + \"/ajax/v2/widget.aspx?siteData=VtgDR3VIw5EtyA5GLjVPQ4KJzPXxm9obABaIozZaC4rASMWk5L25KWUqh6Ar6NGqURTEzXUWnpx5iWdUN5sLtdEPpCp2cWHOJbvpyPB4G1CbqhzmBvRz5N5LcA3XLkI9&ctf=true&settings=manual&mode=manual&from=en&layout=ts&hideLanguages=ar,bg,ca,da,nl,et,fi,el,ht,he,hi,ms,mww,hu,id,lv,lt,no,fa,ro,sk,sl,sv,tlh,th,uk,ur,vi\"; var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild); }, 0);    \r\n\t\t  </script></div></div>\n\t  <script type=\"text/javascript\">var currentUsername = '';</script><div class=\"nav-user logged-out\"><p><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1\">Sign In</a><span class=\"separator\">|</span><a href=\"http://login.asp.net/login/createuser.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1\">Join</a></p></div>   \n\t  <nav class=\"clearfix nav-main\"><ul><li><a href=\"http://www.asp.net/\" data-s-object-id=\"navbar\">Home</a></li><li><a href=\"http://www.asp.net/get-started\" data-s-object-id=\"navbar\">\r\n      Get Started\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"learnpulldown selected\">\r\n\t\t\tLearn <span class=\"icon-dropdown\"></span></a>\n\t    <div class=\"dropdown-learn\">\n\t<div class=\"col\">\n\t  <h2>WEB APPLICATIONS</h2>\n\t  <ul>\n\t\t<li><a href=\"http://www.asp.net/web-forms\" data-s-object-id=\"learn\">Web Forms</a></li>\n\t\t<li><a href=\"http://www.asp.net/mvc\" data-s-object-id=\"learn\">MVC</a></li>\n\t\t<li><a href=\"http://www.asp.net/web-pages\" data-s-object-id=\"learn\">Web Pages/Razor</a></li>\n\t\t<li><a href=\"http://www.asp.net/mobile\" data-s-object-id=\"learn\">Mobile</a></li>\n\t\t<li><a href=\"http://www.asp.net/single-page-application\" data-s-object-id=\"learn\">Single Page Apps</a></li>\n\t  </ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>WEB SERVICES / API's</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/web-api\" data-s-object-id=\"learn\">Web API</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>REAL TIME</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/signalr\" data-s-object-id=\"learn\">SignalR</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>DATA ACCESS</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/entity-framework\" data-s-object-id=\"learn\">Entity Framework</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>ONE ASP.NET</h2>\n\t\t<ul>\n                         <li><a href=\"http://www.asp.net/identity\" data-s-object-id=\"learn\">ASP.NET Identity</a></li>\n                         <li><a href=\"http://www.asp.net/aspnet\" data-s-object-id=\"learn\">Common ASP.NET Features</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio/overview/2013/aspnet-and-web-tools-20132-preview-for-visual-studio-2013-release-notes\" data-s-object-id=\"learn\">Current Release (2013.2)</a></li>\n                         <li><a href=\"http://www.asp.net/vnext\" data-s-object-id=\"learn\">Future Release</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio\" data-s-object-id=\"learn\">Tooling/IDE</a></li>\n\t\t</ul>\n\t</div>\n  </div>\n      </li><li><a href=\"http://www.asp.net/hosting\" data-s-object-id=\"navbar\">\r\n      Hosting\r\n    </a></li><li><a href=\"http://www.asp.net/downloads\" data-s-object-id=\"navbar\">\r\n      Downloads\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"communitypulldown\">\r\n\t\t\tCommunity <span class=\"icon-dropdown\"></span></a>\n\t  \n\t\t<div class=\"dropdown-community\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community\" data-s-object-id=\"community\">Overview</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/spotlight\" data-s-object-id=\"community\">Daily Spotlight</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/articles\" data-s-object-id=\"community\">Articles of the Day</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/news\" data-s-object-id=\"community\">News</a></li>\n\t\t\t\t\t<li><a href=\"http://weblogs.asp.net/\" data-s-object-id=\"community\">Community Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/microsoft-blogs\" data-s-object-id=\"community\">Microsoft Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/events\" data-s-object-id=\"community\">Events</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/recognition/hall-of-fame\" data-s-object-id=\"community\">Hall Of Fame</a></li>\n\t\t\t\t\t<li><a href=\"http://code.msdn.microsoft.com/site/search?f&#91;0&#93;.Type=Technology&amp;f&#91;0&#93;.Value=ASP.NET&amp;sortBy=Date\" data-s-object-id=\"community\">MSDN Samples</a></li>\n\t\t\t\t\t<li><a href=\"http://forums.asp.net/\" data-s-object-id=\"community\">Forums</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/websites\" data-s-object-id=\"community\">Community Websites</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/support\" data-s-object-id=\"community\">Community Support</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t  </li><li><a href=\"http://forums.asp.net/\" data-s-object-id=\"navbar\">Forums</a></li><li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"navbar\">Help</a></li></ul></nav><div class=\"social\"><span>Follow us on<a href=\"https://www.facebook.com/asp.net\" class=\"facebook\"></a><a href=\"http://twitter.com/aspnet\" class=\"twitter\"></a></span></div>\n    </header>\n      \n  <div class=\"content article-page article-content\">\n    <div class=\"learn-nav\"><ul class=\"common-tabs\"><li class=\"heading\">Web API:</li><li><a data-s-object-id=\"subnav\" href=\"/web-api/overview\" class=\"selected\">Overview<span></span></a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/tutorials\" class=\"\">Tutorials</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/videos\" class=\"\">Videos</a></li> <li><a data-s-object-id=\"subnav\" href=\"/aspnet/samples/aspnet-web-api\" class=\"\">Samples</a></li> <li><a data-s-object-id=\"subnav\" href=\"http://forums.asp.net/1246.aspx/1?ASP+NET+Web+API\" class=\"\">Forum</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/open-source\" class=\"\">Open Source</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/books\" class=\"\">Books</a></li>  </ul></div>  \n    <input type=\"hidden\" id=\"loggedIn\" value=\"False\" />\n      <div class=\"module-chapters extended clearfix\">\n        <div id=\"MicroText4\" data-adzoneid=\"0\" data-adtypeid=\"448\" class=\"ad-120x90 ad \" data-adwidth=\"209px\" data-adheight=\"130px\" style=\"width:209px;height:130px;\"></div> \n\t\t<div class=\"chapter-box toc-menu\"><ul class=\"chapters\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/getting-started-with-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Getting Started</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\">Getting Started with Web API 2 (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.apress.com/9781430247258\">Pro ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster.pdf\">ASP.NET Web API Poster</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster-grayscale.pdf\">ASP.NET Web API Poster (Grayscale)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/whitepapers/aspnet-data-access-content-map\">Recommended Resources for ASP.NET Data Access</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/releases\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Releases<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-22\">What's New in ASP.NET Web API 2.2<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-21\">What's New in ASP.NET Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/visual-studio/overview/2013/release-notes#TOC11\">What's New in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/identity/overview/migrations\">Upgrade from ASP.NET Membership to ASP.NET Identity</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis\" data-s-object-id=\"left sidebar\" class=\"\">Creating Web APIs</a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 2 with Entity Framework 6</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\">1. \r\n\t\t\t\tCreate the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-2\">2. \r\n\t\t\t\tAdd Models and Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-3\">3. \r\n\t\t\t\tSeed the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-4\">4. \r\n\t\t\t\tHandling Entity Relations</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-5\">5. \r\n\t\t\t\tCreate Data Transfer Objects (DTOs)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-6\">6. \r\n\t\t\t\tCreate the JavaScript Client</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-7\">7. \r\n\t\t\t\tCreate the View (UI)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-8\">8. \r\n\t\t\t\tDisplay Item Details</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-9\">9. \r\n\t\t\t\tAdd a New Item to the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-10\">10. \r\n\t\t\t\tPublish the App to Azure Websites</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" href=\"http://codebetter.com/howarddierking/2012/11/09/versioning-restful-services/\">Versioning RESTful Services</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://www.windowsazure.com/en-us/develop/net/tutorials/rest-service-using-web-api/#bkmk_createmvc4app\">Mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-aspnet-web-forms\">Using Web API with ASP.NET Web Forms</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-api-help-pages\">Creating Web API Help Pages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-a-web-api-that-supports-crud-operations\">Implementing CRUD Operations in Web API 1</a></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 1 with Entity Framework 5</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\">1. \r\n\t\t\t\tOverview and Creating the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-2\">2. \r\n\t\t\t\tCreating the Domain Models</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-3\">3. \r\n\t\t\t\tCreating an Admin Controller</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-4\">4. \r\n\t\t\t\tAdding an Admin View</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-5\">5. \r\n\t\t\t\tCreating a Dynamic UI with Knockout.js</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-6\">6. \r\n\t\t\t\tCreating Product and Order Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-7\">7. \r\n\t\t\t\tCreating the Main Page</a></li></ul></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-clients\" data-s-object-id=\"left sidebar\" class=\"\">Web API Clients</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-a-web-api-from-a-net-client\">Calling a Web API From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/httpclient-message-handlers\">HttpClient Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-web-api-from-a-windows-phone-8-application\">Calling Web API from a Windows Phone 8 Application (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-routing-and-actions\" data-s-object-id=\"left sidebar\" class=\"\">Web API Routing and Actions</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api\">Routing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\">Attribute Routing in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-and-action-selection\">Routing and Action Selection</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/create-a-rest-api-with-attribute-routing\">Create a REST API with Attribute Routing</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/exception-handling\">Exception Handling in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/action-results\">Action Results in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/web-api-global-error-handling\">Web API Global Error Handling</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow expanded\"><span></span></a><a href=\"/web-api/overview/working-with-http\" data-s-object-id=\"left sidebar\" class=\"\">Working with HTTP</a><ul class=\"articles active\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-message-handlers\">HTTP Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hover\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-1\">Sending HTML Form Data: Form-urlencoded Data</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Sending HTML Form Data: File Upload and Multipart MIME</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/2012/06/batching-handler-for-web-api.html\">Batching HTTP Messages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-cookies\">HTTP Cookies</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/formats-and-model-binding\" data-s-object-id=\"left sidebar\" class=\"\">Formats and Model Binding</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/media-formatters\">Media Formatters</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/json-and-xml-serialization\">JSON and XML Serialization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/bson-support-in-web-api-21\">BSON Support in Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/content-negotiation\">Content Negotiation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api\">Model Validation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\">Parameter Binding in Web API</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData<span class=\"new\"></span></a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData v4<span class=\"new\"></span></a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\">Create an OData v4 Endpoint <span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-client-app\">Create an OData v4 Client App (C#)<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/entity-relations-in-odata-v4\">Entity Relations in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-actions-and-functions\">Actions and Functions in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-containment-in-web-api-22\">Containment in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/using-a-singleton-in-an-odata-endpoint-in-web-api-22\">Create a Singleton in OData v4<span class=\"new\"></span></a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\" data-s-object-id=\"left sidebar\" class=\"\">OData v3</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\">Creating an OData v3 Endpoint</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/working-with-entity-relations\">Supporting Entity Relations in OData v3</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/odata-actions\">OData Actions in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/calling-an-odata-service-from-a-net-client\">Calling an OData Service From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://msdn.microsoft.com/en-us/magazine/dn201742.aspx\">A New Option for Creating OData: Web API</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/supporting-odata-query-options\">Supporting OData Query Options in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/using-$select,-$expand,-and-$value\">Using $select, $expand, and $value in Web API OData</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-routing-conventions\">OData Routing Conventions</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-security-guidance\">OData Security Guidance</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/security\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Security<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"/identity\">ASP.NET Identity</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api\">Authentication and Authorization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/individual-accounts-in-web-api\">Individual Accounts in Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/external-authentication-services\">External Authentication Services (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/basic-authentication\">Basic Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/forms-authentication\">Forms Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/integrated-windows-authentication\">Integrated Windows Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/security/enabling-cross-origin-requests-in-web-api\">Enabling Cross-Origin Requests<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/preventing-cross-site-request-forgery-(csrf)-attacks\">Preventing Cross-Site Request Forgery (CSRF) Attacks</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://vimeo.com/user22258446/review/79095048/9a4d62f61c\">Securing ASP.NET Web APIs</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/working-with-ssl-in-web-api\">Working with SSL</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/aspnet/overview/owin-and-katana\">OWIN and Katana</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/hosting-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Deployment and Hosting</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/use-owin-to-self-host-web-api\">Use OWIN to Self-Host Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/host-aspnet-web-api-in-an-azure-worker-role\">Host ASP.NET Web API 2 in an Azure Worker Role</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-rest-service-aspnet-api-sql-database/\">Create a mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-deploy/\">How to Deploy a Windows Azure Web Site</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/self-host-a-web-api\">Self-Host Web API 1 (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/testing-and-debugging\" data-s-object-id=\"left sidebar\" class=\"\">Testing and Debugging</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/tracing-in-aspnet-web-api\">Tracing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-with-aspnet-web-api\">Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-controllers-in-web-api\">Unit Testing Controllers in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/mocking-entity-framework-when-unit-testing-aspnet-web-api-2\">Mocking Entity Framework when Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/archive/2013/04/04/debugging-asp-net-web-api-with-route-debugger.aspx\">Debugging ASP.NET Web API with Route Debugger</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/\">Troubleshooting Windows Azure Web Sites in Visual Studio</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/troubleshooting-http-405-errors-after-publishing-web-api-applications\">Troubleshooting HTTP 405 Errors after Publishing Web API Applications</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/extensibility\" data-s-object-id=\"left sidebar\" class=\"\">Extensibility</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/configuring-aspnet-web-api\">Configuring Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/using-the-web-api-dependency-resolver\">Dependency Injection for Web API Controllers</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/resources\" data-s-object-id=\"left sidebar\" class=\"\">Additional Resources</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/\">.NET Web Development and Tools Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/aspnet/\">Brad Wilson's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/henrikn/\">Henrik's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/hongmeig1/\">Hongmei's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/kiranchalla/\">Kiran's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/jmstall/\">Mike Stall's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/yaohuang1/\">Yao's Blog</a></li></ul></li></ul></div>\n      </div>\n      <div class=\"col-right-learn\">\n        <span><div class=\"article-title keyline\"><h1><div itemprop=\"name\">Sending HTML Form Data <span></span></div></h1><div class=\"details\"><div class=\"author-header\">\r\n\t\t  By\r\n         <a href=\"#author-36870\" itemprop=\"author\" class=\"print-no\">Mike Wasson</a><span class=\"print-only-inline\">Mike Wasson</span><span class=\"separator\">|</span><time datetime=\"2012-06-15\">June 15, 2012</time></div><div class=\"print-bar\"><a href=\"javascript:window.print();\">Print</a></div><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"Sending HTML Form Data: Form-urlencoded Data\" style=\"display:none;\">Tweet</a></span></div></div></div><h2>Part 1: Form-urlencoded Data</h2>\r\n\r\n        <p>This article shows how to post form-urlencoded data to a Web API controller.</p>\r\n\r\n        <ul>\r\n        <li><a href=\"#overview_of_html_forms\">Overview of HTML Forms</a></li>\r\n            <li><a href=\"#sending_complex_types\">Sending Complex Types</a></li>\r\n            <li><a href=\"#sending_form_data_via_ajax\">Sending Form Data via AJAX</a> </li>\r\n            <li><a href=\"#sending_simple_types\">Sending Simple Types</a></li>\r\n        </ul>\r\n\r\n            <p class=\"note\">\r\n        <a href=\"http://code.msdn.microsoft.com/ASPNET-Web-API-Sending-a6f9d007\">Download the completed project</a>.</p>\r\n\r\n        <h2 id=\"overview_of_html_forms\">Overview of HTML Forms</h2>\r\n\r\n        <p>HTML forms use either GET or POST to send data to the server. The <strong>method</strong> attribute of the <strong>form</strong> element gives the HTTP method: </p>\r\n            <pre class=\"prettyprint\">&lt;form action=\"api/values\" method=\"post\"&gt;</pre>\r\n            <p>The default method is GET. If the form uses GET, the form data is encoded in the URI as a \r\n                query string. If the form uses POST, the form data is placed in the request body. For POSTed data, the\r\n                <strong>enctype</strong> attribute specifies the format of the request body:</p>\r\n\r\n<table>\r\n    <thead>\r\n        <tr><th>enctype</th><th>Description</th></tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr><td>application/x-www-form-urlencoded</td><td>Form data is encoded \r\n            as name/value pairs, similar to a URI query string. This is the default format \r\n            for POST.</td></tr>\r\n        <tr><td>multipart/form-data</td><td>Form data is encoded as a multipart MIME \r\n            message. Use this format if you are uploading a file to the server.</td></tr>\r\n    </tbody>\r\n</table>\r\n\r\n<p>Part 1 of this article looks at x-www-form-urlencoded format. <a href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Part 2</a> describes multipart MIME.</p>\r\n\r\n\r\n            <h2 id=\"sending_complex_types\">\r\n                Sending Complex Types</h2>\r\n            <p>\r\n                Typically, you will send a complex type, composed of values taken from several form \r\n                controls. Consider the following model that represents a status update:</p>\r\n\r\n<pre class=\"prettyprint\">namespace FormEncode.Models\r\n{\r\n    using System;\r\n    using System.ComponentModel.DataAnnotations;\r\n\r\n    public class Update\r\n    {\r\n        [Required]\r\n        [MaxLength(140)]\r\n        public string Status { get; set; }\r\n\r\n        public DateTime Date { get; set; }\r\n    }\r\n}</pre>\r\n\r\n<p>Here is a Web API controller that accepts an <code>Update</code> object via POST.</p>\r\n\r\n<pre class=\"prettyprint\">namespace FormEncode.Controllers\r\n{\r\n    using FormEncode.Models;\r\n    using System;\r\n    using System.Collections.Generic;\r\n    using System.Net;\r\n    using System.Net.Http;\r\n    using System.Web;\r\n    using System.Web.Http;\r\n\r\n    public class UpdatesController : ApiController\r\n    {\r\n        static readonly Dictionary&lt;Guid, Update&gt; updates = new Dictionary&lt;Guid, Update&gt;();\r\n\r\n        [HttpPost]\r\n        [ActionName(\"Complex\")]\r\n        public HttpResponseMessage PostComplex(Update update)\r\n        {\r\n            if (ModelState.IsValid &amp;&amp; update != null)\r\n            {\r\n                // Convert any HTML markup in the status text.\r\n                update.Status = HttpUtility.HtmlEncode(update.Status);\r\n\r\n                // Assign a new ID.\r\n                var id = Guid.NewGuid();\r\n                updates[id] = update;\r\n\r\n                // Create a 201 response.\r\n                var response = new HttpResponseMessage(HttpStatusCode.Created)\r\n                {\r\n                    Content = new StringContent(update.Status)\r\n                };\r\n                response.Headers.Location = \r\n                    new Uri(Url.Link(\"DefaultApi\", new { action = \"status\", id = id }));\r\n                return response;\r\n            }\r\n            else\r\n            {\r\n                return Request.CreateResponse(HttpStatusCode.BadRequest);\r\n            }\r\n        }\r\n\r\n        [HttpGet]\r\n        public Update Status(Guid id)\r\n        {\r\n            Update update;\r\n            if (updates.TryGetValue(id, out update))\r\n            {\r\n                return update;\r\n            }\r\n            else\r\n            {\r\n                throw new HttpResponseException(HttpStatusCode.NotFound);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</pre>\r\n            <p class=\"note\">This controller uses\r\n                <a href=\"/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api#routing_by_action_name\">\r\n                action-based routing</a>, so the route \r\n                template is &quot;api/{controller}/{action}/{id}&quot;. The client will post the \r\n                data to &quot;/api/updates/complex&quot;.</p>\r\n                <p>Now let\u2019s write an HTML form for users to submit a status update.</p>\r\n            <pre class=\"prettyprint\">&lt;h1&gt;Complex Type&lt;/h1&gt;\r\n&lt;form id=\"form1\" method=\"post\" action=\"api/updates/complex\" \r\n    enctype=\"application/x-www-form-urlencoded\"&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=\"status\"&gt;Status&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input name=\"status\" type=\"text\" /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=\"date\"&gt;Date&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input name=\"date\" type=\"text\" /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"submit\" value=\"Submit\" /&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n</pre>\r\n            <p>Notice that the <strong>action</strong> attribute on the form is the URI of our \r\n                controller action.\r\n                Here is the form with some values entered in:</p>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i1.asp.net/media/3323691/webapi_forms01.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p>When the user clicks Submit, the browser sends an HTTP request similar to the \r\n    following:</p>\r\n\r\n    <pre class=\"prettyprint\">POST http://localhost:38899/api/updates/complex HTTP/1.1\r\nAccept: text/html, application/xhtml+xml, */*\r\nUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\r\nContent-Type: application/x-www-form-urlencoded\r\nContent-Length: 47\r\n\r\nstatus=Shopping+at+the+mall.&date=6%2F15%2F2012</pre>\r\n            <p>Notice that the request body contains the form data, formatted as name/value \r\n                pairs. Web API automatically converts the name/value pairs into an instance of \r\n                the <code>Update</code> class. </p>\r\n            <h2 id=\"sending_form_data_via_ajax\">Sending Form Data via AJAX </h2>\r\n            <p>When a user submits a form, the browser navigates away from the current page and \r\n                renders the body of the response message. That\u2019s OK when the response is an HTML \r\n                page. With a web API, however, the response body is usually either empty or \r\n                contains structured data, such as JSON. In that case, it makes more sense to \r\n                send the form data using an AJAX request, so that the page can process the \r\n                response.</p>\r\n            <p>The following code shows how to post form data using jQuery.</p>\r\n            <pre class=\"prettyprint\"> &lt;script type=\"text/javascript\"&gt;\r\n    $(\"#form1\").submit(function () {\r\n        var jqxhr = $.post('api/updates/complex', $('#form1').serialize())\r\n            .success(function () {\r\n                var loc = jqxhr.getResponseHeader('Location');\r\n                var a = $('&lt;a/&gt;', { href: loc, text: loc });\r\n                $('#message').html(a);\r\n            })\r\n            .error(function () {\r\n                $('#message').html(\"Error posting the update.\");\r\n            });\r\n        return false;\r\n    });\r\n&lt;/script&gt;</pre>\r\n            <p> The jQuery <strong>submit</strong> function replaces the form action with a new \r\n                function. This overrides the default behavior of the Submit button. The <strong>serialize</strong> \r\n                function serializes the form data into name/value pairs. To send the form data \r\n                to the server, call <code>$.post()</code>.\r\n</p>\r\n            <p> When the request completes, the <code>.success()</code> or <code>.error()</code> handler displays an appropriate message to the \r\n                user.</p>\r\n                <p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i1.asp.net/media/3323697/webapi_forms02.png?cdn_id=2014-07-01-001\" /></p>\r\n            <h2 id=\"sending_simple_types\">Sending Simple Types</h2>\r\n            <p>In the previous sections, we sent a complex type, which Web API deserialized to \r\n                an instance of a model class. You can also send simple types, such as a string. </p>\r\n            <p class=\"note\">Before sending a simple type, consider wrapping the value in a complex type instead. \r\n                This gives you the benefits of model validation on the server side, and makes it \r\n                easier to extend your model if needed.</p>\r\n            <p>The basic steps to send a simple type are the same, but there are two subtle \r\n                differences. First, in the controller, you must decorate the parameter name with the <strong>\r\n                FromBody</strong> attribute. </p>\r\n            <pre class=\"prettyprint\">\r\n[HttpPost]\r\n[ActionName(\"Simple\")]\r\npublic HttpResponseMessage PostSimple(<mark>[FromBody]</mark> string value)\r\n{\r\n    if (value != null)\r\n    {\r\n        Update update = new Update()\r\n        {\r\n            Status = HttpUtility.HtmlEncode(value),\r\n            Date = DateTime.UtcNow\r\n        };\r\n\r\n        var id = Guid.NewGuid();\r\n        updates[id] = update;\r\n\r\n        var response = new HttpResponseMessage(HttpStatusCode.Created)\r\n        {\r\n            Content = new StringContent(update.Status)\r\n        };\r\n        response.Headers.Location = \r\n            new Uri(Url.Link(\"DefaultApi\", new { action = \"status\", id = id }));\r\n        return response;\r\n    }\r\n    else\r\n    {\r\n        return Request.CreateResponse(HttpStatusCode.BadRequest);\r\n    }\r\n</pre>\r\n            <p>By default, Web API tries to get simple types from the request URI. The <strong>\r\n                FromBody</strong> attribute tells Web API to read the value from the request \r\n                body. </p>\r\n            <p class=\"note\">Web API reads the response body at most once, so only one parameter of an action \r\n                can come from the request body. If you need to get multiple values from the \r\n                request body, define a complex type. </p>\r\n\r\n                <p>Second, the client needs to send the value with the following format:</p>\r\n            <pre class=\"prettyprint\">=<em>value</em></pre>\r\n\r\n            <p>Specifically, the name portion of the name/value pair must be empty for a simple \r\n                type. Not all browsers support this for HTML forms, but you create this format in \r\n                script as follows:</p>\r\n            <pre class=\"prettyprint\">$.post('api/updates/simple', { \"\": $('#status1').val() });</pre>\r\n            <p>\r\n                Here is an example form:</p>\r\n\r\n                <pre class=\"prettyprint\">&lt;h1&gt;Simple Type&lt;/h1&gt;\r\n&lt;form id=\"form2\"&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=\"status\"&gt;Status&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input id=\"status1\" type=\"text\" /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"submit\" value=\"Submit\" /&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;</pre>\r\n\r\n<p>And here is the script to submit the form value. The only difference from the \r\n    previous script is the argument passed into the <strong>post</strong> function.</p>\r\n\r\n<pre class=\"prettyprint\">$('#form2').submit(function () {\r\n    var jqxhr = $.post('api/updates/simple', <mark>{ \"\": $('#status1').val() }</mark>)\r\n        .success(function () {\r\n            var loc = jqxhr.getResponseHeader('Location');\r\n            var a = $('&lt;a/&gt;', { href: loc, text: loc });\r\n            $('#message').html(a);\r\n        })\r\n        .error(function () {\r\n            $('#message').html(\"Error posting the update.\");\r\n        });\r\n    return false;\r\n});</pre>\r\n            <p>You can use the same approach to send an array of simple types:</p>\r\n            <pre class=\"prettyprint\">$.post(&#39;api/updates/postlist&#39;, { &quot;&quot;: [&quot;update one&quot;, &quot;update two&quot;, &quot;update three&quot;] });</pre>\r\n            <p>&nbsp;</p>\r\n\r\n<h2>Additional Resources</h2>\r\n<p><a href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Part 2: File Upload and Multipart MIME</a></p><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"Sending HTML Form Data: Form-urlencoded Data\" style=\"display:none;\">Tweet</a></span></div><h2>Author Information</h2><div id=\"author-36870\" class=\"author-box article clearfix\"><img src=\"http://i1.asp.net/media/3132378/mike-wasson.jpg?cdn_id=2014-07-01-001\" alt=\"Mike Wasson\"/><p><strong>Mike Wasson</strong>\u00a0&ndash;\u00a0Mike Wasson is a programmer-writer at Microsoft. </p></div></span>\t\t\n        <input type=\"hidden\" data-documentid=\"39134\" /><input type=\"hidden\" data-pickerid=\"39135\" /><div class=\"article-comments module-comment\"><div class=\"module-comment-header\"><div class=\"col-left\"><h2 class=\"icon-rss-head\">Comments (<span id=\"spanCommentCount\">0</span>) <a href=\"/rss/comments/39135\" class=\"icon\" title=\"RSS Feed\">RSS Feed</a></h2></div><div class=\"col-right\"><span id=\"leaveCommentHeader\" class=\"comments-status\"><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1\">You must be logged in to leave a comment.</a></span><span id=\"comments-toggle\"><a href=\"javascript:var x = 'show comments';\" class=\"show-comments\"> </a></span></div><div class=\"clear\"> </div></div><ul id=\"comment-list\" style=\"display: none;\"> </ul></div>        \n      </div>\n\t  <div class=\"clear\"></div>\n  </div>\n  <div class=\"clear\">\r\n</div>\r\n<div id=\"BottomAd\" data-adzoneid=\"0\" data-adtypeid=\"4\" class=\"ad-728x90 ad \" data-adwidth=\"728px\" data-adheight=\"90px\" style=\"width:728px;height:90px;\"></div> \n\n      <div class=\"footer\">\n<div class=\"clear\"></div>\n<ul class=\"footer-menu\">\n<li class=\"block\">\n<h2>This site is managed for Microsoft by Neudesic, LLC. | &copy; 2014 Microsoft. All rights reserved.</h2>\n</li>\n<li><a href=\"http://www.asp.net/privacy\" data-s-object-id=\"footer\">Privacy Statement</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/terms-of-use\" data-s-object-id=\"footer\">Terms of Use</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"footer\">Contact Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.neudesicmediagroup.com/Advertising.aspx?site=asp\" data-s-object-id=\"footer\">Advertise With Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.umbraco.org\" data-s-object-id=\"footer\">CMS by Umbraco</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://azure.microsoft.com/\">Hosted on Microsoft Azure</a></li></ul>\n<ul class=\"footer-menu last\">\n<li class=\"block\">\n<h2><a class=\"logo-microsoft\" title=\"Microsoft\" href=\"http://microsoft.com\" data-s-object-id=\"footer\">Microsoft</a></h2>\n</li>\n<li><a href=\"http://aspnet.uservoice.com\" data-s-object-id=\"footer\">Feedback on ASP.NET</a><span class=\"separator\">|</span></li>\n<li><a href=\"https://connect.microsoft.com/VisualStudio\" data-s-object-id=\"footer\">File Bugs</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/support\">Support Lifecycle</a></li>\n</ul>\n</div>\n    </div>    \n    <div class=\"modal modal-webpi\" style=\"display:none;\"><a href=\"javascript:;\" class=\"modal-close\" data-s-object-id=\"webpi (close)\">\u2716</a><div class=\"modal-contents\"><h2>Installs powered by the Microsoft Web Platform Installer</h2><p>The product(s) you are about to install leverage the Web Platform Installer (WebPI) for installation. By downloading and using the Web Platform Installer (WebPI), you agree to the <a href=\"http://go.microsoft.com/fwlink/?LinkId=251729\">license terms</a> and <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for WebPI. This installer will contact Microsoft over the Internet to retrieve product information.  WebPI uses the Microsoft Customer Experience Improvement Program (CEIP), which is turned on by default, see <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for more information.  Some of the Microsoft software obtained through WebPI may use CEIP. To view which software uses CEIP, see <a href=\"http://go.microsoft.com/?LinkID=9816722\">here</a>.</p><a href=\"javascript:;\" class=\"btn-install\" data-s-object-id=\"webpi (install)\">Accept and install</a></div></div><div class=\"modal-cover\" style=\"display:none;\"></div>\n\t\r\n<input type=\"hidden\" id=\"meta-contentType\" value=\"ArticleContentPicker\" />\r\n<input type=\"hidden\" id=\"meta-contentLiveDate\" value=\"2012-06-15\" />\r\n<input type=\"hidden\" id=\"meta-articleContentType\" value=\"Tutorial\" />\r\n<input type=\"hidden\" id=\"meta-articleContentTypeValue\" value=\"32\" />\n    \n  \r\n    \r\n  \r\n    <script id=\"tmpl-comment\" type=\"text/x-jquery-tmpl\">\r\n      <li id=\"comment_${id}\">\r\n        <a href=\"http://forums.asp.net/members/${username}.aspx\"><img src=\"${avatar}\" alt=\"${username}\" class=\"social-avatar\" /></a>\r\n        {{html comment}}\r\n        <p class=\"comment-details\"><span class=\"comment-details-left\"><a href=\"http://forums.asp.net/members/${username}.aspx\">${username}</a> - ${created}</span>\r\n\t\t\r\n        </p>\r\n      </li>  \r\n    </script>\r\n  \r\n\r\n  \n\n      <script src='http://i1.asp.net/umbraco-beta-scripts/jquery-1.7.2.min.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n      <script type=\"text/javascript\">$.ajaxSetup({ cache: false });var omni_guid=\"cef0be0e-b96f-462d-8dba-cbddfe841248\";</script>\n    \n    <script type=\"text/javascript\">var s=document.createElement('script');s.type='text/javascript';s.src='http://i1.asp.net/umbraco-beta-scripts/prod-article.min.js?cdn_id=2014-07-01-001';document.body.appendChild(s);</script>\n\n    <script type=\"text/javascript\">if ((Math.floor(Math.random()*100))<5){$.getScript(\"/scripts/prod-survey.min.js?cdn_id=2014-07-01-001\");}</script>\n    <noscript><a href=\"http://www.omniture.com\" title=\"Web Analytics\"><img src=\"http://msstonojsaspnet.112.2O7.net/b/ss/msstonojsaspnet/1/H.20.2--NS/0\" height=\"1\" width=\"1\" alt=\"omni\" /></a></noscript>\n  </body>\n</html>  ", "size":51720, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"12441"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:41:01 GMT"}]}, "startedDateTime":"2014-07-20T06:41:01.1181359+08:00", "cache":{}}, {"time":325, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":986, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Content-Length", "value":"0"}, {"name":"Accept", "value":"application/json, text/javascript, */*; q=0.01"}, {"name":"Origin", "value":"http://www.asp.net"}, {"name":"X-Requested-With", "value":"XMLHttpRequest"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1"}, {"name":"Accept-Encoding", "value":"gzip,deflate"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/http-message-handlers%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "bodySize":0, "url":"http://www.asp.net/base/MscComment/GetCommentsCountForDocument/39134", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/http-message-handlers%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "method":"POST", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":325, "dns":0, "send":0, "connect":0}, "response":{"headersSize":260, "bodySize":32, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":-31, "text":"8", "size":1, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"32"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:41:02 GMT"}]}, "startedDateTime":"2014-07-20T06:41:03.0182436+08:00", "cache":{}}, {"time":620, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":968, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Accept", "value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-1"}, {"name":"Accept-Encoding", "value":"gzip,deflate,sdch"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-2%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "bodySize":0, "url":"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-2%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "method":"GET", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":620, "dns":0, "send":0, "connect":0}, "response":{"headersSize":263, "bodySize":12001, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":39139, "text":"\n \n<!DOCTYPE HTML>\n<!--[if IE]><![endif]-->\n<html>\n  <head>\n    <title>Sending HTML Form Data | The ASP.NET Site</title>\n    <meta charset=\"UTF-8\" />\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"/> \n  \t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n  \t<meta name=\"application-name\" content=\"Microsoft ASP.NET Site\"/>\n  \t\r\n<meta name=\"twitter:card\" content=\"summary\" />\r\n<meta name=\"twitter:site\" content=\"@aspnet\" />\r\n<meta name=\"twitter:domain\" content=\"asp.net\" />\r\n<meta name=\"twitter:image:src\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta name=\"twitter:title\" content=\"Sending HTML Form Data: File Upload and Multipart MIME\" />\r\n<meta name=\"twitter:description\" content=\"Part 2: File Upload and Multipart MIME This tutorial shows how to upload files to a web API. It also describes how to process multipart MIME data. Download the completed project . Here is an exampl...\" />\r\n<meta property=\"og:type\" content=\"article\" />\r\n<meta property=\"og:title\" content=\"Sending HTML Form Data: File Upload and Multipart MIME\" />\r\n<meta property=\"og:description\" content=\"Part 2: File Upload and Multipart MIME This tutorial shows how to upload files to a web API. It also describes how to process multipart MIME data. Download the completed project . Here is an exampl...\" />\r\n<meta property=\"og:image\" content=\"http://i1.asp.net/images/ui/asplogo-square.png?cdn_id=2014-07-01-001\" />\r\n<meta property=\"og:url\" content=\"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2\" />\r\n<meta property=\"og:site_name\" content=\"The Official Microsoft ASP.NET Site\" />\r\n<meta property=\"fb:admins\" content=\"scott.hanselman\" />\r\n<meta property=\"fb:admins\" content=\"jon.galloway\" />\r\n<meta property=\"fb:admins\" content=\"robmcm\" />\n        \n    \n  <link href='http://i2.asp.net/umbraco-beta-css/articles.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"all\" />\n\n    <!--[if lte IE 7]>\n      <link href='http://i2.asp.net/umbraco-beta-css/lteIE7.min.css?cdn_id=2014-07-01-001' rel=\"stylesheet\" type=\"text/css\" media=\"screen\" />\n    <![endif]-->\n\t<!--[if lte IE 9]>\n      <script src='http://i1.asp.net/umbraco-beta-scripts/html5.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n    <![endif]-->\n    <link href='http://i2.asp.net/images/content/favicon.ico?cdn_id=2014-07-01-001' rel=\"shortcut icon\" />\n\t<link rel=\"alternate\" type=\"application/rss+xml\" title=\"Latest ASP.NET Content\" href=\"http://www.asp.net/rss/content\" />\n\t  \n\t<!-- Anti-Clickjacking script -->\n\t<style id=\"antiClickjack\">body{display:none !important;}</style>\n\t<script type=\"text/javascript\">\n\t\tif (self === top) {\n\t\t\tvar antiClickjack = document.getElementById(\"antiClickjack\");\n\t\t\tantiClickjack.parentNode.removeChild(antiClickjack);\n\t\t\t} else {\n\t\t\ttop.location = self.location;\n\t\t}\n\t </script>\n\t  \n  </head>\n  <body class=''>\n    \n    <div class='allcontent '>\n    <header>\n      <a href=\"http://www.asp.net/\" id=\"logo\" data-s-object-id=\"logo\">The ASP.NET Site</a><form method=\"post\" id=\"search-query-masthead\" action=\"/search\"><div class=\"search-header\"><input type=\"text\" class=\"search-input input-common\" value=\"Search ASP.NET\" data-uitext=\"Search ASP.NET\" data-uitype=\"autoreset\" name=\"searchterm\" /><input type=\"submit\" name=\"submit\" class=\"search-submit\" value=\"\" title=\"Search\" /></div></form>\n      <div class=\"language-translation\"><a href=\"javascript:;\" data-s-object-id=\"language\" class=\"language\">Language</a><div class=\"common-dropdown translator collapse\"><div id=\"MicrosoftTranslatorWidget\"><noscript><a href=\"https://ssl.microsofttranslator.com/bv.aspx?a=http%3a%2f%2fwww.asp.net%2f\">Translate this page</a><br />Powered by <a href=\"http://www.bing.com/translator\">Microsoft\u00ae Translator</a></noscript></div><script type=\"text/javascript\"> setTimeout(function() { var s = document.createElement(\"script\"); s.type = \"text/javascript\"; s.charset = \"UTF-8\"; s.src = ((location && location.href && location.href.indexOf('https') == 0) ? \"https://ssl.microsofttranslator.com\" : \"http://www.microsofttranslator.com\" ) + \"/ajax/v2/widget.aspx?siteData=VtgDR3VIw5EtyA5GLjVPQ4KJzPXxm9obABaIozZaC4rASMWk5L25KWUqh6Ar6NGqURTEzXUWnpx5iWdUN5sLtdEPpCp2cWHOJbvpyPB4G1CbqhzmBvRz5N5LcA3XLkI9&ctf=true&settings=manual&mode=manual&from=en&layout=ts&hideLanguages=ar,bg,ca,da,nl,et,fi,el,ht,he,hi,ms,mww,hu,id,lv,lt,no,fa,ro,sk,sl,sv,tlh,th,uk,ur,vi\"; var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild); }, 0);    \r\n\t\t  </script></div></div>\n\t  <script type=\"text/javascript\">var currentUsername = '';</script><div class=\"nav-user logged-out\"><p><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Sign In</a><span class=\"separator\">|</span><a href=\"http://login.asp.net/login/createuser.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Join</a></p></div>   \n\t  <nav class=\"clearfix nav-main\"><ul><li><a href=\"http://www.asp.net/\" data-s-object-id=\"navbar\">Home</a></li><li><a href=\"http://www.asp.net/get-started\" data-s-object-id=\"navbar\">\r\n      Get Started\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"learnpulldown selected\">\r\n\t\t\tLearn <span class=\"icon-dropdown\"></span></a>\n\t    <div class=\"dropdown-learn\">\n\t<div class=\"col\">\n\t  <h2>WEB APPLICATIONS</h2>\n\t  <ul>\n\t\t<li><a href=\"http://www.asp.net/web-forms\" data-s-object-id=\"learn\">Web Forms</a></li>\n\t\t<li><a href=\"http://www.asp.net/mvc\" data-s-object-id=\"learn\">MVC</a></li>\n\t\t<li><a href=\"http://www.asp.net/web-pages\" data-s-object-id=\"learn\">Web Pages/Razor</a></li>\n\t\t<li><a href=\"http://www.asp.net/mobile\" data-s-object-id=\"learn\">Mobile</a></li>\n\t\t<li><a href=\"http://www.asp.net/single-page-application\" data-s-object-id=\"learn\">Single Page Apps</a></li>\n\t  </ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>WEB SERVICES / API's</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/web-api\" data-s-object-id=\"learn\">Web API</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>REAL TIME</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/signalr\" data-s-object-id=\"learn\">SignalR</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>DATA ACCESS</h2>\n\t\t<ul>\n\t\t  <li><a href=\"http://www.asp.net/entity-framework\" data-s-object-id=\"learn\">Entity Framework</a></li>\n\t\t</ul>\n\t</div>\n\t<div class=\"col\">\n\t  <h2>ONE ASP.NET</h2>\n\t\t<ul>\n                         <li><a href=\"http://www.asp.net/identity\" data-s-object-id=\"learn\">ASP.NET Identity</a></li>\n                         <li><a href=\"http://www.asp.net/aspnet\" data-s-object-id=\"learn\">Common ASP.NET Features</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio/overview/2013/aspnet-and-web-tools-20132-preview-for-visual-studio-2013-release-notes\" data-s-object-id=\"learn\">Current Release (2013.2)</a></li>\n                         <li><a href=\"http://www.asp.net/vnext\" data-s-object-id=\"learn\">Future Release</a></li>\n                         <li><a href=\"http://www.asp.net/visual-studio\" data-s-object-id=\"learn\">Tooling/IDE</a></li>\n\t\t</ul>\n\t</div>\n  </div>\n      </li><li><a href=\"http://www.asp.net/hosting\" data-s-object-id=\"navbar\">\r\n      Hosting\r\n    </a></li><li><a href=\"http://www.asp.net/downloads\" data-s-object-id=\"navbar\">\r\n      Downloads\r\n    </a></li><li class=\"nav-main-solutions\"><a href=\"javascript:;\" class=\"communitypulldown\">\r\n\t\t\tCommunity <span class=\"icon-dropdown\"></span></a>\n\t  \n\t\t<div class=\"dropdown-community\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community\" data-s-object-id=\"community\">Overview</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/spotlight\" data-s-object-id=\"community\">Daily Spotlight</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/articles\" data-s-object-id=\"community\">Articles of the Day</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/news\" data-s-object-id=\"community\">News</a></li>\n\t\t\t\t\t<li><a href=\"http://weblogs.asp.net/\" data-s-object-id=\"community\">Community Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/microsoft-blogs\" data-s-object-id=\"community\">Microsoft Blogs</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/events\" data-s-object-id=\"community\">Events</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/recognition/hall-of-fame\" data-s-object-id=\"community\">Hall Of Fame</a></li>\n\t\t\t\t\t<li><a href=\"http://code.msdn.microsoft.com/site/search?f&#91;0&#93;.Type=Technology&amp;f&#91;0&#93;.Value=ASP.NET&amp;sortBy=Date\" data-s-object-id=\"community\">MSDN Samples</a></li>\n\t\t\t\t\t<li><a href=\"http://forums.asp.net/\" data-s-object-id=\"community\">Forums</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/websites\" data-s-object-id=\"community\">Community Websites</a></li>\n\t\t\t\t\t<li><a href=\"http://www.asp.net/community/support\" data-s-object-id=\"community\">Community Support</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t  </li><li><a href=\"http://forums.asp.net/\" data-s-object-id=\"navbar\">Forums</a></li><li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"navbar\">Help</a></li></ul></nav><div class=\"social\"><span>Follow us on<a href=\"https://www.facebook.com/asp.net\" class=\"facebook\"></a><a href=\"http://twitter.com/aspnet\" class=\"twitter\"></a></span></div>\n    </header>\n      \n  <div class=\"content article-page article-content\">\n    <div class=\"learn-nav\"><ul class=\"common-tabs\"><li class=\"heading\">Web API:</li><li><a data-s-object-id=\"subnav\" href=\"/web-api/overview\" class=\"selected\">Overview<span></span></a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/tutorials\" class=\"\">Tutorials</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/videos\" class=\"\">Videos</a></li> <li><a data-s-object-id=\"subnav\" href=\"/aspnet/samples/aspnet-web-api\" class=\"\">Samples</a></li> <li><a data-s-object-id=\"subnav\" href=\"http://forums.asp.net/1246.aspx/1?ASP+NET+Web+API\" class=\"\">Forum</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/open-source\" class=\"\">Open Source</a></li> <li><a data-s-object-id=\"subnav\" href=\"/web-api/books\" class=\"\">Books</a></li>  </ul></div>  \n    <input type=\"hidden\" id=\"loggedIn\" value=\"False\" />\n      <div class=\"module-chapters extended clearfix\">\n        <div id=\"MicroText4\" data-adzoneid=\"0\" data-adtypeid=\"448\" class=\"ad-120x90 ad \" data-adwidth=\"209px\" data-adheight=\"130px\" style=\"width:209px;height:130px;\"></div> \n\t\t<div class=\"chapter-box toc-menu\"><ul class=\"chapters\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/getting-started-with-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Getting Started</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\">Getting Started with Web API 2 (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.apress.com/9781430247258\">Pro ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster.pdf\">ASP.NET Web API Poster</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/posters/web-api/ASP.NET-Web-API-Poster-grayscale.pdf\">ASP.NET Web API Poster (Grayscale)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/whitepapers/aspnet-data-access-content-map\">Recommended Resources for ASP.NET Data Access</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/releases\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Releases<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-22\">What's New in ASP.NET Web API 2.2<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/releases/whats-new-in-aspnet-web-api-21\">What's New in ASP.NET Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.asp.net/visual-studio/overview/2013/release-notes#TOC11\">What's New in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/identity/overview/migrations\">Upgrade from ASP.NET Membership to ASP.NET Identity</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis\" data-s-object-id=\"left sidebar\" class=\"\">Creating Web APIs</a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 2 with Entity Framework 6</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-1\">1. \r\n\t\t\t\tCreate the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-2\">2. \r\n\t\t\t\tAdd Models and Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-3\">3. \r\n\t\t\t\tSeed the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-4\">4. \r\n\t\t\t\tHandling Entity Relations</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-5\">5. \r\n\t\t\t\tCreate Data Transfer Objects (DTOs)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-6\">6. \r\n\t\t\t\tCreate the JavaScript Client</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-7\">7. \r\n\t\t\t\tCreate the View (UI)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-8\">8. \r\n\t\t\t\tDisplay Item Details</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-9\">9. \r\n\t\t\t\tAdd a New Item to the Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/part-10\">10. \r\n\t\t\t\tPublish the App to Azure Websites</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" href=\"http://codebetter.com/howarddierking/2012/11/09/versioning-restful-services/\">Versioning RESTful Services</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://www.windowsazure.com/en-us/develop/net/tutorials/rest-service-using-web-api/#bkmk_createmvc4app\">Mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-with-aspnet-web-forms\">Using Web API with ASP.NET Web Forms</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-api-help-pages\">Creating Web API Help Pages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/creating-a-web-api-that-supports-crud-operations\">Implementing CRUD Operations in Web API 1</a></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\" data-s-object-id=\"left sidebar\" class=\"\">Using Web API 1 with Entity Framework 5</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-1\">1. \r\n\t\t\t\tOverview and Creating the Project</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-2\">2. \r\n\t\t\t\tCreating the Domain Models</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-3\">3. \r\n\t\t\t\tCreating an Admin Controller</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-4\">4. \r\n\t\t\t\tAdding an Admin View</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-5\">5. \r\n\t\t\t\tCreating a Dynamic UI with Knockout.js</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-6\">6. \r\n\t\t\t\tCreating Product and Order Controllers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/creating-web-apis/using-web-api-1-with-entity-framework-5/using-web-api-with-entity-framework,-part-7\">7. \r\n\t\t\t\tCreating the Main Page</a></li></ul></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-clients\" data-s-object-id=\"left sidebar\" class=\"\">Web API Clients</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-a-web-api-from-a-net-client\">Calling a Web API From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/httpclient-message-handlers\">HttpClient Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-clients/calling-web-api-from-a-windows-phone-8-application\">Calling Web API from a Windows Phone 8 Application (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/web-api-routing-and-actions\" data-s-object-id=\"left sidebar\" class=\"\">Web API Routing and Actions</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api\">Routing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\">Attribute Routing in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/routing-and-action-selection\">Routing and Action Selection</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/create-a-rest-api-with-attribute-routing\">Create a REST API with Attribute Routing</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/exception-handling\">Exception Handling in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/action-results\">Action Results in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/web-api-routing-and-actions/web-api-global-error-handling\">Web API Global Error Handling</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow expanded\"><span></span></a><a href=\"/web-api/overview/working-with-http\" data-s-object-id=\"left sidebar\" class=\"\">Working with HTTP</a><ul class=\"articles active\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-message-handlers\">HTTP Message Handlers</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-1\">Sending HTML Form Data: Form-urlencoded Data</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hover\" href=\"/web-api/overview/working-with-http/sending-html-form-data,-part-2\">Sending HTML Form Data: File Upload and Multipart MIME</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/2012/06/batching-handler-for-web-api.html\">Batching HTTP Messages</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/working-with-http/http-cookies\">HTTP Cookies</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/formats-and-model-binding\" data-s-object-id=\"left sidebar\" class=\"\">Formats and Model Binding</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/media-formatters\">Media Formatters</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/json-and-xml-serialization\">JSON and XML Serialization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/bson-support-in-web-api-21\">BSON Support in Web API 2.1</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/content-negotiation\">Content Negotiation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api\">Model Validation</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\">Parameter Binding in Web API</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData<span class=\"new\"></span></a><ul class=\"articles\"><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\" data-s-object-id=\"left sidebar\" class=\" hasNew\">OData v4<span class=\"new\"></span></a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\">Create an OData v4 Endpoint <span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-client-app\">Create an OData v4 Client App (C#)<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/entity-relations-in-odata-v4\">Entity Relations in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-actions-and-functions\">Actions and Functions in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/odata-containment-in-web-api-22\">Containment in OData v4<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/using-a-singleton-in-an-odata-endpoint-in-web-api-22\">Create a Singleton in OData v4<span class=\"new\"></span></a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\" data-s-object-id=\"left sidebar\" class=\"\">OData v3</a><ul class=\"subsections\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/creating-an-odata-endpoint\">Creating an OData v3 Endpoint</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/working-with-entity-relations\">Supporting Entity Relations in OData v3</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/odata-actions\">OData Actions in Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-v3/calling-an-odata-service-from-a-net-client\">Calling an OData Service From a .NET Client (C#)</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://msdn.microsoft.com/en-us/magazine/dn201742.aspx\">A New Option for Creating OData: Web API</a></li></ul></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/supporting-odata-query-options\">Supporting OData Query Options in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/using-$select,-$expand,-and-$value\">Using $select, $expand, and $value in Web API OData</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-routing-conventions\">OData Routing Conventions</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/odata-support-in-aspnet-web-api/odata-security-guidance\">OData Security Guidance</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/security\" data-s-object-id=\"left sidebar\" class=\" hasNew\">Security<span class=\"new\"></span></a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"/identity\">ASP.NET Identity</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api\">Authentication and Authorization</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/individual-accounts-in-web-api\">Individual Accounts in Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/external-authentication-services\">External Authentication Services (C#)</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/basic-authentication\">Basic Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/forms-authentication\">Forms Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/integrated-windows-authentication\">Integrated Windows Authentication</a></li><li><a data-s-object-id=\"left sidebar\" class=\" hasNew\" href=\"/web-api/overview/security/enabling-cross-origin-requests-in-web-api\">Enabling Cross-Origin Requests<span class=\"new\"></span></a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/preventing-cross-site-request-forgery-(csrf)-attacks\">Preventing Cross-Site Request Forgery (CSRF) Attacks</a></li><li><a data-s-object-id=\"left sidebar\" href=\"https://vimeo.com/user22258446/review/79095048/9a4d62f61c\">Securing ASP.NET Web APIs</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/security/working-with-ssl-in-web-api\">Working with SSL</a></li><li><a data-s-object-id=\"left sidebar\" href=\"/aspnet/overview/owin-and-katana\">OWIN and Katana</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/hosting-aspnet-web-api\" data-s-object-id=\"left sidebar\" class=\"\">Deployment and Hosting</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/use-owin-to-self-host-web-api\">Use OWIN to Self-Host Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/host-aspnet-web-api-in-an-azure-worker-role\">Host ASP.NET Web API 2 in an Azure Worker Role</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-rest-service-aspnet-api-sql-database/\">Create a mobile-friendly REST service using ASP.NET Web API and SQL Database</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-deploy/\">How to Deploy a Windows Azure Web Site</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/hosting-aspnet-web-api/self-host-a-web-api\">Self-Host Web API 1 (C#)</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/testing-and-debugging\" data-s-object-id=\"left sidebar\" class=\"\">Testing and Debugging</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/tracing-in-aspnet-web-api\">Tracing in ASP.NET Web API</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-with-aspnet-web-api\">Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/unit-testing-controllers-in-web-api\">Unit Testing Controllers in ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/mocking-entity-framework-when-unit-testing-aspnet-web-api-2\">Mocking Entity Framework when Unit Testing ASP.NET Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/archive/2013/04/04/debugging-asp-net-web-api-with-route-debugger.aspx\">Debugging ASP.NET Web API with Route Debugger</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://www.windowsazure.com/en-us/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/\">Troubleshooting Windows Azure Web Sites in Visual Studio</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/testing-and-debugging/troubleshooting-http-405-errors-after-publishing-web-api-applications\">Troubleshooting HTTP 405 Errors after Publishing Web API Applications</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/extensibility\" data-s-object-id=\"left sidebar\" class=\"\">Extensibility</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/configuring-aspnet-web-api\">Configuring Web API 2</a></li><li><a data-s-object-id=\"left sidebar\" class=\"\" href=\"/web-api/overview/extensibility/using-the-web-api-dependency-resolver\">Dependency Injection for Web API Controllers</a></li></ul></li><li><a href=\"javascript:var x = 'arrow';\" class=\"arrow\"><span></span></a><a href=\"/web-api/overview/resources\" data-s-object-id=\"left sidebar\" class=\"\">Additional Resources</a><ul class=\"articles\"><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/webdev/\">.NET Web Development and Tools Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://bradwilson.typepad.com/blog/aspnet/\">Brad Wilson's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/henrikn/\">Henrik's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/hongmeig1/\">Hongmei's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/kiranchalla/\">Kiran's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/jmstall/\">Mike Stall's Blog</a></li><li><a data-s-object-id=\"left sidebar\" href=\"http://blogs.msdn.com/b/yaohuang1/\">Yao's Blog</a></li></ul></li></ul></div>\n      </div>\n      <div class=\"col-right-learn\">\n        <span><div class=\"article-title keyline\"><h1><div itemprop=\"name\">Sending HTML Form Data <span></span></div></h1><div class=\"details\"><div class=\"author-header\">\r\n\t\t  By\r\n         <a href=\"#author-36870\" itemprop=\"author\" class=\"print-no\">Mike Wasson</a><span class=\"print-only-inline\">Mike Wasson</span><span class=\"separator\">|</span><time datetime=\"2012-06-21\">June 21, 2012</time></div><div class=\"print-bar\"><a href=\"javascript:window.print();\">Print</a></div><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"Sending HTML Form Data: File Upload and Multipart MIME\" style=\"display:none;\">Tweet</a></span></div></div></div><h2>Part 2: File Upload and Multipart MIME</h2>\r\n\r\n<p>This tutorial shows how to upload files to a web API. It also describes how to process multipart MIME data.</p>\r\n\r\n<p class=\"note\"><a href=\"http://code.msdn.microsoft.com/ASPNET-Web-API-File-Upload-a8c0fb0d\">Download the completed project</a>.</p>\r\n\r\n            <p>Here is an example of an HTML form for uploading a file:</p>\r\n<pre class=\"prettyprint\">\r\n&lt;form name=\"form1\" method=\"post\" enctype=\"multipart/form-data\" action=\"api/upload\"&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=\"caption\"&gt;Image Caption&lt;/label&gt;\r\n        &lt;input name=\"caption\" type=\"text\" /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=\"image1\"&gt;Image File&lt;/label&gt;\r\n        &lt;input name=\"image1\" type=\"file\" /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"submit\" value=\"Submit\" /&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n</pre>\r\n\r\n            <p>\r\n                <img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i1.asp.net/media/3661080/webapi_forms03.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p>This form contains a text input control and a file input control. When a form contains a file \r\n    input control, the <strong>enctype</strong> attribute \r\n    should always be &quot;multipart/form-data&quot;, which specifies \r\n    that the form will be sent as a multipart MIME message. </p>\r\n            <p>The format of a multipart MIME \r\n    message is easiest to \r\n    understand by looking at an example request:</p>\r\n            <pre class=\"prettyprint\">POST http://localhost:50460/api/values/1 HTTP/1.1\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\nAccept-Language: en-us,en;q=0.5\r\nAccept-Encoding: gzip, deflate\r\nContent-Type: multipart/form-data; boundary=---------------------------41184676334\r\nContent-Length: 29278\r\n\r\n-----------------------------41184676334\r\nContent-Disposition: form-data; name=\"caption\"\r\n\r\nSummer vacation\r\n-----------------------------41184676334\r\nContent-Disposition: form-data; name=\"image1\"; filename=\"GrandCanyon.jpg\"\r\nContent-Type: image/jpeg\r\n\r\n<em>(Binary data not shown)</em>\r\n-----------------------------41184676334--\r\n</pre>\r\n            <p>\r\n                This message is divided into two <em>parts</em>, one for each form control. Part \r\n                boundaries are indicated by the lines that start with dashes.</p>\r\n            <p class=\"note\">\r\n                The part boundary includes a random component (&quot;41184676334&quot;) to \r\n                ensure that the boundary string does not accidentally appear inside a message \r\n                part. </p>\r\n            <p>\r\n                Each message part contains one or more headers, followed by the part contents.</p>\r\n            <ul>\r\n                <li>The Content-Disposition header includes the name of the control. For files, it \r\n                    also contains the file name.</li>\r\n                <li>The Content-Type header describes the data in the part. If this header is \r\n                    omitted, the default is text/plain.</li>\r\n            </ul>\r\n            <p>In the previous example, the user uploaded a file named GrandCanyon.jpg, with content type \r\n                image/jpeg; and the value of the text input was &quot;Summer Vacation&quot;.</p>\r\n\r\n<h2>File Upload</h2>\r\n\r\n<p>Now let&#39;s look at a Web API controller that reads files from a multipart \r\n    MIME message.\r\n    The controller will read the files asynchronously. Web API supports asynchronous \r\n    actions using the <a href=\"http://msdn.microsoft.com/library/dd460693.aspx\">\r\n    task-based programming model</a>. First, here is the code if you are targeting \r\n    .NET Framework 4.5, which supports the <strong>async</strong> and <strong>await</strong> keywords.</p>\r\n\r\n<pre class=\"prettyprint\">using System.Diagnostics;\r\nusing System.Net;\r\nusing System.Net.Http;\r\nusing System.Threading.Tasks;\r\nusing System.Web;\r\nusing System.Web.Http;\r\n\r\npublic class UploadController : ApiController\r\n{\r\n    public async Task&lt;HttpResponseMessage&gt; PostFormData()\r\n    {\r\n        // Check if the request contains multipart/form-data.\r\n        if (!Request.Content.IsMimeMultipartContent())\r\n        {\r\n            throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);\r\n        }\r\n\r\n        string root = HttpContext.Current.Server.MapPath(\"~/App_Data\");\r\n        var provider = new MultipartFormDataStreamProvider(root);\r\n\r\n        try\r\n        {\r\n            // Read the form data.\r\n            await Request.Content.ReadAsMultipartAsync(provider);\r\n\r\n            // This illustrates how to get the file names.\r\n            foreach (MultipartFileData file in provider.FileData)\r\n            {\r\n                Trace.WriteLine(file.Headers.ContentDisposition.FileName);\r\n                Trace.WriteLine(\"Server file path: \" + file.LocalFileName);\r\n            }\r\n            return Request.CreateResponse(HttpStatusCode.OK);\r\n        }\r\n        catch (System.Exception e)\r\n        {\r\n            return Request.CreateErrorResponse(HttpStatusCode.InternalServerError, e);\r\n        }\r\n    }\r\n\r\n}\r\n</pre>\r\n            <p>\r\n                Notice that the controller action does not take any parameters. That's because we \r\n                process the request body inside the action, without invoking a media-type \r\n                formatter. \r\n            </p>\r\n                <p>The <strong>IsMultipartContent</strong> method checks whether the request contains a multipart MIME message. If not, the \r\n                controller returns HTTP status code 415 (Unsupported Media Type).</p>\r\n                <p>The <strong>MultipartFormDataStreamProvider</strong> class is \r\n                a helper object that allocates file streams for uploaded files. To \r\n                read the multipart MIME message, \r\n                call the <strong>ReadAsMultipartAsync</strong> method. This method extracts all of \r\n                the message parts and writes them into the streams provided by the <strong>MultipartFormDataStreamProvider</strong>.</p>\r\n            <p>When the method completes, you can get information about the files from the <strong>FileData</strong> property, which is a collection of <strong>MultipartFileData</strong> objects.</p>\r\n\r\n            <ul>\r\n                <li><strong>MultipartFileData.FileName</strong> is the local file name on the server, where the file was saved.</li>\r\n                <li><strong>MultipartFileData.Headers</strong> contains the part header (<em>not</em> the request header). You can use this to access the Content_Disposition and Content-Type headers.</li>\r\n            </ul>\r\n\r\n            <p>As the name suggests, <strong>ReadAsMultipartAsync</strong> is an asynchronous \r\n                method.&nbsp; To perform work after the method completes, use a\r\n                <a href=\"http://msdn.microsoft.com/en-us/library/ee372288.aspx\">continuation \r\n                task</a> (.NET 4.0) or the <strong>await</strong> keyword (.NET 4.5).</p>\r\n\r\n            <p>Here is the .NET Framework 4.0 version of the previous code:</p>\r\n\r\n<pre class=\"prettyprint\">\r\npublic Task&lt;HttpResponseMessage&gt; PostFormData()\r\n{\r\n    // Check if the request contains multipart/form-data.\r\n    if (!Request.Content.IsMimeMultipartContent())\r\n    {\r\n        throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);\r\n    }\r\n\r\n    string root = HttpContext.Current.Server.MapPath(\"~/App_Data\");\r\n    var provider = new MultipartFormDataStreamProvider(root);\r\n\r\n    // Read the form data and return an async task.\r\n    var task = Request.Content.ReadAsMultipartAsync(provider).\r\n        ContinueWith&lt;HttpResponseMessage&gt;(t =&gt;\r\n        {\r\n            if (t.IsFaulted || t.IsCanceled)\r\n            {\r\n                Request.CreateErrorResponse(HttpStatusCode.InternalServerError, t.Exception);\r\n            }\r\n\r\n            // This illustrates how to get the file names.\r\n            foreach (MultipartFileData file in provider.FileData)\r\n            {\r\n                Trace.WriteLine(file.Headers.ContentDisposition.FileName);\r\n                Trace.WriteLine(\"Server file path: \" + file.LocalFileName);\r\n            }\r\n            return Request.CreateResponse(HttpStatusCode.OK);\r\n        });\r\n\r\n    return task;\r\n}</pre>\r\n           \r\n<h2>Reading Form Control Data</h2>\r\n\r\n<p>The HTML form that I showed earlier had a text input control.</p>             \r\n\r\n<pre class=\"prettyprint\">\r\n    &lt;div&gt;\r\n        &lt;label for=\"caption\"&gt;Image Caption&lt;/label&gt;\r\n        &lt;input name=\"caption\" type=\"text\" /&gt;\r\n    &lt;/div&gt;\r\n</pre>\r\n\r\n<p>You can get the value of the control from the <strong>FormData</strong> property of the <strong>MultipartFormDataStreamProvider</strong>. </p>\r\n\r\n<pre class=\"prettyprint\">\r\npublic async Task&lt;HttpResponseMessage&gt; PostFormData()\r\n{\r\n    if (!Request.Content.IsMimeMultipartContent())\r\n    {\r\n        throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);\r\n    }\r\n\r\n    string root = HttpContext.Current.Server.MapPath(\"~/App_Data\");\r\n    var provider = new MultipartFormDataStreamProvider(root);\r\n\r\n    try\r\n    {\r\n        await Request.Content.ReadAsMultipartAsync(provider);\r\n\r\n        <mark>// Show all the key-value pairs.</mark>\r\n        foreach (var key in provider.FormData.AllKeys)\r\n        {\r\n            foreach (var val in provider.FormData.GetValues(key))\r\n            {\r\n                Trace.WriteLine(string.Format(\"{0}: {1}\", key, val));\r\n            }\r\n        }\r\n\r\n        return Request.CreateResponse(HttpStatusCode.OK);\r\n    }\r\n    catch (System.Exception e)\r\n    {\r\n        return Request.CreateErrorResponse(HttpStatusCode.InternalServerError, e);\r\n    }\r\n}\r\n</pre>\r\n\r\n<p><strong>FormData</strong> is a <strong>NameValueCollection</strong> that contains name/value pairs for the form controls. The collection can contain duplicate keys. Consider this form:</p>\r\n\r\n<pre class=\"prettyprint\">\r\n&lt;form name=\"trip_search\" method=\"post\" enctype=\"multipart/form-data\" action=\"api/upload\"&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"radio\" name=\"trip\" value=\"round-trip\"/&gt;\r\n        Round-Trip\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"radio\" name=\"trip\" value=\"one-way\"/&gt;\r\n        One-Way\r\n    &lt;/div&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;input type=\"checkbox\" name=\"options\" value=\"nonstop\" /&gt;\r\n        Only show non-stop flights\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"checkbox\" name=\"options\" value=\"airports\" /&gt;\r\n        Compare nearby airports\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=\"checkbox\" name=\"options\" value=\"dates\" /&gt;\r\n        My travel dates are flexible\r\n    &lt;/div&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;label for=\"seat\"&gt;Seating Preference&lt;/label&gt;\r\n        &lt;select name=\"seat\"&gt;\r\n            &lt;option value=\"aisle\"&gt;Aisle&lt;/option&gt;\r\n            &lt;option value=\"window\"&gt;Window&lt;/option&gt;\r\n            &lt;option value=\"center\"&gt;Center&lt;/option&gt;\r\n            &lt;option value=\"none\"&gt;No Preference&lt;/option&gt;\r\n        &lt;/select&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n</pre>\r\n\r\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\" data-original=\"http://i3.asp.net/media/3690555/webapi_forms04.png?cdn_id=2014-07-01-001\" /></p>\r\n\r\n<p>The request body might look like this:</p>\r\n\r\n<pre class=\"prettyprint\">\r\n-----------------------------7dc1d13623304d6\r\nContent-Disposition: form-data; name=\"trip\"\r\n\r\nround-trip\r\n-----------------------------7dc1d13623304d6\r\nContent-Disposition: form-data; name=\"options\"\r\n\r\nnonstop\r\n-----------------------------7dc1d13623304d6\r\nContent-Disposition: form-data; name=\"options\"\r\n\r\ndates\r\n-----------------------------7dc1d13623304d6\r\nContent-Disposition: form-data; name=\"seat\"\r\n\r\nwindow\r\n-----------------------------7dc1d13623304d6--\r\n</pre>\r\n\r\n<p>In that case, the <strong>FormData</strong> collection would contain the following key/value pairs:</p>\r\n\r\n<ul>\r\n    <li>trip: round-trip</li>\r\n    <li>options: nonstop</li>\r\n    <li>options: dates</li>\r\n    <li>seat: window</li>\r\n</ul><div class=\"social-bar\"><span class=\"social-item\"><div class=\"fb-like\" data-send=\"false\" data-layout=\"button_count\" data-width=\"450\" data-show-faces=\"false\" data-font=\"segoe ui\"></div></span><span class=\"social-item\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-dnt=\"true\" data-text=\"Sending HTML Form Data: File Upload and Multipart MIME\" style=\"display:none;\">Tweet</a></span></div><h2>Author Information</h2><div id=\"author-36870\" class=\"author-box article clearfix\"><img src=\"http://i1.asp.net/media/3132378/mike-wasson.jpg?cdn_id=2014-07-01-001\" alt=\"Mike Wasson\"/><p><strong>Mike Wasson</strong>\u00a0&ndash;\u00a0Mike Wasson is a programmer-writer at Microsoft. </p></div></span>\t\t\n        <input type=\"hidden\" data-documentid=\"42559\" /><input type=\"hidden\" data-pickerid=\"42560\" /><div class=\"article-comments module-comment\"><div class=\"module-comment-header\"><div class=\"col-left\"><h2 class=\"icon-rss-head\">Comments (<span id=\"spanCommentCount\">0</span>) <a href=\"/rss/comments/42560\" class=\"icon\" title=\"RSS Feed\">RSS Feed</a></h2></div><div class=\"col-right\"><span id=\"leaveCommentHeader\" class=\"comments-status\"><a href=\"http://login.asp.net/login/signin.aspx?ReturnUrl=http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2\">You must be logged in to leave a comment.</a></span><span id=\"comments-toggle\"><a href=\"javascript:var x = 'show comments';\" class=\"show-comments\"> </a></span></div><div class=\"clear\"> </div></div><ul id=\"comment-list\" style=\"display: none;\"> </ul></div>        \n      </div>\n\t  <div class=\"clear\"></div>\n  </div>\n  <div class=\"clear\">\r\n</div>\r\n<div id=\"BottomAd\" data-adzoneid=\"0\" data-adtypeid=\"4\" class=\"ad-728x90 ad \" data-adwidth=\"728px\" data-adheight=\"90px\" style=\"width:728px;height:90px;\"></div> \n\n      <div class=\"footer\">\n<div class=\"clear\"></div>\n<ul class=\"footer-menu\">\n<li class=\"block\">\n<h2>This site is managed for Microsoft by Neudesic, LLC. | &copy; 2014 Microsoft. All rights reserved.</h2>\n</li>\n<li><a href=\"http://www.asp.net/privacy\" data-s-object-id=\"footer\">Privacy Statement</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/terms-of-use\" data-s-object-id=\"footer\">Terms of Use</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/contact-us\" data-s-object-id=\"footer\">Contact Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.neudesicmediagroup.com/Advertising.aspx?site=asp\" data-s-object-id=\"footer\">Advertise With Us</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.umbraco.org\" data-s-object-id=\"footer\">CMS by Umbraco</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://azure.microsoft.com/\">Hosted on Microsoft Azure</a></li></ul>\n<ul class=\"footer-menu last\">\n<li class=\"block\">\n<h2><a class=\"logo-microsoft\" title=\"Microsoft\" href=\"http://microsoft.com\" data-s-object-id=\"footer\">Microsoft</a></h2>\n</li>\n<li><a href=\"http://aspnet.uservoice.com\" data-s-object-id=\"footer\">Feedback on ASP.NET</a><span class=\"separator\">|</span></li>\n<li><a href=\"https://connect.microsoft.com/VisualStudio\" data-s-object-id=\"footer\">File Bugs</a><span class=\"separator\">|</span></li>\n<li><a href=\"http://www.asp.net/support\">Support Lifecycle</a></li>\n</ul>\n</div>\n    </div>    \n    <div class=\"modal modal-webpi\" style=\"display:none;\"><a href=\"javascript:;\" class=\"modal-close\" data-s-object-id=\"webpi (close)\">\u2716</a><div class=\"modal-contents\"><h2>Installs powered by the Microsoft Web Platform Installer</h2><p>The product(s) you are about to install leverage the Web Platform Installer (WebPI) for installation. By downloading and using the Web Platform Installer (WebPI), you agree to the <a href=\"http://go.microsoft.com/fwlink/?LinkId=251729\">license terms</a> and <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for WebPI. This installer will contact Microsoft over the Internet to retrieve product information.  WebPI uses the Microsoft Customer Experience Improvement Program (CEIP), which is turned on by default, see <a href=\"http://go.microsoft.com/fwlink/?LinkId=251732\">privacy statement</a> for more information.  Some of the Microsoft software obtained through WebPI may use CEIP. To view which software uses CEIP, see <a href=\"http://go.microsoft.com/?LinkID=9816722\">here</a>.</p><a href=\"javascript:;\" class=\"btn-install\" data-s-object-id=\"webpi (install)\">Accept and install</a></div></div><div class=\"modal-cover\" style=\"display:none;\"></div>\n\t\r\n<input type=\"hidden\" id=\"meta-contentType\" value=\"ArticleContentPicker\" />\r\n<input type=\"hidden\" id=\"meta-contentLiveDate\" value=\"2012-06-21\" />\r\n<input type=\"hidden\" id=\"meta-articleContentType\" value=\"Tutorial\" />\r\n<input type=\"hidden\" id=\"meta-articleContentTypeValue\" value=\"32\" />\n    \n  \r\n    \r\n  \r\n    <script id=\"tmpl-comment\" type=\"text/x-jquery-tmpl\">\r\n      <li id=\"comment_${id}\">\r\n        <a href=\"http://forums.asp.net/members/${username}.aspx\"><img src=\"${avatar}\" alt=\"${username}\" class=\"social-avatar\" /></a>\r\n        {{html comment}}\r\n        <p class=\"comment-details\"><span class=\"comment-details-left\"><a href=\"http://forums.asp.net/members/${username}.aspx\">${username}</a> - ${created}</span>\r\n\t\t\r\n        </p>\r\n      </li>  \r\n    </script>\r\n  \r\n\r\n  \n\n      <script src='http://i1.asp.net/umbraco-beta-scripts/jquery-1.7.2.min.js?cdn_id=2014-07-01-001' type=\"text/javascript\"></script>\n      <script type=\"text/javascript\">$.ajaxSetup({ cache: false });var omni_guid=\"1d76bdc5-2384-4abf-a1b8-df0df3023757\";</script>\n    \n    <script type=\"text/javascript\">var s=document.createElement('script');s.type='text/javascript';s.src='http://i1.asp.net/umbraco-beta-scripts/prod-article.min.js?cdn_id=2014-07-01-001';document.body.appendChild(s);</script>\n\n    <script type=\"text/javascript\">if ((Math.floor(Math.random()*100))<5){$.getScript(\"/scripts/prod-survey.min.js?cdn_id=2014-07-01-001\");}</script>\n    <noscript><a href=\"http://www.omniture.com\" title=\"Web Analytics\"><img src=\"http://msstonojsaspnet.112.2O7.net/b/ss/msstonojsaspnet/1/H.20.2--NS/0\" height=\"1\" width=\"1\" alt=\"omni\" /></a></noscript>\n  </body>\n</html>  ", "size":51140, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"12001"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:41:04 GMT"}]}, "startedDateTime":"2014-07-20T06:41:05.0653632+08:00", "cache":{}}, {"time":287, "serverIPAddress":"168.62.43.5", "connection":"4341", "request":{"headersSize":1001, "queryString":[], "headers":[{"name":"Host", "value":"www.asp.net"}, {"name":"Connection", "value":"keep-alive"}, {"name":"Content-Length", "value":"0"}, {"name":"Accept", "value":"application/json, text/javascript, */*; q=0.01"}, {"name":"Origin", "value":"http://www.asp.net"}, {"name":"X-Requested-With", "value":"XMLHttpRequest"}, {"name":"User-Agent", "value":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2096.0 Safari/537.36"}, {"name":"Referer", "value":"http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2"}, {"name":"Accept-Encoding", "value":"gzip,deflate"}, {"name":"Accept-Language", "value":"en-US,en;q=0.8"}, {"name":"Cookie", "value":"_ga=GA1.2.197354103.1403654840; ASP.NET_SessionId=rcgxbhetka0tbx0mnabtfvst; aspnetsurvey=3; aspnetsurveytest=1; omniID=4454394d_c42c_420a_9971_7f74d8f144e6; s_cc=true; s_sq=msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-2%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "bodySize":0, "url":"http://www.asp.net/base/MscComment/GetCommentsCountForDocument/42559", "cookies":[{"name":"_ga", "value":"GA1.2.197354103.1403654840"}, {"name":"ASP.NET_SessionId", "value":"rcgxbhetka0tbx0mnabtfvst"}, {"name":"aspnetsurvey", "value":"3"}, {"name":"aspnetsurveytest", "value":"1"}, {"name":"omniID", "value":"4454394d_c42c_420a_9971_7f74d8f144e6"}, {"name":"s_cc", "value":"true"}, {"name":"s_sq", "value":"msstoaspnet%3D%2526pid%253Dwww.asp.net/web-api/overview/working-with-http/sending-html-form-data%25252C-part-1%2526pidt%253D1%2526oid%253D/web-api/overview/working-with-http/sending-html-form-data%25252C-part-2%252520%252528left%252520sidebar%252529%2526oidt%253D1%2526ot%253DA%2526oi%253D1"}], "method":"POST", "httpVersion":"HTTP/1.1"}, "timings":{"blocked":-1, "ssl":0, "receive":0, "wait":287, "dns":0, "send":0, "connect":0}, "response":{"headersSize":260, "bodySize":32, "statusText":"OK", "redirectURL":"", "status":200, "httpVersion":"HTTP/1.1", "cookies":[], "content":{"compression":-30, "text":"11", "size":2, "mimeType":"text/html; charset=utf-8"}, "headers":[{"name":"Cache-Control", "value":"private"}, {"name":"Content-Length", "value":"32"}, {"name":"Content-Type", "value":"text/html; charset=utf-8"}, {"name":"Content-Encoding", "value":"gzip"}, {"name":"Vary", "value":"Accept-Encoding"}, {"name":"Server", "value":"Microsoft-IIS/8.0"}, {"name":"X-Powered-By", "value":"ARR/2.5"}, {"name":"X-Powered-By", "value":"ASP.NET"}, {"name":"Date", "value":"Sat, 19 Jul 2014 22:41:05 GMT"}]}, "startedDateTime":"2014-07-20T06:41:06.0084141+08:00", "cache":{}}], "creator":{"name":"Fiddler", "comment":"http://www.fiddler2.com", "version":"4.4.9.1"}, "version":"1.2"}}
